text,component,f4-audit,f4-auth,f4-camel,f4-core,f4-import-export,f4-java-client,f4-jmeter,f4-ldp,f4-message-consumer,f4-oaiprovider,f4-ontology,f4-transform,f4-vagrant,f4-webapp-plus,legacy - FeSL,legacy - Fedora,legacy - GSearch,legacy - OAIProvider,legacy - OSGi,legacy - Trippi,legacy - community extensions,legacy - java-client
"External triplestore with additional capabilities This is beyond the basic indexing of relationships that  will go on internally in Fedora 2.0. This external service  can harvest relationship metadata from the repository  and index it outside. It can also be the place where  other ontologies are overlayed on the base Fedora  relationship metadata to support more complex queries  and inferencing. Followup: Date: 2005-03-24 11:39 Sender: payette Logged In: YES  user_id=128 NSDL and/or Harris could develop stand-alone external  service. or we can enable remote configuration of existing kowari in  Fedora, but at users own risk.  (Fedora is not totally in  control of what goes in it.)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"BDef and BMech Modification : with Integrity Alerts (80/20 rule applied)  This has been on ongoing discussion about the extent to  which Fedora will support versioning of BDef and BMech  objects.   General things we agree to: 1. We will allow changes that do not break  existing ""behavior contracts."" So, we WILL support  adding methods to existing BDefs, but NOT modification  or deletion of methods. 2. We will not enforce that a BMech implements all  methods of a BDef. So, if a BDef has a new method  added to it, that method does not have to be  implemented by all associated BMechs. So, it could be  the case that new methods may not always be  available. The idea would be that all BMechs would  eventually implement newly defined BDef methods, but  Fedora will not consider a BMech broken when it does  not implement new methods. 3. Date-time stamped API-A requests. If API-A  requests to see methods supported by an object are  given date-time stamps, we well return the list of  methods implemented at the time specified. A note on Disseminator Versioning. Regarding  modifiation of Disseminators on Data Objects (which  point to BDef and BMech objects, the only valid changes  that can be made are those that do not break existing  behavior contracts on the Data Object. Thus it is  permitted to change descriptive labels, or change the  BMech that the Disseminator points to. Changing the  BMech can only be done if it does not require different  datastream bindings. These permitted changes will  cause the Disseminator to be versioned.  Changing a BDef on an existing Disseminator is NOT  allowed. A new BDef would require a new Disseminator  because ia different BDef means a different behavor  contract is being associated with the Data Object. We are still discussing what we should/should-not  support in the realm of BDef/BMech versioning beyond  the above. Date: 2005-11-16 11:24 Sender: payette Logged In: YES  user_id=128  The ""Force Purge"" feature can help here too:   Add option to be able to force purge of objects or datastreams even if the purge would violate referential integrity constraints. There are times this is desirable, and it's o.k. to have the repository in a temporary state of broken references. Clear example is removing a bmech object, when intent is to replace it with updated object. Check implications of loosening referential integrity checks on force purge and on modification of MIME on a datastream. (issues in Admininstrator? Elsewhere?) Date: 2005-11-16 11:23 Sender: payette Logged In: YES  user_id=128  More notes on the problem:   At this time, we do not allow modification of the datastreams of BDEF and BMECH objects, most notably the METHODMAP and WSDL datastreams. At the current time, modification of a BDEF/BMECH is achieved by purging the BDEF/BMECH, making changes to ingest file, and doing new ingest. Before BDEF/BMECH can be purged, all data objects that reference it must also be purged. Once new BDEF/BMECH in ingested, then all data objects are re-ingested. This is tedious.  However, there are two basic reasons we have not enabled direct modification of BDEF and BMECH objects:  1. Free editing of the xml content of these datastreams is dangerous in terms of potentially breaking data objects that are referring to the BDEF or BMECH. The most obvious case is modifying a datastream binding spec in a BMECH object in such a way that the datastream binding keys in the data objects are no longer valid. We need to decide what kinds of changes to BDEF and BMECH objects we will allow, to minimize potential breakage.  2. Given that we want to allow reasonable changes to BDEF and BMECH objects, the real issue to tackle is the current replication process that takes BDEF and BMECH xml data and populates the relational db. The replication of changes to the relational database is not set up properly to accomodate changes. Right now, there are relationships between the data objects and the bdef/bmech objects that depend on joins that use db-generated identifiers as join keys. Replication is generally a delete/insert process rather than an update process when it comes to BDEF and BMECH objects. This would result in rows with new db-generated identifiers and would break the joins to the data object tables which would reference old db-generated identifiers. We need to fix this.  We need to take a good look at the replicator code and figure out how to do database updates for changes to BDEF and BMECH datastreams. We also need to decide what client tools will enable the updating of BDEF and BMECH objects. Options: 1. Fedora Administrator Object Editor: When editing a BDEF or BMECH object, bring up special dialogs for editing METHODMAP and WSDL datastreams. Then send a modifyDatastream and have the server realize we are dealing with these special datastreams. Alternative is to send a whole new ingest file via a new API-M method (updateObject?) and have the server do some sort of diff analysis for BDEF and BMECH objects. 2. Modify the BDEF/BMECH builder to allow editing of these objects. Same issue on how changes are communicated to server. Do we have a new API-M method that allows a whole new ingest file to come in (updateObject) and then server does the diff thing?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Logging Refactoring : consistency and enable easy analysis Use log4j (via commons-logging or directly) instead of what we have now. It's more flexible and makes integration tasks easier. Use an XML appender. Date: 2005-11-16 10:06 Sender: payette Logged In: YES  user_id=128 Do better logging via log4j and messaging to support performance analysis Date: 2005-03-24 16:38 Sender: payette Logged In: YES  user_id=128 For any new services, implement logging using log4j.   Eventually, refactor the core repository service to use  log4j. Date: 2005-02-02 11:08 Sender: payette Logged In: YES  user_id=128 also do a better job of log messages.  what events do we  want to log?  What is a meaninful message in the log for the  event?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Proper Architecture of Multiple Triplestore Options This was planned for 2.1b but not viable then. Date: 2006-11-15 09:52 Sender: payette Logged In: YES  user_id=128 - NOTE: trippi not transactional at this point - NOTE: in next release we should better rationalize different triplestore configurations (currently, we have the following configurations internal kowari, internal MPT, external mulgara (topaz) Date: 2006-01-26 11:12 Sender: payette Logged In: YES  user_id=128 look at all options for stabilizing the RI feature via triplestore: kowari upgrade? sesame other - (be creative)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Content Model Architecture (CMA) Date: 2006-09-01 17:02 Sender: payette Logged In: YES  user_id=128 See initial proposal: http://www.cs.cornell.edu/payette/fedora/designs/cmda/ Date: 2005-11-16 10:13 Sender: payette Logged In: YES  user_id=128 Look at ways to re-architect the Fedora disseminator architecture so that it is less rigid and easier to manage.  We need a way that it is easy to modify a bdef/bmech and to not have to modify every subscribing object when a disseminator change must be made.  The proposal is a looser binding of the disseminators by having content model objects that have disseminators on them.  Then, data objects can have a late binding of disseminators based on whether they (1) have the same content model (via content model identifier) or (2) have a relationship to a content model object in RELS-EXT.   Look at ways to extend the existing dissemination service to support this.  Another possibility is to implement this in the manner that the default disseminator is implemented in the ""dynamic behavior"" section of the code.   Maybe in addition to the default disseminator there can be another thing plugged that can figure out if there is a late-bind disseminator for an object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Content Modeling Language for 3.0 XML Schema,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"JMS Service The Fedora development team will focus on providing a message-oriented middleware solution for the Fedora Service Framework that will be based on an open-source implementation of the Java Message Service (JMS) API.  This will entail JMS-enabling the core Fedora repository so that it can publish messages (e.g., API events). Also a JMS message broker will be implemented in the framework to facilitate publish/subscribe of messages between the Fedora repository and other services (i.e., preservation-oriented services, and other services).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Preservation Alerting Service Once the service framework has a JMS messaging service, and the core repository is enabled to publish API-M and other types of events, the preservation alerting service can be developed to subscribe to events that are of interest for preservation. The alerting service can be configured to alert people, or take other action, when it detects certain types of events.  The development of this service will be done in conjunction with Rutgers under the Sun Center of Excellence for Preservation with Fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Web-Based Server Management Rather than modifying files (especially fedora.fcfg) on the server, this feature would allow web-accessible configuration.  It would: - Provide the ability to change configuration. - Provide a way to re-initialize the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Ingest/Export Archive (multiple objects) Support for advanced ingest and export of the repository by enabling a way to submit an entire archive of objects.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Filter FieldSearch Results based on policy Tim suggestion to not expose hits for things that people  are not allowed to access.  FieldSearch is current always open since it is the administrative  search for the repository (you can always find what's in  there.)  Implementing this would mean building policy examination into the FieldSearch result processing code (per object, does the subject have access?)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add new ingest and export formats Consider: - METS 1.3 - DIDL - SCORM,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
DirIngest Client for Content Submission (directory) Create a means of uploading a whole directory of files  into the repository. How deal with Dublin Core records? Date: 2005-11-03 16:11 Sender: payette Logged In: YES  user_id=128 We have a nice client created by Cornell PhD student that works with the DirIngest service.  Need to test and document before releasing. Date: 2005-03-24 11:47 Sender: payette Logged In: YES  user_id=128 We have a service in DirIngest and we need a simple client  for user. Date: 2004-10-27 16:40 Sender: payette Logged In: YES  user_id=128 tie this in with web-based content submission interface,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CModel-based Object Builder/Submission Utility Create the equivalent of a multi-step submission process  to get objects into the repository. Do this in as general  a manner, so that it is not fused into the base server  software. Maybe this can be a plug-in service to  Fedora? Date: 2005-03-24 11:48 Sender: payette Logged In: YES  user_id=128 Fedora-IR deals with this requirement",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SDeps with SOAP Bindings Build in functionality that lets a SDep object contain WSDL that binds to a SOAP service. Currently, these can only contain WSDL with REST bindings.  Things to look at: - Web Services Invocation Framework  - modify Dissemination Service to recognise and invoke",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Initial REST API Implementation Create a totally REST-based binding for the Fedora  Management API. Date: 2005-03-24 13:32 Sender: payette Logged In: YES  user_id=128 Selective methods will be implemented - ingest/export. Continue disscussion on need for full-blown API-M-Lite.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora WSDL Extensions to support BMech objects We have LOCAL and multi-server bindings that are not  conventional in WSDL.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable SDep Binding to a SET of Datastreams This is the example where we want a method to take a  set of datastreams as input. We want there to be a  single datastreams binding key for the set such  as ""PHOTOS"" and then a list of image/gifs can be  associated with this key. Right now we can associate a  single datastream ID with a binding key. Date: 2005-03-24 13:56 Sender: payette Logged In: YES  user_id=128 We need to rationalize this in terms of the new  structoid/contentModel stuff.  Either accomodate it there  or get rid of it as a requirement.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Format Validation Service Integrate or develop a service that validates datastreams based on their asserted formats. This could be used as part of a larger validation framework for Fedora objects.  Consider the use of JHove and/or GDFR for this purpose.  Consider also having such service be usable by DSpace (perhaps jointly developed?) as they have a similar need.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Workflow Engine Integration Look at existing standards around workflow (see Sandy's  bibliography). Also look at Eden Workflow engine.  Specify somthing that is generalizable and configurable,  so that we do not hard wire any one workflow into  Fedora. Date: 2005-03-24 14:52 Sender: payette Logged In: YES  user_id=128 Can we integrate an existing workflow engine into the  Fedora Service Framework.  This is beyond the simple  submit/review/edit workflow tracking (that we will  implement as a simple workflow service to support Fedora- IR. Date: 2005-02-02 11:29 Sender: payette Logged In: YES  user_id=128 This may be done in cooperation with Fedora Development  Consortium members. - Do we need a Fedora Workflow API? - Will this be done as a service layer on top of Fedora?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Shibboleth Plugin for AuthN and AuthZ Authentication -- We will Shib-enable Fedora, enabling a  user to provide credentials managed by their origin  institution, and providing a single sign-in solution for  Fedora. We will obtain attributes about users  (Eduperson), and we will use those attributed in  authorization. Authorization -- we will support XML-encoded policies  (XACML). Fedora will constrain what can be expressed  in the policies to things Fedora is prepared to enforce.  Policies can refer to user attributes, and attributes of  Fedora digital objects. We will build the Fedora  authorization module to interpret and enforce policies. Date: 2004-05-11 14:48 Sender: payette Logged In: YES  user_id=128 Security Questionaire: http://www.fedora.info/wiki/bin/view/Fedora/SecurityQuestion nairre Date: 2004-05-11 14:43 Sender: payette Logged In: YES  user_id=128 General Requirements Wiki: http://www.fedora.info/wiki/bin/view/Fedora/AuthenticationRe quirements Scenarios Wiki: http://www.fedora.info/wiki/bin/view/Fedora/AuthNAuthZScen arios  Wiki page:  http://www.fedora.info/wiki/bin/view/Fedora/BasicAuthNAuthZ Specification",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Policy Builder Client Some utility is needed to let people specify the  attributes of the kinds of objects a certain policy should  be inserted into. Then a mass setPolicy is run. Not  sure if this is built into the setPolicy operation, or a  separate utility. Date: 2005-11-03 16:03 Sender: payette Logged In: YES  user_id=128 This is under development and currently working on way to facilitate creation of object-specific policies, and policies about specific datastreams or disseminations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Use Apache connection pooling library Use Apache db connection pooling library instead of our own custom connection pooling stuff. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Option to store Audit Trail outside the object The Audit trail datastream is currently inline XML. When an object has lots of changes a large audit trail will be inlined within the object, bloating the XML file for the object. We want to be able to store the audit trail as managed content or simply in a repository log file. We should consider whether we should allow the choice to be a repository-wide configuration option, and/or an object-specific option.  Also, consider what the default choice should be.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Support for externally-authenticated users This is to deal with the case where authentication occurs outside Fedora by some upper layer application or service. Requests to Fedora are made by the app/service with a proxy user identity (like fedoraAdmin) and the user being represented is provided (in header?). We need to have a Tomcat Login Module to get attributes for the user represented by the proxy. This allows attributes to be available for policy enforcement.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Address space exhaustion when running Kowari on 32-bit OS Discovered by Chris in NSDL load after fix of Kowari leak.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fine-grained control of the subset of RI triples to index Also known as the ""Chinese Menu"" feature, this would allow people to select which subset of the currently-indexed triples they want indexed in the triplestore.  For very large repositories, this can help people cope with triplestore scaling issues.  Examples:  For Derived triples:   - index dc?   - index datastreams?   - index object attributes?  For RELS-EXT triples:   - index all RELS-EXT triples?   - index triples only with a specific list of predicates?   - index triples with a specific predicate URI prefix only?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow use of RELS-EXT/INT assertions for policy enforcement If object properties can be extended with RELS-EXT (both relationship properties and descriptive properties), then it would be good to allow XACML policies to be written that refer to these properties in the Resource target specification of the policy.  This can be done by modifying the DOReader to include RELS-EXT properties along with core properties. The XACML attribute finder code uses DOReader to get object attributes, so it can take whatever it gets from DOReader.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMA Proof of Concept Based on agreed upon design, refactor core Fedora repository code to make the use of disseminators more dynamic and easy to manage. See initial design proposal:  http://www.cs.cornell.edu/payette/fedora/designs/cmda/",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for managed external datastreams This is increasingly an issue that we must deal with. Fedora users trying to do this with large images, texts, and datasets. For very large datasets, the constraining factor is doing this over HTTP.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Initial support for OwnerId - implement OwnerID in FOXML and METS - modify serializers and deserializers to accomodate - add to vocabulary.txt (along with other missing attrs) - verify/modify support in XACML attr finder code,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SRB Implementation of LLStore This is something to think about in terms of storage  expansion. SRB provides virtualization of distributed  hierarchical storage. Can we interface SRB with  Fedora? Apparently, DSpace is pursuing this. Date: 2005-11-16 10:03 Sender: payette Logged In: YES  user_id=128 Also, rework temp store so its not embedded in LLStore.  This may have been handled already by Chris and maybe we just have to remove the configuration of temp store from fcfg and make sure it is not created.   This came out of discussions with the SRB folks who are creating an alternate SRB-based implementation of IFileSystem. As things standnow, IFileSystem implementations are used by FileSystemLowlevelStorage which sets up storage locations for objects, datastreams, and temp files. When a NFS file system or the SRB is used, then we are in the inefficient situation where temp files are passed over a network connection. We really want a local temp store area for the Fedora server. Date: 2005-11-16 09:59 Sender: payette Logged In: YES  user_id=128 Also, set up a server module pattern for FileSystemLowlevelStorage. Date: 2005-11-11 14:23 Sender: payette Logged In: YES  user_id=128 other areas of fedora functions need to iterate through  file system (e.g., ingest when prioritizing order of  bdef/bmech/object).  Figure out how to handle with SRB. Date: 2005-11-11 14:21 Sender: payette Logged In: YES  user_id=128 make sure we come up with a way for Fedora rebuilder to  work with SRB.  Somehow, the SRB would have to be able to  provide list of files (with path locations) Date: 2005-11-03 16:08 Sender: payette Logged In: YES  user_id=128 We have received code from Reagan Moore's group and we need to work out issues, figure out how to configure to SRB, test, and integrate with core Fedora release.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Initial GSearch Implementation Develop a reference implementation of a richer search  and index service (that what is provided by default as  part of the repository itself). This service will harvest  selected content from objects in the repository. It will  query or subscribe to the Fedroa Delta Notification  Module to receive indications of what content has  changed and should be updated. Date: 2005-03-24 11:43 Sender: payette Logged In: YES  user_id=128 Lucene, Zebra?  Full-text indexing capability is desired. Integrated in Framework via RI (for incremental updating). Date: 2004-10-27 16:41 Sender: payette Logged In: YES  user_id=128 - index arbitrary datastream - follow the query/callback scheme - srw/sru overlay",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Performance Test for 1M objects We will do a controlled test of Fedora on an average  hardware setup to test performance at different  benchmark levels (200k, 500k, and 1 million objects). We will focus tests in these areas: 1. Ingest 2. Dissemination 3. Default Repository Search (Resource Index) We plan to publish our performance results on the  Fedora web site to provide benchmark data. If bottlenecks or delays are found we will tune the  repository sofware via several techniques: 1. Code modifications 2. RDBMS indexing 3. Caching strategies 4. Repository clustering and load balance Date: 2005-02-02 11:04 Sender: payette Logged In: YES  user_id=128 we want to do this after the new authN/authZ modules are  implemented to measure performance with this overhead  included.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora deployable as webapp (.war) - for Tomcat due to authN and authZ implementation  which is in terms of its connections to Tomcat.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactor JUnit Tests for new .war distribution We need a better way than what we have now! Date: 2006-01-26 11:17 Sender: eddie Logged In: YES  user_id=372 With the exception of true unit level tests (that work at the class level), hold off on integration tests until we get some progress on Fedora-as-a-webapp (#585) Date: 2005-11-11 14:55 Sender: payette Logged In: YES  user_id=128 We did a good job on the first pass for 2.1b. 1) develop a junit test to measure api method performance  using jmeter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Index Dissemination Dependencies in RI This is required to support the new OAI provider.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ingest/Export Whole Objects There are a number of features that are important for supporting ingest and export of objects. These are: 1. Ingest SIP (self-contained) - This would be for a single digital object, that there is the ability for all datastream content to be inlined or attached so that it is not necessary for the repository to call back to obtain the content bytestream. 2. Ingest Archive - This would be a whole set of self-contained SIPS bound together as an archive that can be ingested into the repository in an efficient manner. 3. Export (self-contained) - This would be an export of a single digital object where the content of all managed content datastreams is inlined or attached.  This can enable a dump and load of a repository since this export can file become a self-contained SIP (as in #1) above. This allows you to dump a Fedora repository, shut it down, and still be able to load up a new repository using the export files as SIPS - without having to do callbacks to the original repository to get the managed content datastreams. 4. Export Archive - This would be a whole set of self-contained export files bound together as an archive. Date: 2006-11-15 10:01 Sender: payette Logged In: YES  user_id=128 Ingest/Export (self-contained objects) is complete (#1 and #3). Ingest/Export archive of many objects is a future item. Date: 2005-11-16 11:27 Sender: payette Logged In: YES  user_id=128 Need to look at options for self-contained SIP ingest: 1) base64 inlining 2) SOAP attachments 3) XOP 4) ARC files 5) other Date: 2005-11-16 11:25 Sender: payette Logged In: YES  user_id=128 More comments on the problem:  Now, the object export will create ""public"" callback URLs for datastreams of type M (managed content). This works well for migration (export from one repository and ingest into new repository) as long as the old repository is up and running at the time of the ingest into the new repository. Then the datastream content can be sucked into the new repository via callback URLs (getItem requests on default disseminator). However, if the old repository is not available after an export, or if you just want to dump and re-load the SAME repository we need a way to get the managed content out of the repository as part of the export. In the Fedora spec, we envisioned a variant of the export file with base-64 encoded binary content inlined for the managed content datastreams. Then, the export file is complete in that it has all the datastream content that was in the repository within it. We can either create another export method on API-M such as exportWithContent() or parameterize the existing export method. From the ingest standpoint, we need to implement logic to look for base64-encoded content or the content location URL as two alternatives.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Proai rcAdmin date should be per-format See bug 129: http://phad.lib.virginia.edu/bugs/show_bug.cgi?id=129,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Proai multi-threaded record retrieval Broadly speaking, the cache update process for Proai has two phase: querying for updates and getting the content for each updated record. The latter phase could be made faster if it were multi-threaded. The following suggested solution depends on tracker item 669 (Proai robustness - transactions and error recovery) being done: - Instead of one, have n threads take x items off the queue and perform concurrent HTTP GETs of the content. Things to consider: - The solution doesn't necessitate that each thread perform it's own reads/writes from/to the db. - Use an appropriate level of abstraction here... possibly a string which is a ""locator"" (not necessarily a URL), so non-http OAIDriver impls can adjust.  Redefining the contract between proai and OAIDriver impls is ok, as long as it doesn't presume a particular locator type.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Use xsi:schemaLocation in DC datastream Currently the OAI provider implementations ""inject"" this attribute because it's not put into the DC automatically (for historic reasons), but it's required for OAI. It would actually be better/cleaner for Fedora to create the DC datastream with the attribute already populated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Selective Datastream Versioning Fedora has a placeholder in FOXML for the concept of selective datastream versioning. This is in the form of the ""versionable"" attribute on a datastream. Up until Fedora 2.1.1 datastreams are versioned automatically, and every datastream is subject to such versioning. This new feature will allow for versioning on whatever datastreams are marked as ""versionable."" A new API-M method will allow a client to set the versionable attribute on a datastream by datastream basis. The default is that datastreams are versioned. If a datastream was previously set as ""versionable"" and at a later time it is set to not be ""versionable"" the version history will not be purged, it will just stop the versioning from that point on.  This is very beneficial to avoid excessive or superfluous versioning for datastream that it is not necessary or desirable to version. The choice to version or not is made by each repository administrator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Purge Datastream Versions by Date Range Currently, the purge datastream operation allows versions to be purged, but only from a specified date/time backwards in the version stack. There are times that it is desirable to purge just one version, or purge a set of versions within a data range. One important scenario is to be able to purge the most recent version of a datastream to support transactional activities (that may be set up in middleware above Fedora). If an such a middleware transaction is being managed, and middleware is required to roll back a transaction, it is typically necessary to be able to remove the most recent version of a datastream (given that that datastream was part of the transaction).  Many other cases can arise where it in important to be able to remove versions in a date range, for example, during testing processes, where a bunch of ""junk"" datastream versions get inserted in the version stack.  This feature is implemented by some changes to the Fedora API to accomodate the start/end date range in the purge operation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"New Triplestore Option: MPTStore A new triplestore to support core relationships management in the core Fedora repository will be developed for the following reasons: - make core repository not dependent on kowari - due to kowari instability issues and high memory requirements, we must ensure that the core repository is not vulnerable to these things - basic relationship management is something we can achieve with a simpler triplestore. - basic relationship management must be contained within the contect of a Fedora API-M transaction.  Right now, the kowari solution entails Fedora writing triples to a buffer that is outside the context of the Fedora API-M transaction, thus it cannot be guaranteed that such triples have successfully been written to the triplestore from the buffer by the time the Fedora API-M transaction is completed.  For these and other reason, a new triplestore is being developed using relational database technology. The design of this triplestore is based on mapped triple tables (thus MTP). It will hold all the same information currently in the Resource Index model.  Initially, it will support SPO queries. This will be an alternative configuration for the Resource Index in the core Fedora. It will still be possible to configure kowari as the triplestore.  At the same time, we are moving forward with designs to have a Resource Index service that can be outside the core Fedora repository. The idea is to have simpler and more tranasction-savvy relationship management at the core of Fedora, then be able to replicate the managed triples from the core to triplestore outside the repository (the Resource Index service) via messaging. The motivation here is to make the external service be where more semantic web activities happen (outside of the core repository). The base information from the repository can be enriched in the service (add information from other ontologies, add other kinds of relationships, whatever.) Then, full blown capabilities such as inferencing, can be done via the service without bogging down the core repository.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Authentication via ServletFilters - Move away from JAAS Servlet filters in the preferred pattern for plugging in authentication and attribute-getting - Use Bill's model done for PubCookie,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Checksum Storage and Validation for Datastreams Based on recommendations from Preservation Services Working Group, implement checksum and checksum validation feature",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Resource Index Refactoring and MPTStore Support - more efficient updates for RI - bug fix for concurrent updates to RI - MPTStore plug-in option (alternate triplestore),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Bundled Postgres driver fails to copy during install None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Postgres java.lang.NumberFormatException at first startup None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Hash Collision can cause rebuilder to skip some objects None.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
WSDL should declare faults None.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Unhelpful error from server when adding/modding... ...disseminator with invalid binding.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve shutdown behavior with long-running requests Fedora's webapp  shutdown currently relies on servlet container to ensure all requests are complete.  However, the servlet container doesn't always wait until requests are finished in order to call destroy().  For long-running requests, this can be problematic because the resources (the db, etc) might be closed before the requests have a chance to finish.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
User-provided log messages NOT recorded... ...for object-level API-M Methods.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
iTQL less-than queries only work on xsd:double... ...datatyped values.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
SRB LowlevelStore Issues (for pre Fedora 2.2) None.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Invalid POLICY datastreams make objects inaccessible Validation for POLICY datastreams only occurs when they're read for the purpose of enforcement (after they're ingested).  This makes it possible to ingest a non-schema-valid POLICY datastream, which then makes it impossible to access the object at all due to validation failures for every subsequence API operation involving the object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Minor typos in tutorial2.pdf As of Fedora 3.0, all reported typos were fixed except the following:  Page 23: * Service Contract: [...] provides an[d] implementation ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Validation error when namespace for in-line XML... ...datastreams is in root element.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
LLStore Pluggability None.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fix soap/axis error detail. Make sure the error detail reported from Fedora's SOAP interfaces is done according to current WSDL/SOAP best practices.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Support SOAP Bindings for SDeps SOAP bindings are not yet supported.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Datastream SIZE attribute not fully implemented Fedora's REST API correctly reports SIZE of ""X"" datastreams, but the size for all other types is currently reported as ""0"".  For ""M"" datastreams, this is clearly wrong.  For ""E"" or ""R"" datastreams, the correct thing to do is less obvious.  For example, hitting the following URL: http://localhost:8080/fedora/objects/demo:SmileyBeerGlass/datastreams/DC?format=xml  ...reports the correct size.  But requesting the same info for an ""M"" datastream reports ""0"" as the size.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XACML IdReference support Blair has suggested that, by providing support for resolving XACML IdReferences, more flexible AuthZ can be achieved in Fedora.  This is an enhancement to existing functionality.  On Nov. 13, 2006, Blair wrote:  I'm fairly certain that the idea I'm working on for the ARROW project will provide a more flexible and efficient authz solution.  It will hopefully only require a simple addition to fedora.server.security.PolicyFinderModule to add support for finding policies based on idReference.  The idea is to make PolicySets that support the intuitive notion of letting more specific controls take precedence in authz evaluation.  For example; A Policy denying read access to a particular DO with PID 123 would take precedence over a Policy allowing access to a class of objects that the DO with PID 123 happens to be in (this class would be defined by metadata attributes such as the Dublin Core type).  The plan is to use the reserved POLICY datastream in every DO to hold the top level PolicySet passed to the PDP from the PolicyFinderModule.  This would be the PolicySet used for any authz evaluation pertaining to an action associated with a particular PID - almost all APIA and APIM operations.  Any authz controls required on actions that do not have a specific PID associated with them (such as ingest, describeRepository, findObjects) could have policies placed in the default repository wide policy directory, which would otherwise be empty.  The new top level PolicySet would comprise of a set of other PolicySets combined using the FirstApplicablePolicyAlg.  Therefore if a match were encountered early in the evaluation the result would be returned and evaluation finished; other irrelevant policies would not need to be evaluated.  The component PolicySets would be ordered from most to least specific with regard to their component Policy's Resource and Subject Targets, thus achieving the desired most specific overrides functionality.  See the attached layout for an example; note that this is illustrative of only one possible top level PolicySet structure, different combinations of referencing, in lining and further nesting could be used.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XACML AttributeSelector support for 2.x Add support for AttributeSelectors to the ResourceAttributeFinderModule.  This will allow the use of AttributeSelector elements (contrast AttributeDesignators)in policies which can 'select', using an Xpath query, attributes of the resource the policy pertains to.  This affords the ability to write policies based on elements contained in XML datastreams - such as DC, RDF, and many more.  The significance of this feature is that policies will be able to refer to a far greater range of resource attributes such as true object metadata (rather than the system level metadata available now), and relationships to other objects e.g. composition, aggregation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"risearch fails to load stylesheets w/Jetty This is an issue when using Jetty, or any other webapp container that doesn't physically unpack the war file into the webapps directory on auto-deployment.  The workaround is to manually deploy the war file:   - don't put it in webapps/   - instead, create a directory under webapps/ called 'fedora'   - un-jar the fedora.war file inside that directory   - start fedora and try risearch again  The problem is, the stylesheet that presents the risearch interface can't be loaded (and this prematurely ends the search attempt) because the code that loads it assumes it's on the filesystem.  This is is true for tomcat, which physically unpacks the war file on automatic deployment, but not true for other webapp containers.  The solution will be to change org.trippi.server.http.Styler#load(String) to resolve the xsl from classloader.getResourceAsStream.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable Multiple Fedora WARs in one Servlet Container It should be possible to deploy multiple instances of Fedora on one server, using one servlet container.    Currently, the most obvious obstacle to this is the fact that Fedora relies on an environment variable to find FEDORA_HOME.  Because of this, in order to have two versions of Fedora on the same server, you must have two servlet containers running as different users, each of which provides its own FEDORA_HOME.   Is there any way to specify FEDORA_HOME in an XML file deployed alongside the WAR file?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"WSDL provided under target /fedora/wsdl is not public When running with authentication enabled for both API-A and API-M, the target of /fedora/wsdl is also authenticated even though this target is supposed to remain public.   This appears to be a bug in the Fedora installer script as it builds the web.xml file when configured with authentication enabled for API-A. The installer is including the WSDLServlet in the EnforceAuthnFilter mapping when it should not. An interim fix is to manually edit the generated fedora web.xml file and remove or comment out the following lines:      <filter-mapping>       <filter-name>EnforceAuthnFilter</filter-name>       <servlet-name>WSDLServlet</servlet-name>     </filter-mapping>  Doing so should eliminate the authentication challenge for obtaining wsdl through the /fedora/wsdl target.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"LLStore rebuild uses canonical paths Aaron reported this.  When running a SQL rebuild, the NSDL team noticed that the lowlevel storage file registry  writes the paths differently than Fedora normally does: it uses the ""canonical"" path (this is the path with any symlinks resolved).  The desired behavior is to save the path in the way it is configured in fedora.fcfg.  That way, the symlink target is respected later, if it changes.  To recreate this problem:   - install an empty fedora repository.   - configure the objectPaths directory in fedora.fcfg to point to a symlink instead of a physical directory.   - create an empty object   - note the associated path value in the objectPaths table (it will include the symlink as part of the path name)   - shut down fedora and do a sql rebuild   - note the new path value in the objectPaths table (it will NOT include the symlink...instead it will contain the canonical path, which is not the desired behavior)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora.war deployment fails in JBoss AS with OnlyOnceError Fedora version 2.2 WAR file will not deploy to the JBoss Application Server without modification. The root cause is a duplicate copy of Log4J.jar that is included in the Fedora distribution (JBoss AS includes its own copy). Symptoms of the problem are errors similar to these in the JBoss AS log file:  INFO  [TomcatDeployer] deploy, ctxPath=/fedora,    warUrl=.../tmp/deploy/tmp42671fedora-exp.war/ ERROR [STDERR] log4j:ERROR A ""org.jboss.logging.util.OnlyOnceErrorHandler""    object is not assignable to a ""org.apache.log4j.spi.ErrorHandler"" variable. ERROR [STDERR] log4j:ERROR The class ""org.apache.log4j.spi.ErrorHandler"" was loaded by ERROR [STDERR] log4j:ERROR [WebappClassLoader  delegate: false  repositories:    /WEB-INF/classes/ ----------> Parent Classloader: java.net.FactoryURLClassLoader@148bd9e] whereas object of type ERROR [STDERR] log4j:ERROR ""org.jboss.logging.util.OnlyOnceErrorHandler"" was loaded by    [org.jboss.system.server.NoAnnotationURLClassLoader@c2a132].  Further details at http://www.fedora.info/wiki/index.php?title=FAQ:_Fedora_under_JBoss_AS",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Clean up prompts/messages for ""other"" servlet container Since we are using the ""other"" servlet container, don't bother to off the prompt to automatically deploy the sample services and objects.  Also added a message detailing the manual step of deploying the WAR files to the end of the installation script.  See attached patch and/or http://drc-dev.ohiolink.edu/changeset/760 for changes in context.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Shibboleth Authentication - Servlet Filter New servlet filter to deal with Shibboleth authentication, and facility to pass subject attributes into Fedora so they can be used in the internal Fedora XACML authentication module for policy enforcement.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"HTTP Requests include bad HTTP basic Auth I've found a troublesome quirk about how Fedora calls URLs.  This applies when a disseminator is calling the URL and when Fedora retrieves Externally Referenced content.  When calling these URLs, Fedora passes an HTTP header like this one:  GET /2005/08/online_xslt/ HTTP/1.1 User-Agent: Fedora Authorization: Basic Og== Host: http://www.w3.org:5050/  The trouble is the Authorization line, which doesn't actually do anything.  The line should be omitted from the outgoing requests.  Some services (like the one in this example) take the authorization line to mean that you actually do want to authenticate.  When the authentication fails, the server returns information about the failed login rather than returning the publicly available content from the URL.  Try it yourself:  Go to this URL in your browser:   http://www.w3.org/2005/08/online_xslt/  You will see the publicly available page from that URL.  Now create an External Reference Datastream in Fedora that points to the same URL.  Point your browser at the new datastream.  It will hang for a second and then give you an empty page.  If you monitor the TCP traffic, you will see that the w3.org server is returning a ""401 Authorization Required"" message.    If you remove the Authorization line from the headers and resend the request, the server returns the proper page.  Is there a way to get Fedora to omit that line from the header?  Conversely, in situations where I actually want Fedora to authenticate with a server when retrieving content, how can I do that?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"HTTP Error Codes are not being returned correctly. When trying to get a datastream by a Fedora URL, e.g. http://example.org/fedora/get/id:1/DC, for a datastream that doesn't exist (anymore) Fedora returns an empty object instead of a http 404 error.  The header returned by fedora is: HTTP/1.1 200 OK Server: Apache-Coyote/1.1 Pragma: No-cache Cache-Control: no-cache Expires: Thu, 01 Jan 1970 01:00:00 CET Content-Length: 0 Date: Tue, 24 Apr 2007 12:50:04 GMT  Fedora should return an error to indicate that the resource is unavailable.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"demo soapclient fails to compile/run The bat scripts that are used to compile and run the demo soapclient located in fedora_home/client/demo/soapclient do not reflect the name change of the client.jar file in Fedora 2.2. In 2.2, this jar file was renamed as fedora-client.jar(previously it had just been client.jar).  A workaround is to edit compile-demo-soapclient.bat and run-demo-soapclient.bat and change all occurrences of client.jar to fedora-client.jar.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"addDatastream allows invalid values for checksumType Our site is having a problem with the values for checksum parameters.  Adding a new datastream to a Fedora object with a checksumType value of ""DEFAULT"" is permitted using the API-M addDatastream function.  The datastream is added and contains the line <foxml:contentDigest DIGEST=""none"" TYPE=""DEFAULT""/>   After the successful API-M add the resulting Fedora object cannot be imported to another Fedora repository using the FedoraAdmin client.  The    Ingest From Repository    rejects with the following error message:     Fedora.server.errors.ObjectValidityException: DOValidatorXMLSchema returned validation exception.  The underlying exception was a org.xml.sax.SAXException.  The message was ""URI=null Line=468: cvc-enumeration-valid: Value 'DEFAULT' is not facet-valid with respect to enumeration '[MD5, SHA-1, SHA-256, SHA-384, SHA-512, HAVAL, TIGER, WHIRLPOOL, DISABLED]'.  It must be a value from the enumeration.""     This leaves me with some questions on the value of checksumType to use when calling API-M.  Since the FedoraAdmin client rejects the value of ""DEFAULT"" when adding an object, should the call to addDatastream using a value of ""DEFAULT"" for checksum type also be rejected as an error or should it cause the new datastream to be added using the default checksum algorithm specified in the Fedora.fcfg file (in this case DISABLED since autoChecksum is set to false in the Fedora.fcfg file)?  Assuming that autoChecksum is false, should the value    DEFAULT    be used for the checksumType attribute in the modifyDatastreamByValue and modifyDatastreamByReference methods or should this also use the value ""DISABLED""?  Since there are now problem records in our repository, should a modifyDatastream using a checksumType    DEFAULT    or    DISABLED    correct the value in the foxml?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Null pointer running v2.2 installer The v2.2 installer throws a null pointer exception when doing a custom install.  The (main) custom options are:  Existing Tomcat (ports 8080/8005) Database: included No SSL.  The (partial) trace is:          at fedora.utilities.install.container.TomcatServerXML.setShutdownPort(TomcatServerXML.java:45)         at fedora.utilities.install.container.TomcatServerXML.update(TomcatServerXML.java:32)         at fedora.utilities.install.container.ExistingTomcat.installServerXML(ExistingTomcat.java:32)         at fedora.utilities.install.container.Tomcat.install(Tomcat.java:43)         at fedora.utilities.install.container.ExistingTomcat50.install(ExistingTomcat50.java:15)         at fedora.utilities.install.Installer.install(Installer.java:66)         at fedora.utilities.install.Installer.main(Installer.java:227)  ...  The line numbers do not match the source download, but it appears that the element search for ""/Server[@shuddown and @port]"" is returning null leading to the failure.  The ONLY successful install I've manages with 2.2 is a ""quick"" install.  Any attempt at a custom install lead to errors.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"IllegalStateException when authorization header not provided If the authorization header isn't available in the http request, the servlet filter sets the response header, then continues with the filter chain.  This causes an IllegalStateException because the response is manipulated twice.  The chain should instead be stopped.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"LDAP, JNDI, and Servlet Filter issues ISSUES  1.  A bug.  Confused usage of local (method) variable and instance field with the same name ""authenticated"".   2.  Unexpected / strange response from JNDI.  Again, this is a non-existent user with no password provided.  In the case seen in the log,  JNDI does not throw an exception. I haven't seen any documentation on what to expect in this case, and certainly didn't expect this behavior for the specific case of no password provided.  In local testing, I've seen exceptions thrown always on no password provided.  The difference could be due to the directory server used, I guess. I've changed the code defensively, but need to test before sending the patch.  I will also both (a) trap the lack of password in the Fedora code itself, so that it's an error to Fedora before JNDI is called; and (b) treat empty results returned from the results as non-authentication. Both of these will be configurable, which will allow further testing if we want/need to tease this out (i.e., ferret out when exceptions are unexpectedly not thrown).   3.  A bug.  The cached authentication value is not reset before the re-authentication attempt.  A re-authentication attempt with exception thrown then results in using the existing cached value. This is puzzling especially when the the cached value is --incorrectly-- set to true, as set in the second login attempt with no password and no exception thrown by JNDI. That is, case 3 (or 4) is the result of both this bug  --and-- case (2) having incorrectly cached a true authentication value.  Strange case and inadequate testing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dcDates table not updated when DC datastream modified In certain cases, the dcDates table is not updated when the DC datastream is updated.  The dcDates table is populated IF a dc:date can be parsed as a date.  This supported the range queries of fieldsearch.  In the event that the dcDates table has an entry for a given object (the DC date could be parsed), then the object is modified so that the DC date is not parsable, the old value is left in the dcDates table.  The expected behavior is that, if the new dc:date cannot be parsed, the old date would be removed from the dcDates table on modify, as this is supposed to represent the most current version's date.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Multiple owner id support fedora owner id currently is an opaque string whose meaning is simply and completely determined by how it effects xacml policies. this feature request is to allow -multiple- owners of an object.  parse object owner id as comma* -separated value string and provide this -set- of values to xacml policy evaluation.  (but also continue to support simple, single owners.)  *: or other configured separator.  "","" is the default separator. (see below if "","" doesn't work in your case)   an object with owner-id == ""alpha,beta"" is co-owned by alpha and beta. the status and meaning of the listed owners continues to be completely determined by your own xacml policies. (for example, individual user and group i.d.s can be mingled in the owner-id csv, with appropriate xacml policies.)  the attached xacml policy allows a user any access to an object if the individual authenticated user i.d. matches one of the listed owners of the object.  as usual, this policy works with other policies, so that fedoraAdmin continues unfettered access under default policies.  see the attached files for how this was tested.   using a different separator from "","" ------------------------------------ if "","" is included in your owner ids (however interpreted), you'll need to use another separator if you want multiple owners.  configure this in fedora.fcfg:    <module role=""fedora.server.security.Authorization"" ...>     <param name=""OWNER-ID-SEPARATOR"" value=""\|""/>  the new parm shown is optional.  if not given, separator is "","".  if given, parm value is a -regular expression-.  so, to use ""|"" as separator, you'd need to avoid r.e. syntax by coding as shown. (note that the xml attribute itself doesn't need escaping, hence don't code this ""\\|"")",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add messaging support to GSearch Fedora 2.3 will include a JMS based messaging module (see Feature Tracker #1656193). Add messaging support to GSearch, allowing GSearch to subscribe to API-M events from the repository and issuing callbacks to index or re-index as necessary.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Migrate Fedora's Modules to OSGi/SpringDM Fedora's existing module framework needs revisiting. While the existing framework allows for some degree of extensibility by replacing existing modules, there's no easy way to add a completely new module without modifying server code (e.g. Server, DefaultManagement, or DefaultDOManager).  On April 16th, 2009, the committers discussed and agreed to move toward using Spring Dynamic Modules (OSGi) for Fedora's future module plugin framework.  Notes from whiteboard: http://fedora-commons.org/confluence/download/attachments/11503659/modularity.jpg",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FedoraAccessServlet hardcodes tiny buffer for datastreams When getting datastream disseminations via the REST interface, the data is buffered 255 bytes at a time.  If it's not made configurable, it should use at least a byte buffer size of 4096 or 8192 when streaming the content.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Authentication error with fedora-find command-line utility I just installed 2.2 and am trying to do something simple but without success. I wonder if anyone might recognize what I'm doing wrong.  I'm trying to run the client find utility to get a list of pids:   $FEDORA_HOME/client/bin/fedora-find.sh localhost 9080 pid demo http  I get the following error: Starting Fedora Lister...  ERROR: java.lang.IllegalArgumentException: Username may not be null  It's not clear to me from the documentation how to indicate the username or why it would be necessary. The http://hostname/fedora/search url works fine.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XACML Policies unable to use '...#anyURI' attributes. In some (and possibly all) cases, the XACML engine cannot correctly process attributes of type 'http://www.w3.org/2001/XMLSchema#anyURI'.   This means that the following effectively cannot be used in the context of Fedora XACML policies:  urn:fedora:names:fedora:2.1:resource:object:formatUri urn:fedora:names:fedora:2.1:resource:datastream:formatUri urn:fedora:names:fedora:2.1:resource:datastream:newFormatUri urn:fedora:names:fedora:2.1:resource:datastream:location urn:fedora:names:fedora:2.1:resource:datastream:newLocation urn:fedora:names:fedora:2.1:resource:bdef:location urn:fedora:names:fedora:2.1:resource:bmech:location  The AttributeFinderModule class correctly handles other types of content but the specific condition for #anyURI values is omitted. Adding this code corrects the issue.   I have attached a code diff and a sample policy that should protect from dissemination all datastreams with a formatURI set to 'vital:protected' for a particular object. This does not occur, in our experience, without the modification.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Saxon Servlet not respecting base urls The saxon servlet doesn't pay attention to the base url of the loaded stylesheets.  This makes xml includes resolve improperly.  Bill Parod reported this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Whitespace added when modifying Inline XML When modify inline xml, the Fedora server inserts whitespace on either side.  Modify multiple times and the whitespace will continue increasing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Automatic rename of do table to dobj sometimes fails During the install process, if a ""do"" table is detected in the Fedora schema, it is automatically renamed to ""dobj"".  This automatic rename fails in some cases, which ultimately causes both the old ""do"" table, and the new ""dobj"" table to exist simultaneously in the new Fedora (2.2+) schema.  This situation must be corrected manually (by moving everything from the do table to the new dobj table).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Incorrect XACML demo policies involving state From Tom Wana to fedora-commons-developers, 8/13/07  Hi,  it seems as if the Fedora upstream XACML policies contain a bug. When testing for the state of an object or disseminator, there are no such states as ""Active"", ""Inactive"" etc. Instead you would have to use ""A"", ""I"" when writing the policy (this took me a few hours to track down...).  For example, Fedora ships with deny-purge-object-if-active-or-inactive.xml, which contains:       <Resources>        <Resource>          <ResourceMatch MatchId=""urn:oasis:names:tc:xacml:1.0:function:string-equal"">            <AttributeValue DataType=""http://www.w3.org/2001/XMLSchema#string"">Active</AttributeValue>            <ResourceAttributeDesignator AttributeId=""urn:fedora:names:fedora:2.1:resource:object:state""              MustBePresent=""false""              DataType=""http://www.w3.org/2001/XMLSchema#string""/>          </ResourceMatch>        </Resource>        <Resource>          <ResourceMatch MatchId=""urn:oasis:names:tc:xacml:1.0:function:string-equal"">            <AttributeValue DataType=""http://www.w3.org/2001/XMLSchema#string"">Inactive</AttributeValue>            <ResourceAttributeDesignator AttributeId=""urn:fedora:names:fedora:2.1:resource:object:state""              MustBePresent=""false""              DataType=""http://www.w3.org/2001/XMLSchema#string""/>          </ResourceMatch>        </Resource>      </Resources>  But because the state is never ""Active"" or ""Inactive"" (but ""A"" or ""I""), this rule never applies and is in effect useless. Which you can easily check yourself by purging an object which is active or inactive, which this rule should prevent, but it works.  When you replace ""Active"" with ""A"" and ""Inactive"" with ""I"", the rule applies, and you can no longer purge such objects.  So it seems as if all occurrences of ""Active"", ""Inactive"" and ""Deleted"" need to be rewritten to ""A"", ""I"" and ""D"" to do their job.  Perhaps you should also include some test cases to check if the default policies actually work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Libraries for Release 3.0 Update the libraries used by Fedora to the latest versions.  The current libraries used by Fedora (src/lib) are:  activation-1.0.2.jar avalon-framework-4.2.0.jar axis-ant.jar axis.jar batik-all.jar castor-0.9.3.9-xml.jar commons-beanutils.jar commons-betwixt-0.7.jar commons-codec-1.3.jar commons-collections-3.1.jar commons-dbcp-1.2.1.jar commons-digester-1.7.jar commons-discovery.jar commons-httpclient-3.1-beta1.jar commons-logging.jar commons-pool-1.2.jar cos.jar DateUtils1.jar derby.jar dom4j-1.6.1.jar driver-1.0.5.jar fop.jar GroboTestingJUnit-1.2.1-core.jar ij.jar jai_codec.jar jai_core.jar jakarta-oro-2.0.5.jar java-getopt-1.0.11.jar jaxen-1.1-beta-9.jar jaxrpc.jar jena.jar jhbasic.jar jmx.jar jrdf-0.3.3.jar jsf-api.jar jsf-impl.jar jsp-api.jar jsr173_1.0_api.jar jstl.jar junit-4.1.jar log4j-1.2.14.jar lucene-1.3.jar mail.jar md5.jar mkjdbc.jar mptstore-0.9.1.jar mysql-connector-java-5.0.4-bin.jar one-jar-boot-0.95-patched.jar openrdf-model.jar openrdf-util.jar postgresql-8.2-504.jdbc3.jar rio.jar saaj.jar saxon.jar servlet-api.jar sjsxp.jar standard.jar stax-utils.jar sunxacml-patched.jar Tidy.jar trippi-1.1.2-core.jar trippi-1.1.2-kowari.jar trippi-1.1.2-mptstore.jar trove-1.0.2.jar tt-bytecode.jar wsdl4j-1.5.1.jar xercesImpl.jar xml-apis.jar xmlpull_1_1_3_4a.jar xmlunit1.0.jar xpp3_min-1.1.3.4.K.jar,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"object editor dirty flag being set when no changes have been You can replicate this bug by opening an existing object with the object editor tool of admin client and then closing the object editor pane without making any changes to the object. The pane should just close since no changes have been made, but instead you are prompted with a message asking ""Close without saving changes?"". Looks like the dirty flag is being set even though no changes have occurred.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Java6 compatibility Currently, Fedora does not build with Java 6. While implementing the new methods introduced in Java 6 for java.sql.Connection in fedora.server.utilities.ConnectionWrapper allows Fedora to build under Java 6, this is not backwards compatible with Java 5.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
JSR-170 support Implement JSR-170 (level 2 compliance) in Fedora.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SQL rebuild sometimes fails to populate pidGen correctly After running fedora-rebuild, the pidGen tables sometimes isn't populated.  This can cause an error when ingesting objects where the pid is unspecified and must be auto-generated.  The workaround is to check this table after a rebuild and, if it is unpopulated, issue the following SQL before restarting Fedora:  INSERT INTO pidGen (namespace, highestID) VALUES ($NS, $HIGHESTID)  Where $NS is the namespace, such as ""demo"", and highestID is the higest existing numeric part of all PIDs in the repository, such as 10.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMDA Migration Utility for 3.0 Develop a utility that aids upgrading existing repository objects to support CMDA in release 3.0.  This utility must  process Release 2.2 digital objects but may support prior releases if feasible.  This utility must provide the ability for the administrator to make the final choice of assignment of digital object to content model object though it may automate the process to the degree feasible.    The utility should implement a phased approach consisting of analysis of existing digital objects, generation of suggested content models/categories, and transformation to the new format.  The analysis phase should identify and classify objects that may have similar content models.  This phase should permit the administrator to select the criteria used to classify objects.  The generation phase must create candidate content models consistent with the analysis phase.  The content models generated should be output is a form that the administrator can customize.  The transformation phase must permit the administrator to select which objects will be transformed and what transformation will be applied to them.  The transformation phase should provide the means for the administrator to customize the transformation.  This utility must provide means to upgrade objects without moving stored datastreams.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Integrate Mulgara (without Trippi) Integrate the Mulgara triplestore as an optional plug-in for the Fedora Repository service to function as the Resource Index.  Permit its operation without requiring the direct use of the Trippi interface.  Trippi may remain  in use as a library for functions that do not directly require an operational triplestore instance.  Deprecate the use of Kowari.  It is not required that this feature development use a JTA interface or that Mulgara be integrated as an XA resource within the same transaction as the Registry (relational) resource.  However, this will happen as a subsequent development and implementation of this feature should plan accordingly.  Due to the current lack of standardization for triplestore interfaces, the implementation of this feature may be specialized for Mulgara and not attempt to implement an abstraction layer for all triplestores.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update object/datastream files in a transaction Fedora currently tries to compensate internally if something fails while committing a change to the foxml and/or datastream files.  This improvement would change that so the work occurs in a transaction.  Goals include: simplifying the compensation code (mostly in DefaultDOManager) and having greater assurance that, when things go wrong (part of the overall transaction fails, power goes out, etc), storage comes up in a consistent state rather than requiring manual intervention.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Initial integration of Akubra with proper rebuilds Replace the current LLStore with an Akubra interface (likely a module that wraps an Akubra impl).  This feature should include the ability to do rebuilds against this new interface, now that it is capable of listing its contents.  Whether it's internally ""transactional"" or not is TBD.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SOAP over HTTP with Attachments Provide an initial SOAP with attachments capability for API-M via HTTP. Ideally support > 2GB.  If not, break that out as a separate feature.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer creates one-jar doc directory When running the installer jar, a doc/ directory gets created.  This is caused by the one-jar library that we use for creating self-contained executable jars.  It can be fixed by omitting the main jar manifest's One-Jar-Expand attribute.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support HTTP Soap with Attachments < 2GB. Refactor 1791674 ""Provide a basic SOAP with Attachments for API-M"" to support message sizes which require temporary ""in-flight"" persistence for total message sizes to 2GB. Like 1791674, limit the implementation to HTTP bindings only.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support HTTP Soap with Attachments > 2GB. Refactor 1791689 ""Support HTTP Soap with Attachments to 2GB."" to support message sizes which require temporary ""in-flight"" persistence for total message sizes greater than 2GB. Like 179189, limit the implementation to HTTP bindings only.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable RI Indexing of BMECH/BDEF/Method Enable the RI to index BMECHs, BDEFs, and Methods in order to enable client like the OAI Provider Service to perform queries to determine which disseminations have changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update the OAI Provider for CMDA Changes Update the OAI Provider for modifications compatible with the CMDA.  In particular, provide the ability to harvest metadata the enables determining which dissemination have changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Basic SOAP over JMS Add capability for Fedora to listen to a JMS provider and apply API-A/M request messages.  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SOAP over JMS with Attachments Add a SOAP with Attachments binding to JMS for message. Payloads over 2GB are ideal; if it needs to be added as a separate feature, do that.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
SRB Storage Support Replace the SRB concrete storage implementation with a new concrete implementation based on Akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
IRODs Storage Support Develop a new concrete implementation for the SDSC IROD (SRB replacement) based on Akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Sun Honeycomb Storage Support Develop a new concrete implementation for the Sun Honeycomb based on Akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update the Admin Client for new relations methods. Update the Java Swing Admin client to utilize the revised relations interfaces for Release 3.0.  Utilize the new relations extensions to permit the display and add of individual relations to RELS-EXT.  Provide a simple method to add one relation at a time and provide a method to edit the REL-EXT datastream as a whole.  Note that a separate feature will provide a graphical relations editor.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Design Backend Security Replacement The design of the security between backend (disseminating) services and Fedora needs to be rethought.  The scope of this includes authentication, authorization, ""getDS/getDSAuthenticated"", etc..  We discontinued BESecurity in Fedora 2.2 (see 2.2's release notes).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Change display and editing of RELS-EXT datastream Given the increased importance of and reliance on the relationships in the RELS-EXT datastream in the CMDA model, the Admin client should facilitate viewing and editing this datastream in a more user friendly and failsafe manner.  Rather than simply displaying a text edit window to allow the admin client user to view and edit the raw RDF XML of the RELS-EXT datastream, this change will display the contents of that datastream in a three column table, and allow the user to add entries to the table, edit entries in the table or delete entries in the table.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add messaging support to GSearch Peform detailed design, coding, and unit test for Feature 1746275 Add messaging support to GSearch.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Switch to Derby  for bundled/supported pure Java database We currently provide McKoi as the bundled java database for the ""quick"" install option.  Due to simple setup, a native Java database is also useful for running our automated tests.  We should switch this to Derby because McKoi is no longer actively maintained (last release was 2004) and Derby is.  Derby is also the underlying database used for ""Java DB"", the JVM-bundled native Java database as of Java 1.6.  This needs to work with Java 1.5 and 1.6.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Publish API-M events via JMS Enable Fedora to publish API-M events via JMS.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Integrate JMS broker Integrate support for a JMS broker in Fedora. Provide support for an in-JVM broker as well as an external broker.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Establish format for API-M messaging events Devise a standard message format/schema for publishing Fedora API-M events for use by subscribed services.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
SOAP over JMS Enable Fedora to receive API-M calls using JMS as the transport layer.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Authentication ServletFilter cleanup Try to simplify how this all hangs together,  remove commons-logging remnants, write javadocs explaining how it works, and bring in line with coding standards.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
CMDA Off-Line Validator The validator MUST test whether a digital object conforms to its content model.  The validator MUST operate as an administrative utility that is invoked on digital objects already stored in a Fedora Repository and MUST provide a report on objects that fail validation tests.  The validator MUST test whether the digital object has the number and kind of datastreams defined in the content model.  The validator SHOULD be designed to be extensible to accommodate additional conformation tests including referential integrity tests being developed in a separate feature.  The validator MUST provide the mechanism to test a selection of objects which is a subset of the total number of objects contained in a repository.  The validator SHOULD be designed to enable reuse/sharing of code with on-line error description features.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Extend fedora-validate-objects to include referential integrity reporting Extend Feature 1797214 CMDA Post Processing Validator to add referential integrity tests.    Optional capability to check for any relationship to an object.  And verify that object exists in the repository. For Fedora-defined objects (cmodel, sdep, sdef), check that certain required relationships exist:  a) cmodel (optionally point to an sdef) b) sdep (must point to a cmodel and an sdef)  Note: This extends on the functionality of FCREPO-123",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMDA On-line Error Description (Part 1) When an error condition is detected during on-line access operations, this feature MUST provide a description of the reasons for the error condition to the caller.  The feature MUST report conformance with the object's content model and SHOULD report any other available information that enables identification of the error's source.  The feature SHOULD be developed to enable extensibility and SHOULD reuse/share code with off-line validation features.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Cleanup referential integrity constraints in client Prior to CMDA, there were referential integrity constraints in the admin client that prohibited editing of certain datastreams(e.g., MethodMap, WSDL, DSInputSpec, etc.) in bdef/bmech objects. This refactoring feature MUST remove any remaining constraints from the admin client to conform with the looser coupling provided by CMDA.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Cleanup disseminator references in batchModify utility Prior to CMDA, the batchModify utility in the admin client enabled batch modification of api-m methods involving disseminators (e.g., addDisseminator, purgeDisseminator, etc.). This refactoring feature MUST remove from the batchModify utility references to disseminator methods that are no longer available in CMDA.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Cleanup SQLRebuilder to remove disseminator references The SQLRebuilder still contains references to dissemination database tables. The refactoring feature MUST remove all code referencing old-stlye dissemination databases.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Atomic way of submitting multiple API-M requests The so-called ""super method"" is a new API-M method that allows a set of API-M methods to be submitted as a single operation, doing all of the work in one transaction.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pubcookie servlet filter -- omit initial form fetch pubcookie servlet filter currently fetches and parses html form, to get parms for authn ping == form action. these parms are well-known and stable, and can instead be provided in config and make the servlet filter more efficient.  [suggested by uva systems group]",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"servlet filter certificate use investigate config of certificates (e.g., from fedora's trust/keystore vs local java sdk trust/keystore).   recent certificate authority changes at uva need to be tested and reflected in local fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Option to pass backend service errors through Peter suggested that it would be useful if, when using API-A Lite, if a backend HTTP service gives a non-200 response, instead of having Fedora return a generic 500 error, it returned the exact error code and payload that the backend service returned.  In practical terms, this would simplify debugging by passing the ultimate error straight through.  Dan and I talked about this and believe it's appropriate to retain the ability to hide the cause of the error (in effect, to have Fedora intercept the error, log it, and provide a unique event id for later lookup by an authorized user).  In a production environment, it may not be appropriate to provide back-end service error detail to the agent making the dissemination request from Fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Resolve multiple fTypes With the CMDA changes, a new ""Fedora Object Type"" (fType) was introduced: ""C"".  Now the set of possible fTypes includes ""O"" (data object), ""D"" (bdef object), ""M"" (bmech object), and ""C"" (content model object).  The fType attribute has always been a single-valued required attribute.  With the CMDA changes, this was turned into a repeating attribute of the DigitalObject class.  We need to decide whether we really want this, long-term.  Things to consider:  1) How would it be specified in the FOXML or METS if multiple values were allowed (a delimited string, or multiple elements/attributes?)  2) It is currently not possible to ingest an object that specifies it's of multiple Fedora Object types.  Schematron validation (foxml and mets) both catch this as an error.  3) If it were possible, we don't have any tests that exercise this capability: none of the test/demo objects are of multiple types.  Things that would be particularly important to test include:   - How the resource index update behaves when an object is of two types.   - How the fieldsearch interface would behave.   - How the admin client indicates multiple types to the user.  On the other hand, if we decide to back off of this ""multi-valued fType"" capability, the DigitalObject class and DOReader, etc., should be updated to use a simple getter/setter for this value.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Versioning of FOXML and METS schemas for CMDA Our FOXML and METS schemas need to be versioned for Fedora 3.0.    Output of this feature: 1) Two new sets of schemas (foxml and mets, xsd and schematron for each)   - Each schema, where it makes sense, should NOT allow the use of disseminators.   - Where possible, a schema version number should be asserted in the FOXML (or METS?) itself.  This is to support out-of-context use of METS or FOXML files (where looking at the instance indicates what version of the format they are in)  TBD",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
default disseminator policy no longer required The default repository policy named deny-inactive-or-deleted-disseminations-if-not-administrator.xml is no longer needed with CMDA so needs to be removed from default policy set,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"HTTP Upload endpoint not formally part of API-M Lite The upload servlet management/upload is functionally part of API-M Lite, but it is not documented as such.  The fix to this bug should ensure it gets documented in the WSDL as well as any human-readable docs that talk about API-M Lite in src/userdocs.    It should also ensure that appropriate TestHTTPStatusCodes tests exist (and pass) to exercise AuthN, AuthZ, and request success/failure conditions.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora Auditing Schema update The fedora auditing schema (fedora-auditing.xsd) does not reflect the actual structure used to read/write audit information in foxml/mets.  It needs to be updated to reflect this structure, and uploaded to the appropriate endpoint on the website.  Here is the actual structure used for audit information:  (auditTrail)   [1 or more records] (/auditTrail)  (record [optional ID=""string])   (process type=""string""/)   (action)string(/action)   (componentID)string(/componentID)   (responsibility)string(/responsibility)   (date)dateTime(/date)   (justification)string(/justification) (/record)  The schema is currently published at the following endpoint:  http://www.fedora.info/definitions/1/0/fedora-auditing.xsd",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
METS Deserializer: evaluate use of RELS-INT The METS deserializer automatically creates a RELS-INT datastream and puts association information about AMDIDs and DMDIDs within it.    Is this what we want long-term?  Does the actual use of RELS-INT here agree with our imagined use of it (if any) in the future?  Resolving this issue should result in either:  a) changing the way this is done for the METS deserializer (losing the information?)  b) documenting this reserved use of RELS-INT somewhere outside the code.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Constants for namespace/schema uris/locs (server and client) This was noticed when working with working on METS/FOXML versioning for 3.0 -- there are a lot of hardcoded namespace and schemaLocation constants, particularly in the serializer/deserializers.  These should be declared in and used from common constants instead of being declared/used in each individual class that uses them.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Removed unused namespaces from demo/test objects This was noticed while working on FOXML/METS version updates.  There are a lot of uses of namespaces (especially declared at the root) which are just not used in the instance documents.  Removing these namespace declarations will simplify the demos/examples/code, and make things more coherent for users.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Implement search-and-bind style LDAP authn This was requested by multiple users as a more flexible way to allow LDAP authentication.  For details, see:  http://sourceforge.net/mailarchive/message.php?msg_id=46083EEA.2040004%40georgetown.edu  Hello all,  This is my first post to the list, so by way of introduction: At Georgetown University, we are just beginning to do a Fedora pilot project, so we're newbies in that arena. But we do have extensive experience in various aspects of AAA middleware, including LDAP. I and another Georgetown staff member are also on the Shibboleth core development team (he is in fact the Shibboleth Java project lead). Over the next few months we might be interested in contributing to Fedora in those areas (via expertise and/or code) if there is a need and a desire for that.   I had previously sent some questions over on the users list regarding the new LDAP auth filter that shipped with v2.2. I understand from Richard Green that there was a patch to the 2.2 version, documented here:  http://www.fedora.info/wiki/index.php/Authenticating_Fedora_2.2_against_LDAP  The patch however has subsequently been found to have other bugs and so the LDAP code is currently being rewritten. That being the case, I wanted to offer a comment/suggestion on how the LDAP auth is configured and attempted. Apologies if this has already been discussed.  I haven't seen the patch, so I can only infer what the patch might be doing based on the LDAP auth wiki topic, but the main observation that I have is that: the original code does not support (and the patch does not appear to support) the standard ""search-and-bind"" style of doing LDAP auth. The style apparently supported in the patch by that new init-param 'bind-filter' (which I would point out isn't really a filter, BTW...) using a DN substitution pattern works for many people in many environments (it does in fact work for our current LDAP environment here at GU), but it makes 2 critical assumptions that don't hold for everyone:  1) Assumes that users exist in a single OU/container in the directory - Many people have LDAP designs which put users in multiple OU's/containers. You could mitigate that by having instead a list of DN substitution patterns to try, but that's a little inefficient.  2) Assumes that the ""username"" is part of the LDAP DN - This isn't always the case. Some people use a unique, opaque identifier to construct the DN, based on a GUID or a Person Registry ID or something else that's unique and persistent. Others use other attributes of the user to construct the last RDN component in the DN, for example Active Directory by default does something like 'CN=""Brent Putman"", CN=Users, DC=domain, DC=org' (or at least used to, I'm not an MS expert).   So the search-and-bind style of LDAP auth is the the only technique (that I know of at least) that works for all environments and LDAP designs. This is supported in and AFAIK is in fact the primary way that people do LDAP auth in well-known software projects such as Apache httpd, Apache Tomcat (via the JNDI Realm, although that supports both bind styles) and most others that I've had occasion to work with. If that gives you the warm fuzzies. :-)  In short, that style of auth is: 1) bind to the directory, either anonymously or with a privileged DN (depending on whether the users to be authenticated are publicly visible and searchable within the directory) 2) search for the user by constructing an LDAP search filter based on the supplied username, e.g. ""(uid=putmanb)"". 3) test user credentials by attempting to bind/rebind as the DN returned in step 2, using the password supplied by the user  So since the code is being rewritten anyway, I would ask that these comments be taken into account - it would make Fedora's LDAP capabilities available to a broader array of organizations. Time permitting (we're trying to get Shibboleth 2.0 out the door...), I might be able to help in getting this implemented and/or tested , etc.   Thanks, Brent",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Remove fedora-auditing from build. The fedora-auditing.xsd is not needing in the wsdl2java target in the build.xml. Also it need not be copied to the wsdl directory in the build area.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Flush and close missing in FieldSearchServlet See:  http://drama.ramp.org.au/cgi-bin/trac.cgi/wiki/FieldSearchServlet,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"default SSL certificate expired Oct 3; needs updating The current Fedora SSL certificate in distribution expired on Oct 3 2007. We should update this cert prior to 3.0 release.  We may also want to consider obtaining a ""trusted"" cert instead of the current self-signed certificate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"No namespace for API-A lite responses Background: This bug appears to have existed since the inception of API-A Lite.  I discovered it while working on refactoring item 1814192 (Constants for namespace/schema uris/locs).  In API-A Lite, many of the XML responses are not namespace-qualified.  It appears the intent was to have all of these responses exist in the ""/definitions/1/0/api/access"" namespace, but the way the XML is written doesn't do that.  For example, objectProfile's root element is (non-namespace-qualified) ""objectProfile"", and contains the following namespace/xsd-related attributes: ""xmlns:xsi"", ""xsi:schemaLocation"".  What's missing is an xmlns attribute that declares the namespace of the current element (and children) to be ""http://www.fedora.info/definitions/1/0/access/""",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"API-A Lite XML inconsistencies I noticed several inconsistencies with API-A Lite responses while working on refactoring item 1814192 (Constants for namespace/schema uris/locs).  1) Object Profile has a dateTime attribute, but other API-A responses use the attribute ""asOfDateTime"".  2) Many responses have a baseURL attribute on the root (I'm not sure of the purpose of this), but Object Profile (for one) doesn't.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactor AuthZ code and Policies for CMA and FOXML1.1 For example, Authorization.enforceGetDissemination takes a ""dissState"" parameter.  It also uses the (now deprecated) Constants.DISSEMINATOR namespace.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMA On-line Error Description (Part 2) Follow-on to [ 1797234 ] CMDA On-line Error Description (Part 1)  When an error condition is detected during on-line access operations, this feature MUST report conformance with the object's content model (if relevant to the error). The feature SHOULD be developed to enable extensibility and SHOULD reuse/share code with off-line validation features.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve RDF prefix handling in admin gui RELS-EXT editor Since feature 1793977 was implemented, visual editing of RELS-EXT is now possible.  The treatment of RDF prefixes/namespaces is still fuzzy in this editor.  This feature is a placeholder for as-yet-unspecified changes to make the editing/entering of URIs vs. ""short"" names for URIs more clear.  Should there be a set of client-side stored prefixes?  Default prefixes?  How about display -- should full URIs be shown differently than ""aliased"" URIs?  This all needs to be specified.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove ""special"" datastream editing contraints from server The server currently disallows edit of METHODMAP, DSINPUTSPEC and WSDL datastreams of BMechs/BDefs.  Now that we have CMDA we longer need this safety precaution.  Completion of this item:  MUST remove from the SERVER the current constraint that these datastreams cannot be edited.  See the fedora.server.management package.  SHOULD add a test to the TestAPIM suite that modifyDatastream requests to these special datastreams succeed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Consistent use of Constants (catch-all) Use fedora.common.Constants for public constants that don't clearly belong to a single interface or class.  We should also have more specific guidelines in this area as part of the coding standards.  Look into all classes, but here are some specific ones to investigate: fedora.server.storage.types.Datastream fedora.server.storage.types.DigitalObject",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Consider using enums for Constants Java enums provide a clean mechanism for defining sets of typesafe constants.  Within fedora.common.Constants, an obvious place to consider using them are for the RDF/XML/Policy namespaces.  Are there other areas in fedora.common.Constants where they could be used to good effect?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"GSearch: Adding parameters to indexing GSearch: Adding parameters to indexing, requested by FIZ Karlsruhe (Matthias Razum and Michael Hoppe) for the eSciDoc project.  Proposed solution:  Add params to indexing in format:  ...&indexDocXslt=[xslt-name][(paramname1=value1[,paramname2=value2[,...]])]  Use the parameters at indexing time by putting xsl:param statement in the indexing xslt stylesheet, like this:  <xsl:param name=""someparamname"" select=""defaultvalue""/>  This was implemented in June 2007 and delivered to FIZ. It was satisfactory.  The feature shall be included in next GSearch version.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: optimize options for Lucene indexing GSearch: optimize options for Lucene indexing, proposed by FIZ Karlsruhe (Matthias Razum and Michael Hoppe) for the eSciDoc project:   "" While testing our project we discovered another bottleneck of the fedoragsearch:  We have a test where we create and index a lot of fedora-objects (about 1500) in a loop. After creation of each object, we index it right away, calling the fedoragsearch, then we create the next item. The more items we created the slower the system became. We discussed that and thought, this might happen because of the optimization of the index every time we index a single object.   So what we did was that we changed the code in the OperationsImpl-class so the index only gets optimized each 1000ths object. Running the test again, we saw that the system became much faster.  Maybe the fedoragsearch should have a configuration so we could choose if the index has to get optimized after each indexing of a single item. Additionally to this there could be a call 'optimizeIndex' to the fedoragsearch. """,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: solve the truncated special characters problem GSearch: solve the truncated special characters problem. Proposed by Leire Urcelay:  "" When doing a search, the fields having field.lenght > fieldMaxLength are truncated using getBestFragments method.   If the field contains some special characters, like &apos;, it can happen that this special character is cut.  For example, the field    Il est donc int  ressant de se pencher sur l'acquisition    is transformed into    Il est donc int  ressant de se pencher sur l &apos ...    .  This transformation should produce an error during the XSLT transformation. Currently, this is not the case, since there is a strange transformation in the code. In fact, all    &    characters are transformed in    #    character.   You can see it in the method executeQuery of the class Statement.java:        snippets = highlighter.getBestFragments(tokenStream, f.stringValue(), snippetsMax, "" ... "");       snippets = snippets.replace('&', '#');   Due to this character replacement, there is not any error in the xsl transformation, but however, there is a problem when displaying the result. Instead of getting:     Il est donc int  ressant de se pencher sur l    ...      The following is displayed:      Il est donc int  ressant de se pencher sur l #apos ...    ""  The current solution with '#' was a tradeoff. A more satisfactory solution should be included in the next version of GSearch.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: add untokenizedFields property GSearch: add untokenizedFields property to lucene index.properties files.  Currently, the untokenizedFields property is created at initialization time, based on 10 index documents, and used at query time to select analyzer. Adding the property with a list of all untokenized fields will ensure that they all select the appropriate analyzer. Proposed by Leire Urcelay.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Support for Mulgara in 3.0 Update the ResourceIndex to support Mulgara.  The Resource Index currently supports a variety of triplestores via Trippi. Update Trippi (and thereby Fedora) to support Mulgara.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow ingest/export of old version formats Now that the FOXML and ""Fedora METS Extension"" formats have been versioned to 1.1, the server allows ingest and export of only the new formats.  The 1.0 serializers/deserializers still exist...they're just not configured in the base-fedora.fcfg.  The first part of this item is just to enable them.  Add the necessary sections to the base fedora.fcfg (use the new URIs for the old formats instead of the old strings), and make sure we have at least one ingest/export system test for each of the old formats.  The second part of this item is to make the client aware of the fact that the server can handle the old formats.  WARNINGS: Even with the above changes, old-style disseminators will be *lost* on ingest.  Users should somehow be made aware of this (some combo of doc/server/client warnings)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XSD dateTime inconsistency The Kowari and MPTStore backed Resource Index implementations vary in the way XSD dateTimes are returned: Kowari returns un-timezoned values and MPTStore returns timezoned values, i.e.: 2007-11-15T11:27:40.415 vs 2007-11-15T11:27:40.415Z.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XSD dateTimes can have incorrect fractional seconds Per http://www.w3.org/TR/xmlschema-2/#dateTime-canonical-representation  ""The fractional second string, if present, must not end in '0'""  For example: 2006-11-18T12:22:10.010Z vs. 2006-11-18T12:22:10.01Z (the former is incorrect).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Object-specific POLICY datastream ignored when using Oracle When running Fedora backed by Oracle, with XACML enforcement enabled, the POLICY datastream is ignored.  This behavior was discovered in Fedora 2.2.1, but exists in prior versions of Fedora as well.  CAUSE: The reason this occurs is twofold:  1) A query executed by FastDOReader.GetDatastream fails in Oracle because it includes a DISTINCT clause, but at least one of the column types (dsBind.dsLocation) is a CLOB.  And in Oracle, it is an error to issue a SELECT DISTINCT query involving a CLOB.  2) Although the above throws an exception, it is caught and ignored by PolicyFinderModule.getObjectPolicyFromObject.  This causes the remainder of the code to assume the POLICY datastream simply doesn't exist.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"GSearch: add custom URIResolver for basic auth and SSL GSearch: add custom URIResolver for basic auth and SSL, proposed by Ross Wayland:  "" I'm investigating using fedoragsearch to index additional(other than DC) metadata datastreams that are in the foxml object. The additional metadata datastreams are stored as Managed-content datastreams so I was planning to get at this content using the xslt document() function to retrieve the contents of these datastreams. e.g.  document('http://ross.lib.virginia.edu:8080/fedora/get/uva-lib:100/META')  This technique works just fine provided api-a is open. When api-a is using basic auth and/or SSL then the underlying URL looks like:  document('https://ross.lib.virginia.edu:8443/fedora/get/uva-lib:100/META')  This method does not work since apparently the default URIResolver of the xslt engine does not know how to deal with basic auth and/or SSL.  ""  It seems that the right approach is to write a custom URIResolver and let it be configurable, which URIResolver to use with the Transformer.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: let highlight code be configurable. GSearch: let highlight code be configurable.  Ahmed Abdeen: ""Snippets: We probably all agree that it is desirable to highlight searchterms in display of a search result. Specifying a value > 0 in the gFindObjects' ""snippetsMax"" parameter is intended to make this happen. In particular, use of this parameter causes gsearch to surround search terms in all DC metdata with <span class-""highlight""> tags (and highlighting can then be enabled by defining a CSS class to apply desired formatting). This is problematic insofar as introduction of unescaped XML tags into the data changes the XML structure and therefore how the data can be handled by XSLT."" ... ""our metadata includes the usual XML escaped characters, including such characters used for formatting tags : for example, ""<em>emphasized text</em>"" is encoded in the DC metdata as ""<em>ehphasized text</em>"". To display these appropriately in a web context, the string must be processed with output escaping disabled .... When you have a string such as this:     <field name=""dc.description"" >This is some <span class=""highlight"">emphasized</span> <em>text</em> in a sentence.< /field >  You have to use xsl:copy-of to appropriately output the <span> tags     but you cannot disable output escaping to have the escaped <em> tags display properly. Ugh.""  The solution seems to be to make the surrounding highlight code be configurable.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: add a sortFields parameter to gfindObjects GSearch: add a sortFields parameter to gfindObjects.  Robert Waltz: ""I am curious as to the best manner to include lucene sorting in the lucene implementation of gsearch."" ... ""I have a requirement to allow the user to select from a list of fields to sort by. So, I will need to pass the field to sort by via the query string in a REST call.""  There is one statement in fgslucene.Statement.java that should be modified for sorting, namely    Hits hits = searcher.search(query);  where an additional Sort parameter may be given.   The solutions seems to be to add a sortFields parameter to gfindObjects.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"improper handling of default namespace in batchModify Use of the default xml namespace in in-line XML content that is processed by the batchModify utility can result in xml that is not well formed. An example of in-line xml that uses the default namespace is:  <fbm:modifyDatastream  pid=""demo:999""  dsControlGroupType  =""X"" dsID=""RECORD-XML"" logMessage=""Jira DRINGEST-50""> <fbm:xmlData>  <election_record xmlns=""http://dca.tufts.edu/aas""  xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" label=""Missouri 1824 Election Returns for Congress"" type=""General"" iteration=""First Ballot"" date=""1824"" election_id=""MS115.002.MO.1824.00002"" xsi:schemaLocation=""http://dca.tufts.edu/aas http://dca.tufts.edu/schema/aas/electionRecord.xsd""> ...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Refactor of BatchModifyParser BatchModifyParser was modeled after an earlier version of METSDODeserializer parser which has since been updated and streamlined. BatchModifyParser does not currently reflect these same updates.  It is desirable to update BatchModifyParser to reflect similar changes made to other parsers in regards to handling of in-line xml content and namespace handling for consistency.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Incorrect protocol/port in DefaultExternalContentManager To reproduce this problem, configure your server so that basicAuth is enabled for API-A, but SSL is disabled. Hostname must be something other than ""localhost"". Load the demo objects and attempt to disseminate the getPDF method for demo:26  http://hostname:8080/fedora/get/demo:26/demo:19/getPDF  Instead of seeing the transformed pdf document, you will get a blank web page and the fedora error log will report that DefaultExternalContentManager is unable to resolve the URL:  https://hostname:8443/fedora/get/demo:26/demo:22/getFO  DefaultExternalContentManager is incorrectly setting the protocol/port for the internal fedora call that is generated by the dissemination request. Since SSL is disabled for API-A, it should instead be using:  http://hostname:8080/fedora/get/demo:26/demo:22/getFO",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"""File too large"" Exception from Fedora when getting > 2GB DS While it is no problem to store a 2 GB file in Fedora it seems to be impossible to get that file back from Fedora.  After digging into the source code I found a check for a maximum file size in  fedora.server.storage.lowlevel.GenericFileSystem line 170:  if (lFileLength > Integer.MAX_VALUE) {     throw new LowlevelStorageException(true, ""file "" + getPath(file) + ""too large for reading""); }  What is the reason behind that check? Could the check be removed?  In my tests I could successfully retrieve a 2 GB file after commenting out the above code.  Thanks for your help!  Best regards,  Andr  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Incorrect handling of dates before 1CE RelsExtValidator and DateUtility fail to validate/parse date strings before 1CE (e.g. ""-0001-01-01T00:00:00"").",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RelsExtValidator rejects valid UTC dateTimes RelsExtValidator rejects UTC dateTimes that do not have milliseconds to 3 significant digits.  For example, ""1970-01-01T00:00:00Z"", which is the correct canonical lexical representation of the epoch, is rejected by RelsExtValidator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FieldSearch not releasing connection w/one result When a FieldSearch query results in exactly one row, the connection is not released right away as it should be.  This can cause the connection pool to become exhausted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove obsolete/deprecated API-M methods ingestObject was supposedly deprecated since 2.2 (perhaps earlier, but I don't recall) in favor of ingest.  If it's going to be dropped, dropping it for 3.0b2 or final seems appropriate.  Also, the Management interface still defines adminPing, which doesn't exist in the API-M WSDL. This seems like another candidate for removal unless there's a reason for the inconsistency.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Shorten XACML example policy paths/filenames The example XACML policies in src/xacml-policies use extremely verbose directory and filenames.  Very long paths (>254 chars) in the source tree should be avoided because they can cause subversion checkouts to fail in Windows.  They can also cause Fedora installations to fail if FEDORA_HOME is a modestly-deep directory.  These paths can be shortened significantly by removing repetition and abbreviating where it makes sense.  In a local test, I was able to reduce the longest path by 78 characters.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer fails if FEDORA_HOME contains a space On Windows, the installer fails if FEDORA_HOME contains a space, e.g. FEDORA_HOME=C:\Program Files\fedora",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Lockup after frequent dissemination requests When making many back-to-back requests for the same dissemination, the Fedora server becomes unresponsive to similar dissemination requests.  When this state is reached, the server does not recover until it is restarted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Dissemination problems in objects with POLICY datastreams Under 2.2.x, there is a policy in the set of default repo-wide policies named  deny-policy-management-if-not-administrator.xml that restricts all access to the POLICY datastream unless you have fedoraRole=administrator. This attribute is only available if basciAuth is enabled. This is always the case for API-M so administrator can always access POLICY datastream through API-M. For API-A, the POLICY datastream cannot be accessed unless basicAuth is enabled for API-A and user has fedoraRole=administrator.  Under 3.0b1, we seem to have introduced some new dependency on the POLICY datastream with regard to disseminations so that if an object contains a POLICY datastream, this causes an AuthZException to be consistently thrown when attempting any getDisseminations. Removing the deny-policy-management-if-not-administrator.xml repo-wide policy or removing the POLICY datastream from the data object eliminates the problem, but this is a bug we need to run down before 3.0final release.  I believe this bug is related to how DefaultAccess.GetCMDADisseminationBindingInfo populates the dissBindingInfo data structure. Under 2.2.x, dissBindingInfo used a dbms join to select only those datastreams that were needed to fulfill the dissemination request. It appears that under 3.0b1, all datastreams in the object are being included in the dissBindingInfo data structure. Current logic in DisseminationService applies the policy constraint of ""enforce_Internal_DSState"" to each datastream found in dissBindingInfo. If an object happens to have a POLICY datastream, access to this datastream is denied unless the requesting user has fedoraRole=administrator. This will never happen when basicAuth is disabled for API-A. If basicAuth is enabled for API-A, access to the POLICY datastream is only allowed for fedoraRole=administrator, but this is still not the desired behavior. The result is that the initial dissemination request is denied because the requesting user does not have access to the POLICY datastream which is really irrelevant to the dissemination request. The fix seems to be either to filter the datastreams that are populated in dissBindingInfo to only include those datastreams that are needed in dissemination request or change logic in DisseminationService so policy constraint of ""enforce_Internal_DSState"" is only applied to those datastreams that are needed in dissemination request.  You can quickly test this in 3.0b1 by adding a POLICY datastream that permits-to-all(see attached) to one of the demo objects with disseminators. Attempts to run any disseminations on that object will result in AuthZExceptions. Remove the POLICY datastream and the disseminations will work. Note this is only an issue with getDissemination;  getDatastreamDissemination uses different logic and is unaffected.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
disseminator policy attributes need review vocabulary.txt which lists the available xacml policy attributes still includes attributes related to disseminators which are deprecated in 3.0b1  urn:fedora:names:fedora:2.1:resource:disseminator:id http://www.w3.org/2001/XMLSchema#string urn:fedora:names:fedora:2.1:resource:disseminator:state http://www.w3.org/2001/XMLSchema#string urn:fedora:names:fedora:2.1:resource:disseminator:method http://www.w3.org/2001/XMLSchema#string urn:fedora:names:fedora:2.1:resource:disseminator:asOfDateTime http://www.w3.org/2001/XMLSchema#dateTime urn:fedora:names:fedora:2.1:resource:disseminator:newState http://www.w3.org/2001/XMLSchema#string  XACML-related code needs to be reviewed and these attributes either removed or flagged as deprecated since disseminators are no longer a formal construct in 3.0b1.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"mail.jar is missing from 3.0B1.  Causes REST uploads to fail One jar file from the REST branch didn't make it into the (3.0B1) trunk.  Without this jar, multipart/mime posts (uploading binary files) fails.  Also, I looked in junit.fedora.test.api.TestRESTAPI.java and found that the testAddDatastream() method only attempts to create an ""X"" datastream by posting some XML.  It doesn't attempt to create an ""M"" datastream by uploading a file.   That's how this error slipped under our radar.  The test method should create both an ""X"" datastream and an ""M"" datastream.  The missing jar file (in SVN Browse):  http://fedora-commons.svn.sourceforge.net/viewvc/fedora-commons/fedora-rest/trunk/lib/jersey/mail.jar",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"AuthN servlet filters as standalone project Create a separate project, fc-authn, to house the current AuthN servlet filters so they can be easily re-used by other projects.  This new project should have it's own build.xml, and fedora/trunk should be updated to use it as a dependency.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Problem with utf-8 characters in datastream Hello all  My name is John and at my company we are using Fedora 2.2.1  I have found a problem with utf-8 xml datastreams, only when the size is larger than 4K. Some times every 4K block, a utf-8 character is destroyed and shows as 2 other characters. I searched the source code and I found a wrong implementation for converting InputStream to StringBuffer. The class fedora.server.storage.translation.FOXMLDOSerializer has the method appendXMLStream. This method first reads 4096 bytes from the InputStream and then encodes them to utf-8. This is wrong, because some times the first byte of a utf-8 character is the last byte of the buffer and the second byte is the first byte of the next buffer. The right method to read the InputStream, is first to use a InputStreamReader (that encodes the InputSream to utf-8) and then to fill the buffer. I have modify that method like this:      private void appendXMLStream(InputStream in, StringBuffer buf, String encoding)             throws ObjectIntegrityException, UnsupportedEncodingException,             StreamIOException {         if (in==null) {             throw new ObjectIntegrityException(""Object's inline xml ""                     + ""stream cannot be null."");         }         try {             InputStreamReader inReader = new InputStreamReader(in, Charset.forName(encoding));             int bufSize = 4096;             char charBuf[] = new char[bufSize];             int len;             while ( ( len = inReader.read(charBuf, 0, bufSize) ) != -1 ) {                 buf.append(charBuf, 0, len);             }         } catch (UnsupportedEncodingException uee) {             throw uee;         } catch (IOException ioe) {             throw new StreamIOException(""Error reading from inline xml datastream."");         } finally {             try {                 in.close();             } catch (IOException closeProb) {                 throw new StreamIOException(""Error closing read stream."");             }         }     }  I hope this fix to be useful to non-latin users of fedora.  Cheers John",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improved HTTP 1.1 support (Content-Length and Content-Range) Purpose: For chunked downloading and better support of various HTTP1.1-savvy utilities and services (including WebDAV clients, httpfs, etc..)  Description: Fedora should provide Content-Length in GET and HEAD response headers when this information is easily available.  When practical, the Content-Range header (partial read) on GET request should also be supported.  Details: Support of both should be possible for any Fedora HTTP request that maps to exactly one Inline or Managed datastream in the repository.  This includes:  1) getDatastreamDissemination 2) getDissemination (where the input maps directly to an X or M datastream and does not go through a service)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improved HTTP 1.1 support  (ETag/Last-Modified) Purpose: To support various caching http clients and utilities, such as Squid.  Ultimately, to improve performance.  Description:  ETags (opaque) and Last-Modified (a date) both effectively provide a ""state indicator"" to caches (such as those in sophisticated web clients and proxy servers).  When one or both of these pieces of information are provided in HTTP HEAD responses, a full GET request can be avoided if the signature hasn't changed.  Used properly, these indicators can dramatically improve overall web application performance.  Details: For inline and managed datastreams, the last modified date is known, so the state indicator can be provided for both getDatastreamDissemination and getDissemination (where the input is one of these kinds of datastreams and it doesn't pass through a service).  For providing the state indicator on other disseminations, a naive approach is to use the object's last modified date, but this needs to be considered carefully.  For example, in the case where a dissemination goes through a remote service, even if the inputs are known to have not changed since last time, Fedora can't know if the dissemination output has changed because the service's underlying processing may have.    One way forward in this case is to provide a way to mark the bound service operations as volatile (in which case the state indicator would never be given) and non-volatile with an associated date (in which case the combination of the dates of the datastream inputs and the service would be used to derive the state indicator).  However, in the case where any of the datastream inputs are volatile, the state indicator could not be given.  For E and R datastreams, the default assumption could be ""volatile"".  But it would be nice to have the ability to mark either as non-volatile, so the date could be used as a state indicator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Oracle DDLConverter: Create non-primary-key indexes The OracleDDLConverter doesn't automatically create indexes for non-primary-key fields that are defined to require an ""index"" in dbspec.  Currently, this includes the following:   - doFields (on pid)   - dcDates (on pid)  Workaround:   After first startup, create these indexes manually using Oracle management tools.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Proai: Not inferring existence of superset from setSpec The Proai update cycle currently fails when it encounters a record with a setSpec like ""1:a"", but only the ""1:a"" set exists in the database (the inferred superset, ""1"" does not).  This can occur if the set information for ""1""  is not provided by the OAIDriver at set update time.  When doing an update of set information in the database, Proai should go through all setSpecs and make sure that all possible inferred supersets exist. in the database.  If they don't, it should add the appropriate entry to the rcSets table.  The set name in this case can just be the setSpec string.  When this occurs, a warning should also be logged noting the lack of the set info object for the inferred superset.  (seeUpdater.java#updateSets(Connection))  This work can be done on the Proai trunk.  When finished, the updated lib should be committed to the services/oaiprovider/trunk/lib.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tutorial2: bedf/bmech example not working hi, i tried to follow the tutorial 2 example 3 to use bDef/bMech and datastreams. ingesting both bDef and bMech went well (no visible errors at least), even creating the object. but after that i tried to access the ""disseminated"" object by browsing http://localhost:8082/fedora/get/demo:300/demo:ex3bDef/getContent/ which means going to  http://localhost:8082/fedora/get/demo:300 clicking  ""View the Dissemination Index for this Object"" and then in the table of disseminators ""Run"" for demo:ex3bDef  | getContent  all i got was a blank page and a lengthy stacktrace in catalina.out:  fedora.server.errors.servletExceptionExtensions.InternalError500Exception:         at fedora.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:486)         at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)         at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)         at fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:190)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)         at fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:190)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)         at fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:190)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)         at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)         at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)         at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)         at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)         at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)         at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)         at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)         at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)         at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)         at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)         at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)         at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)         at java.lang.Thread.run(Thread.java:595)   looking in the code did not really help.  the tutorial is version 10/25/2005, fedora is 2.2.1 used with postgres 8.2 on linux.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMA: Should/Does FieldSearch still index BMech/BDef info? With the changes made for CMA, should FIeldSearch still index bmech and bdef info for each object? Up to this point, it has always held a (repeating) field for each data object, indicating which bdefs and bmechs it was bound to.  1) Is it necessary to keep doing this? 2) If yes, what changes must be made in FieldSearch to do it, if any?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove backendSecurity Remove the backendSecurity servlet. It should not be used, so having it available is unnecessary.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update code/tests for Journaling for 3.0 Fedora 3.0 (trunk) has added add/purgeRelationship methods to API-M.  We need to verify that these actions are journaled/replayable and appropriate tests exist in the journaling code for them.  Also, if there have been any local nsdl changes since the 2.2.1 release, we need to apply those to 3.0 and/or maintenance-2.2, as appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Inline XML Canonicalization (c14n) for SIZE and CHECKSUM The current pseudo-canonicalization of inline XML (for checksum computation) is non-standard.  The w3c has published c14n which defines a canonicalization, and Fedora should use this for:  1) Computation of the checksum 2) Computation of the SIZE attribute   This behavior should also be documented in the system docs.  Note that this also applies to METS.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve MultiValueMap class design Store attributes internally in a Map<String, String[]>, thus removing a whole lot of conditional logic and behavioral inconsistency.  Create separate methods for set(String, String) and set(String, String[]) instead of accepting either in set(String, Object).  Modify getString(String) so it will return the single value (if any) that was stored under that key. If strict upward compatibility is required, it could throw a ClassCastException if more than one value is stored. More likely, it would be acceptable to either return the first such value, or to throw an IllegalStateException.  Modify method signatures to throw specific exceptions (NullPointerException, IllegalArgumentException, etc.) instead of bare Exception.  Genericize method signatures and internal variables.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Incorrect behaviour when exception thrown during download I ingested a 3Gb file into Fedora via Fez. The file ingested into Fedora successfully, however Fedora throws an exception when attempting to fetch the file via HTTP (I believed it's an OutOfMemoryException, but I could be mistaken).  What I would have expected to happen in an exception situation would be an HTTP 500 status returned, however instead of this Fedora returns a 0 byte file with the same name of the requested file.  This then has a flow-on effect for front-end tools such as Fez which proceed to run other software over the file (such as JHOVE) and therefore reports the file size as 0 bytes.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"If journals arrive out of sequence, keep polling Current behavior is to check the journal file with the earliest timestamp - if that has the wrong repository hash, complain and give up.  New behavior would be the same check, and the same complaint on wrong repository hash, but don't give up, continue polling as before. That way, if the journal files merely arrived in the wrong sequence, the recovery would continue when the correct file arrived.  This use case applies when the journal files are being copied in bulk from one location to another. Currently, it is necessary to stop the follower while moving the files, in order to prevent this scenario.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Close RMI connection after each journal file Currently RmiTransportWriter opens a connection to the RmiJournalReceiver at startup, and keeps the connection open until shutdown. This means that the receiver must not be shut down, and the network transport must not be interrupted, even if the leading Fedora instance is quiescent.  New behavior would be: 1) RmiTransportWriter opens the connection to RmiJournalReceiver at startup, to test the connection, and then immediately closes the connection. 2) At the beginning of each Journal file, a new connection is established. 3) At the end of each Journal file, the connection is closed.  This would allow system maintenance in quiescent times. It would also allow a non-crucial RMI transport to resume operation after losing one or more files, without restarting the leading Fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"usage of HTTP proxy when getting external content Trying to ingest an object into Fedora fails if the document contains a reference to an external resource and the Fedora server is only allowed to access that resource via a HTTP proxy.  My first idea to solve this was to set the environment variable CATALINA_OPTS to something like  CATALINA_OPTS=""-Dhttp.proxyHost=proxy.fiz-karlsruhe.de -Dhttp.proxyPort=8888""  and restart Tomcat.  Unfortunately this isn't sufficient because the HTTPClient module which Fedora uses doesn't read that properties automatically.  So the next step was to set the proxy parameters into the HTTPClient in WebClient.java just after a new instance of the HTTPClient was created (see attached file).  That's all. Maybe someone else has the same problem.  Best regards,  Andr  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide a CMODEL and SDEF, Content Models + a Default CModel Provide a reference implementation of a content model for the reference implementation of the Fedora content modeling language.  The primary purpose is to create a service definition for all content model objects that includes a uniform operation that disseminates the content model document.  Note that this defines a URI for disseminating the content model not the form of the content model.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Provide a CMODEL and SDEF for SDEFs Provide a reference implementation of a content model for the reference implementation of the Fedora content modeling language. The primary purpose is to create a service definition for all service definition objects that includes a uniform operation that disseminates the service definition document. Note that this defines a URI for disseminating the service definition not the form of the service definition.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactor cross-cutting tasks using AOP Aspect Oriented Programming is a useful paradigm for implementing services which cross-cut business logic, such as logging, messaging, or authorization. Consider implementing one of these as a proof-of-concept for AOP within Fedora. The likely AOP implementation is Spring, but AspectJ is also an option.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update MPTStore jar in dependent projects Use latest MPTStore jar file in trippi, oaiprovider (trunk & maint.)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RI rebuilder fails sporadically with Mulgara Rebuilder throws an exception at the end of running an RI rebuild, resulting in a corrupt/incomplete index when configured to use Mulgara store.  Seems to be >50% failure rate on a repository of about 4000 objects.  This issue does not seem to be present with an MPTStore-backed RI.     Originally reported by Rozita Fridman: http://sourceforge.net/mailarchive/forum.php?thread_name=561B608813F3E7448D792A51EF2AB03E01C5C5CF%40EXCLUSTER.fiz-karlsruhe.de&forum_name=fedora-commons-developers",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOReader currently being used to *modify* DO The DOReader.java interface is ""for reading Fedora digital objects"" according to the javadoc comment.  However, it is being used to *modify* objects. See for example line 852 of DefaultManagement.java, which is:  w.getAuditRecords().add(audit);  I believe this is a violation of the DOReader contract.  A solution would be for SimpleDOReader.getAuditRecords() to return copies instead of the real objects (please note that it will have some impact on DefaultManagement.java at least).  As a temporary solution, at least it would be nice to explicitly write in DOReader's javadoc that it is not read-only.  Thanks, Keep up the good work, Nicolas.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RELS-EXT's MIME type should be application/rdf+xml My understanding is that the RELS-EXT datastream contains RDF data.  The MIME type for RDF is application/rdf+xml as specified on http://www.w3.org/TR/rdf-syntax-grammar/#section-MIME-Type  So why does Fedora create RELS-EXT datastreams with the text/xml MIME type ?  I suggest using the application/rdf+xml MIME type for RELS-EXT datastreams. It would better describe the content.  Any comment appreciated :-) Keep up the good work, Nicolas Raoul.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add all RDF datastreams to triplestore Fedora objects contain RDF triples. These triples are added to the configured triplestore by the addAllDatastreamTriples method of BaseTripleGenerator.java  As of today, this method hard-codes ""RELS-EXT"" for addition to the triplestore.  Why not add all of the Fedora object's semantic information to the triplestore ?  I suggest modifying this method to add the triples contained by all datastreams that have the ""application/rdf+xml"" MIME type and the ""Internal XML Metadata"" control group.  If we develop a patch for this, will it be accepted into Fedora's trunk ?  Cheers, Nicolas Raoul.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"OAIProvider: MPTStore config requires aboutDissType When using the OAIProvider with MPTStore, if you don't specify an .aboutDissType for each format, the update cycle fails with the error: ""proai.error.RepositoryException: Could not parse metadata about dissemination type at fedora.services.oaiprovider.MPTQueryFactory.listRecords(MPTQueryFactory.java:185)""  The workaround is to specify a bogus .aboutDissType (an actual URI, but one that doesn't really map to anything meaningful).  The fix will need to be done for a 2.2-compatible maintenance release, and not to the trunk (because the issue doesn't exist in the trunk)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide an Atom-based DO Serialization In addition to FOXML and METS, provide an Atom serialization of a Fedora Digital Object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"log4j errors on startup and shutdown On startup:  log4j:WARN No appenders could be found for logger (org.apache.commons.digester.Digester). log4j:WARN Please initialize the log4j system properly.  On shutdown:  log4j:ERROR LogMananger.repositorySelector was null likely due to error in class reloading, using NOPLoggerRepository.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Clean up deprecation warnings on junit tests When compiling the JUnit tests on trunk there is a listing of deprecated methods which are called during tests. The tests should be updated to no longer use these deprecated methods.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Get rid of ConnectionWrapper, TableCreatingConnection, etc.. ConnectionWrapper only exists to support TableCreatingConnection, which only exists to support SQLUtility.createNonExistingTables().  If this hung together differently (TBD), it could simplify the both the code and build.xml, which currently employs a replace just prior to compilation in order to support JDBC 3 + 4, depending on whether JDK 1.5 or 1.6 is being used to compile.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Bundled Tomcat needs update Reported on fedora-users:  Issue 29521: No destroy methods called on service shutdown   https://issues.apache.org/bugzilla/show_bug.cgi?id=29521  This is fixed in 5.0.29 and later. We should update the bundled Tomcat (5.0.28) to the latest (currently 5.0.30).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ExecUtility calls can fail if command has a space The installer will fail to set the executable bit if the path to FEDORA_HOME contains a space (only for non-Windows platforms).   The underlying problem is that we have various calls in various classes to various methods in ExecUtility which pass a command as String argument. ExecUtility should be modified to also take commands as a String array.  So rather than ExecUtility.exec(""ls -l /tmp""), you would use ExecUtility(new String[]{""ls"", ""-l"", ""/tmp""});  This bug is also present in trunk.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ServiceMech/Def + relationship renaming + get rid of fType This includes: - Decide on relationship names (inverse/obverse) - Updating classes to use ServiceMech/ServiceDef  - Updating references to such classes, etc.. - Updating demo objects - Getting rid of ""fType""   What is the ""fType"" when RELS-EXT is not present?   A: The default content model.  It should be indexed this way.   This will ultimately be a configurable thing by the repository;    however for 3.0b2 we can define exactly one.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Adding a datastream fails with RC=503 When I adds a big datastream (3.1 Gb) of type 'M' using the administrator utility shows the following error after some minutes:   (503) Service Temporarily Unavailable  Seems a problem due to a timeout. I tried to changed and recompiled the timeout values located in files APIxStubFactory.java and FedoraAPIxServiceLocator but this don't work.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
XSLT2 Support (Update Saxon) Provide XSLT2 support. This is essentially updating the very old Saxon 6.x library w/ Saxon 9,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Export Objects as a ZIP Archive In addition to the various export contexts defined in DOTranslationUtility (INTERNAL, MIGRATE, PUBLIC, ARCHIVE), add support for a new export context (ZARCHIVE) that creates a ZIP archive of an object, with all inline and managed datastreams as individual files in the archive.  Use Atom as the initial, proof-of-concept, manifest format.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Error validating checksum when adding/updating M datastreams This error was reported by Nishen Naidoo (nishen@melcoe.mq.edu.au). His original email and test code are included as attachments.  When calling addDatastream() or modifyDatastreamByReference() for a managed datastream, if valid checksumType and checksum parameters are included with the call the following error results:  ""fedora.server.errors.ValidationException: Checksum Mismatch: ExceptionReadingStream""  The reason for the exception is that the Datastream.computeChecksum() call attempts to get the content stream by reading it from LLStore (see DatastreamManagedContent.getContentStream()), but the datastream is not actually written to LLStore until the final commit.  The question this raises is: Which comes first, the commit or the checksum check? If the checksum check needs to happen first the content stream needs to be read earlier so that the checksum computation can happen. If the commit comes first, then the commit may need to be backed out if the checksum check fails.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SCORM packages with Fedora Hello, I am a scolarship holder in Spain that have to learn some things about the Fedora repository. Specifically, the question is:   Is there a way to use SCORM packages with that repository? I've tried to import the XMLs generated by Reload Editor and it doesn't work. Will it be a feature in the upcoming versions?  Thanks for your time,  Mike",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Define and index internal datastream relations ( RELS-INT ) This idea has been stewing for quite some time.  However, it did not make the 3.0 cut in the interest of time.  People continue to ask for this, or something like it.  See Ben O'Steen's recent blog post  http://oxfordrepo.blogspot.com/2008/05/internal-object-relationships-in.html  This needs to be nailed down and implemented.  The basic idea is a datastream where relationships emanating from datastreams can be asserted in a Fedora-recognized way.  We talked at one time on the developer's list about the difference between RELS-INT and just relaxing RELS-EXT to allow for datastream assertions.  No formal decision was made on this.  That's where it stands.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"GSearch: configvalues misconfigures repository.properties When I run ""ant -f configvalues.xml configOnWebServer"" to configure the Lucene Demo, I get a repository.properties that has SOAPHOSTPORT as the hostname / portnumber, instead of localhost:8080.  Delving into the configvalues.xml file and comparing it against the repository.properties template, the problem seems to be that configvalues.xml is substituting the host/port string for FEDORASOAP instead of SOAPHOSTPORT. It is also trying to substitute the fedora user and password, but they are hardwired in the template.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: shell scripts have DOS end-of-lines The scripts client/run{REST,SOAP}Client.sh in the fedoragsearch.war file have DOS end-of-lines. This gives /bin/sh major indigestion.  The same problem applies to the test shell scripts, and probably to others as well.  I expect that the root cause is that the files have incorrect (or missing) SVN properties.  Shell scripts should have ""svn:eol-style"" set to ""LF"" and ""svn:executable"" set to ""*"".  (Batch files should have ""svn:eol-style"" set to ""CRLF"")",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: misconfigured XSLTs in demo config I found this problem in config/rest XSLTs for the ""demoOnLucene"" demo, but it may be more widespread.  After running the ant configuration process, the XSLTs in  the config/rest directory contains a demoCommon.xslt.  However, the other XSLTs in that directory still ""include"" the original version of demoCommon.xslt in the configDemoOnLucene/rest directory.  So if you try to tweak the config/rest/demoCommon.xslt file, it has no effect.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"GSearch: XSLT includes with relative URIs don't work ... at least, they don't work for the config/rest/*.xslt files.  I think the root of the problem is in the GTransformer class.  It looks to me like most calls to getTransformer end up passing in a null URI resolver rather than a resolver that knows how to resolve relative URIs.  Whatever the reason, having to specify absolute pathnames   in xsl:include directives is messy and introduces unwanted deployment problems.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Update and Repackage the Demo SOAP Client The demo SOAP client (documented in src/java/fedora/soapclient) needs to be: 1) Updated in order to be current with the latest version of the server. 2) Repackaged so that it is distributed separately from the server.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xml:lang attribute dropped from DC datastream As reported on the dev list, if a dc element in the DC datastream contains an xml:lang attribute (e.g. ""<dc:subject xml:lang=""da"">Tidsinterval</dc:subject>""), the xml:lang attribute is dropped during ingest.  Additionally, the xml:lang attribute is not dropped if the DC datastream is added via addDatastream.  This was reported against 3.0b1, but I believe this affects all versions of Fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"API-A fails to unescape first colon in URL Reported by Ross against 3.0b1 Apr 2, 2008.  The problem also exists in maintenance-2.2.  Our library is overhauling our web site and web site tools and one of the new web page editor tools is called Contribute from Adobe. We ran into a problem where people were using Contribute to cut/paste citation URLs that were referencing Fedora dissemination requests. Contribute takes URLs that look like:  http://repo.lib.virginia.edu:18080/fedora/get/uva-lib:32653/uva-lib-bdef:100/getFullView  and properly escapes special characters like the colon so the URL is rewritten as:  http://repo.lib.virginia.edu:18080/fedora/get/uva-lib%3A32653/uva-lib-bdef%3A100/getFullView  Problem is, Fedora cannot handle the rewritten URL. The bug is in the request URL parsing section of FedoraAccessServlet where it is looking for a colon(:) character but fails to URLDecode the string before it does the lookup. The result is that %3A does not match colon(:) when parsing the bdef pid section of the URL so the conditional incorrectly fails.  There are two places in code where:                 if (URIArray[6].indexOf("":"") == -1) {  should instead be                  if (URLDecoder.decode(URIArray[6], ""UTF-8"").indexOf("":"") == -1) {",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Inconsistent use of none vs. DISABLED for ds checksums The serializers/deserializers inconsistently use the strings ""none"" and ""DISABLED"" for checksum and checksumType on datastreams.  This can cause schema validity errors when ingesting in one format and exporting in another.  Fixing this issue should at a minimum consistently use these attributes in the code.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create a Wiki Version of the Fedora 2.2 Document Set None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create a Wiki Version of the Fedora 3.0 Document Set Convert to using the Wiki as the living Fedora document set for 3.0 and subsequent releases.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Concurrent mod exception when sending many uploads to server On Thu, Jul 10, 2008 at 5:37 AM, Antony Corfield [awc] <awc@aber.ac.uk> wrote: > Hi, I've been running some tests depositing zip files using SWORD. When I hit the server with 50 concurrent threads (unlikely in reality!) I get the following error in the fedora code. > > java.util.ConcurrentModificationException >        at java.util.Hashtable$Enumerator.next(Hashtable.java:1031) >        at fedora.server.management.DefaultManagement.putTempStream(DefaultManagement.java:1395) >        at fedora.server.management.UploadServlet.saveAndGetId(UploadServlet.java:149) >        at fedora.server.management.UploadServlet.doPost(UploadServlet.java:99) > > > Here's a simple patch (Fedora 3.0b1) for fedora.server.management.UploadServlet that fixes this problem. > Same problem in Fedora 2.2.1 and other versions I guess. > > > > > Index: C:/Users/awc/eclipse/fedora_release-3.0b1/src/java/fedora/server/management/UploadServlet.java > =================================================================== > --- C:/Users/awc/eclipse/fedora_release-3.0b1/src/java/fedora/server/management/UploadServlet.java      (revision 6592) > +++ C:/Users/awc/eclipse/fedora_release-3.0b1/src/java/fedora/server/management/UploadServlet.java      (working copy) > @@ -129,8 +129,10 @@ >     } > >     private String saveAndGetId(Context context, FilePart filePart) > -               throws ServerException, IOException { > -               return s_management.putTempStream(context, filePart.getInputStream()); > +               throws ServerException, IOException { > +       synchronized (s_management) { > +               return s_management.putTempStream(context, filePart.getInputStream()); > +       } >        }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Batch Modify Parser mangles some input XML When the batch modify parser encounters an inline xml datastream that looks like:  <a:element xmlns:a=""urn:example:a"">   <b:subelement xmlns:b=""urn:example:b"">   </b:subelement> </a:element>  ...the output it sends to Fedora is not well-formed.  In particular, the namespace declarations are moved to the root, but still present in the sub-elements, minus the attribute name, like so:  <a:element xmlns:a=""urn:example:a"" xmlns:b=""urn:example:b"">   <b:subelement =""urn:example:b"">   </b:subelement> </a:element>  Ideally, the output that the batch modify utility sends to Fedora should be exactly the XML that occurs within the xmlContent element.  This was originally reported by Deborah Kaplan at Tufts on May 27th, 2008.  It was thought to have been fixed by bugfix #1838750, but on July 11th, Deborah reported that wasn't the case and I verified.  A fix should ensure any well-formed inline XML, regardless of how namespaces are declared, arrives to Fedora in the same way it was given in the batch modify directives file -- without changing where namespaces are declared.  This bug needs to be fixed in trunk and maintenance-2.2, with appropriate tests.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve Validator performance by cacheing Content Models As currently implemented, each call to RemoteObjectSource.getContentModelInfo() makes fresh network calls to the server. Since content models tend to be frequently re-used, it would be worth the effort to create a cache in RemoteObjectSource.  Execution time might well be reduced by 50% or more, depending on the structure of the repository.  Major question: how to guard against running out of memory? Can we simply assume that no repository will have more than 1 million content models, ergo the cache will use less than 1 gigabyte? Or perhaps we establish a maximum size and stop caching after that is reached? Is there an open source class that does LRU caching?  Since this seems to be useful for all sorts of ObjectSource, perhaps the best approach is to create a class: AbstractObjectSource implements ObjectSource",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMA disseminations ignore Service Definitions Executing a dissemination requires specifying an object, an SDef, and a method name.  In reality, the implementation ignores the SDef, and exposes all methods defined in the SDep, regardless of what the SDef says.  Thus, a user can execute methods defined in an SDep that are not part of the public interface of an object",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Consistent use of ServerConfiguration Right now, there are at least a couple ways that fedora.fcfg is parsed.  When access to all of fedora.fcfg is needed, configuration should be consistently accessed via Server.getConfig instead of the various ways it's done now.  Consider also providing configuration to modules by passing in, or providing a ModuleConfiguration instance.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOTranslationUtility Contexts - use enum Use an enum for DOTranslationUtility's contexts instead of an in constant.  This could be a separate enum class, like TranslationContext, for example.  Note: Doing this will require trivial updates to a number of classes that use this constant, including the 2.x to 3.x migration utility.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Use a single stream copy mechanism Right now there are two main ways to perform a stream copy in the codebase, FileUtils.copy() and StreamUtility.pipeStream(). Transition to using only FileUtils.copy() for these tasks.  Also, the input and output streams being copied should not be closed in the copy() method. The caller may have a need to write more data to the output stream, and may use a mark/reset to re-read the input stream. Close calls should be removed from FileUtil.copy() and all places where this method is called should be checked to make sure the streams are closed correctly.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"MIMETypedStream finalizer prematurely closes MIMETypedStream's finalizer always tries to close the InputStream.  In some cases, this can result in failed API-M operations due the stream being unexpectedly closed while it's being read().  This has been observed in higher load situations.  This is likely also an issue in the maintenance branch.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Tomcat hangs on shutdown on Linux with GSearch When running Fedora on Linux with messaging and GSearch enabled and ActiveMQ running as an embedded service (the default configuration) the Tomcat process will hang on shutdown. The same error occurs on Windows, but the tomcat process does not hang.  The error below is seen in the tomcat log right after the shutdown script is executed:  INFO: Stopping service Catalina log4j:ERROR LogMananger.repositorySelector was null likely due to error in class reloading, using NOPLoggerRepository. ERROR 2008-07-23 17:52:12,022 ([/fedoragsearch]) Servlet UpdateListener threw unload() exception javax.servlet.ServletException: Servlet.destroy() for servlet UpdateListener threw exception   at org.apache.catalina.core.StandardWrapper.unload(StandardWrapper.java:1373)   at org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1688)   at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4350)   at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:893)   at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1180)   at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1151)   at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313)   at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)   at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1055)   at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1067)   at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448)   at org.apache.catalina.core.StandardService.stop(StandardService.java:510)   at org.apache.catalina.core.StandardServer.stop(StandardServer.java:734)   at org.apache.catalina.startup.Catalina.stop(Catalina.java:602)   at org.apache.catalina.startup.Catalina.start(Catalina.java:577)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"RI does not delete all triples Steps to reproduce: Ingest an object with an empty label. Purge the object. The Resource Index still contains a triple for the object with the empty label, e.g. <info:fedora/demo:test> <info:fedora/fedora-system:def/model#label> """"",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enabling journalling causes startup failure fedora.server.management.ManagementModule does not implement the ManagementDelegate interface.  Thus, specifying it as the management delegate causes an exception and aborts startup.    Also: documentation example uses fedora.server.management.DefaultManagement as the management delegate.  It seems to be obsolete for this purpose (as this class is now used directly by ManagementModule). Documentation should be updated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"APIM.ingest() creates objects with wrong last modification I created fedora objects with multiple datastreams with a call of APIM.ingest() method of Fedora30. The creation date of all datastreams except uncustomized DC and AUDIT is later than  lastModifiedDate of the fedora object for each created FOXML.  Thanks a lot for your help, Rozita",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"OutOfMemory Errors when modifying large objects We frequently encounter OutOfMemoryErrors when calling modifyDatastreamByValue and other API-M methods on relatively large digital objects using Fedora Commons 3.0b1, 3.0b2 and 3.0. In order to better understand the issue we triggered heap dumps and analyzed them. The dumps revealed that up to 140M of heap space get used by Fedora when calling modifyDatastreamByValue on a digital object of 15M.  In order to provoke heap dumps at each api call the heap size was reduced. Additionally we triggered heap dumps at specific locations programmatically using the Java6 HotSpotDiagnosticMXBean.  The OutOfMemoryError always occurs at DOTranslationUtility.writeToStream() after the serialization. This appears to be the peak of heap usage for modifyDatastreamByValue. The heap dump shows the following composition of objects at the time of writeToStream() (see attached screenshot):  * StringBuffer (60M) (15M * 2 (internal UTF-16 representation)) + 30M memory allocated by StringBuffer (StringBuffer doubles its capacity automatically when unsufficient capacity is left for appending a new String. Hence the capacity is likely to exceed the actual memory needed unless explicitly allocated).  * char[] array at writeToStream (StringBuffer.toString()) (31M) (15M * 2 + overhead)  * BasicDigitalObject 24M (15M DatastreamXMLMetadata, 9M AuditRecord)  * DOReaderCache 25M (1 BasicDigitalObject in cache at the time)  * Some other small objects   If the heap space is already consumed to a large extent, allocating another chunk of memory may fail and subsequently trigger an OutOfMemoryError. Explicitly calling the garbage collector is not a viable option, because most of the objects involved are still bound locally to the thread, so they are still reachable.   Increasing the heap will solve the issue temporarily. Depending on the size of the digital object the problem may however resurface: Suppose the digital object is 30M, then according to our findings a heap space of 60M*2 StringBuffer + 60M char array + ~50M DO + ~50M cache = 280M would be needed for a single digital object (we haven't tried this however).  We modified the Fedora code and tried the following options: * We removed the indentation in the FOXMLDOSerializer and DOTranslationUtility. Removing most of the nonessential whitespaces (or replacing indentation whitespaces with tabs) results in a much smaller DO size (about 20% in our test case) and therefore reduces memory footprint.   * As for the StringBuffer problem we basically tried two approaches. We trimmed the StringBuffer in FOXMLDOSerializer before the call to writeToStream() using the trimToSize() method. This adjusts the capacity of the StringBuffer to the actual size of characters contained within. Another option is to explicitly size the buffer.   * The 64 bit version of Java consumes considerably more heap space compared to the 32 bit version. Using a 32 bit version reduces memory usage.   All options mentioned above work well and reduce memory consumption significantly, but solve the underlying problem only partially.  Perhaps a better solution would be to load and process only those parts of the digital object needed for the current operation (not viable for ingest, but e.g. modifyDatastreamByX), but that would probably involve lots of refactoring...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"PID not generated during object ingest using REST API Performing an ingest with object XML through the REST API does not generate a PID if one is not provided. A PID is only generated when no object content is included in the request. When object content is available, the PID is assumed to be included, which is not always the case.  Attempting to perform an ingest through the REST API with FOXML that does not specify the PID results in the error:  javax.ws.rs.WebApplicationException: fedora.server.errors.LowlevelStorageException: PID delimiter (:) is missing. PID delimiter (:) is missing. at fedora.server.rest.BaseRestResource.handleException(BaseRestResource.java:98) at fedora.server.rest.FedoraObjectResource.createObject(FedoraObjectResource.java:402)  This bug was originally reported by Rudi Stouffs.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API is not challenging properly for authentication Bug reported by Matt Zumwalt:  Fedora isn't proffering an authentication challenge when I hit the REST API methods.  I had to point my browser at http://127.0.0.1:8080/fedora in order to authenticate my browser and then go back to http://127.0.0.1:8080/fedora/objects/demo:5/export    In the past, Fedora would challenge the browser whenever it attempted to perform a protected method without authenticating, and a failed authentication would return a 400 error.  What changed that it's returning a blank page now?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Package (fedoraApia and fedoraApim) missing. Package fedoraApia and fedoraApim are missing from the distribution on both 2.2.3 and 3 version. I'll be highly obliged if you kindly give me the download link of those package.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Support Mulgara in 2.2.x Update maintenance-2.2 branch to support Mulgara. Replace Kowari for Mulgara as in 3.0.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora-admin: scroll needed When a digital object has a lot of datastreams (eg. 500)  the Object form in fedora-admin app shows a lot of tabs  (one per datastream) without a scroll. In this case you  need to redim the window to see the work area.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fix bug 2037924:  Enabling journalling causes startup failure Presumably, just due to missing managementDelegate marker interface.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable GSearch to start/stop properly Allow GSearch to start and stop properly when running in the same Tomcat server as Fedora. This involves making Server.properties available as there is currently an unmet runtime dependency there, as well as setting up a mechanism to handle GSearch starting prior to Fedora but still being able to connect to the message broker which is started by Fedora in the default configuration.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Transactional Resource Index Updates Updates to the Resource Index should be made within the transaction boundary of the Fedora API operation.  Implementing this will likely entail direct use of the MPTStore and/or Mulgara libraries rather than going through Trippi, which hides transaction semantics.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow DC datastream elements to include xml:lang attribute As reported in FCREPO-223, the xml:lang attribute is dropped from DC datastreams.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Old admin client forward compatibility The admin gui currently checks the server version and disallows login if it's not in a list of ""known compatible"" versions.  It should warn instead, since it is often the case that old versions of the client will work with newer versions of the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fix FCREPO-239, FCREPO-227, and FCREPO-252 for 3.1 Note: Work on these issues started before the migration to JIRA and are being worked on in dev-150445.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Extend dissemination architecture to support datastream binding from multiple objects None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOS-style newlines in fedora-rebuild.sh Found installing Fedora-3.0.0:   1. commons-logging.jar not included in fop.jar, imagemanip.jar and saxon.jar but required by services   2. $FEDORA/server/bin/fedora-rebuild.sh has invalid end lines (DOS-style)  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fix FCREPO-239 and FCREPO-227 for 2.x This is a backport of the work done for FCREPO-253, for 2.x (except FCREPO-252, which was already done for 2.2.4)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 3.1 Code Freeze Fedora 3.1 Code Freeze,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 3.1 Release Fedora 3.1 Release,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Write Fedora 3.1 Release Notes Write Fedora 3.1 Release Notes,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update and Assemble Fedora 3.1 Documentation Update and Assemble Fedora 3.1 Documentation,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 2.2.4 Code Freeze Fedora 2.2.4 Code Freeze,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 2.2.4 Release Fedora 2.2.4 Release,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Write Fedora 2.2.4 Release Notes Write Fedora 2.2.4 Release Notes,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update and Assemble Fedora Repository 2.2.4 Documentation Update and Assemble Fedora Repository 2.2.4 Documentation,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 2.2.4 Integration and Test Fedora 2.2.4 Integration and Test,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora 3.1  Integration and Test Fedora 3.1  Integration and Test,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update GSearch to use FOXML 1.1 GSearch currently uses FOXML 1.0 internally as the format for dealing with fedora objects. Update to use FOXML 1.1 instead.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Update the 2.x Migration Utility for 3.1 Due to changes in FCREPO-254, the migration utility needs to be updated.  The datastreams in the generated SDep objects need to be in the new formats.  See the changes in the demo objects in FCREPO-254 for details.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Define and Implement the 3.0 to 3.1 upgrade process. The upgrade process for 3.1 to 3.2 needs to be defined.  Several changes make this a more complex change than the ""patch"" approach we have used in the past.  1) Due to FCREPO-254, the system-defined CModel for SDeps (in src/java/fedora/server/resources/) needs to be upgraded 2) The web.xml file may need to be modified as a result of FCREPO-241 3) The name of the fedora-client.jar file has changed.  How to do this requires some though.  For example, #2 and #3 might necessitate a re-install of Fedora, where people are advised to point the new installation to their old data (in the db, ri, and filesystem).  #1 will require some more thought.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SPO queries do not correctly handle typed literals in query Queries in the SPO language do not seem to match typed literals correctly, regardless of triple store used (Mulgara,MPTStore)  A query such as this:  * <info:fedora/fedora-system:def/view#lastModifiedDate> 2008-07-02T05:09:44.375Z^^<http://fark.com>  will result in a positive match to a triple such as (note that object literal types don't match: <info:fedora/test:123> <info:fedora/fedora-system:def/view#lastModifiedDate> 2008-07-02T05:09:44.375Z^^<http://www.w3.org/2001/XMLSchema#dateTime>  In addition, surrounding the typed literal value in quotes results in 500 error: '2008-07-02T05:09:44.375Z'^^<http://fark.com> ""2008-07-02T05:09:44.375Z""^^<http://fark.com>  SPOnge queries work as expected (but this language is not available with Mulgara) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Text at end of install process needs update to point to online docs Currently, it points to fedora.info/download and a local directory that doesn't exist with the install.  It needs to just point to the wiki.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow DSInputSpec binding to datastreams in other objects Currently, datastream binding for disseminations is limited to datastreams in the object. DSInputSpec can be extended to support an optional PID attribute to allow for bindings to datastreams in other objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Support for SPARQL via risearch interface None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"3.1 Source dist installer target fails Running ""ant installer"" on the 3.1 source distribution results in the following:  BUILD FAILED C:\fedora-src-3.1\build.xml:46: C:\fedora-src-3.1\.svn\entries doesn't exist",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove demo objects that depend on UVA servers Since UVA will no longer be hosting these services (as early as the end of December 2008), the demo objects we distribute with Fedora that depend on them need to be removed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ClassNotFoundException with remote instance of Mulgara Ben O'Steen reported on the users list that the rebuilder was failing with a ClassNotFoundException against his remote instance of Mulgara.  mulgara-core-2.0.6.jar is missing the client-rdf package (org.mulgara.client.jrdf), which was present prior to 2.0.5. Need to fix this upstream and rebuild mulgara-core. Trippi will also require the updated mulgara-core package.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"2.2.4 source dist scripts have dos line endings after install Ross reports:  > I downloaded fedora-2.2.4-src.zip > unzipped into fedora-2.2.4-src > built with: ant installer > ran installer: java -jar fedora-2.2.4-installer.jar > > Everything looked Ok and server came up with no problems. However, when I > tried to run some of the client command-line utilities I got ""/bin/sh^M > interpreter error"". Something either in the build or installer is changing > file formats to DOS format. The source files in > fedora-2.2.4-src/src/sh/client and fedora-2.2.4-src/src/sh/server are in the > correct unix format. However, the files copied into $FEDORA_HOME > fedora-2.2.4/client/bin and fedora-2.2.4/server/bin are in DOS file format. > I fixed this by just running dos2unix utility to correct file formatting > issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Saxon service fails with Tomcat 6.0.16 as-deployed (commons-logging dependency) Reported by Stuart Chalk: SaxonServlet startup fails with this version of Tomcat due to the webapp not including the commons-logging library in WEB-INF/lib.  Although older versions of Tomcat work due to an implementation detail of Tomcat, there should no harm in including this in the webapp.  Whoever takes this on, can check if it's true for the other localservices as well?  Feel free to widen the scope of this bug if so.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Unable to deploy Fedora 3.1 in JBoss We are having trouble deploying Fedora 3.1 in JBoss possibly because of hard-coded file system paths in the RI Search servlet. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Review REST API XML Responses Ensure it's valid XML.  If it uses namespaces, make sure they're declared appropriately.  See FCREPO-146 and FCREPO-147 for the types of problems we want to make sure aren't present.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Extend Validator to Support CMA-defined integrity checks Validate CMA relationships and DS-COMPOSITE-MODEL schema.  Schema validation of Fedora-defined datastreams. (WSDL, DSBIND*, etc).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Installer indicates installation instructions at incorrect location. The installer indicates installation instructions are at http://www.fedora.info/download which is a deprecated location.  Also document locations for the Installation and Configuration Guide for post installation activities point to the same deprecated location.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ConnectionPool validation tests don't run Fedora's ConnectionPool class (a wrapper around DBCP) doesn't allow one to configure a ""validationQuery"", which is a standard commons-dbcp configuration value.  According to the following page, there is no default value for this, and since it's not set, it has the effect of disabling testOnBorrow and testOnReturn:  http://issues.apache.org/jira/browse/DBCP-71  This can cause periodic 500 errors on Fedora's front end when connection to the database become invalid.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fix fcrepo-387 and fcrepo-389 in trunk None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"LDAP Filter falsely reports ""deferring to super"" init message as error When using the LDAP authentication filter, users may see a message like the following in the log:  ERROR 43:16 FilterLdap> A initThisSubclass() > deferring to super  This is a programmer debugging statement and does not signal a problem.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
REST API - NullPointerException on modifyDatastream When calling modifyDatastream using the REST API with urls such as: http://{host}:{port}/fedora/objects/{PID}/datastreams/{dsID}?label=Update or http://{host}:{port}/fedora/objects/{PID}/datastreams/{dsID}?dsLocation={Updated Address} a NullPointerException is generated.  The stacktrace is as follows:   javax.ws.rs.WebApplicationException: java.lang.NullPointerException   fedora.server.rest.BaseRestResource.handleException(BaseRestResource.java:98)   fedora.server.rest.DatastreamResource.addOrUpdateDatastream(DatastreamResource.java:417)   fedora.server.rest.DatastreamResource.modifyDatastream(DatastreamResource.java:268)   sun.reflect.GeneratedMethodAccessor185.invoke(Unknown Source)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:585)   com.sun.ws.rest.impl.model.method.dispatch.EntityParamDispatchProvider$ResponseOutInvoker._dispatch(EntityParamDispatchProvider.java:128)         ...  This issue was reported on the Fedora Developer's mailing list by James Chartrand. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update the REST API to support the new Administrative Client In order to complete the new web-based Fedora Administrative Client using the REST API as the back end, there are several updates and additions that are needed in the API. These updates should be completed in parallel with the Administrative Client. A few of the items to be included:  - Include object state information as part of object properties - Include more information in the return value of listDatastreams - Implement the API-M getDatastream method - Update the createObject method to return the PID of the newly created object",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wrong namespace in DC datastream The DC datastream that is shown with uri's like http://blabla/get/changeme:001/DC uses the wrong namespace. It should be http://purl.org/dc/elements/1.1/ (with trailing slash) instead of http://purl.org/dc/elements/1.1 (without slash). Fortunately, the object xml itself and uri's in the RI index are correct.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create XML representations of API-A/M response objects in one place There are at least three locations in the code where ObjectProfile objects are serialized into XML: - fedora.server.access.FedoraAccessServlet - fedora.server.access.defaultdisseminator.ObjectInfoAsXML - fedora.server.rest.DefaultSerializer  Other API-A and API-M result objects are similarly serialized to XML in multiple locations. There are also two XML representations for method listings and datastream listings. Method listing XML conforms to either listMethods.xsd or objectMethods.xsd. Datastream listing XML conforms to either listDatastreams.xsd or objectItemIndex.xsd.  Each API-A/M response object should have a single schema and should be serialized in one place in the code. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API reads datastreams into heap The current implementation of  fedora.server.rest.Multipart.extract() slurps the entire unparsed, and then parsed datastream onto the heap, first by using a ByteArrayDatasource, then by using MimePart.getBody().  Neither of these can work for large files (anything over a few hundred MB is impractical).  See attached patch, which depends on of  Apache File Upload 1.2.1 (http://commons.apache.org/fileupload/)  The patch creates a PipedOutputStream/PipedInputStream to avoid the use to intermediary temp files, and relies on MultipartDataStream.readBodyData to handle proper mime parsing.   This patch does not fix an identical issue for MULTIPART_RELATED mimetypes, and should only be considered a basis for a proper implementation, and/or a temporary fix for those who need it.  There is also some brittleness around header inspection for content type and size, but it's probably good enough for an experimental implementation.   this code has been tested to work with files in excess of 1GB in size, uploaded via ActiveFedora ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Authentication caching intermittently fails Kai Strnad reported (and others have reported similar problems on the mailing list):  > Symptoms > We've been experiencing occasional losses of connections to fedora > during mass ingests. Ingests of seemingly random digital objects would > fail with a FilterEnforceAuthn Servlet throwing a 401 despite providing > the right credentials. After some debugging it dawned on me that there > might be a problem with the authentication and caching mechanism used by > Fedora. > > Findings > Thanks to the extensive logging capabilities I was able to trace down > this problem to the following situation: > The CacheEntry (expires every 10 minutes) is very close to expiration > and expires somewhere between the call to CacheElement.authenticate() > and the call to CacheElement.getNamedValues(). The CacheElement will be > repopulated as intended, but without the password. Now there is a new > CacheElement with everything populated but the password. Subsequent > calls don't set the password either, so it won't get set for the rest of > the authentication process which doesn't matter at this point because > the user has already been authenticated. > Subsequent authentications however will fail because the next call to > CacheEntry.authenticate() will compare the given password with the > password of the cache which will effectively compare the password with > null, resulting in the termination of the filter chain and the 401. > The bug will only appear if the EnforceAuthnFilter is part of the filter > chain (eg axis calls). > > > Possible Solution > The most obvious solution would be to supply the given password to the > new CacheEntry the same way it is done in CacheEntry.authenticate(). > However, I don't know if there are side effects and I'm not that > familiar with the code...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Migrating from ANT to Maven2 In an effort to reduce the learning curve associated with developing in the fedora repository baseline by adopting a standardized application source structure and leveraging community plug-ins, this suggested improvement is to migrate from the existing ANT build framework to Maven2.  This task includes: :restructuring the source tree(s) :moving dependency management into a pom.xml :associating plug-in for eclipse .classpath/.project generation :migrating test suites to Maven2 framework :...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Migration: Analyzer and Generator ClassNotFoundException As reported here: http://article.gmane.org/gmane.comp.cms.fedora-commons.devel/1001  Running the analyzer when upgrading from 2.x to 3.1 causes a ClassNotFoundException due to missing classes in the distribution.  Until this is fixed, a workaround is described here:  http://wiki.dlib.indiana.edu/confluence/display/INF/Test+Server+Migration+Notes",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Tomcat 6 and Jetty Installation Problems Several users have reported incompatibilities with how Fedora installs in Tomcat 6 and Jetty.  These are all related to where certain jars are deployed.  The following threads describe the problem more fully and provide workarounds:  Commons-logging-related (Tomcat6 and Jetty):   http://article.gmane.org/gmane.comp.cms.fedora-commons.devel/1006  Commons-dbcp-related (Tomcat6)   http://article.gmane.org/gmane.comp.cms.fedora-commons.devel/1022,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update database in a transaction Currently Fedora updates its internal database outside of a transaction.  The code in DefaultDOManager is designed to manually back out when an error occurs in the process of ""committing"" a change to an object.  This improvement would cause updates to occur in a database transaction.  It would both simplify the code in DefaultDOManager and give greater assurance that recovery occurred correctly.  Note: This would require that we beging using InnoDB (not MyISAM) style tables when running Fedora with MySQL.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Enable RI as install option for 2.x The 3.x line has had this for some time.  This capability needs to be backported in order to support automated testing of the legacy (2.x) line.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Test scripts to support automated functional testing To support continuous integration testing (and to ease on-demand test setup for developers), provide test scripts for automatically running a series of ""sanity"" tests.  These should collectively allow one to run the existing JUnit (unit, integration, system) tests on Unix-based OSes without requiring manual installation/startup/shutdown of the test server instances.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Attempt to run disseminations even if a ""required"" datastream is unavailable Ross@UVA reported that when attempting to run a dissemination where a DSInputSpec-defined datastream is unvailable, but not really required by the particular dissemination being run, it's caught as an error and the dissemination fails to run.  A set of objects that provoke this is attached as hydra-objects.zip  Here is Ross' email describing his investigation of the cause of the current behavior in Fedora 3.1:  ---  I think I pinpointed this problem in code for DefaultAccess near line 500:         DisseminationBindingInfo[] bindingInfo;        bindingInfo = new DisseminationBindingInfo[dsBindRules.length];         for (int i = 0; i < dsBindRules.length; i++) {            DeploymentDSBindRule dsBindRule = dsBindRules[i];            String dsPid = dsBindRule.pid == null ?                    dObj.GetObjectPID() : dsBindRule.pid;            String dsId = dsBindRule.bindingKeyName;            Datastream ds;             DOReader reader = m_manager.getReader(false, context, dsPid);            ds = reader.GetDatastream(dsId, versDateTime);             if (ds == null) {                String message =                        ""The object \""""                                + dsPid                                + ""\"" ""                                + ""contains no datastream with ID \""""                                + dsId                                + ""\"" ""                                + ""that was created on or before the specified date/timestamp ""                                + "" of \""""                                + DateUtility.convertDateToString(versDateTime)                                + ""\"" ."";                throw new DatastreamNotFoundException(message);            }  This logic will throw exception if *any* of the datastream binding rules are not satisfied. I think part of the problem is that the dsInputSpec definition of binding rules is too broad; it just defines a set of binding rules for a particular sDep and does not differentiate which binding rules are associated with which method.  To fix this, I think you would need to either gather additional information from wsdl or methodMap about which bindings were required for each method or add additional information to dsInputSpec that allows you to specify which method a binding rule is associated with...  I suppose if we wanted to be really loose re referential integrity, you could just omit this check and have the dissemination method fail in DisseminationService at run time. That way, methods with matching binding rules would still work and only ones with missing binding rules would fail...  This logic is probably a leftover from Fedora 2.2 when we wanted to catch any case where binding rules were not satisfied since all binding rules had to be satisfied when referential integrity was tight.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"WebDAV front end for repository Provide a WebDAV front-end for Fedora.  This should allow a low-barrier way to ingest files into Fedora, wrapping them in Fedora objects on the way in.  It may also be a simple way to ingest pre-existing Fedora objects, providing a ""drop box"" style ingest interface.  This idea was originally discussed in the context of having Fedora act as a pluggable repository for Zotero; however a WebDAV interface would be generally useful for many other kinds of other integrations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Web-Accessible Administrative Client Create a modern administrative client for Fedora that allows many of the basic functions of the old Swing-based client, but is web accessible.  We've decided to do this using Adobe Flex (creates Flash apps) to provide a rich user interface with relative ease.  Work on this is being tracked in the wiki at:  http://fedora-commons.org/confluence/x/XoF9",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
AtomPub (APP) Interface Provide an Atom Pub interface for Fedora.  This would be useful as an alternative entry point for developers to hook things into Fedora.  It  could also eventually support a SWORD profile for a potential out-of-box SWORD deposit capability.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SWORD 1.3 Support (Third Party) Leverage an existing SWORD impl to provide a solution for people wanting a SWORD deposit interface for Fedora.  Also, document how to integrate this with Fedora 3.x.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improved CMA modeling capabilties Users want a way to describe richer content models than is currently possible with the Fedora 3.1 DS-COMPOSITE-MODEL.  One project that is beginning to address this is here:  https://fedora-commons.org/confluence/display/DEV/Fedora+Enhanced+Content+Models  However, Fedora's out-of-box DS-COMPOSITE-MODEL should also support cardinality and optional datastreams.  e.g. max and min, with some datastream # naming convention.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"In-Place ""Ingest"" of local files as datastreams Users want a way to point Fedora at local files and have it treat them as being managed by Fedora.  It would be nice to be able to just get Fedora to start managing a directory full of files, and not have to move them into Fedora. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SDef/SDep design improvements supporting LANL jpeg2000 service Supporting the LANL JPEG2000 Service at  http://african.lanl.gov/aDORe/projects/djatoka/  is a good example, but the goal of this improvement is to support that and other services by improving how SDefs/SDeps can work.    The problem is that a lot of existing http-exposed services have ""APIs"" of their own.  ANd it's hard to put those behind disseminations on digital objects.  Another example: Imagine a dissemination endpoint for an object that represented a collection, and you want to expose that object as an OAI-PMH repository endpoint.  For Fedora to be able to accomodate such a thing, we need to think more broadly about how dissemination calls can be made on objects.  This includes addressing both the ""path syntax"" and the set of possible http verbs that Fedora can expose as dissemination endpoints.  One approach that has been mentioned is to make Fedora act more like an http proxy.  This also ties into some of Aaron Birkland's ideas here:   https://fedora-commons.org/confluence/pages/viewpage.action?pageId=8754366",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove assumption of /fedora as webapp path Currently, there are several assumptions in the server and test code that Fedora is mounted at ""/fedora"".  This improvement would remove such assumptions.  It requires scanning the existing code for hardcoded ""fedora"" paths and either using relative paths (where possible) or constructing absolute paths (when needed) from some common source that indicated ""where this webapp is mounted"".  Note that the context path is available to a servlet in the servlet api.  It may be possible to get this information at webapp startup time rather than having to require a separate fedora.fcfg configuration parameter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The color blue should be reserved for links Fedora Repository 3.1, Object Profile HTML presentation. E.g. http://localhost:8080/fedora/get/demo:1. All key elements appear in blue, both true links and ""header"" elements. See screenshot.  The color blue is universally recognized on the Web as the color for clickable links. Other elements drawn in blue tend to appear to be clickable when in reality they aren't.   It is impossible to know what is a link (and what isn't) by mere examination. One must mouse over a blue element to decide if it's a link. Confusing and needlessly so. Can a different color be used for text elements and links be left to their native, default color?  (Granted, links may also be underlined. But blue links is as a de facto, established Web ""standard"".)  The lack of CSS makes this difficult to change, unfortunately. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"404 ""Not found"" page never shown -- generates an error Accessing any invalid URL generates an error. E.g. http://localhost:8080/fedora/xxx yields the page:   HTTP Status 404 -   --------------------------------------------------------------------------------  type Status report  message   description The requested resource () is not available.   --------------------------------------------------------------------------------  Apache Tomcat/5.5.27   And the following error appears in the log:   ERROR 2009-02-04 10:29:44.966 [http-80-Processor2] ([jsp]) Servlet.service() for servlet jsp threw exception java.lang.NullPointerException         at org.apache.jsp.jsp.notfound_002d404_jsp._jspService(notfound_002d404_jsp.java:76)         at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)         at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)         at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)         at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)         at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)         at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)         at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)         at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)         at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:399)         at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)         at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:364)         at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:285)         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)         at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)         at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)         at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)         at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)         at java.lang.Thread.run(Thread.java:595) Feb 4, 2009 10:29:44 AM org.apache.catalina.core.StandardHostValve custom SEVERE: Exception Processing ErrorPage[errorCode=404, location=/jsp/notfound-404.jsp] org.apache.jasper.JasperException: Exception in JSP: /jsp/notfound-404.jsp:23  20:                      <h3>No such object, datastream, or dissemination.</h3> 21:                   </center> 22: <% 23: if (exception.getMessage() != null) { 24:     out.print(exception.getMessage()); 25: } 26: %>   Stacktrace:         at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:451)         at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:373)         at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)         at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)         at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)         at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)         at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)         at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:399)         at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)         at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:364)         at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:285)         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)         at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)         at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)         at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)         at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)         at java.lang.Thread.run(Thread.java:595)   The fix is simple and works:  Index: src/war/fedora/jsp/notfound-404.jsp =================================================================== --- src/war/fedora/jsp/notfound-404.jsp (revision 7890) +++ src/war/fedora/jsp/notfound-404.jsp (working copy) @@ -20,7 +20,7 @@                       <h3>No such object, datastream, or dissemination.</h3>                    </center>  <% -if (exception.getMessage() != null) { +if (exception != null && exception.getMessage() != null) {      out.print(exception.getMessage());  }  %> ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora webapp root page features broken link The Fedora repository homepage at http://localhost:8080/fedora/ has the following content:   Apache-AXIS Hello! Welcome to Apache-Axis.  What do you want to do today?  Administer Axis [link #1] Visit the Axis Servlet [link #2]   Link #1 above links to http://localhost:8080/fedora/servlet/AdminServlet. But this link is broken: it returns a 404 error page (rather, it should -- see also bug FCSUPPORT-33).   Either this link should be made to work, or it should be removed entirely. Thanks! ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Document and consolidate what needs to be writable at runtime I had a hard time installing Fedora Repository 3.1 on Unix thanks to the need for a writable FEDORA_HOME. Typically Unix software is installed by an admin, and users given limited privileges to the few files and directories they absolutely need to write to.  Obviously there needs to be an area where datastreams are kept, but requiring all of FEDORA_HOME (children directories included) to be writable seems somewhat excessive. FEDORA_HOME contains mostly code and configuration files, which don't need to (and in fact, shouldn't) be written to by Fedora.   Through trial and error, I got away with allowing only the following directories to be writable:  FEDORA_HOME/data FEDORA_HOME/server/status FEDORA_HOME/server/logs FEDORA_HOME/server/management FEDORA_HOME/server/fedora-internal-use FEDORA_HOME/server/fedora-internal-use/fedora-internal-use-backend-service-policies  I think it would be quite helpful to document which specific directories need to be writable, and maybe consolidate them into one place. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"MySQL error on shutdown Whenever I shutdown the Fedora Repository (by shutting down Tomcat), the log shows:  INFO: Illegal access: this web application instance has been stopped already.  Could not load com.mysql.jdbc.SQLError.  The eventual following stack trace is caused by an error th rown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact. java.lang.IllegalStateException         at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1272)         at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1232)         at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)         at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3246)         at com.mysql.jdbc.MysqlIO.quit(MysqlIO.java:1656)         at com.mysql.jdbc.ConnectionImpl.realClose(ConnectionImpl.java:4261)         at com.mysql.jdbc.ConnectionImpl.cleanup(ConnectionImpl.java:1248)         at com.mysql.jdbc.ConnectionImpl.finalize(ConnectionImpl.java:2655)         at java.lang.ref.Finalizer.invokeFinalizeMethod(Native Method)         at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:83)         at java.lang.ref.Finalizer.access$100(Finalizer.java:14)         at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:160) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Properties and export XML  don't match Datastream details I've been working througth the SmileyStuff demo supplied with the Fedora repository. I've setup tomcat to use port 80 instead of the default 8080 this causes a problem as the ingested object refer to port 8080. I have modified the locations of the objects so that where there used to be a reference to 8080 this has now been removed. So what I've done is:  ingested the demo searched for all objects loaded the smileyStuff object changed the location for QUERY from http://localhost:8080/fedora-demo/image-collection-demo/SmileyStuff-MemberQuery.txt  to http://localhost/fedora-demo/image-collection-demo/SmileyStuff-MemberQuery.txt saved the modified  datastream changed the location for XSLT from http://localhost:8080/fedora-demo/image-collection-demo/SmileyStuff-ViewStylesheet.xsl to http://localhost/fedora-demo/image-collection-demo/SmileyStuff-ViewStylesheet.xsl saved the modified  datastream changed the location for http://localhost:8080/fedora/get/demo:SmileyStuff/demo:Collection/list to http://localhost/fedora/get/demo:SmileyStuff/demo:Collection/list saved the modified  datastream switched to the property view and this is the section of xml shown for the 2 modified data streams:   <foxml:datastream CONTROL_GROUP=""E"" ID=""QUERY"" STATE=""A"" VERSIONABLE=""true"">     <foxml:datastreamVersion CREATED=""2008-07-02T05:09:43.062Z"" ID=""QUERY.0"" LABEL=""RDF Query to list members"" MIMETYPE=""text/plain"">       <foxml:contentLocation REF=""http://localhost:8080/fedora-demo/image-collection-demo/SmileyStuff-MemberQuery.txt"" TYPE=""URL""/>     </foxml:datastreamVersion>     <foxml:datastreamVersion CREATED=""2009-02-11T15:45:51.875Z"" ID=""QUERY.1"" LABEL=""RDF Query to list members"" MIMETYPE=""text/plain"">       <foxml:contentLocation         REF=""http://local.fedora.server/fedora-demo/image-collection-demo/SmileyStuff-MemberQuery.txt"" TYPE=""URL""/>     </foxml:datastreamVersion>   </foxml:datastream>   <foxml:datastream CONTROL_GROUP=""E"" ID=""XSLT"" STATE=""A"" VERSIONABLE=""true"">     <foxml:datastreamVersion CREATED=""2008-07-02T05:09:43.062Z"" ID=""XSLT.0""       LABEL=""Stylesheet to view list dissemination as html"" MIMETYPE=""text/xml"">       <foxml:contentLocation         REF=""http://localhost:8080/fedora-demo/image-collection-demo/SmileyStuff-ViewStylesheet.xsl"" TYPE=""URL""/>     </foxml:datastreamVersion>     <foxml:datastreamVersion CREATED=""2009-02-11T15:46:33.640Z"" ID=""XSLT.1""       LABEL=""Stylesheet to view list dissemination as html"" MIMETYPE=""text/xml"">       <foxml:contentLocation         REF=""http://local.fedora.server/fedora-demo/image-collection-demo/SmileyStuff-ViewStylesheet.xsl"" TYPE=""URL""/>     </foxml:datastreamVersion>   </foxml:datastream>   <foxml:datastream CONTROL_GROUP=""E"" ID=""LIST"" STATE=""A"" VERSIONABLE=""true"">     <foxml:datastreamVersion CREATED=""2008-07-02T05:09:43.062Z"" ID=""LIST.0"" LABEL=""Result of list dissemination"" MIMETYPE=""text/xml"">       <foxml:contentLocation REF=""http://local.fedora.server/fedora/get/demo:SmileyStuff/demo:Collection/list"" TYPE=""URL""/>     </foxml:datastreamVersion>   </foxml:datastream>  The contentLocation  shows the 8080 port.  After closing the object and then reloading I've inspected the datastream properties and all is ok however, when I look at the object properties via the view xml the locations still have the 8080 port in the location. This is also the case when the object has been exported.  regards  Alastair ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide state and format uri info via REST API Asger pointed out that it is currently necessary to parse FOXML or perform a field search in order to determine the state of an object or datastream.  It's also necessary to use API-M in order to determine the format uri of a datastream. Better would be to provide all this information via the REST api, where appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove extPropertyType from FOXML schema As of Fedora 3.0, ""extPropertyType"" is no longer used in Fedora.  However, it was not removed from the FOXML schema.  It's confusing that it's still in the schema because it's not readable/writable in any other way via Fedora's APIs.  It is effectively ignored (and likely even dropped on deserialization).  Note that this change would make some formerly valid FOXML 1.1 objects invalid.  So it's important to consider the effects of revising the schema.  For example, should the FOXML format be changed to 1.2?  Or 1.1.1?  What about the format URI accepted for ingest?  Fun...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ORE Resource Map disseminations for all Fedora objects Provide a default ORE resource map dissemination of all Fedora objects as a built-in disseminator (or export format?)  It should include:  - Key metadata about the object (mod date, etc)  - Key metadata about the datastreams in the object  - DC information  - Relationships (RELS-EXT/INT)  - URLs where datastreams can be found  This request came up in a call with Ross Wayland, Thorny Staples, and Chris Wilper on Feb 18th.  There are several imagined uses for this kind of information, including:  - As a replacement for ""asset actions"" (the Aquifer project at U of Illinois) - As a way to get basic information about the whole object in one go for the purpose of supporting dissemination services.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Remove redundant SELECT statements running during security evaluation > In the > authentication process the same select statement gets executed several > times (see the full SQL log here: > http://fedora.fiz-karlsruhe.de/docs/Wiki.jsp?page=Sql) : > > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > SELECT path FROM objectPaths WHERE token='changeme:27' > > I guess these selects could be reduced to one statement. The statement > is not terribly expensive and will even be optimized/cached by most > database systems but nonetheless it can hurt performance since the > column doesn't have an index.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Remove explicit GC from ingest process GC is being run unnecessarily at the end of each ingest.  Removing this will improve performance considerably.  > (DefaultDOManager.java:1075). The garbage collection definitely does > hurt performance when triggered this way and it isn't guaranteed to > happen at  this point in time anyway.   Further details at http://fedora.fiz-karlsruhe.de/docs/Wiki.jsp?page=Java%20Heap%20%26%20GC%20Tuning,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Refactor FieldSearchServlet Avoid manually building xml/html.  Code is hard to read/debug.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Switch to commons-fileupload for handling uploads Discontinue use of the O'Reilly Servlet library, cos.jar and instead use Commons-FileUpload from Apache.  Reasons for this change: 1) cos.jar is not actively maintained; commons-fileupload is 2) The version of cos.jar Fedora currently depends on is patched for handling large uploads; commons-fileupload works as-distributed 3) cos.jar has a unique license that is more restrictive than Apache2; commons-fileupload is released under Apache2",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Standardize on commons-codec for Base64 handling Fedora's server code currently uses three separate libraries for Base64 handling: O'Reilly Servlet (com.orielly.servlet.Base64Encoder/Decoder), Axis (org.apache.axis.encoding.Base64), and Commons Codec (org.apache.commons.codec.binary.Base64).  Of these, Commons Codec's implementation is most geared toward generic use.  Using commons-codec for this, in addition to FCREPO-418, will allow removal of the dependency on cos.jar.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FOXML export fails with base64 inline content When run in the archive context, the FOXMLDOSerializer produces malformed XML for each managed content stream.  The ""binaryContent"" tag isn't opened properly.    Workaround: after exporting such an object, manually modify the output and prepend ""<"" before occurances of ""foxml:binaryContent>"".",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora Enhanced Security Layer (FeSL) Integration This work is still coming together, but with include major improvements for Fedora's AuthN and AuthZ components.  Futher details can be found here: http://fedora-commons.org/confluence/x/h4Ov  FESL should eventually replace the default AuthN/AuthZ functionality built in to Fedora.  If there's a need for people to migrate policies, there should be a period of overlap (where the ""old way"" and ""new way"" work)...hopefully this can be the case for Fedora 3.3",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Move away from Axis 1.3 Fedora has used Axis 1.3 for quite some time.  We need to move away from this as the 1.x line is no longer maintained.  This will also allow us to properly support modern soap with attachments.  Need to make a decision on the library to use.  CXF looks like a good candidate: http://cxf.apache.org/,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow the retrieval of content via the file URI scheme Chris Wilper wrote: I got a chance to read through your performance wiki[1] again in more detail and found it quite informative.  One part I missed before was the discussion on ""Managed Content Retrieval"", where you discuss the use of a Tomcat FileDirContext in order to avoid sending content in via the upload servlet.  If Fedora just had the option to accept local ""file:///"" URLs on ingest, I think that would be even better.  There's a security consideration to doing that, but I think as long as the repository could be configured to reject file:/// URLs from all but a set of ""allowed"" local paths and the input was sanitized (removing "".."", etc), we would be ok.   ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Extensible object and datastream states In response to http://article.gmane.org/gmane.comp.cms.fedora-commons.devel/1066 Bill wrote:  > It occurs to me with this request that the states we use currently use for > objects in Fedora are primarily for user convenience. Is there anything > stopping us from allowing a repository admin to define the states in which > an object can exist? This is a long way from being workflow, but I could see > it facilitating the creation of a simple customized workflow on top of > Fedora, especially with the ability to do access control based on state.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"method to programatically determine disseminator response mime type Per the conversation in this thread on the Fedora user's forum:    http://sourceforge.net/mailarchive/forum.php?thread_name=e513ac80fa0a.49a64b77%40wiscmail.wisc.edu&forum_name=fedora-commons-users  I would like a simple way to get the response mime type for a disseminator through the Fedora API-A toolkit.  Two options have been discussed:  1.  Get the recorded mime type(s) in the method's deployment object, either from the METHODMAP or WSDL datastreams, add it to the ObjectMethodDefs data structure returned by listMethods().  Pros:  fast, low overhead, internal to Fedora  Cons:  response mime types registered in the deployment object won't necessarily match what the disseminator really returns; no way to pick which mime type in a given list is the right one at that given moment for the given object.  2.  Get the mime type from the HTTP headers by sending a HEAD request to the web service backing the disseminator.  Pros:  mime type returned guaranteed to be correct  Cons:  high overhead (network connection, HTTP transaction)  Ideally, both options would be available.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Make retainPIDs optional, default to retain all The retainPIDs configuration in fedora.fcfg should default to retain all PIDs.  RetainPIDs is an old ""feature"", but mostly tends to complicate life and confuse people when they ingest an object and the PID given back isn't the one they sent in.  Therefore, it should be dropped from the default fedora.fcfg.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove unnecessary testing dependencies on external hosts Several of the system tests currently rely, unnecessarily, on access to external hosts.  When such a dependency exists, it should be for a good reason (e.g. to test something that can't be tested vs localhost)  Offending tests include:   fedora.test.api.TestManagedDatastreams#testModifyDatastreamByReference   fedora.test.api.TestManagementNotifications#testDatastreamMethodNotifications   fedora.test.api.TestAPIM#testDatastreamMethods",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ArrayIndexOutOfBounds when indexDCFields=false The indexDCFields value in fedora.fcfg controls whether DC fields are actually indexed in the underlying database or not.  Normally, this is true (the default), but when set to false, indexing of modified objects fails with an ArrayIndexOutOfBoundsException.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Wrong RELS-EXT datastream attributes set with add/purgeRelationship When calling API-M's addRelationship and purgeRelationship methods, the mime type is invariably set to ""text/xml"" and the prior FormatURI is not always respected.  The date of the datastream version is also set to the current time (new Date()) rather than the time the API request was originally received (this is the correct value to use).  If the operation causes RELS_EXT to be created, the mime type should be automatically set to ""application/rdf+xml"" and the format uri to the RELS_EXT_1_0.uri.  If the operation causes RELS_EXT to be modified, the mime type and format uri should be set to the value of the previous datastream version (unchanged).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SwingAdmin shows blank ingest/export dialogs in Linux I've observed this on two separate Ubuntu 8.10 installations with Java 5.  A failure to pack() the content panel (and instead use setSize()) of a JOptionDialog causes the entire panel to show up blank.  This makes it impossible to graphically ingest or export using Ubuntu with Java 5.  This is not a problem on the same machine, with Java 1.6.0_10, however, pack() is safe to use across all environments, so this should be changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Pull the REST API code into trunk The REST API is currently built as a stand-alone JAR which is included as a library in the Fedora repository trunk. The code in the REST API, however, is only useful as part of Fedora, it does not stand on its own. Because of this, there is no particular benefit to having the code live in its own project, and including it as part of trunk would make maintenance simpler.  This task is to move the code from the Fedora REST API into trunk and update the build to function correctly. One portion of the build that needs consideration is when a new WADL is constructed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Broken relative includes in stylesheets -- only absolute paths work GSearch results are transformed using stylesheets. Said stylesheets include other stylesheets using <xsl:include/> elements. Unfortunately, only full absolute paths appear to work for the purpose of inclusion; relative includes don't.  E.g. in basicGfindObjectsToHtml.xslt at https://fedora-commons.svn.sourceforge.net/svnroot/fedora-commons/services/genericsearch/tags/release-2.2/FgsConfig/configBasic/rest/basicGfindObjectsToHtml.xslt line 12 reads:  <xsl:include href=""CONFIGPATH/rest/basicCommon.xslt""/> CONFIGPATH is replaced at configuration time to become the full path. This configuration step appears un-necessary -- I should be able to use a relative include such as:  <xsl:include href=""basicCommon.xslt""/> since basicCommon.xslt in the same directory as the including stylesheet basicGfindObjectsToHtml.xslt.  On the grand scheme of things, not a big deal. It's just one extra bit of configuration right? Unfortunately, I'd like to offer my opinion that it's configuration such as this (compounded over many files) that makes the software hard to install and use in the end.   In this particular case, it's easy enough to fix. The attached patch sets the system ID on the including stylesheet, which allows to successfully process relative includes.   Note about patch: the first part applies to GTransformer.java and sets the system ID, which solves the issue. The second part applies to Config.java and disables the proactive checking of stylesheets. I'll voluntarily admit this is rather aggressive, and it should be reworked. I merely didn't want to deal with the code duplication between GTransformer.java and Config.java, as it would have complicated the patch quite a bit. ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"OAIProvider compatibility with Fedora 2.2.4 Because Fedora 2.2.4 uses Mulgara instead of Kowari, the OAIProvider (v1.1) isn't forward-compatbile.  The tucana#before and tucana#after predicates have changed to mulgara#before and mulgara#after, so the date-related queries don't work.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Shell scripts don't properly pass through args with spaces Phil reports:  I have found a bug in all the 3.1 client shell scripts. e.g. fedora-find.sh synopsis at:   http://fedora-commons.org/confluence/display/FCR30/Client+Command-line+Utilities  suggests (with FCREPO-86 applied) this example should work:   fedora-find localhost 8080 userid password ""pid fType title description"" ""fedora"" http  It does not work because the code (with FCREPO-86 applied) says:   (exec $JAVA_HOME/bin/java ... $1 $2 $3 $4 $5 $6 $7)  The exec means that the fieldList ($5) gets expanded as follows before execution (which is wrong -- it should not be expanded, but rather be seen by the shell as a single argument):   pid fType title description  It also means that wild carding with ""?"" and ""*"" for the search string ($6) will match files in the current working directory instead of being passed through to the java application.  The fix is to quote all the shell arguments, thus:   (exec $JAVA_HOME/bin/java ... ""$1"" ""$2"" ""$3"" ""$4"" ""$5"" ""$6"" ""$7"")  I expect that this bug is present in all the shell scripts.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Missing objects from Tutorial 2 With Fedora 3.1, the SDep.xml, SDef.xml, CModel.xml and other xml files were omitted from the distribution.  It looks like these were lost in the migration of the documentation to the wiki.  They need to be reviewed and included in the distribution, or along with the tutorial.  Stuart wrote: > I decided to try and regenerate the example3 tutorial documents myself and update them for  > the 3.1 implementation of Fedora. I am not sure that they are perfect (i.e. completely schema  > compliant) but they load into Fedora 3.1 fine and work.  Please find a .zip file attached with  > the documents I came up with.  (see attachment)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Merge contributions from the ARROW project to OAIProvider Please refer to this mailing list thread: http://sourceforge.net/mailarchive/forum.php?thread_name=4ff60e1c0903300655v4db4d33bs876c95ad5a7f622a%40mail.gmail.com&forum_name=fedora-commons-developers  Background:  Oliver Lucido and Harry Sidhunata of the ARROW project made modifications to Fedora's OAIProvider service to support the following:  1) Configuration of set membership via DC values instead of RELS-EXT. This is simply a configuration change to the proai.properties file (detailed in the attachment), but in order to work reliably, requires special processing by the Fedora OAIProvider in order to deal with DC values that contain whitespace characters.  The patch replaces such characters, when they occur, with underscores so they are syntactically valid with respect to the OAI-PMH protocol, which does not allow spaces in setSpec names.  2) The use of the Fedora object's PID as the oai itemID.  This is convenient because it avoids the problem of the appearance of duplicate records when a) using the default configuration (which uses dc:identifier) and b) multiple dc:identifiers exist in record object's DC datastreams. ",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
Add ConfigQ test that runs vs. Quick Install None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"port problem caused by router redirection  We have the following network architecture:  FEDORASERVER:8015 <------> YYY:ROUTER:80 <----> XXX:INTERNET  As you can see, our router redirects all requests to the fedora server mapping port 80 to port 8015.  Fedora replies have the protocol, host and port harcoded, but these values are extracted from the last hop and are of the form http://FEDORASERVER:8015/fedora/.... These URL's are not accessible from the outside.  Examples of requests with the problem:  - http://fedoraserver/fedora/get/pidns:134/fedora-system:3/viewItemIndex  - http://fedoraserver/fedora/get/pidns:134/DS  - http://fedoraserver/fedora/get/pidns:134/fedora-system:3/viewMethodIndex  In order to solve the problem we suggest to remove the method 'getReposBaseURL' from classes 'DefaultAccess.java' and 'DynamicAccessImpl.java'. We don't know if these changes can cause a undesired behaviour. Use at your own risk.  Regards, Gerard ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Replace whitespace in setSpecs with underscores See FCREPO-468,legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
Option of using PID directly as itemID See FCREPO-468.,legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Document additional set membership config options As per FCREPO-468: - Document how to use DC (vs RELS-EXT) as the source of set membership info - Document how to config the provider to use a ""top-down"" approach vs the default, ""bottom-up"" approach for getting set membership info.  Currently, the documentation that needs to be updated lives here:  https://fedora-commons.org/confluence/display/FCSVCS/OAI+Provider+Service+1.2",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Remove extraneous namespace declaration on record elements Richard Green reports:  We have recently had a small issue with oaiprovider when the British Library tried to harvest our thesis metadata.  Using the ListRecords verb results in a set of records each wrapped as  <record xmlns=""http://www.openarchives.org/OAI/2.0/ <http://www.openarchives.org/OAI/2.0/>  "">    ... </record>  Instead of just  <record> ... </record>  This caused them some problems because one of their transforms wasn't set up to deal with this response which seems, from the OAI-PMH spec, to be non-standard.  To fix this issue, Simon removed the following from Line 173 of FedoraOAIDriver.java :-  out.println(""<record xmlns=\""http://www.openarchives.org/OAI/2.0/\"">"");  And replaced with:-  out.println(""<record>"");  ",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Self-signed SSL cert has expired A new SSL cert needs to be generated as the current cert provided by Fedora expired in January, 2009.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fold API-A/M-Lite into the REST API As the REST API gets pulled into trunk, there will no longer need to be a distinction between the REST API and API-A-Lite. This task involves removing the duplicate methods, moving the methods only in API-A-Lite into the REST API, and updating related stylesheets to make everything consistent.  This includes getDissemination and other unimplemented items noted on this page:  https://fedora-commons.org/confluence/display/FCR30/REST+API  Goal is to deprecate API-A/M Lite.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"New hasModel resource attribute not recognized in XACML policies - patch With the introduction of the new CMA, the contentModel-resource-attribute disappeared and it has been replaced by ""hasModel"". However, the ResourceAttributeFinderModule was never called to resolve such an attribute during policy evaluation because it didn't register for it.   The attached patch fixes the problem. It is now possible to write XACML policies that look at the content model(s) of an object like this:  ...         <ResourceMatch MatchId=""urn:oasis:names:tc:xacml:1.0:function:string-equal"">           <AttributeValue DataType=""http://www.w3.org/2001/XMLSchema#string"">info:fedora/cmodel:Container</AttributeValue>           <ResourceAttributeDesignator AttributeId=""info:fedora/fedora-system:def/model#hasModel""             DataType=""http://www.w3.org/2001/XMLSchema#string"" MustBePresent=""false""/>         </ResourceMatch> ...  Tom",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"No SPARQL Support for CONSTRUCT  Issuing a SPARQL query for a CONSTRUCT results in an empty response from the tuple query type service and a Exception is thrown when attempting to use the triples query service:  (Via Tuples:) e.g. http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=sparql&format=sparql&type=tuples&query=construct%20{%20?x%20dc:title%20?name%20}%20WHERE%20{%20?x%20dc:title%20?name%20}  SPARQL query:   CONSTRUCT { ?x dc:title ?title } WHERE { ?x dc:title ?title }  [' make a graph of all triples with dc:title as a predicate.']  Response: <?xml version=""1.0"" encoding=""UTF-8""?> <sparql xmlns=""http://www.w3.org/2001/sw/DataAccess/rf1/result"">   <head>     <variable name=""subject""/>     <variable name=""predicate""/>     <variable name=""object""/>   </head>   <results>   </results> </sparql>  (regardless to how many dc:title triples are there: e.g. an spo query to pull up 10 dc:title matches - http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=spo&format=RDF/XML&type=triples&limit=10&query=*%20%3Cdc:title%3E%20* )  (Via Triples:) http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=sparql&format=sparql&type=triples&query=construct%20{%20?x%20dc:title%20?name%20}%20WHERE%20{%20?x%20dc:title%20?name%20}  org.trippi.TrippiException: Unsupported triple query language: sparql   org.trippi.impl.mulgara.MulgaraSession.findTriples(MulgaraSession.java:94)   org.trippi.impl.base.ConcurrentTriplestoreReader.findTriples(ConcurrentTriplestoreReader.java:145)   fedora.server.resourceIndex.ResourceIndexImpl.findTriples(ResourceIndexImpl.java:300)   fedora.server.resourceIndex.ResourceIndexModule.findTriples(ResourceIndexModule.java:317)   org.trippi.server.TrippiServer.find(TrippiServer.java:132)   org.trippi.server.http.TrippiServlet.doFind(TrippiServlet.java:512)   org.trippi.server.http.TrippiServlet.doGet(TrippiServlet.java:377)   fedora.server.access.RISearchServlet.doGet(RISearchServlet.java:99)   org.trippi.server.http.TrippiServlet.doGet(TrippiServlet.java:269)   org.trippi.server.http.TrippiServlet.doPost(TrippiServlet.java:572)   javax.servlet.http.HttpServlet.service(HttpServlet.java:710)   javax.servlet.http.HttpServlet.service(HttpServlet.java:803)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)   org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)   org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)   org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)   org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)   java.lang.Thread.run(Thread.java:619) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"No SPARQL Support for ASK  SPARQL ASK queries return False, regardless to actual match and the response format is not compliant to the SPARQL guidelines for ASK responses.  Spec: http://www.w3.org/TR/rdf-sparql-query/#ask  From a basic query, the following is found (manually) to exist in the triplestore:  <info:fedora/dataset:1> <http://purl.org/dc/elements/1.1/identifier> ""dataset:1"" .  Performing a SPARQL query:  ASK { <info:fedora/dataset:1> dc:identifier ""dataset:1"" }  via: http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=sparql&format=sparql&type=tuples&query=ASK%20{%20%3Cinfo:fedora/dataset:1%3E%20dc:identifier%20%22dataset:1%22%20}  Response: <?xml version=""1.0"" encoding=""UTF-8""?> <sparql xmlns=""http://www.w3.org/2001/sw/DataAccess/rf1/result"">   <head>     <variable name=""k0""/>   </head>   <results>     <result>       <k0 datatype=""http://www.w3.org/2001/XMLSchema#boolean"">false</k0>     </result>   </results> </sparql>  Expected response (from the SPARQL spec): <?xml version=""1.0""?> <sparql xmlns=""http://www.w3.org/2005/sparql-results#""         xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""         xsi:schemaLocation=""http://www.w3.org/2001/sw/DataAccess/rf1/result2.xsd"">   <head>   </head>    <boolean>true</boolean>  </sparql>  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"No SPARQL Support for DESCRIBE SPARQL DESCRIBE queries result in an empty response:  DESCRIBE <info:fedora/dataset:1>  via: http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=sparql&format=sparql&type=tuples&query=DESCRIBE%20%3Cinfo:fedora/dataset:1%3E  Response: <?xml version=""1.0"" encoding=""UTF-8""?> <sparql xmlns=""http://www.w3.org/2001/sw/DataAccess/rf1/result"">   <head>     <variable name=""subject""/>     <variable name=""predicate""/>     <variable name=""object""/>   </head>   <results>   </results> </sparql>  Simulated response via an SPO query - ""<info:fedora/dataset:1> * *""  via: http://databank.ouls.ox.ac.uk:8080/fedora/risearch?lang=spo&format=RDF/XML&type=triples&query=%3Cinfo:fedora/dataset:1%3E%20*%20*  <?xml version=""1.0"" encoding=""UTF-8""?> <rdf:RDF  xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#"">  <rdf:Description rdf:about=""info:fedora/dataset:1"">  <rdf:type rdf:resource=""http://vocab.ouls.ox.ac.uk/dataset/scheme#DataSet""/>  <label xmlns=""info:fedora/fedora-system:def/model#"">Dataset: Tick1 audio corpus</label>  <hasModel xmlns=""info:fedora/fedora-system:def/model#"" rdf:resource=""info:fedora/fedora-system:FedoraObject-3.0""/>  <lastModifiedDate xmlns=""info:fedora/fedora-system:def/view#"" rdf:datatype=""http://www.w3.org/2001/XMLSchema#dateTime"">2009-04-07T00:17:14.197Z</lastModifiedDate>  <ownerId xmlns=""info:fedora/fedora-system:def/model#"">fedoraAdmin</ownerId>   <state xmlns=""info:fedora/fedora-system:def/model#"" rdf:resource=""info:fedora/fedora-system:def/model#Active""/>  <createdDate xmlns=""info:fedora/fedora-system:def/model#"" rdf:datatype=""http://www.w3.org/2001/XMLSchema#dateTime"">2009-04-07T00:08:43.667Z</createdDate>  <identifier xmlns=""http://purl.org/dc/elements/1.1/"">dataset:1</identifier>  <disseminates xmlns=""info:fedora/fedora-system:def/view#"" rdf:resource=""info:fedora/dataset:1/DC""/>  <disseminates xmlns=""info:fedora/fedora-system:def/view#"" rdf:resource=""info:fedora/dataset:1/RELS-EXT""/>  <title xmlns=""http://purl.org/dc/elements/1.1/"">Dataset: Tick1 audio corpus</title>  <physicalPath xmlns=""http://vocab.ouls.ox.ac.uk/dataset/scheme#"">/</physicalPath>   <label xmlns=""http://www.w3.org/2000/01/rdf-schema#"">/</label>  <created xmlns=""http://purl.org/dc/terms/"">2006-2-24</created> </rdf:Description>  </rdf:RDF>",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
FieldSearch fails when 'pid' not selected Janna Wemekamp reports:  Fedora's search functions fail with the following error if the pid column isn't requested as part of the result set:      javax.ws.rs.WebApplicationException: fedora.server.errors.StorageDeviceException: Error with sql database. The column name pid was not found in this ResultSet.  This is true of the 'search' web interface and the REST API.  Eg. http://localhost:8080/fedora/objects?title=true&identifier=true&terms=&query=pid~demo%3A*&maxResults=20 http://localhost:8080/fedora/search?title=true&identifier=true&terms=&query=pid~demo%3A*&maxResults=20 ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Rework Fedora FAQs Fedora's FAQs are in a state of disrepair.  They need to be fixed.  The list of new FAQs should include: - High-level stuff from Thorny - Technical FAQs identified by developers (including what's actually frequently asked on the mailing list, etc)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Mulgara to 2.1.1 Update Mulgara (currently 2.0.8) to 2.1.0 when released (imminent).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactoring to Support More Fully-Modularized External Content Manager https://fedora-commons.org/confluence/display/DEV/mail/11503765  > [...] As it stands in 3.1, the ValidationUtility class has a > hard-coded rejection of file urls, and the DisseminationService class > fetches external content via it's own WebClient (rather than using the > ExternalContentManager).  These two quirks prevent (as far as I can > tell) an ExternalContentManager module from making non-http content > available as datastreams.   > Would it be reasonable to split FCREPO-453 into 2 issues, so that the > changes allowing an ExternalContentManager module to use non-http urls > were separated from the actual implementation of such a module?   So, just to make sure, the basic strategy you're thinking of is:   First, refactor so that all datastream access (for content stored outside fedora's control) goes consistently through ExternalContentManager.  This includes all runtime access to ""R"" and ""E"" datastreams, as well as ""M"" datastreams when they are ingested by reference.   Next, add file:// (and potentially other) resolutions to an impl of ExternalContentManager (why not DefaultExternalContentManager?), with adequate administrative control over which dirs on the local machine can be loaded from when the URL happens to be a file:/// one. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"References to in-fedora resources don't work properly in alternate app server contexts General, portable, ""relative"" links to in-fedora content were previously handled by variable substitution.  e.g. in a redirect datastream or WSDL text body ""http://local.fedora.server/fedora/risearch"" would be translated at runtime or at serialization time (depending on context) to ""http://localhost:8080/fedora/risearch"", and vice versa.  Now, with repository app server context (e.g. the '/fedora' part) a configurable option, the existing substitution mechanism breaks down.  Since it does NOT substitute local app server context, the app server context will remain an assumption hard-coded in the object and links will fail if the object is ingested into a repository with a different app server context.  That is to say, if an object contains ""http://local.fedora.server/fedora/risearch"", and is ingested into a repository that has app server context ""fedora32"", the resulting URL as dereferenced at runtime will be   ""http://localhost:8080/fedora/risearch"", which is WRONG.  It should be ""http://localhost:8080/fedora32/risearch.    This can be addressed by a) introducing a variable substitution for context only, as in ""http://local.fedora.server/local.fedora.context/risearch"" or b) abandoning explicit variable substitution, and adopt relative or absolute path conventions.  In the case of (b) suggested conventions as discussed at a recent committers meeting (http://fedora-commons.org/confluence/x/w4mv) are    - absolute paths are interpreted as belonging to the same server and port as the fedora instance (equivalent to current local.fedora.server substitution).  i.e. (""/saxon/transform?x=y"" might translate to ""http://localhost:8080/saxon/transform?x=y)   - relative paths are interpreted as belonging to the fedora app server context.  i.e. (""risearch?x=y"" might translate to ""http://localhost:8080/fedora32/risearch?x=y)  CAVEAT The general consensus was to go with (b), path conventions.  However, either (a) or (b)  presents a compatibility problem with previous versions of Fedora, in that objects exported and complying with (a) or (b) conventions will be broken if exported and ingested into any earlier Fedora version.  The reason for this is that earlier fedora versions would not support either expansion scheme, and would not be able to interpret the URLs appropriately.  At present, there doesn't seem to be a good way to support differing app server contexts and link expansion without breaking compatibility.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Implement relative-path solution to deployment-independantlinks Implementing solution (b) from FCREPO-486.  Will adopt relative-path conventions to signify URLs that point within the fedora app server context, or outside it (but on the same server/port).  Will use following conventions: absolute path = same server port, but NOT in app server context relative path = in app server context  Notes: - This solution will, at a minimum,  affect WSDL interpretation, object translation, and validation. - relative URLs were previously NOT allowed in referenced content datastreams.  This will force exported foxml using the relative-path conventions to be INCOMPATIBLE with previous fedora versions. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"SPARQL queries with filter condition on xml:lang don't work The following sparql query uses a filter to select all the objects having the dc:title expressed in italian (""it"") language:  select ?o ?t from <#ri>  where {?o <dc:title> ?t . filter( langMatches( lang(?t), ""it"") )}  The query executed by http://localhost:8080/fedora/risearch returns 0 results, while the same query without the filter condition gives the following results: (note: there are several nodes with xml:lang = 'it')  <sparql xmlns=""http://www.w3.org/2001/sw/DataAccess/rf1/result"">   <head>     <variable name=""o""/>     <variable name=""t""/>   </head>   <results>     <result>       <o uri=""info:fedora/shoah:45651""/>       <t xml:lang=""it"">Intervista a Aldo Isaia Zargani, Rome - Italy</t>     </result>     <result>       <o uri=""info:fedora/shoah:41732""/>       <t xml:lang=""en"">Interview with Miezyslaw Rudnicki, Rome - Italy</t>     </result>     <result>       <o uri=""info:fedora/shoah:24954""/>       <t xml:lang=""en"">Interview with Leo Lev Zelikowski, Montreal - Canada</t>     </result>     <result>       <o uri=""info:fedora/shoah:44169""/>       <t xml:lang=""it"">Intervista a Franco Bemporad, Florence - Italy</t>     </result>    [CUT]  Which is the correct way to filter on xml:lang with sparql/Mulgara in Fedora 3.1?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Consistent Exception Handling Exception handling practices need to be defined and applied consistently to the codebase.  Look at ""Effective Java Exceptions"" as an example.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"WSDL Discrepencies There is a discrepancy between the wsdl generated by fedora, and the wsdl generated by axis. i.e. http://host/fedora/services/access?wsdl and http://host/fedora/wsdl?api=API-A.  Why is that? Is this actually a bug or by design. There really isn't much documentation on consumption of the services as well, so maybe that would help.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"APIA Consumption Error (SOAP Error) with .NET, invoking FieldSearch Using the wsdl at: http://host/fedora/services/access?wsdl, and using FieldSearchQuery.conditions and Condition.@operator, property, and value combinations, the service returns ""org.xml.sax.SAXException: Found character data inside an array element while deserializing.""  This may be an issue with the WSDL or it may be an issue with how .NET is creating the proxy class, but either way, it doesn't work.   --------  Code:  FedoraAPIAService a = new FedoraAPIAService(); FieldSearchQuery fsq = new FieldSearchQuery();  Condition c = new Condition(); c.@operator = ComparisonOperator.has; c.property = ""subject""; c.value = ""*"";  fsq.conditions = new Condition[] { c };  string[] sr = { ""pid"", ""title"", ""subject"" };  FieldSearchResult fsr = a.findObjects(sr, ""50"", fsq);  --------  When using ""terms"" it doesn't work either. Also, if I use the fedora generated WSDL, .terms and .conditions doesn't exist. There is just a .Items property.  When I pass a condition object to this, the proxy throws an in appropriate type exception.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora-export.sh fails when selecting 'archive' as the context with the two FOXML formats login-bryan:; fedora-export.sh fedora.icpsr.umich.edu:80 fedoraAdmin XXXXXXXX icpsr-test:study8475 info:fedora/fedora-system:FOXML-1.1 public . http Starting Fedora Exporter... Exporting icpsr-test:study8475 to ./icpsr-test_study8475.xml Exported icpsr-test:study8475  Works just fine.  login-bryan:; fedora-export.sh fedora.icpsr.umich.edu:80 fedoraAdmin XXXXXXXX icpsr-test:study8475 info:fedora/fedora-system:FOXML-1.1 archive . http Starting Fedora Exporter... Exporting icpsr-test:study8475 to ./icpsr-test_study8475.xml [Fatal Error] :427:3: The element type ""foxml:datastreamVersion"" must be terminated by the matching end-tag ""</foxml:datastreamVersion>"". ERROR: org.xml.sax.SAXParseException : The element type ""foxml:datastreamVersion"" must be terminated by the matching end-tag ""</foxml:datastreamVersion>"". Exported icpsr-test:study8475  Fails with FOXML-1.0 too.  If I use the METS or ATOM formats, everything works OK.  The object is here:  http://fedora.icpsr.umich.edu/fedora/get/icpsr-test:study8475 ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow DC, RELS-EXT, etc, to be Managed Content At the moment, all special datastreams for Fedora are assumed to be inline XML.  But it shouldn't matter to Fedora whether they're inline or managed.  In particular, if they're allowed to be managed content, memory requirements can be drastically reduced in situations where many revisions to such datastreams exist within an object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Migrate Fedora's Builds to Maven Use m2 instead of ant.  Initial scope is for the repository distribution.  Services can come afterward.  Notes from initial discussion: http://fedora-commons.org/confluence/x/Joiv,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FieldSearch query connections held unnecessarily, leading to connection pool exhaustion While using Fedora Administrator and after performing lots of operations on objects (i.e. viewing, updating, purging...) the client hangs up and the progress bar shows ""Find Objects..."".   After calling netstat on the server, the list shows 100 sockets in CLOSE_WAIT state. [100 - default value of 'maxActive' instances in the connection pool] ...lines... 89  tcp        1      0 ::ffff:127.0.0.1:43562      ::ffff:127.0.0.1:3306       CLOSE_WAIT  ...lines... Mysql server (in this case) shows no open connections, so the problem occurs on the application side as the number of maximum active connections have been reached .  The same thing happens while using external Tomcat, Jetty and JBoss instead of included tomcat.  Furthermore, the connections become hanged regardless of the database (tested MySql, McKoi from fedora3.1 distribution and Derby from 3.2).  The problem came out during a writing of a java connection client to the repository with the usage of FedoraAPIA and FedoraAPIM from the FedoraClient class.   Increasing the maximum number of active instances in pool (for instance up to 3000) will not solve this problem, as a scenario causing this bug to come up can be easily found (e.g. lots parallel client calls).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow the REST API to stream datastreams directly into the backend store Based on the current implementation of the Management interface, the REST API must push datastreams into a temporary file before calling addDatastream or modifyDatastream. If, instead, the Management interface provided a way to pass the stream directly, the file could be stored into the final storage location directly, eliminating the need for an extra store and retrieve step. This would be of great benefit to those needing to do bulk loading activities.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Permgen grows when Fedora deployed/undeployed w/o restarting Tomcat Reported by Graham Triggs:  When repeatedly deploying/undeploying the Fedora webapp (without restarting Tomcat), the JVM permgen size continues to grow.  This can lead to an eventual out-of-memory condition.  This is caused by a failure of classes to be unloaded.  Graham has seen this before, and has dealt with it by using a ""cleanup context listener"" that gets invoked at shutdown time.  Part of this is due to JDBC drivers not being automatically unregistered when the webapp is stopped (this is what the attached java file deals with).  Part also appears to be caused by a JAXP DocumentBuilderImpl reference that is being held by a ThreadLocal.  This reference hasn't been tracked down fully yet.  While investigating this issue, Graham came across a flaw in the shutdown code that can prevent clean shutdown if ManagementModule doesn't shut down properly:  ""...during the shutdown code, the ManagementModule hadn't been fully initialised, so it was then throwing an exception during shutdown (not an MSE), so all the remaining modules never had their shutdown code called (and so the Thread wasn't stopped, and Tomcat couldn't stop).  The local fix is to add a null check to ManagementModule's shutdown procedure:      public void shutdownModule() throws ModuleShutdownException {         if (invocationHandlers != null) {             for (AbstractInvocationHandler h : invocationHandlers) {                 h.close();             }         }     }  Thus preventing an NPE that can occur. Although the shutdown method in Server should probably be more defensive and catch Throwables (not just MSEs) to ensure that all remaining modules are at least attempted to be cleaned up.""",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Content disposition header for filename.extension downloads of datastreams Suggested by Matt Zumwalt at OR09:  To allow people to use a preferred filename and extension when downloading datastreams from Fedora, the REST API should provide a Content-Disposition HTTP header that includes the preferred filename and extension.  The filename can come from the datastream label, if provided.  The extension can either come from the datastream label (if provided), or a mime-type-to-extension map that's configurable on the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Use c3p0 and move away from dbcp for Fedora's connection pooling Suggested by AaronZ at OR09.  Apache's DBCP has problems, c3p0 is better.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Optional schema (xsd) validation on ingest Fedora doesn't do validation of arbitrary datastreams at ingest time, but this is a commonly requested feature.  Fedora should allow one to configure whether to xsd-validate datastreams at ingest time.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for PUT/POST/DELETE (writable) disseminators To support a wider array of use cases, Fedora should allow PUT/POST/DELETE verbs to be used in disseminators.  See related issue: FCREPO-405",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora as WAR without need to run installer Based on a discussion BillB, ChrisW, TimD, Asger, and others had at OR09:  Move toward having a war file for Fedora that doesn' t need to be modified.  1) Make AuthN stuff plug in via an always-configured servlet filter that delegates to what's configured 2) Don't use Tomcat for SSL (recommend Apache for this) 3) Make ""fedora home"" conventionally at /fedora (and don't include it in the war by default)  There was also some discussion that needs to be further rationalized re: running multiple Fedoras in one Tomcat.  A couple ways to go:  a) require that people edit the war file in these cases (to point to a different fedora.fcfg) b) have a convention where it's stored in /fedora/config/fedora-context.fcfg  Looking at this again, I like a) because it seems to be needed anyway if people need to install in a dir that isn't /fedora (e.g. /usr/local, or whatever convention their sysadmin uses)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Eliminating demo-object dependencies on external hosting This issue is to address the dependency that the demo-objects, and hence the unit tests, have on externally hosted content. This makes the builds vulnerable to the availability of other systems.  Note: The reason this issue has higher priority is because with the current demo-objects, not all ConfigB tests pass (fedora.test.api.TestXACMLPolicies) since demo:31 refers to an item not currently available (http://www.fedora-commons.org/demo/misc/batikBatik.svg).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer defaults to deprecated oracle.jdbc.driver.OracleDriver When performing a custom installation on the Oracle platform, the default driver is oracle.jdbc.driver.OracleDriver.  In current Oracle JDBC releases, this has been deprecated / removed. The default should be updated to oracle.jdbc.OracleDriver",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow Fedora to be deployed as a generic WAR From Asger Blekinge-Rasmussen:  (In a discussion at OR'09) we came up with a total redesign of the fedora install procedure. Here goes, from memory:  1. Fedora is just a .war file. There is no installer. (Distribution includes the Fedora WAR and Fedora.fcfg file.) 2. You install said war file in a tomcat. (Renaming the WAR file as necessary to indicate the preferred context name) 3. Upon init of the war file, fedora reads /fedora/fedora.fcfg, or another location specified in the war file's web.xml (or specified by command line or environment variable) 4. This config file specifies, among all the things it already does, the Fedora Home dir. 5. If this dir does not exist, it is created and populated with the nessesary stuff from the war file.  The purpose of the current installer is primarily to set up the web.xml. That settings have to be set up in the web.xml is unfortunate, but unavoidable. (The installer also creates and moves files to fedora home, but this can be done during WAR startup.)  The features that are set up, again from memory: 1. SSL endpoints 2. Other endpoints 3. Servlet filters for Authentication  As far as we could establish, the SSL endpoints are somewhat odd, since people would probably use the tomcat in SSL, rather that the specific web application.  The other endpoints, we envisage, are default enabled. The fedora.fcfg specify which class should handle requests for each endpoint, and thus certain endpoints could have stub  implementations per default.  Preferences which were used to set up the servlet filters in the installer could be added to fedora.fcfg then read by a single filter which is always available.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora ontology casing Two relationships specified in the Fedora ontology (http://www.fedora.info/definitions/1/0/fedora-relsext-ontology.rdfs) have inconsistent casing:  HasDescription HasMetadata  All the other relationships start with a lower-case character (e.g. hasPart, isAnnotationOf).  This will potentially cause some confusion, since RDF is case-sensitive.   ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora Client does not bundle the xpp3_min-* jar Fedora client bundles these libs   <pathconvert pathsep="","" property=""client-libs.list"">     <path id=""client-libs.path"">       <pathelement location=""${lib.activation}"" />       <pathelement location=""${lib.axis}"" />       <pathelement location=""${lib.batik}"" />       <pathelement location=""${lib.commons-codec}"" />       <pathelement location=""${lib.commons-dbcp}"" />       <pathelement location=""${lib.commons-discovery}"" />       <pathelement location=""${lib.commons-httpclient}"" />       <pathelement location=""${lib.commons-logging}"" />       <pathelement location=""${lib.log4j}"" />       <pathelement location=""${lib.commons-pool}"" />       <pathelement location=""${lib.getopt}"" />       <pathelement location=""${lib.jai_codec}"" />       <pathelement location=""${lib.jai_core}"" />       <pathelement location=""${lib.javamail}"" />       <pathelement location=""${lib.jaxrpc-api}"" />       <pathelement location=""${lib.jhbasic}"" />       <pathelement location=""${lib.mulgara}"" />       <pathelement location=""${lib.openrdf-model}"" />       <pathelement location=""${lib.saaj-api}"" />       <pathelement location=""${lib.saxon}"" />       <pathelement location=""${lib.slf4j-api}"" />       <pathelement location=""${lib.slf4j-jdk14}"" />       <pathelement location=""${lib.sunxacml}"" />       <pathelement location=""${lib.trippi-core}"" />       <pathelement location=""${lib.wsdl4j}"" />       <pathelement location=""${lib.xerces}"" />       <pathelement location=""${lib.xml-apis}"" />     </path>     <map from=""${lib.dir}${file.separator}"" to="""" />   </pathconvert>   <fileset dir=""${lib.dir}"" id=""client-libs.fileset"" includes=""${client-libs.list}"" />  XmlPullParserException, which is used by trippi which is used in the risearch interface in the fedora client recide in xpp3_min as shown by this stacktrace  Caused by: java.lang.NoClassDefFoundError: org/xmlpull/v1/XmlPullParserException         at org.trippi.TupleIterator.fromStream(TupleIterator.java:152)         at fedora.client.FedoraClient.getTuples(FedoraClient.java:681)         at net.sourceforge.ecm.repository.FedoraSoapImpl.query(FedoraSoapImpl.java:337)  Thus you cannot use the fedora client getTuples method until this jar is bundled. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Simple Manual Multiplexing Allow managed content to be sent to a client-selected store on the backend.  The requirement for this feature would be that the logic can occur ""above"" Fedora.  So there needs to be a way to signal Fedora on a per-managed-datastream basis, which backend store the content needs to be saved in.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Easy-to-use integration with Djatoka JPEG 2000 service Look into ways   http://sourceforge.net/apps/mediawiki/djatoka/index.php?title=Fedora_Integration,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"With AuthZ off, REST API allows execution of unauthenticated requests I'm playing with our Fedora 3.2 instance and the REST API.  I'm using the Firefox Poster add-on to do an http POST of some simple valid FOXML to the (example) http://fedorabox:8080/fedora/objects/newpid:foobar  URI and am running into problems.  The first time I attempt to do the POST, I get the error ""The PID 'newpid:foobar' already exists in the registry; the object can't be re- created."" even though it is a brand new object.  However, if I search Fedora for the object, I do find it was created.  When I look through the logs, I see that Fedora tries to create the object twice with this one request.  If I try to POST a second object with a new pid and new FOXML, the requests succeeds without error.  Fedora only tries the ingest once.  My guess is that the initial authentication handshake with the first POST causes Fedora to attempt the ingest twice.  The second POST succeeds since the browser is already authenticated, and doesn't need to go through the handshake.  I ran into this because I have some client software that authenticates with every post (since it's not a browser) and I keep running into this problem.  I did not have this issue with 3.0 or 3.1.  I have included the stacktrace error below.  Has anyone else run into this?  Any help appreciated.  Thanks, Willy  javax.ws.rs.WebApplicationException: fedora.server.errors.ObjectExistsException: The PID 'newpid:foobar' already exists in the registry; the object can't be re-created.        at fedora .server.rest.BaseRestResource.handleException(BaseRestResource.java:122)        at fedora .server .rest.FedoraObjectResource.createObject(FedoraObjectResource.java:416)        at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)        at sun .reflect .DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java: 25)        at java.lang.reflect.Method.invoke(Method.java:597)        at com .sun .jersey.server.impl.model.method.dispatch.EntityParamDispatchProvider $ResponseOutInvoker._dispatch(EntityParamDispatchProvider.java:157)        at com .sun .jersey .server .impl .model .method .dispatch .ResourceJavaMethodDispatcher .dispatch(ResourceJavaMethodDispatcher.java:67)        at com .sun .jersey .server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:124)        at com .sun .jersey .server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java: 71)        at com .sun .jersey .server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java: 111)        at com .sun .jersey .server .impl .uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java: 63)        at com .sun .jersey .server .impl .application.WebApplicationImpl._handleRequest(WebApplicationImpl.java: 555)        at com .sun .jersey .server .impl .application.WebApplicationImpl.handleRequest(WebApplicationImpl.java: 514)        at com .sun .jersey .server .impl .application.WebApplicationImpl.handleRequest(WebApplicationImpl.java: 505)        at com .sun .jersey .spi.container.servlet.ServletContainer.service(ServletContainer.java: 359)        at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 269)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at fedora .server .security .servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:78)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 215)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at fedora .server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java: 234)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 215)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at fedora .server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java: 234)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 215)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at fedora .server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java: 234)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 215)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at fedora .server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java: 234)        at org .apache .catalina .core .ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java: 215)        at org .apache .catalina .core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)        at org .apache .catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java: 210)        at org .apache .catalina.core.StandardContextValve.invoke(StandardContextValve.java: 174)        at org .apache .catalina .authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)        at org .apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java: 127)        at org .apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java: 117)        at org .apache .catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java: 151)        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java: 870)        at org.apache.coyote.http11.Http11BaseProtocol $Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)        at org .apache .tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)        at org .apache .tomcat .util .net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java: 81)        at org.apache.tomcat.util.threads.ThreadPool $ControlRunnable.run(ThreadPool.java:685)        at java.lang.Thread.run(Thread.java:619) Caused by: fedora.server.errors.ObjectExistsException: The PID 'newpid:foobar' already exists in the registry; the object can't be re- created.        at fedora .server.storage.DefaultDOManager.getIngestWriter(DefaultDOManager.java: 909)        at fedora .server.management.DefaultManagement.ingest(DefaultManagement.java:136)        at sun.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)        at sun .reflect .DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java: 25)        at java.lang.reflect.Method.invoke(Method.java:597)        at fedora .server .messaging .NotificationInvocationHandler .invoke(NotificationInvocationHandler.java:70)        at $Proxy0.ingest(Unknown Source)        at fedora.server.management.ManagementModule.ingest(ManagementModule.java: 338)        at fedora .server .rest.FedoraObjectResource.createObject(FedoraObjectResource.java:411)        ... 44 more",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Issues in Fedora Commons installation Hello everyone,  I am looking for a fedora-commons forum or something like this for dummies-users like me.  It's the first time I try this software and I have done all procedures for quick and custom installation. First I have done all operations listed here for quick installation (see http://www.youtube.com/watch?v=Utoymym_yaI) but when i go to the page ""localhost:8080/fedora/describe"" I always get this message: "" javax.servlet.ServletException: Unable to get Fedora Server instance.The Fedora server is not yet running""- but ""Startup.bat"", the tomcat server, works fine.  What is my problem? There are problems with java 1.6? When i try custom installation for using postgresql i get the same error. I am pretty sure that the error is in the installation procedure...but where?? The guide online is too poor for users that have no experience with this environment... Thank you very much and sorry for my bad english.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Extra Quotes Added to Literal RELS-EXT Values When using the Fedora Administrator GUI application to add untyped literal objects to RELS-EXT relationships the literal value you supply is surrounded by quotes. On subsequent edits (or additions of other relationships) using the GUI the initial quotes are surrounded by yet another pair of quotes. The original quotes are then escaped and persisted. This happens as many times as you use the GUI to modify the relationships.      See attached screenshot for example.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Document Fedora-DuraCloud Plugin (In release notes) Document/point to how to use DuraCloud as the/a backing store for Fedora.  Note that this option will require participation in the DuraCloud pilot program ... we don't yet know how folks will get involved in that.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Bundled Derby database fails after period of usage. After a period of usage, Fedora 3.2.1 becomes sluggish and unpredictable.  Ordinary requests such as  http://127.0.0.1:8080/fedora/objects/new?label=test&ownerID=fedoraAdmin&state=A  Cause a StorageDeviceException, deriving from derby returning ""ERROR 40XL1: A lock could not be obtained within the time requested"".  See stack trace below.  There is still storage space on the device.  The errors only occur after I've used the image for a while (usually when I get to around 550 objects).  I am mostly running the test suites for active-fedora and ruby-fedora against it.   Fedora Spits out this error (after Fedora hangs for about a minute):  Jul 16, 2009 11:31:18 AM com.sun.jersey.server.impl.application.WebApplicationImpl onException SEVERE: Internal server error javax.ws.rs.WebApplicationException: fedora.server.errors.StorageDeviceException: Error attempting FieldSearch update of changeme:525   fedora.server.rest.BaseRestResource.handleException(BaseRestResource.java:122)   fedora.server.rest.FedoraObjectResource.createObject(FedoraObjectResource.java:416)   sun.reflect.GeneratedMethodAccessor75.invoke(Unknown Source)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:585)   com.sun.jersey.server.impl.model.method.dispatch.EntityParamDispatchProvider$ResponseOutInvoker._dispatch(EntityParamDispatchProvider.java:157)   com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)   com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:124)   com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)   com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)   com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:555)   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:514)   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:505)   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:359)   javax.servlet.http.HttpServlet.service(HttpServlet.java:803)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:78)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)   org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)   org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)   org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)   org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)   java.lang.Thread.run(Thread.java:613) Caused by: fedora.server.errors.StorageDeviceException: Error attempting FieldSearch update of changeme:525   fedora.server.search.FieldSearchSQLImpl.update(FieldSearchSQLImpl.java:256)   fedora.server.search.FieldSearchSQLModule.update(FieldSearchSQLModule.java:151)   fedora.server.storage.DefaultDOManager.doCommit(DefaultDOManager.java:1413)   fedora.server.storage.SimpleDOWriter.commit(SimpleDOWriter.java:443)   fedora.server.management.DefaultManagement.ingest(DefaultManagement.java:152)   sun.reflect.GeneratedMethodAccessor78.invoke(Unknown Source)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:585)   fedora.server.messaging.NotificationInvocationHandler.invoke(NotificationInvocationHandler.java:70)   $Proxy0.ingest(Unknown Source)   fedora.server.management.ManagementModule.ingest(ManagementModule.java:338)   fedora.server.rest.FedoraObjectResource.createObject(FedoraObjectResource.java:411)  ... 44 more Caused by: java.sql.SQLException: A lock could not be obtained within the time requested   org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)   org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)   org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)   org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)   org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)   org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)   org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)   org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)   org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)   org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)   fedora.server.utilities.SQLUtilityImpl.i_addRow(SQLUtilityImpl.java:264)   fedora.server.utilities.SQLUtilityImpl.i_replaceInto(SQLUtilityImpl.java:144)   fedora.server.utilities.SQLUtility.replaceInto(SQLUtility.java:91)   fedora.server.search.FieldSearchSQLImpl.update(FieldSearchSQLImpl.java:240)  ... 55 more Caused by: ERROR 40XL1: A lock could not be obtained within the time requested   org.apache.derby.iapi.error.StandardException.newException(Unknown Source)   org.apache.derby.impl.services.locks.ConcurrentLockSet.lockObject(Unknown Source)   org.apache.derby.impl.services.locks.AbstractPool.lockObject(Unknown Source)   org.apache.derby.impl.store.raw.xact.RowLocking3.lockRecordForWrite(Unknown Source)   org.apache.derby.impl.store.access.btree.index.B2IRowLocking3._lockScan(Unknown Source)   org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockScan(Unknown Source)   org.apache.derby.impl.store.access.btree.LeafControlRow.growRoot(Unknown Source)   org.apache.derby.impl.store.access.btree.LeafControlRow.splitFor(Unknown Source)   org.apache.derby.impl.store.access.btree.BTreeController.start_xact_and_dosplit(Unknown Source)   org.apache.derby.impl.store.access.btree.BTreeController.doIns(Unknown Source)   org.apache.derby.impl.store.access.btree.BTreeController.insert(Unknown Source)   org.apache.derby.impl.store.access.btree.index.B2IController.insert(Unknown Source)   org.apache.derby.impl.sql.execute.IndexChanger.insertAndCheckDups(Unknown Source)   org.apache.derby.impl.sql.execute.IndexChanger.doInsert(Unknown Source)   org.apache.derby.impl.sql.execute.IndexChanger.insert(Unknown Source)   org.apache.derby.impl.sql.execute.IndexSetChanger.insert(Unknown Source)   org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow(Unknown Source)   org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)   org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)   org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)  ... 63 more ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow the API-M.getDatastream method of the REST API to be handled as if it were an API-A method for authentication purposes The API-M.getDatastream method, also known as getDatastreamProfile, provides information about a datastream similar to the way getObjectProfile provides information about an object. When API-A auth is off, the getObjectProfile method does not require authentication, but the getDatastreamProfile does, since it is part of API-M. This has caused quite a bit of confusion for users of the web administrator as they are allowed to search for and look at objects without an authentication prompt, but attempting to look at the datastream profile requires authentication (even though downloading the datastream content does not.) This odd behavior can be relieved by allowing getDatastreamProfile to be handled as an API-A method in the REST API for the purposes of authentication.  Of course, this brings up the question of whether this method really belongs in API-M and if it should be moved to API-A for the SOAP API as well. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fresh install of Fedora 3.2.1 missing Jena packages for successful Tomcat deployment? I've just done a fresh install of Fedora 3.2.1 using the internal Tomcat installation that is provided with Fedora.  The installation was completely successful, but when I start up Tomcat, an error in my logs:  Jul 20, 2009 3:56:12 PM org.apache.catalina.startup.HostConfig deployWAR INFO: Deploying web application archive fedora.war  ************************** ** FEDORA STARTUP ERROR ** **************************  Fedora startup failed fedora.server.errors.ServerInitializationException: java.lang.RuntimeException: fedora.server.Server.<init>(Server.java:665)  Digging through my fedora.log provided the following:  INFO 2009-07-20 15:55:01.842 [ContainerBackgroundProcessor[StandardEngine[Catalina]]] (Server) Post-Initializing fedora.server.resourceIndex.ResourceIndexModule FATAL 2009-07-20 15:55:17.921 [ContainerBackgroundProcessor[StandardEngine[Catalina]]] (Server) Fatal error while starting server java.lang.NoClassDefFoundError: com.hp.hpl.jena.graph.Node         at java.lang.J9VMInternals.verifyImpl(Native Method)         at java.lang.J9VMInternals.verify(J9VMInternals.java:69)         at java.lang.J9VMInternals.initialize(J9VMInternals.java:131)         at org.mulgara.resolver.LocalJRDFDatabaseSession.<init>(LocalJRDFDatabaseSession.java:134)         at org.mulgara.resolver.Database.newJRDFSession(Database.java:1022)         at org.mulgara.server.local.LocalSessionFactory.newJRDFSession(LocalSessionFactory.java:227)         at org.trippi.impl.mulgara.MulgaraSessionFactory.newSession(MulgaraSessionFactory.java:180)         at org.trippi.impl.base.ConfigurableSessionPool.grow(ConfigurableSessionPool.java:202)         at org.trippi.impl.base.ConfigurableSessionPool.<init>(ConfigurableSessionPool.java:61)         at org.trippi.impl.mulgara.MulgaraConnector.init(MulgaraConnector.java:158)         at org.trippi.TriplestoreConnector.init(TriplestoreConnector.java:24)         at fedora.server.resourceIndex.ResourceIndexModule.getConnector(ResourceIndexModule.java:137)         at fedora.server.resourceIndex.ResourceIndexModule.postInitModule(ResourceIndexModule.java:99)  So, it appears that the jena.jar package was not available to Tomcat.  A quick search on the machine returned no such package.  Downloading version 2.6.0 from jena.sourceforge.net and placing it in Tomcat's common/lib directory and doing a restart resolved the issue.  I am reporting this against Fedora 3.2.1 but it also occurred with 3.2 (and perhaps earlier versions, although I was running a 2.2.x instance prior to this so did not test others).  If I can provide any other information, please let me know.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Way of testing requests for Authorization w/o running them Carsten Friedrich wrote to fedora-commons-developers on Jul 23 '09:  In many cases it would be good to know if an operation is allowed before it is attempted. Especially when designing a client application that talks to Fedora it can be quite frustrating for a user to fill in a large form only to learn when pressing ""submit"" that he is actually not allowed to perform this operation. Ideally the client tests this before displaying the form and disables it (or the submit button) to save the user the pointless effort. Can we add a policy API which allows users to do so?  It seems that this could be done with minimal effort since all the functionality is already there. All that's needed is to expose the authorization checks as separate web-service calls.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update documentation to reflect FCREPO-441 (RELS-INT) Update documentation wiki to include RELS-INT,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Problem connecting a Nokia phone as mass storage device When I connect my Nokia 5300 phone as mass storage device I get: Jul 29 08:25:31 pc458345 kernel: usb 8-2: new full speed USB device using uhci_hcd and address 8                                        Jul 29 08:25:31 pc458345 kernel: usb 8-2: New USB device found, idVendor=0421, idProduct=04b9                                           Jul 29 08:25:31 pc458345 kernel: usb 8-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3                                      Jul 29 08:25:31 pc458345 kernel: usb 8-2: Product: Nokia 5300                                                                           Jul 29 08:25:31 pc458345 kernel: usb 8-2: Manufacturer: Nokia                                                                           Jul 29 08:25:31 pc458345 kernel: usb 8-2: SerialNumber: 352734010324133                                                                 Jul 29 08:25:31 pc458345 kernel: usb 8-2: configuration #1 chosen from 1 choice                                                         Jul 29 08:25:31 pc458345 kernel: scsi9 : SCSI emulation for USB Mass Storage devices                                                    Jul 29 08:25:36 pc458345 kernel: scsi 9:0:0:0: Direct-Access     Nokia    Nokia 5300       0000 PQ: 0 ANSI: 4                           Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] 494080 512-byte hardware sectors: (252 MB/241 MiB)                                   Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] Write Protect is off                                                                 Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] Assuming drive cache: write through                                                  Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] 494080 512-byte hardware sectors: (252 MB/241 MiB)                                   Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] Write Protect is off                                                                 Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] Assuming drive cache: write through                                                  Jul 29 08:25:36 pc458345 kernel: sdb:                                                                                                   Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: [sdb] Attached SCSI removable disk                                                         Jul 29 08:25:36 pc458345 kernel: sd 9:0:0:0: Attached scsi generic sg2 type 0                                                           Jul 29 08:25:37 pc458345 kernel: usb 8-2: reset full speed USB device using uhci_hcd and address 8                                     ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Recommended use of entity references for special characters in web admin As reported by Richard Green on the dev mailing list, the web admin fails with an error when attempting to include encoded characters, using name encoding, within XML datastream content. Using number encoding for these characters works fine. See a list of name and number encodings here: http://www.ascii.cl/htmlcodes.htm.  As an example, adding the line <dc:rights>&#169; Fedora Commons</dc:rights> to a DC datastream works fine, but attempting to add <dc:rights>&copy; Fedora Commons</dc:rights> fails with the error ""The entity 'copy' was referenced but not declared"". A few name encoded characters do work (such as &lt; and &gt;) but most do not.  The same errors are thrown when attempting this through the swing admin.  A note from Peter Cliff on this issue:   You need to define entities with names (&copy;) etc.  See:  http://www.xml.com/pub/a/98/08/xmlqna2.html http://www.tizag.com/xmlTutorial/xmlentity.php  So my guess is that somewhere some XML parsing/creating is happening behind the scenes of that client and it is throwing the whole thing off when the XML processing fails on account of an undefined entity?  I couldn't find any entity definitions for the HTML named ones in the src/xsd/ (aside from the reference in xhtml1-strict.xsd). Do there need to be some?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Merge API-A and M across the board, simplifying AuthN See FCREPO-515  This gets rid of the notion (over time) of two separate web-facing apis for Fedora (A and M). This needs to happen after FESL is integrated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
DSIDs can now no longer terminate in .xml and behave properly It is possible to create a new datastream terminating in .xml - eg file.xml  The html page for this datastream is unobtainable -> eg /objects/pid/datastreams/file.xml  as it incorrectly looks for a datastream without the .xml eg 'file' and states that 'file' doesn't exist.  /objects/pid/datastreams/file.xml.xml does resolve to the xml version of the file.xml ds properties.  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"POST to /objects/pid/datastreams/dsid is counter-intuitive From the RFC for HTTP 1.1:  The POST method is used to request that the destination server accept    the entity enclosed in the request as a new subordinate of the    resource identified by the Request-URI in the Request-Line.     If a resource has been created on the origin server, the response    SHOULD be 201 (Created) and contain an entity which describes the    status of the request and refers to the new resource, and a Location    header (see section 14.30).  Whilst an initial create is conformant to the spec as the posted resource becomes GETable at an alternate location (/content), not returning a Location header is highly confusing for new users/developers.  POST for creation is typically reserved for POSTing to a collection URL, which will return a URL of the created resource (if created)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"User-facing utility for creating 3 special Fedora objects Cmodel, Sdef, SDep  Could be implemented as part of the Fedora WebAdmin GUI.  A simple form would be a big improvement.  Maybe leverage ezservice?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DemoSOAPClient doesn't compile Greg Hamer wrote: ... I have tried unsuccessfully to run the Example SOAP Client (as documented here: http://www.fedora-commons.org/confluence/display/FCR30/Example+SOAP+Client )  Can anyone confirm for me that the ""Example SOAP Client"" can run successfully against  a ""Quick Install"" installation?  One error that I am getting is running compile-demo-soapclient.bat.  That is: %FEDORA_HOME%\client\demo\soapclient>compile-demo-soapclient.bat  The error returned is:  C:\apps\Fedora\client\demo\soapclient\DemoSOAPClient.java:243: cannot find symbol symbol : variable FEDORA_DEFAULT_CONTEXT location: interface fedora.common.Constants String context = Constants.FEDORA_DEFAULT_CONTEXT; ^1 error Finished compile of demo soap client.  Looking at Interface fedora.common.Constants I see no property FEDORA_DEFAULT_CONTEXT.  I do, however, see FEDORA_DEFAULT_APP_CONTEXT.  Might this be an error in the class DemoSOAPClient.java?  If yes, should I add this as an issue in the Bug Tracker?  Docs here for Interface fedora.common.Constants: http://fedora-commons.org/documentation/3.2/javadocs/fedora/common/Constants.html  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Looser CModel-SDef coupling in the CMA In the current CMA model, the ""providesService"" arc from a CModel object to an SDef object is necessary in order to add additional methods to a set of objects.  But the two arcs from the SDep to the SDef and CModel are actually enough to tie these together implicitly.  Doing it this way could allow people to think about content modeling concerns (the ""stuff"" in the objects) as a separate activity from adding methods to a set of objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Better Documentation/Examples on relationship API Update this page:  http://fedora-commons.org/confluence/display/FCR30/API-M#API-M-RelationshipManagement  With:  - Under the ""Relationship Management"" heading, make it clear and link to RDF (which relationships are allowed, difference in DC, etc). - In the params, make it clear which need to be URIs - Include examples in the doc (taken from JUnit)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
New supported database: Microsoft SQL Server Idaho National Laboratory has successfully integrated Fedora with Microsoft SQL Server.  This item is to test and include their efforts into the baseline.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Adding a RELS-EXT relationship with a literal object fails validation due to platform default character encoding SimpleDOWriter is converting between strings and bytes without specifying the character encoding - the platform default is used.  The original encoding is ignored resulting in invalid UTF-8 strings.  See this thread for more info, example code and a potential fix: http://sourceforge.net/mailarchive/forum.php?thread_name=439139C994945E41B9886BE89789549B01C5E07882%40EXNSW-MBX05.nexus.csiro.au&forum_name=fedora-commons-developers  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"CMA and server should support optional datastreams sensibly At present, Fedora's CMA does not formally allow optional datastreams.  It is very important to the Hydra Project (and I think to Asger's group in Denmark too?) that it should.  At present, because content models are not enforced, you can effectively have optional dss providing that you do not call an optional one that has not been implemented.  If you do call a missing ds I believe you get a 500 error.  We in Hydra would prefer that Fedora return an empty response ( eg <xml></xml>).  To match this, the content model definition would need to support something like:   <dsTypeModel ID=""techMetadata"" type=""optional"">              <form MIME=""text/xml""/>  </dsTypeModel>             This would make for very much simpler, more flexible, content modelling.  Example use case 1:  Hydra will define a common metadata object for all content.  This will contain all the dss that we think a good repository would want (locally an installation can, of course, supplement them).  One of these dss would be 'contentMetadata' which is applicable only to objects that of themselves can generate a splash page.  Better to have one metadata model with 'contentMetadata' optional than have to maintain two?  Example use case 2:  Hydra will define a 'simple image' content model which will be used to deliver the same image at a variety of resolutions.  There may or may not be a protected 'original' or 'archive' copy (possibly in a different format) in the same object.  Better one 'simple image' object with an optional archive datastream than to maintain two distinct models?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Get rid of "".xml"" shortcut on REST API Ben O'Steen noted in FCREPO-522 that the .xml shortcut is problematic for the REST API's /objects/pid/datastreams/{dsid} (apim:getDatastream, which gets datastream metadata) endpoint.  It's problematic when the datastream id ends with .xml.  We discussed this on the Sept15th call and decided to get rid of the .xml shortcut as a solution.  This issue is to extend that, for consistency, across the REST API.  There are places where it's NOT problematic from a functional perspective, but the lack of consistency would be troubling from a design perspective.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add getContentModels and hasContentModel methods Please see background discussion here:  https://fedora-commons.org/confluence/display/DEV/mail/13140053  ---  As promised way back, I have patched Fedora with content model checks.  When original Fedora want to list the content models for an object, it queries all objects referenced through the hasModel relation. I have changed to code to use a getContentModels() method on the object. I have added a hasContentModel(ObjectNode cm) method, to check if an object has a given content model, a check that is performed often.  This change should not in any way change the behaviour of Fedora. It is a necessary prelude to adding inheritance to the content models, through.  The patch is attached. It is developed against trunk. It has been tested, but not extensively. Rather, the code changes have been reviewed.  Regards",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Out of box deployable war, without a separate installer FCREPO-504 removed all customization/configuration from the war file, and placed it into FEDORA_HOME.  This allows a single generic war file to represent the fcrepo server, which can be deployed or upgraded independently from its configuration.  The role of the installer is to setup FEDORA_HOME, as well as define the mapping between the fcrepo server war files the FEDORA_HOME directory.  The fcrepo server war file depends on FEDORA_HOME existing in order to function  This task shall allow the fcrepo war file to self-bootstrap a FEDORA_HOME without the need to explicitly run a separate installer.  This could be achieved by either (a) automatically deploying a default configuration to a known or temporary directory or (b) having some functionality in the war file that effectively fulfills the role of an installer complete with option selection",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Implement addRelationship, etc methods to complete REST API See this page for which:  https://fedora-commons.org/confluence/display/FCR30/REST+API  This is a prereqisite to completing the REST interface.  We need to have a story about why a method isn't supported anymore, or it needs to be implemented.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Certain ingests may report failure, but retain the object in the registry, filesystem, and RI in an unreadable state. The error occurred again, and this time we are able to reproduce it.  As  far as I can tell, it looks like when Fedora checks and verifies that a  foxml file is well-formed, it then creates a stub object, then checks  the datastreams.  If validation of the datastreams fails under certain  conditions, Fedora returns an error, but leaves the stub object in the  file system and in the database.  To reproduce this: The steps to reproduce the error are (using attached files)  1. Compare the content of DemoFail.xml and DemoSuccess.xml. They should  differ only in the location of the attribute xmlns:xlink: on the element <foxml:digitalObject> (DemoFail) or <mods:mods> (DemoSucess).  2. Ingest object demo:failObject from DemoSuccess.xml; it should be  successful.  3. Purge the object demo:failObject.  3. Ingest object demo:failObject from DemoFail.xml; it will fail because  of the location of the xlink namespace declaration.  4. Since the object was not ingested, try to repeat step 2. It will fail  with an ObjectAlreadyInLowlevelStorageException. At this point, you can  neither ingest nor purge the object demo:failObject. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Fedora-system owl ontology Although the Fedora-system relationships and properties are documented here:  http://fedora-commons.org/confluence/display/FCR30/Triples+in+the+Resource+Index  ...it would be helpful if they were expressed in owl as well.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
REST API support is broken (Jersey error) Sample stacktrace from attempting to ingest a demo object via the REST API  SEVERE: The ResourceConfig instance does not contain any root resource classes. ERROR 2009-10-09 15:35:18.619 [http-8080-2] ([/fedora]) StandardWrapper.Throwable com.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.   com.sun.jersey.server.impl.application.WebApplicationImpl.processRootResources(WebApplicationImpl.java:613)   com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:492)   com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:319)   com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:652)   com.sun.jersey.spi.container.servlet.ServletContainer.load(ServletContainer.java:540)   com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:207)   org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1172)   org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:808)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)   org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)   org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)   java.lang.Thread.run(Thread.java:613) ERROR 2009-10-09 15:35:18.620 [http-8080-2] ([RestServlet]) Allocate exception for servlet RestServlet com.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.   com.sun.jersey.server.impl.application.WebApplicationImpl.processRootResources(WebApplicationImpl.java:613)   com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:492)   com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:319)   com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:652)   com.sun.jersey.spi.container.servlet.ServletContainer.load(ServletContainer.java:540)   com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:207)   org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1172)   org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:808)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)   org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)   org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)   java.lang.Thread.run(Thread.java:613) ,legacy - OSGi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0
"Drop unused control group ""B"" from FOXML schema This was added to the FOXML schema back in '05, but has never been used or defined.  It should be dropped from both the 1.0 and 1.1 schema.  http://fedora-commons.svn.sourceforge.net/viewvc/fedora-commons/fedora/trunk/server/src/main/resources/xsd/foxml1-0.xsd?revision=2848&view=markup",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora.home context-param is required as of rev 7921 (FCREPO-68), the fedora.home context-param is effectively required, although fedora.server.ServerController.init() and fedora.common.Constants.FedoraHome.getValue() suggests otherwise:  Determines the value of ""Fedora Home"" based on the          * servlet.fedora.home system property (checked first)          * fedora.home system property (checked next) or the          * FEDORA_HOME environment variable (checked last).  However, ServerController.init() uses System.setProperty on the key ""servlet.fedora.home"" to the value of the fedora.home context-param defined in web.xml. If the context-param is not present in web.xml, a NullPointerException is raised (since getServletContext().getInitParameter(""fedora.home"") would return null). If the context-param is empty, servlet.fedora.home is set to the empty string and the other two options (fedora.home system property and FEDORA_HOME environment variable) are never evaluated. Effectively, the fedora.home context-param is the only way to define ""Fedora Home"".",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Stabilize REST API (non-beta) In order to consider the REST API stable (non-beta), we need to finish several pieces of it and make sure certain bugs are addressed.  After this point, we will not make backward-incompatible changes without giving sufficient warning to users.  Ideally, this means marking functionality as deprecated for a release, so people have time to adjust their client code.  In the committer discussion on Nov 10 '09, we agreed that stabilizing the REST API does *not* require that the relationship-related methods are exposed in it.  A future version of Fedora may extend the REST API to add these.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
WADL distributed with Fedora doesn't work Kai noticed this...need to look into it futher.  Would be nice to verify that this works in time for 3.3.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RELS-EXT is not validated on creation, only validated when updated See recent report on dev list from Richard Jones for Fedora 3.2  Reproduced on 3.2.1 and on the trunk (post RELS-INT integration).  Richard reports that adding a new RELS-EXT datastream using the REST API with a dateTime literal that is invalid, eg 2009-10-05T16:02:26+0100, is not validated.  However updating the datastream (eg adding a new relationship) then results in a validation error.  Reproduced using the admin client (so this is not limited to the REST API): create a new object, add RELS-EXT with invalid date time, does not result in a validation error.  However subsequently amending RELS-EXT does throw a validation error.  The bug is not limited to dateTime, this also occurs for integer values (eg 1.23 is allowed), and also occurs when adding relationships with predicates that are not allowed in RELS-EXT, so it would appear that RELS-EXT is not validated at all when it is created for the first time.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Change bundled Tomcat to v6.0 A lot of people are starting to use Tomcat 6 now, esp. with OSGi.. we need to move to Tomcat 6 as the default/tested bundled servlet container for Fedora.  Doing this will probably involve switching some lib dependencies.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Akubra replaces LLStore as primary blob storage abstraction In Fedora 3.2, Akubra was integrated as an implementation of the LLStore interface.  This work completes the transition to Akubra as the primary blob storage abstraction in Fedora by:  - Removing the LLStore Module and replacing it with an Akubra-based one - Ensuring that blob size is exposed via the API (to support FCREPO-64)  To ensure a smooth transition for existing Fedora users, it MUST be possible to:  - Continue using old LLStore implementations with Fedora   (so an Akubra implementation backed by an LLStore implementation can be used for at least a release, while LLStore is being deprecated) - Migrate from any Akubra impl to any other Akubra impl (combined with the above, this makes it possible to migrate from LLStore-based storage to straight Akubra-based storage).  This is also useful for migrating storage wholly from one impl to another; a useful function in itself.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Configurable parameters for the Fedora internal http client I ran into a curious performance issue when several students were testing a digital collection interface we have developed.  When all the students accessed the same search results page at the same time (a ""canned"" search page), the application would freeze up for several minutes.  The search results page contained 10 thumbnails, all of which were served up by Fedora via a disseminator.  After several hours of targeted load testing and debugging, I narrowed down the source of the problem to communication between Fedora and the backend web service that delivers the thumbnails.  I started digging through the source code, and found fedora.common.http.WebClient:  public class WebClient {      /** Seconds to wait before a connection is established. */     public int TIMEOUT_SECONDS = 20;      /** Seconds to wait while waiting for data over the socket (SO_TIMEOUT). */     public int SOCKET_TIMEOUT_SECONDS = 120;      /** Maxiumum http connections per host */     public int MAX_CONNECTIONS_PER_HOST = 5;      /** Maxiumum total http connections */     public int MAX_TOTAL_CONNECTIONS = 20;      /** Whether to automatically follow HTTP redirects. */     public boolean FOLLOW_REDIRECTS = true;      /**      * Maximum number of redirects to follow per request if FOLLOW_REDIRECTS is      * true.      */     public int MAX_REDIRECTS = 3;   ... }  Suspecting that Fedora had run out of connections for making requests to my backend web service, I manually changed WebClient.java to bump up MAX_CONNECTIONS_PER_HOST to 256, and MAX_TOTAL_CONNECTIONS to 256, recompiled, then put the changed class file in place, restarted Tomcat, and re-executed my load tests.  The problem disappeared.  I'd like to request the following features be added to a future release of Fedora:  1.  Make the internal web client parameters configurable in fedora.fcfg (TIMEOUT_SECONDS, SOCKET_TIMEOUT_SECONDS, MAX_CONNECTIONS_PER_HOST, FOLLOW_REDIRECTS, MAX_REDIRECTS)  2.  Throw a meaningful exception that can be captured in the logs whenever one of the above constraints is exceeded. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Standard SPARQL Protocol Endpoint Fedora's risearch interface supports SPARQL the query language if the underlying triplestore (Mulgara) does.  However, having a standard SPARQL endpoint for the repository would be better.  Discussed at October Special Topic meeting with Paul Gearon.  Note that when you configure Fedora to use Mulgara in remote mode, it is already possible to use Mulgara's SPARQL endpoint directly.  This feature is about having a standard (or discoverable?) SPARQL protocol endpoint for any Fedora repository, whether the underlying triplestore is embedded or not.  One method we've discussed that would support discoverability of this interface is to provide the URI of the endpoint in the Fedora ""describe"" API response.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Implement REST method/service invocation (was: getDissemination) 17 nov 2009 Committer Call: GET/POST /objects/{pid}/methods/{sdef}/{method} : invokes method GET /objects/{pid}/methods/{sdef} : lists methods defined in sdef,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Implement REST method compareDatastreamChecksum None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"AUDIT datastream does not archive the values changed Methods like modifyObject modifies non-versionable fields in a object (state, label, owner). Modify datastream can do the same, as not all fields are part of a datastream version.  The AuditRecord does not at present archive the old values (or even the call parameters), making it impossible to get the previous value of the field. I propose that we adment the audit record with information about the fields changed. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Alternative REST api I proposed an alternative for the existing REST api, detailed here http://fedora-commons.org/confluence/display/DEV/Alternative+REST+API  It is just the specification at the moment, not an implementation. I would like it to live alongside the current REST api, and perhaps, at a later date replace it.   There is a discussion of the proposal at http://www.mail-archive.com/fedora-commons-developers@lists.sourceforge.net/msg00545.html  I do not envisage this API to be done by Fedora 3.3",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Eclipse build is broken In the course of migrating our build from Ant to Maven (viz. FCREPO-394), Fedora no longer builds correctly in Eclipse. I believe this should be treated as a regression. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Drop ""Lite"" APIs (API-A-Lite/API-M-Lite) After the REST API is functionally complete, it will be unnecessary and confusing to have the old ""Lite"" APIs.  They should be noted as deprecated for a release, then removed.  As of Dec 09, functionality that does not yet exist in the REST API, but is included in the ""Lite"" apis, includes:  - describeRepository (we have discussed having this be a dissemination on a special, well-known object.  Another option I'd like to consider is whether the info provided here can be reasonably provided via a GET on /fedora/objects?format=xml)...if we consider the /fedora/objects resource to be representative of the repository)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Trunk fails to build on Windows if path contains spaces Building fails on Windows if the path contains spaces.  Not tested if this is also the case on Linux.  Building with:    mvn clean install and    mvn install -P fedora-installer  The actual error shown is:  30-Oct-2009 09:43:07 org.apache.axis.utils.JavaUtils isAttachmentSupported WARNING: Unable to find required classes (javax.activation.DataHandler and javax .mail.internet.MimeMultipart). Attachment support is disabled. [INFO] ------------------------------------------------------------------------ [ERROR] BUILD ERROR [INFO] ------------------------------------------------------------------------ [INFO] Error generating Java code from WSDL.  Embedded error: Error running Axis C:\work space\fedora-repository\resources\fedora-types.xsd (The system cannot fi nd the file specified),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Maven target/goal(s) for building all distribution files and md5s We need to have a working, documented way of building all distributable artifacts for the Fedora release.  Right now it's possible to build the installer, but we also need to distribute (at least):  - a source code release (zip) - the fedora-messaging client - the fedora-journaling-rmi receiver jar - an associated .md5 checksum file for each distributed file  The automatically-built filenames should be exactly the filenames we want to distribute.  We need: 1) A decision on which exact files and filenames we're distributing for 3.3 2) An automatic way to generate them, as build goals/targets 3) Documentation of how to generate them, in the ""Build the final distribution"" section of the ""Fedora Release Process"" document at http://fedora-commons.org/confluence/display/FCREPO/Fedora+Release+Process",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"json output format for risearch  risearch supports plain and delimited text, and Sparql as output formats.  Adding JSON would streamline the incorporation of risearch results into tools on other platforms, particularly so if support for JSONP callbacks were included.  Depending on the future of risearch, this may be dependent on http://fedora-commons.org/jira/browse/FCREPO-553",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora/risearch GET query returns incorrect result when querying on literal object that contains multibyte utf-8 sequences Issuing a ""GET"" iTQL query to fedora/risearch, constraining the object on a string literal that is a multibyte utf-8 string returns incorrect results.  To reproduce, create an object with the following relationship in RELS-EXT:  (the byte sequence for the literal below is 0xE2, 0x80, 0x9C, 0xCE, 0x910x20, 0xC2, 0xBF, 0xE2, 0x80, 0x9D which is: left double quotes; capital alpha; space; inverted question mark; right double quotes)  <info:fedora/some:pid> <urn:bar> '""?  ""'  The sample iTQL query for this is: select $s from <#ri> where $s <urn:bar> '""?  ""'  Issuing this in the fedora/risearch web interface (ie via POST) works fine - the tuple is returned.  The GET version of this is as follows (url-encoded) http://localhost:8080/fedora/risearch?query=select+%24s+from+%3C%23ri%3E+where+%24s+%3Curn%3Abar%3E+%27%E2%80%9C%CE%91+%C2%BF%E2%80%9D%27&type=tuples&lang=itql&flush=true&format=Sparql  This returns no results.  This currently impacts integration tests for example fedora.test.api.TestRelationships.testAddRelationship() when tests are added for multibyte utf-8 literals.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add methods to SOAP API for manipulating RELS-INT relationships The SOAP API contains methods for manipulating relationships in RELS EXT.  These could either be extended, or new methods created, for relationships in RELS-INT.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Custom db - SQL Interface on Fedora objects For speed reasons we wanted a database that contains a part of the information Fedora contains in its foxml objects. We had considered gSearch and tried Mulgara, but came into problems. I longed for a database, as they are best for the kind of use-case we were saddled with. I came up with an idea and looked at Fedora's ability to do this for the dublin core datastream. I figured that it would be easy to extend that feature a bit, so that Fedora might do it for any kind of metadata. This was indeed not too difficult and with a few extra classes and a only a few changes of the original code this was realised.   The idea is that DefaultDOManager.dbspec is extended with this line:      <include href=""server/config/custom-db.xml"" />  Then in that file under the Fedora home config dir you can put your own database schema, which is an extension of the database schema used in the dbspec file. Of course you may then also add more include statements to the custom-db.xml file, so that you may configure parts of the database in separate files.  In the dbspec files the main setup is of tables which have columns. I have added values to those columns through defining value getters. Currently I have implemented only once such value getter that uses an xPath expression. The expression retrieves from the foxml or from a datastream of the foxml one or more values. This values getting code does not necessarily run for all digital objects. It is possible to choose one or more content models and/or datastream ids that must be present for the tables to be updated by the digital object, thus allowing for a tables to be updated only by a specific kind of digital object. Here is an example of table with two columns (not necessarily a practical example):  <table name=""easyFiles"" contentModel=""info:fedora/fedora-system:easyfile"" datastreamId=""file"">     <column name=""pid"" type=""varchar(64)"" notNull=""true"" index=""easyfile_pid"" binary=""true"">  <comment>The PID of the file object. Primary key of this table.</comment>     </column>      <column name=""filename"" type=""varchar(256)"" notNull=""true"" index=""filename"" default=""-"">         <value>              <valuegetter type=""xPath"" xPath=""//easyfile:filename"" nsPrefix=""easyfile"" nsUri=""http://easy.dans.knaw.nl/files"" delimiterType=""row"" />           </value> </column>  A table with the name ""easy_files""  is made that is filled for the digital obejcts that have the content model ""info:fedora/fedora-system:easyfile"" and have a datastream ""file"". The xPath expression ""//easyfile:filename"" runs over the file datastream and puts its values in the ""filename"" column. If multiple values are found it delimits those values by creating multiple rows (silly example I know).  The pid column must be present and is the only hardcoded column. It is maintained by the custom-db code.  As said before an xPath expression may return several values. For that two kinds of delimiters may be used. A row delimiter (meaning several rows are created for each value) and a normal delimiter (meaning a string value, by default a comma, is inserted after every value). Also a values tag may contain several valuegetter tags, which can be delimited in the same two ways. If two columns return two rows each those two column values are added together as one row. A possibility would be to add valuegetters for the second row that return a default value for that row if nothing was found, thus creating the possibility of composing rows almost any which way one wants.Of course one might also choose to use different types of valuegetters next to each other, but currently there is only the xPath implementation. The xPath implementation will typically cover most cases where somebody just wants to retrieve some basic information about their digital objects from a database. However, other types of implementations would be necessary if one would want to work with hierarchical data.   A pid must always be present, but does not need to be the primary key (primaryKey attribute of the table). It is up to the user how the data is composed into tables. Foreign keys may also be defined, though I found that I needed to fix a small bug in the code for this too work for PostgreSQL, since this code probably had been lying dormant in Fedora for years. I have tested this only with PostgreSQL, so I do not know if the Fedora code base has any more such bugs. My code did not need any addition to the Fedora database code except for this bugfix. One other advantage of having primary keys, foreign keys and also the notNull attribute is that if the values gotten from the foxml do not correspond to your database schema the database will thrown an exception which then makes it impossible to ingest the object. This is a free kind of data validation, though, admittedly, a bit weak. However using Fedora to do your database housekeeping is much more reliable than doing it yourself. If it gets in Fedora it gets into your database and if it didn't get in Fedora it didn't get into the database.  It's almost impossible for Fedora and the database to get out of sync. And if they do for some magical reason (get out of sync) one can still rebuild the database with the Fedora rebuild tool.  So with this simple system it is possible to do almost any kind of database synchronization based on Fedora data. I have seen many projects based on Fedora that employ a database alongside Fedora in order to speed up the querying process. I therefore think this might be useful for many such projects.  An extension to this would be possible through the search interface that comes with Fedora. It could be made to search through tables that the user defines. This wouldn't be a replacement of gSearch, but a simple alternative for those who need to achieve results quick. This was not needed for our project, since we use gSearch, so I have not taken the liberty to do so.   The attached source is based on the released source of Fedora 3.2.1. The code has been documented, optimized (for not doing the same stuph more than once) and tested (though unit tests are missing). The gist of it can be found under fedora.server.customdb.   Last but not least it should be mentioned that we use this feature already and have seen no problems with it so far. It also does not interfere in anyway with the normal functioning of Fedora. If one does not put anything in custom-db.xml then Fedora does not touch the custom-db code at all, so deciding to adopt this feature into the Fedora codebase does not endanger the overall project at all. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
melcoe-pep-server-config.wsdd should be a generated target /melcoe-pep/base/melcoe-pep-server-config.wsdd is currently a static file rather than generated as is server-config.wsdd in FCREPO,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Maven-ize FeSL projects melcoe-pdp, melcoe-pdp, and fedora-jaas should be Mavenized",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"melcoe-pep unnecessarily depends on fedora-client.jar From what I can tell, the dependency is on fedora.common.Constants, so we need at most common.jar",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Import FeSL projects into Fedora Commons source control Currently, the FeSL code is hosted at muradora.org. I think we need an svndump to import into a Fedora Commons vcs.  Probably Chi or Nish to do the dump (& filter) and Chris to do the import?",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Remove dbxml or make it an optional dependency This has been discussed before, just making a note of it here. This should go hand-in-hand with the move to make policies first-class objects in the Fedora repository. Ideally, we'd give the repository manager the option to cache policies in memory or use dbxml for repositories with a lot of policies.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Make XACML policies first-class Fedora digital objects Currently, policies are stored in dbxml. Policies should be first-class Fedora objects in the repository.  General feedback about the namespace for policy objects would be most welcome.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Update version of Mulgara to 2.1.3 (or later) Current version of Mulgara supported by Fedora 3.2.x is 2.1.1  If using an external instance of Mulgara, there is a bug in the REST interface, XML entities in the result set are not correctly encoded as entities (eg ""&"" in a literal in a result appears as ""&"" not ""&amp;"") which results in mal-formed XML documents.  This is fixed in Mulgara 2.1.3  - http://mulgara.org/release.html#v2.1.3  This is not an issue that directly impacts Fedora (eg RISearch behaves correctly, SPARQL results format correctly includes the XML entity.  However it does impact applications that want to directly query Mulgara using Mulgara's REST interface.  Presumably requires a Trippi upgrade as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Api Method for creating new object A simple method for creating a new object, as opposed to ingest. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Mulgara to 2.1.4 Update Mulgara to 2.1.4.  This includes updating Trippi to support 2.1.4,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Default XACML policies involving localhost don't work in IPv6 environments Reported by several people on the list, most recently Alex O'Neill and Paul Pound:  http://permalink.gmane.org/gmane.comp.cms.fedora-commons.devel/1450  Christian Rohrer has verified that this can be fixed by adding the following after the similar 127.0.0.1 line in the relevant XACML:              <AttributeValue DataType=""http://www.w3.org/2001/XMLSchema#string"">::1</AttributeValue>  This should allow local connections to API-M by default, regardless of whether the loopback ip address is specified in the IPv4 way, or the IPv6 way.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Alternative (non-fedora) webapp context no longer experimental This new feature has proven stable since Fedora 3.2 was released, and as of 3.3, will no longer be considered experiemental.  Thus, references to its experimental nature need to be removed from the text shown when running the installer, and the installation docs need to be updated as appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API: Object Profile does not show content model The object profile on the REST API does not show the content model, although the html stylesheet has a placeholder for it. This information is currently not avilable in the ?format=xml representation either.  It needs to be added.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update bundled Derby to 10.5.3.0 Use the latest stable version of Derby.  This may fix FCREPO-514.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Review the REST documentation against the REST code The REST api documentation is seriously lacking, and in places incorrect. While the REST api was in beta, this was acceptable, but I we want to stabilize the API for production use, we must do better documentation.   We should do a review of the REST code, in order to ensure that the documentation describes the various cases. We should ensure that output format is properly documented, and adhere to schemas or the like.  The current docs can be found here: http://www.fedora-commons.org/confluence/display/FCR30/REST+API  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add Soap method AddDatastreamByValue The current AddDatastream method in soap should actually be named AddDatastreamByReference, and correspond to the existing ModifyDatastreamByReference. There is no partner for ModifyDatastreamByValue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOValidatorSchematron error on Fedora startup with WebLogic When trying to start Fedora deployed in WebLogic, Andreas Nef has reported the following stack trace:  INFO 2009-10-16 15:46:10.586 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (Server) Post-Initializing fedora.server.storage.translation.DOTranslatorModule INFO 2009-10-16 15:46:10.586 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (Server) Post-Initializing fedora.server.messaging.MessagingModule INFO 2009-10-16 15:46:10.599 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (BasicServer) Ingesting new system object: fedora-system:ContentModel-3.0 ERROR 2009-10-16 15:46:10.896 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (DOValidatorSchematron) Schematron validation failed javax.xml.transform.TransformerException: java.lang.RuntimeException: Namespace for prefix 'foxml' has not been declared.   com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:717)   com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)   fedora.server.validation.DOValidatorSchematron.createValidatingStyleSheet(DOValidatorSchematron.java:203)   fedora.server.validation.DOValidatorSchematron.setUp(DOValidatorSchematron.java:161)   fedora.server.validation.DOValidatorSchematron.<init>(DOValidatorSchematron.java:76)   fedora.server.validation.DOValidatorImpl.validateByRules(DOValidatorImpl.java:334)   fedora.server.validation.DOValidatorImpl.validate(DOValidatorImpl.java:251)   fedora.server.validation.DOValidatorModule.validate(DOValidatorModule.java:188)   fedora.server.storage.DefaultDOManager.getIngestWriter(DefaultDOManager.java:789)   fedora.server.BasicServer.preIngestIfNeeded(BasicServer.java:155)   fedora.server.BasicServer.postInitServer(BasicServer.java:99)   fedora.server.Server.<init>(Server.java:629)   fedora.server.BasicServer.<init>(BasicServer.java:40)   sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)   sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)   sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)   java.lang.reflect.Constructor.newInstance(Constructor.java:513)   fedora.server.Server.getInstance(Server.java:1021)   fedora.server.ServerController.init(ServerController.java:208)   javax.servlet.GenericServlet.init(GenericServlet.java:241)   weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:283)   weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)   weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)   weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:64)   weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:58)   weblogic.servlet.internal.StubLifecycleHelper.<init>(StubLifecycleHelper.java:48)   weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:521)   weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:1913)   weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:1887)   weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1805)   weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3041)   weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1374)   weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:452)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)   weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)   weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:629)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:206)   weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:40)   weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)   weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)   weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)   weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:844)   weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1253)   weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:440)   weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)   weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)   weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)   weblogic.work.ExecuteThread.run(ExecuteThread.java:173) Caused by: java.lang.RuntimeException: Namespace for prefix 'foxml' has not been declared.   com.sun.org.apache.xml.internal.serializer.SerializerBase.getNamespaceURI(SerializerBase.java:895)   com.sun.org.apache.xml.internal.serializer.SerializerBase.addAttribute(SerializerBase.java:422)   preprocessor.template$dot$0()   preprocessor.applyTemplates()   preprocessor.applyTemplates()   preprocessor.transform()   com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet.transform(AbstractTranslet.java:602)   com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:710)  ... 62 more --------- java.lang.RuntimeException: Namespace for prefix 'foxml' has not been declared.   com.sun.org.apache.xml.internal.serializer.SerializerBase.getNamespaceURI(SerializerBase.java:895)   com.sun.org.apache.xml.internal.serializer.SerializerBase.addAttribute(SerializerBase.java:422)   preprocessor.template$dot$0()   preprocessor.applyTemplates()   preprocessor.applyTemplates()   preprocessor.transform()   com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet.transform(AbstractTranslet.java:602)   com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:710)   com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)   fedora.server.validation.DOValidatorSchematron.createValidatingStyleSheet(DOValidatorSchematron.java:203)   fedora.server.validation.DOValidatorSchematron.setUp(DOValidatorSchematron.java:161)   fedora.server.validation.DOValidatorSchematron.<init>(DOValidatorSchematron.java:76)   fedora.server.validation.DOValidatorImpl.validateByRules(DOValidatorImpl.java:334)   fedora.server.validation.DOValidatorImpl.validate(DOValidatorImpl.java:251)   fedora.server.validation.DOValidatorModule.validate(DOValidatorModule.java:188)   fedora.server.storage.DefaultDOManager.getIngestWriter(DefaultDOManager.java:789)   fedora.server.BasicServer.preIngestIfNeeded(BasicServer.java:155)   fedora.server.BasicServer.postInitServer(BasicServer.java:99)   fedora.server.Server.<init>(Server.java:629)   fedora.server.BasicServer.<init>(BasicServer.java:40)   sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)   sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)   sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)   java.lang.reflect.Constructor.newInstance(Constructor.java:513)   fedora.server.Server.getInstance(Server.java:1021)   fedora.server.ServerController.init(ServerController.java:208)   javax.servlet.GenericServlet.init(GenericServlet.java:241)   weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:283)   weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)   weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)   weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:64)   weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:58)   weblogic.servlet.internal.StubLifecycleHelper.<init>(StubLifecycleHelper.java:48)   weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:521)   weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:1913)   weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:1887)   weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1805)   weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3041)   weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1374)   weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:452)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)   weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)   weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:629)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:206)   weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:40)   weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)   weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)   weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)   weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:844)   weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1253)   weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:440)   weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)   weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)   weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)   weblogic.work.ExecuteThread.run(ExecuteThread.java:173) ERROR 2009-10-16 15:46:10.940 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (DOValidatorImpl) VALIDATE: ERROR - failed Schematron rules validation. fedora.server.errors.ObjectValidityException: java.lang.RuntimeException: Namespace for prefix 'foxml' has not been declared.   fedora.server.validation.DOValidatorSchematron.createValidatingStyleSheet(DOValidatorSchematron.java:206)   fedora.server.validation.DOValidatorSchematron.setUp(DOValidatorSchematron.java:161)   fedora.server.validation.DOValidatorSchematron.<init>(DOValidatorSchematron.java:76)   fedora.server.validation.DOValidatorImpl.validateByRules(DOValidatorImpl.java:334)   fedora.server.validation.DOValidatorImpl.validate(DOValidatorImpl.java:251)   fedora.server.validation.DOValidatorModule.validate(DOValidatorModule.java:188)   fedora.server.storage.DefaultDOManager.getIngestWriter(DefaultDOManager.java:789)   fedora.server.BasicServer.preIngestIfNeeded(BasicServer.java:155)   fedora.server.BasicServer.postInitServer(BasicServer.java:99)   fedora.server.Server.<init>(Server.java:629)   fedora.server.BasicServer.<init>(BasicServer.java:40)   sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)   sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)   sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)   java.lang.reflect.Constructor.newInstance(Constructor.java:513)   fedora.server.Server.getInstance(Server.java:1021)   fedora.server.ServerController.init(ServerController.java:208)   javax.servlet.GenericServlet.init(GenericServlet.java:241)   weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:283)   weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)   weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)   weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:64)   weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:58)   weblogic.servlet.internal.StubLifecycleHelper.<init>(StubLifecycleHelper.java:48)   weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:521)   weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:1913)   weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:1887)   weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1805)   weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3041)   weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1374)   weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:452)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)   weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)   weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)   weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)   weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:629)   weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)   weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:206)   weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:40)   weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)   weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)   weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)   weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)   weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)   weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:844)   weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1253)   weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:440)   weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)   weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)   weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)   weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)   weblogic.work.ExecuteThread.run(ExecuteThread.java:173) FATAL 2009-10-16 15:46:10.942 [[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] (Server) Server failed to initialize fedora.server.errors.ServerInitializationException: Failed to ingest system object(s)   fedora.server.BasicServer.postInitServer(BasicServer.java:104)   fedora.server.Server.<init>(Server.java:629)   fedora.server.BasicServer.<init>(BasicServer.java:40)   sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)   sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)   sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)   java.lang.reflect.Constructor.newInstance(Constructor.java:513)   fedora.server.Server.getInstance(Server.java:1021)   fedora.server.ServerController.init(ServerC...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Certain triples are not removed from RI After purging or updating objects with an empty label, the obsolete fedora-system:def/model#label triples remain in the resource index",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Examine serializer and deserializer functionality with regard to null or empty properties Serializers and Deserializers treat null and empty properties in perhaps an unintuitive way.   In some cases, null input values are translated into empty strings, in others (e.g state) they are treated as some other default value.   We should determine if its worthwhile to clean this up.  See testNullObjectProperties() in TestXMLDODeserializer.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"HTML view of listDatastreams does not show link when label is empty When requesting the list of datastreams in an object, the HTML view does not show the link for getting further information about any datastream with an empty label.  This is because the hyperlink in this view is on the datastream label.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Duplicate artifact id's in fcrepo-server POM prevent build from source in Eclipse I don't remember this happening on my Mac, but building from trunk source fails because of duplication of the sesame and commons-collections dependencies.  Commenting out the duplicate dependency elements fixes the problem.  Relevant build log excerpt:  [INFO] Scanning for projects... [ERROR] The build could not read 1 project -> [Help 1] [ERROR]   The project org.fcrepo:fcrepo-server:3.3-SNAPSHOT (C:\fcrepo\fcrepo\fcrepo-server\pom.xml) has 2 errors [ERROR]     'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: commons-collections:commons-collections:jar -> duplicate declaration of version 3.1 [ERROR]     'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.fcrepo:openrdf-sesame-onejar:jar -> duplicate declaration of version 2.2.1 [ERROR]  [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Storage: Use UTC creation-date for foxml/datastream paths On Dec 7, 2009, Egbert Gramsbergen wrote to fedora-commons-users:  I noticed something strange in the data storage of Fedora.  Objects and datastreams are stored in a directory tree mirroring time down to the level of minutes, the time being creation time for objects and modifiction time for versionable datastreams. This should enable the repository to be reconstructed from the files in case of an emergency. So far so good.  But in my case, the times as implied form the directory tree are exactly one hour ahead of the times in the metadata in foxml. So it seems that ""directory tree"" time is local time (CET in my case) and ""metadata"" time is UTC. So if I really have to reconstruct the repository from the files, Fedora has to know about the timezone in which the repository was made. It seems brittle to me, and unnecessary. Why not use the same time for both? Or do I miss something?  btw, I use Fedora 3.0.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RI and SQL rebuilds fail due to classloader issues Rebuilding the resource index fails due to null pointer exceptions.  This appears to be traceable to the fedora classes being loaded by the bootstrap loader (via the endorsed override), which causes calls to Class.getLoader to return null ( see http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getClassLoader%28%29 ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DefaultDOManager - object not invalidated from doreader cache upon purge Using the DefaultDOManager, digital objects are not removed from the DOReaderCache when purged.  They are, however, removed from the DOReaderCache when added or modified.  This results in cached copies of disseminations persisting and being served by Fedora, even after the purge has been committed.  This is problematic for our repository.  We have set up external indexing to initiate immediately after changes to Fedora.  Our indexer uses Fedora services to retrieve information about digital objects for indexing.  Because of this error, our indexer is indexing purged objects immediately after they are purged, yet the indexer does not know that the object has been purged because Fedora is still serving stale services.  Could this be fixed in the doCommit method of the DefaultDOManager class?  From what I can tell, it looks as if something like the following clause could be added to the OBJECT REMOVAL section of code to resolve the problem:  // INVALIDATE DOREADER CACHE if (m_readerCache != null) {   m_readerCache.remove(obj.getPid()) }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer claims that the install directory for FEDORA_HOME is not empty on OS X When running the Fedora installer and prompted to select the location of Fedora home directory, the installer warns that the directory is not empty, even when a new directory has just been created.   In fact, the directory isn't technically empty, but contains the hidden file .DS_STORE on OS X. However, this should simply be ignored.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fcrepo-security-* unit ""tests"" are failing/missing In fact, melcoe.test.ContextHandlerTest and melcoe.test.ContextUtilTest aren't proper JUnit tests. They should either be refactored or replaced.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Follow Maven Standard Directory Layout Unless there is compelling reason not to, Fedora should follow the Maven standard directory layout as described here: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html  Examples of where Fedora seems to arbitrarily diverge:  1) assemblies in src/main/resources/assemblies rather than src/main/assemblies 2) config files almost everywhere except src/main/config 3) LICENSE.txt 4) use of src/main/resources as a general dumping ground (e.g. shell scripts), rather than for resources (e.g. properties files) intended to be made available on the classpath",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ImageManipulation service fails with FeSL enabled Integration tests which use the imagemanip service fail when FeSL is enabled. Call to the imagemanip service hang until eventually timing out.  With FeSL enabled, an individual request to http://localhost:8080/imagemanip/ImageManipulation?op=resize&newWidth=50&url=http://localhost:8080/tomcat.gif hangs and eventually times out.  Workarounds for imagemanip: - remove fedora.war - disable fesl - comment out calls to PopulatePolicyDatabase.addDocuments(); and pdp = new PDP(config.getDefaultPDPConfig()); in MelcoePDPImpl","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"RISearch queries with FeSL ignore format parameter With FeSL enabled, fedora.test.api.TestRISearch is failing. Queries that ask for a specific format such as ""count"" are rewritten to return RDF/XML.  For example, the query:  http://localhost:8080/fedora/risearch?type=triples&lang=spo&format=count&stream=on&query=*%20*%20* always returns RDF/XML (format=Turtle, etc. is also rewritten)",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Client scripts steal focus in OS X When running most of the command-line scripts (such as fedora-find.sh), the JVM in OS X starts to initialize as if it is a windowed application: The menu bar title is briefly changed to include the class name of the application (for example, fedora.client...AutoFinder), even though the java code that is executing has no real need for a windowed environment.  This problem does not occur in Windows or Linux, nor with the server scripts in OS X.  Kai reported the following cause for anything that uses FedoraClient (including the client scripts):  On the Fedora side the following happens: FedoraClient.getAPIM() calls FedoraClient.getSOAPStub() which calls APIAStubFactory.getStubAltPath(). Here a check Administrator.INSTANCE == null occurs which initializes the static variables of the Administrator class. Some of them happen to be AWT based, so X (or headless) is needed which can clearly be seen by the ""focus stealing"" effect on OSX. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DemoSOAPClient depends on demo objects that no longer exist The DemoSOAPClient uses demo objects that have long gone, when it is run errors are reported that objects no longer exist.  Code for this demo needs refactoring to use current demo objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Standalone, reusable, Java client library for Fedora We've had various forms of Java-based Fedora Clients in the past.  The most obvious ones in the current codebase are ""DemoSOAPClient"" (see FCREPO-602) to ""FedoraClient"".  The purpose of a standalone java Fedora client would be to give Java developers a way to interact with a Fedora repository's web service (REST/SOAP) APIs in their own code, without needing to set up the SOAP and/or REST interactions themselves.  The current class, fedora.client.FedoraClient is not adequate for this job, because it is currently intertwined with the Fedora Admin GUI, both at build time (fcrepo-client-admin), and at runtime (see FCREPO-601).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for memento (X-Accept-Datetime) in Fedora's REST api Wherever HTTP GET is used and the optional asOfDateTime URL parameter is accepted, Fedora should also be able to deal with the X-Accept-Datetime http request header, as specified by memento: http://arxiv.org/abs/0911.1112",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Web Admin dialog appears to hang when creating managed datastream When using the web admin to add a managed datastream from a local file (using Firefox) the dialog which allows you to select the file is never removed, even after the file upload to Fedora has completed. This makes it appear as if the file upload is hung, but the datastream is actually created properly, the dialog box is simply not removed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Web Admin error viewing redirect datastream content  When attempting to view the content of a Redirect-type datastream via the web admin, an error is produced: ""Security error accessing url"" even if the redirect points to url with no security requirements.   To Reproduce: Use the web admin to create an R datastream with location set to: http://www.yahoo.com, then attempt to view the content.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST getObjectProfile method has a datetime attribute in the return value, but this is not present in the schema get /objects/{pid}?asOfDateTime=somedate  gives  <objectProfile pid=""demo:testObject"" datetime=""somedate"">   <objLabel>label</objLabel>   <objOwnerId>fedoraAdmin</objOwnerId>   <objModels>     <model>info:fedora/demo:ContentModel</model>   </objModels>   <objCreateDate>2008-09-29T03:49:450Z</objCreateDate>   <objLastModDate>2014-09-19T01:18:330Z</objLastModDate>   <objDissIndexViewURL>http://localhost:8080/fedora/get/demo:testObject/fedora-system:3/viewMethodIndex/2008-09-29T03:49:450Z</objDissIndexViewURL>   <objItemIndexViewURL>http://localhost:8080/fedora/get/demo:testObject/fedora-system:3/viewItemIndex/2008-09-29T03:49:450Z</objItemIndexViewURL>   <objState>A</objState> </objectProfile>   and the datetime attribute is not present in the schema",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
" Purge object will throw general exception if force=true force=true tells to purge, even if this breaks a data contract. This feature is not supported yet, but rather than performing a normal purge, a general exception is thrown.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ObjectHistory only includes datastream timestamps, and only from currently active datastreams Changes to Object Properties are not recorded in the object history. These are unversioned properties, so this is somewhat understandable.  Only datastreams set to Active (or having no state) when the request is made is included in the object history. This should at least  be a parameter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ListDatastreams list datastream mime-type but not format uri Mimetype and Format URI are equally useful attributes on a datastream. But the listDatastreams method only returns the mimetype for each datastream. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ConfigC test failures/errors Current test results for mvn integration-test -P configC  Failed tests:    testModifyDatastreamByReference(fedora.test.api.TestRESTAPI)  Tests in error:    testGetNextPID_BadAuthZ(fedora.test.api.TestHTTPStatusCodesConfigC)   fedora.test.fesl.policy.TestPolicies(junit.framework.TestSuite)   fedora.test.fesl.policy.TestPolicies(junit.framework.TestSuite)  Tests run: 195, Failures: 1, Errors: 3, Skipped: 0 ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"With FeSL enabled, authentication is required for every resource When FeSL in enabled in the installer, the generated Fedora web.xml sets the AuthFilterJAAS with a wildcard url-pattern which requires authentication for every resource, even if APIA-Auth is not required.  For example, if you set API-A authentication to false (the installer default), but enable FeSL, requests to API-A resources such as http://localhost:8080/fedora/search still require authentication. Also, requests to resources such as http://localhost:8080/fedora/ri/index.xsl also require authentication.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Installer-generated web.xml drops namespace and schemaLocation declarations The Fedora installer generated web.xml drops all attributes from the web-app element exception version and id, e.g. <web-app id=""WebApp_ID"" version=""2.4""> even though the original web.xml (fcrepo-server/src/main/webapp/WEB-INF/web.xml) reads:  <web-app id=""WebApp_ID"" version=""2.4""   xmlns=""http://java.sun.com/xml/ns/j2ee"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""   xsi:schemaLocation=""http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd""> ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"""Other"" servlet container option does not provide local services webapps When the ""other"" option is selected during Fedora installation, the option to deploy local services is never presented. While Fedora can't deploy to ""other"" servlet containers, it should at least provide the local services (e.g. saxon, fop, imagemanip) webapps for manual deployment, just as it does for the the Fedora webapp.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Content-Disposition tests in fedora.test.api.TestRESTAPI fail on WebLogic All of the content disposition tests fail on WebLogic, i.e. testDatastreamDisseminationContentDispositionFromRels, testDatastreamDisseminationContentDispositionFromLabel, testDatastreamDisseminationContentDispositionFromId",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ServiceDeployment WSDL cannot specify relative URIs in http:address I've developed a report servlet that implements a service deployment.  This servlet is deployed on the same Tomcat with Fedora.  It happens to be deployed within the Fedora context, but for the purposes of this bug it could be anywhere on the same server.  I was trying to make the service deployment's WSDL more portable by specifying the http:address with a relative URI.    <wsdl:service name=""StorageReport"">     <wsdl:port binding=""this:StorageReport_http"" name=""StorageReport_port"">       <http:address location=""/fedora/storagereport""/>     </wsdl:port>   </wsdl:service>  This use of relative URIs seems acceptable according to the WSDL spec: http://www.w3.org/TR/wsdl#_Toc492291094  I guess I would have expected the relative URI to resolve against the Fedora context URI or perhaps the REST URI of the service operation itself (probably not needed).  What I found is that relative URIs cause a NPE in some utility code.  If a resolve step were added at the top of ServerUtility.isURLFedoraServer(String url) it would fix this issue.  java.lang.NullPointerException   fedora.server.utilities.ServerUtility.isURLFedoraServer(ServerUtility.java:130)   fedora.server.access.dissemination.DisseminationService.assembleDissemination(DisseminationService.java:669)   fedora.server.access.DefaultAccess.getDissemination(DefaultAccess.java:447)   fedora.server.access.FedoraAccessServlet.getDissemination(FedoraAccessServlet.java:742)   fedora.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:449)   javax.servlet.http.HttpServlet.service(HttpServlet.java:617)   javax.servlet.http.HttpServlet.service(HttpServlet.java:717)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   fedora.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:234)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:269)   org.apache.catalina.valves.RemoteHostValve.invoke(RemoteHostValve.java:81)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)   org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)   org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)   java.lang.Thread.run(Thread.java:619) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Tomcat 6 server.xml:SSLEnabled defaults to false with non-bundled Tomcat Keith Johnston (keithjoh at hawaii dot edu) reported via ""Contact Us"":  It appears that the variable SSLEnabled, for the ssl connector, is new to tomcat 6. I find that it defaults to ""false"" and must be set to ""true"" in the server.xml file for the handshake to proceed. The Fedora 3.2 installer did not write this value to the updated server.xml file in the installation. A note might be made of this on the installation guide for those users attempting to load Fedora with existing Tomcat 6. Cheers.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Move to Java 6+ (Java 5 no longer supported) Fedora already works with Java 6, but we are considering discontinuing support for Java 5 for several reasons:  1) As of Nov 3, 2009, J2SE 5 has reached its End Of Service Life (EOSL).  This means there will be no more public updates to Sun's J2SE 5. 2) Finding and installing Java 5 on the various operating systems is becoming increasingly difficult. 3) Java 6 has several API and annotation improvements we'd like to be able to take advantage of in the source code.  (For example, IOException now has a constructor that accepts a Throable cause, and @Override can now apply to interface method implementations)  For now, this would also reduce the number of different configurations we'd need to test prior to release, thus shortening the release cycle.  In early January 2010, the committers agreed that this is the direction we want to go, but we should first poll our users to see what, if any, problems this might create for them.  Upon deciding to move to Java 6, the following changes should be made immediately:  A) Change the pom to compile to java 6 bytecode (and thus require a Java 6 JDK) B) Remove the JDBC3/4 code-rewriting hack in the build C) Modify the CI tests to run using Java 6",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Java repackaging: org.fcrepo For consistency with the groupId now used for the Fedora Repository project, change all packages starting with ""fedora."" to ""org.fcrepo.""  This is not only a Java change.  It will also require changes to poms, assemblies, and possibly other xml files in the codebase.  [ Impact ]  1) People using fedora.client.FedoraClient in their code will need to use the newly-named class. 2) Legacy LLStore plugins will need to be updated.  Preferably to plug in via Akubra, but if that can't be done, we should try to provide a solution that allows the use of these older plugins (like a legacy llstore jar, and an akubra adapter) 3) Other alternative classes/modules for Fedora will need to be compiled with the new interface/class names.  For example, if people have developed their own DDLGenerator implementations that are maintained outside the main codebase, those will need to be slightly changed and re-compiled to make them work.  The release notes should have a general note about this.  However, cases like #2 may come up in the process of doing this, where we decide a ""legacy adapter"" approach would be helpful, so people don't have to change thier code.  None are currently known.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Journaling RMI transport writer does not send close() events RMI transports will always fail when rolling over to a new journal file.  A receiver will terminate the connection with an exception indicating refusal to write to a new journal while another is still open.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"For consistency, use info:fcrepo, not info:fedora On the Jan 5 '10 committer call, Asger pointed out that Kare mentioned this when talking about consistent naming...the info:fedora URIs would ideally be info:fcrepo.  We need to consider the impact of doing this and decide if the consistency is worth the cost.  [ Impact ]  1) Need to register a new info: prefix with the NISO info URI registry 2) Need to decide how to deprecate ""info:fedora""...just drop it, or support both for some period of time? 3) Existing RDF queries would need to change",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Use fcrepo.org for namespace URIs and schema URLs Currently, namespace URIs and schema URLs use fedora.info and (older) comm.nsdl.org.  Ideally, they all point to the same host, which is consistent with our groupId and java packaging structure, org.fcrepo (http://fcrepo.org/etc)  We need to consider the impact of this and whether it's worth changing the formats in place.  Another alternative is to just decide that all future XML formats, etc, will use some new convention for the namespaceURI and schemaLocation, based at fcrepo.org.  [ Scope ]  All XML schemas we publish. All WSDL we publish.  [ Impact ]  The FOXML format would need to be versioned. Other schemas' (method map, rest api responses, etc) would need to be versioned We'd either need to provide the ability to use the old version and new version simultaneously, or a way to migrate from the old version.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Message digest algorithms HAVAL, TIGER and WHIRLPOOL are not supported The hash algorithms HAVAL, TIGER and WHIRLPOOL are currently not supported by Fedora although the documentation suggests otherwise. Out of the box JDK6 provides support for MD2, MD5, SHA-1, SHA-256, SHA-384, SHA-512. Other algorithms can be supported by plugging in a provider, like jacksum[1] as described here[2].  The alternative course of action would be to remove these checksum algorithms from the documentation and the code in fedora/server/storage/types/Datastream.java  [1] http://www.jonelo.de/java/jacksum/ [2] http://java.sun.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora REST-style object viewer does not properly handle encoded slashes in the pid value. Using the Object View interface (from Firefox 3.6)  with a PID value of hdl:2200%2F20061002130521143T     ...fedora/get/hdl:2200%2F20061002130521143T  ...returns a page containing the ""View..."" options.  Selecting the first one: ""View the Datastreams List for this Object"" returns a stack trace: ""... javax.ws.rs.WebApplicationException: fedora.server.errors.MalformedPidException: PID object-id cannot contain '/' character.   fedora.server.rest.BaseRestResource.handleException(BaseRestResource.java:162)   fedora.server.rest.DatastreamResource.listDatastreams(DatastreamResource.java:100)   sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) ... "" (full trace attached)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FieldSearch query with bad syntax does not immediately release connection to pool Martin Tilma ( m dot tilma at func dot nl ) reported this to fedora-commons-users on Feb 4th, 2010:  Hello,  I have an issue with with fedora 3.3 after sending a few wrong findObject webservice requests. Fedora seems to block when you send a lot of ""wrong"" requests.  The request: <soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"">   <soap:Body>     <ns2:findObjects xmlns:ns2=""http://www.fedora.info/definitions/1/0/types/"">       <resultFields>         <item>pid</item>       </resultFields>       <maxResults>50</maxResults>       <query>         <conditions>           <condition>             <property>label</property>             <operator>eq</operator>             <value>?</value>           </condition>         </conditions>       </query>     </ns2:findObjects>   </soap:Body> </soap:Envelope>  Response: <soapenv:Envelope xmlns:soapenv=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">    <soapenv:Body>       <soapenv:Fault>          <faultcode>soapenv:Server.userException</faultcode>          <faultstring>fedora.server.errors.QueryParseException: The = operator cannot be used with wildcards.</faultstring>          <detail>             <ns1:hostname xmlns:ns1=""http://xml.apache.org/axis/"">jones</ns1:hostname>          </detail>       </soapenv:Fault>    </soapenv:Body> </soapenv:Envelope>  It is complaining about the ""?"" in the value when using a Equals Condition. (to fix this you have to escape the ""?"" with a slash ""\?"")  The response seems valid and correct to me. But after sending a lot requests (using soap-ui with 5 threads running for one minute) fedora stops responding and the requests will time out.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ambiguous API call log messages Each API call is logged by Fedora at the end of its invocation.  The first part of the message always states ""Completed [operation]"". In case of a failed API call this may suggest success and therefore potentially confuse the person looking at the logs. It would be clearer if the log message would also include the outcome, like ""Completed [operation], outcome: [failed|success]"".  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Switch to SLF4J with Logback as primary logging framework SLF4J is a modern logging framework that, among other things, allows applications to cope with dependent libraries that hardcode dependencies on specific frameworks.  Fedora currently uses Log4J, and has to jump through hoops in order to get the logging frameworks (commons-logging, java.util.logging) of its dependent libraries to log to the same place.  Ideally, all fcrepo code should use the SLF4J api when logging is needed, and be agnostic about the underlying logging implementation.  Appropriate runtime dependencies can then be included in the classpath to get the desired implementation to be used for all logging operations, whether coming from the org.fcrepo classes, or from classes they depend on.  This can be done in a sane way with the help of SLF4J's legacy bridges[1].  Since the Fedora server has runtime dependencies on libraries that hardcode use of java.util.logging (sun-xacml), commons-logging (commons-httpclient and more), and log4j (mulgara), a bridge should be used for each of these frameworks so that all calls to them effectively go through SLF4J.  Lastly, there is the matter of the actual logging implementation to use (i.e., the ""sink"" for SLF4J).  It appears that Logback[2] is the way to go here: a) It's being actively developed as a replacement for log4j, by its founder. b) Generally, when a legacy bridge is used for SLF4J, the actual implementation cannot be used as the ""sink"", for reasons described at [1].  [1] http://www.slf4j.org/legacy.html [2] http://logback.qos.ch/ ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"namespace declaration in DC datastream added even if present While trying to set the PrOAI provider up for fedora I encountered a problem regarding the xsi namespace. It seems that The FedoraOAIDriver adds this namespace to the stream, even if it already present. This in done in line 283 in the method writeRecordMetadata. it seems  like a check whether the namespace is already present is the solution.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
FeSL Special Topics Review Review branch for 2010-02-09 Special Topics review of FeSL,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
Refactor poms to use Maven's dependencyManagement where appropriate Use dependencyManagement in the parent pom where possible to reduce redundancy and inconsistencies,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow dissemination of AUDIT info for each object On Tue, Feb 9, 2010 at 4:41 PM, Scott Hammel (scott at clemson dot edu) wrote: > Is there any way to fetch or query the content of the AUDIT datastream via > the Fedora APIs?  One can currently only get the AUDIT info for an object by exporting the object XML and extracting it from that.  It would more convenient if it were possible to get this information by itself, like you can for any other datastream in Fedora.  The only difference from an API perspective would be that modifying the AUDIT datastream would be prevented by policy by default.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable policy enforcement by declaration in RELS-EXT and RELS-INT Once policies are represented in the repository as objects (FCREPO-577), we should enable objects and datastreams to declare or ""subscribe"" to policies via RELS-EXT and RELS-INT (assuming an as-yet-to-be-decided predicate).","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Create an object that represents the repository itself Among the set of ""bootstrap"" objects that Fedora should include is an object that represents the repository itself. Another step in allowing a repository to be self-documenting. It would also extend FCREPO-636 to represent repository-wide policies.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora basic search interface returns results with old-style ""/fedora/get"" URLs instead of new REST interface URLs The Fedora search interface at /fedora/search returns results URLs as /fedora/get/{pid}.  It should use the new REST API URLs - ie /fedora/objects/{pid}  org.fcrepo.server.access.FieldSearchServlet:411 generates the URL",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Allow log re-configuration without restart Allow users to change Fedora's log configuration (e.g. from INFO to DEBUG) without having to restart.  This capability is directly supported by Logback.  The default logback.xml configuration shipped with the Fedora server should do this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Some IPv6 loopback addresses fail to match for default policies Although ::1 has been verified to work in IPv6 environments (see FCREPO-581), the default policies deny-apim-if-not-localhost and deny-reloadPolicies-if-not-localhost will not work as expected (authorization fails) in environments where the client IP address comes in as a long-form IPv6 loopback address.  The long form of the IPv6 loopback address is 0:0:0:0:0:0:0:1, and can also be provided as 0:0:0:0:0:0:0:1%0 (the latter is the case on my mac, when using Firefox to hit a local Fedora repository instance).  These default policies should be updated to work in such cases.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"AuthFilterJAAS prevents the server from starting when FEDORA_HOME is not set  This is the AuthFilterJAAS entry from web.xml     <filter>       <filter-name>AuthFilterJAAS</filter-name>       <filter-class>org.fcrepo.server.jaas.AuthFilterJAAS</filter-class>       <init-param>         <description>OPTIONAL. A comma separated list of class names for user principals.        First one that is found is effective only.</description>         <param-name>userClassNames</param-name>         <param-value>org.fcrepo.server.jaas.auth.UserPrincipal</param-value>       </init-param>       <init-param>         <description>OPTIONAL. A comma separated list of url-patterns to ignore</description>         <param-name>excludeUris</param-name>         <param-value>/getDS</param-value>       </init-param>     </filter>  For some reason, the filter does not read the context param     <context-param>       <param-name>fedora.home</param-name>       <param-value>/home/abr/Servers/fcrepo3.3-1</param-value>     </context-param> But instead crashes when FEDORA_HOME is not set. The rest of the system works from the context param, so this is somewhat surprising.  One of the trumped features of Fedora 3.3 was the ability to deploy several servlets. If we still depend on the environment variable, and not the context param, this feature is lost. For that reason, this bug has been marked as major.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Convert existing jars into OSGi bundles Note: this is a meta-task to track individual osgi-ifications of Fedora jars and dependencies.,"legacy - Fedora,legacy - OSGi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0
"Get rid of cli-loader (no longer needed with Java 6) In Fedora 3.3, we introduced a cli-loader, which got around the problem of putting many jars into the classpath when running some of the commandline scripts.  Now that Fedora is Java 6+, and Java 6 supports wildcards when specifying the classpath, this is no longer needed.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Model-Driven Service Definition/Deployment Implementations At the London committer's meeting, there was a consensus that improvements to service deployment should move past incremental improvements to the default WSDL implementation and allow for entirely different service descriptions.  The first step towards this is separating the service-related interfaces used by other modules out from the default 3.0 implementation classes, with the eventual goal of a module-based approach accommodating discrete service deployment models.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Treat DSLocation as an opaque value whenever possible Currently, the value of DSLocation for managed datastreams is assumed to follow a particular scheme in serializers and deserializers, and elsewhere.  These assumptions should be removed, and DSLocation should be simply passed on as an opaque value wherever possible.   For example, several deserializers generate DSLocation values for managed datastreams as ""PID + DSID + DSVersionID"" (an assumption) rather than re-using the serialized value (treating it as opaque). ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove undocumented/unused/broken ReportServlet ReportServlet is a feature from an old release of Fedora that has never been documented or tested, and doesn't work.  The original intent was to list objects in the repository by certain criteria.  It probably worked prior to 3.x, but even then was not documented or tested.  The information it used to provide can be determined today by hitting the FieldSearch and/or RISearch interfaces of Fedora.  The servlet, supporting classes, stylesheets, and web.xml entry should be dropped from the codebase.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove unused/unnecessary ThreadMontitor This module was written many versions ago as a diagnostic utility and demonstration of Fedora's original module framework.  It was never documented or used, and modern jvms have much better monitoring facilities built in these days.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Initial move to a modern dependency injection framework Use standard, well-known frameworks/libraries to:   * Resolve inter-module dependencies via dependency injection   * Provide hooks to initialize/de-initialize modules when the webapp container starts and stops   * Allow re-configuration and plugging in of alternative modules without re-compiling  For more in-depth information on this work, please see: http://fedora-commons.org/confluence/x/JAAbAQ  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Deprecate ""LITE"" REST APIs Deprecate the LITE REST APIs - deprecate in next release by using 301 - Moved Permanently responses, then remove completely in a future release.  This will support having a single dereferencable URI for a Fedora resource which can then be used as the definitive resource identifier.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Define canonical dereferenceable URIs for Fedora resources Update documentation to state that the REST API GET methods for Fedora digital objects and datastreams can be used as dereferenceable URIs for resources.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Restructure resource index as a set of named graphs Restructure the resource index as a set of named graphs, utilising ""views"" to produce a combined view - see http://fedora-commons.org/confluence/display/DEV/Supporting+the+Semantic+Web+and+Linked+Data ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Construct Resource Index triples based on a declarative specification Move to a declarative specification for which triples get created for each object, possibly utilising the CMA to allow definition within system and user content models.  see http://fedora-commons.org/confluence/display/DEV/Supporting+the+Semantic+Web+and+Linked+Data",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support HTTP URIs for resources in resource index Based on the GET URIs exposed in the REST API, support use of these URIs as resource identifiers in the resource index.  See http://fedora-commons.org/confluence/display/DEV/Supporting+the+Semantic+Web+and+Linked+Data  This could involve - rewriting of query output to convert info:fedora/ URIs to HTTP resource URIs - rewriting of query input to convert HTTP URIs to info:fedora URIs  The info:fedora URI form should be retained for portability etc",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for indexing ""arbitrary"" RDF datastreams in the resource index Currently RDF datastreams that are indexed in the resource index (RELS-EXT, RELS-INT) must have either a Fedora object or datastream as the subject.  If the resource index is restructured as a set of named graphs this restriction could be removed, allowing richer RDF metadata to be propagated to the resource index.  See http://fedora-commons.org/confluence/display/DEV/Supporting+the+Semantic+Web+and+Linked+Data",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove/hide unused methods from DefaultDOManager, RepositoryReader There are a few methods in DefaultDOManager that are are unused (and can be removed) or should be private.   Additionally, String[] listObjectPIDs() in RepositoryReader does not seem to be used outside of tests, and it would be very convenient to remove.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Create a Service manager for mapping CModels to SDeps, The task of looking up deployments for a given CModel (which involves maintaining and persisting a map) is currently performed by DOManager.   It would be cleaner and more flexible to put this functionality (which is by no means trivial) in its own module.  This module would be responsible for any persistence of maps it needs, and thus would need to be able to participate in the rebuild process.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Regression: setting FEDORA_HOME via context-param fails The setting of FEDORA_HOME is supported by three means: 1) fedora.home context init-param in web.xml 2) via a system property (e.g. -Dfedora.home=/foo) 3) environment variable (e.g. export FEDORA_HOME=/bar)  To reproduce: define fedora.home in web.xml, ensure that the FEDORA_HOME environment variable is not set, start Fedora. Tomcat should report ""SEVERE: Error filterStart"", Jetty reports ""failed AuthFilterJAAS javax.servlet.ServletException: FEDORA_HOME environment variable not set"".  Quick workaround if FeSL is not being used is to simply comment out the AuthFilterJAAS filter from Fedora's web.xml.  Prior to FeSL, none of the servlet filters required the value of FEDORA_HOME. Moreover, if the value of FEDORA_HOME is set via system property or environment variable, the problem does not manifest itself. Currently, ServletController retrieves the fedora.home context-param and sets the ""servlet.fedora.home"" System Property to make the value available to Constants.FedoraHome. However, if we can't guarantee that ServletController is loaded first, then the fedora.home context-param will not be available to the filters.  Note: the load-on-startup element only controls servlet load order, and doesn't ensure a servlet will load before any of the filters.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Out-of-box SWORD interface A SWORD interface has become a pretty standard expectation for repositories these days.  A SWORD integration for Fedora has already been done, and was integration tested once: https://fedora-commons.org/confluence/display/FCSVCS/SWORD-Fedora+1.2  This feature is to include the interface automatically as an option at install time, along with integration tests to continuously ensure that it works with each future Fedora release.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Extend REST API to provide simple support for remote or tiered storage status information. Extend the REST API to provide simple protocol support for remote or tiered storage status information.  Likely this would return a 503 status code and a retry-after header if an authorized access operation was unable to retrieve a datastream from managed storage that was recognized as valid within the timeout period.  The work is primarily to provide support through the Fedora Repository core for the function.  In related work outside the scope of this issue, it will be required that the low-level storage plug-in be able to provide a suitable signal.  Additional efficiencies could be gained by supporting this in a HEAD request at least for datastream disseminations and considered for dissemination-type services.  This improvement is to enable minimal support for tiered storage plug-in which may have the datastream ""file"" off-line and may not be able to stream it before the timeout.  The same ideas may be applied later to other back-end service calls especially for Web (external datastreams) from sources that return a 503 and retry-after too.   http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove XML/HTML documents from Java code and use templates instead There are a number of occurrences where xml or html documents/fragements are embedded within the code. This has an impact on maintainability,readability,testability and separation of concerns. Most documents could easily be factored out by using a template engine, such as StringTemplate (http://www.stringtemplate.org).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Drop the old servletfilter AuthN package in favor of FeSL's AuthN Default to using org.fcrepo.server.security.jaas.* (FeSL's authN) instead of org.fcrepo.server.security.servletfilters.* (original authN).  This includes: 1) Making FeSL's authN the out-of-box authN configuration, with xml user file pre-configured 2) Deprecating the old servlet filters (or completely removing them ...?) 3) Updating Fedora's system docs to explain how to use/configure/customize this  See related discussion here: http://www.mail-archive.com/fedora-commons-developers@lists.sourceforge.net/msg00779.html","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"DefaultDOManager logging WARNings for valid dsLocations As reported on the fc-users mailing list (http://thread.gmane.org/gmane.comp.cms.fedora-commons.user/5187), DefaultDOManager is logging WARNings on modifies for dsLocations that don't begin with a URL scheme. Looks like this change dates to r8450.  The warning could be useful to keep, but we should be excepting valid internal dsLocations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Maven build warnings for ${version} ${pom.version} ${artifactId} Maven reports various WARNings for the build:  [WARN] The expression ${version} is deprecated. Please use ${project.version} instead. [WARN] The expression ${artifactId} is deprecated. Please use ${project.artifactId} instead. [WARN] The expression ${pom.version} is deprecated. Please use ${project.version} instead.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improved Authentication Challenge Control From https://fedora-commons.org/confluence/display/~cwilper/2010/03/18/Authentication+Challenge+Control+-+A+Thought+Experiment  Fedora's SOAP API has historically been split into two: API-A and API-M. The REST API, being resource-oriented, naturally isn't. And the control over which endpoints can be set to require authentication is inconsistent across the two. The old ""Authenticate for API-A? Authenticate for API-M?"" options no longer make sense when you look at Fedora's APIs as a whole.  Here's one way the situation could be improved.     1. For the SOAP API (all read-oriented and write-oriented methods), always require authentication.    2. For the REST API, on a per-verb basis (POST/PUT/DELETE/GET), offer the following options at install time:          1. Proactive Challenge: Always require authentication.          2. Reactive Challenge: Only require authentication if an un-authenticated request failed due to AuthZ rules. ","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
Do a Java version sanity check at install time See this thread:  http://article.gmane.org/gmane.comp.cms.fedora-commons.user/5205  Java version incompatibility would be much easier for users to diagnose if the installer did a quick sanity check.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Better error reporting when database connection test fails at install time When the database connection test fails at install time, only the message of the exception is printed.  In some cases, this obscures the cause of the problem and makes it difficult to diagnose.  The installer should provide more detail in these cases.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow use of FeSL AuthN without FeSL AuthZ during install While FeSL is in the experimental phase, it would be helpful if people could try out the authentication part without the authorization part.  It is possible to configure this after the fact today, as evidenced by this thread: http://article.gmane.org/gmane.comp.cms.fedora-commons.devel/1609  ..but the process is manual.  This improvement would add an install-time option to enable FeSL authentication without needing to enable its authorization.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
Installer should provide a sanity check of runtime environment It's desirable for the installer to have access to runtime environment evaluation to warn users of potential problems just prior to install.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST getNextPID with invalid PID namespace throws error but results in update to PIDGEN table Reported by Janna Wernekamp, see http://sourceforge.net/mailarchive/message.php?msg_name=4BAFF0A3.7040504%40gmail.com for report of this.  The error is being thrown by the Messaging NotificationInvocationHandler after the method has been invoked.  Looks like the namespace is not being validated before the method is called.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Implement API-M getDatatsreams in REST API The REST api should allow you to get the API-M version of an object's datastream list, including information about datastream controlGroup",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Implement getDatastreamHistory on REST API Currently the REST api does not provide a way to get a datastream's version history -- you've got to parse the foxml to get that info.  getDatastreamHistory should be exposed at  /objects/{pid}/datastreams/{dsID}/versions  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add PID namespace to the resouce index When generating triples for an object in the resource index, include a triple that specifies the PID namespace.  Requested by Janna Wemekamp -see http://sourceforge.net/mailarchive/message.php?msg_name=4BB65010.8040806%40gmail.com  For example: $pid <fedora-model:hasPIDNamespace> 'c4oc'  The namespace and predicate will need to be decided.  The Fedora model namespace seems appropriate as this includes other object properties, comments welcomed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora embedded SQL database is not in Fedora's data directory If Fedora is installed using the embedded derby SQL database, the data directory for derby is at $FEDORA_HOME/derby.  This should instead be under $FEDORA_HOME/data - particularly to simplify server backup.  NB:  implementation of this could require a migration of the existing data directory on installation - the upgrade guides specify a complete rebuild (including SQL database) when moving from 2.x to 3.x; for upgrading 3.x the instructions include configuring fedora.fcfg to point to the existing SQL database so it would seem safe to simply implement this change (in the default fedora.fcfg).    As long as the issue is documented in the release notes, folks can decide whether to leave the database at its existing (pre-upgrade) location (modifying fedora.fcfg to point at it); or move the database to the new location.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API throws NPE when adding new datastream without providing media- and mime type if neither mediaType nor mimeType are provided and the datastream to be added is new, Fedora will throw a NPE because it tries to access the mime type of the nonexisting datastream.   see: http://fisheye.fedora-commons.org/browse/FCREPO/trunk/fcrepo-server/src/main/java/org/fcrepo/server/rest/DatastreamResource.java?r=8493, line 389   Here is the log:  - >> ""POST /fedora/objects/changeme:1006/datastreams/FFFFF?versionable=true&controlGroup=R&dsLocation=http%3A%2F%2Flocalhost%3A8080 HTTP/1.1[EOL]""  - >> ""Accept: */*[EOL]""  - >> ""Content-Length: 0[EOL]""  - >> ""Host: localhost:8080[EOL]""  - >> ""Connection: Keep-Alive[EOL]""  - >> ""User-Agent: Apache-HttpClient/4.0 (java 1.5)[EOL]""  - >> ""Cookie: JSESSIONID=DA331916CEDC7FA7365C4071A052C51A[EOL]""  - >> ""Cookie2: $Version=1[EOL]""  - >> ""Authorization: Basic xxxx=[EOL]""  - >> ""Accept-Encoding: gzip,deflate[EOL]""  - >> ""[EOL]""  - << ""HTTP/1.1 500 Internal Server Error[EOL]""  - << ""Server: Apache-Coyote/1.1[EOL]""  - << ""Content-Type: text/plain[EOL]""  - << ""Transfer-Encoding: chunked[EOL]""  - << ""Date: Tue, 06 Apr 2010 14:40:39 GMT[EOL]""  - << ""Connection: close[EOL]""  - << ""[EOL]"" 2010-04-06 16:40:39,260 DEBUG  HTTPBuilder - Parsed data to instance of: class java.io.InputStreamReader  - << ""1167[EOL]""  - << ""javax.ws.rs.WebApplicationException: java.lang.NullPointerException[\n]""  - << ""[0x9]at org.fcrepo.server.rest.BaseRestResource.handleException(BaseRestResource.java:164)[\n]""  - << ""[0x9]at org.fcrepo.server.rest.DatastreamResource.addOrUpdateDatastream(DatastreamResource.java:480)[\n]""  - << ""[0x9]at org.fcrepo.server.rest.DatastreamResource.addDatastream(DatastreamResource.java:322)[\n]""  - << ""[0x9]at sun.reflect.GeneratedMethodAccessor57.invoke(Unknown Source)[\n]""  - << ""[0x9]at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)[\n]""  - << ""[0x9]at java.lang.reflect.Method.invoke(Method.java:597)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.model.method.dispatch.EntityParamDispatchProvider$ResponseOutInvoker._dispatch(EntityParamDispatchProvider.java:157)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:124)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:555)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:514)[\n]""  - << ""[0x9]at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:505)[\n]""  - << ""[0x9]at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:359)[\n]""  - << ""[0x9]at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.fcrepo.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:79)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)[\n]""  - << ""[0x9]at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)[\n]""  - << ""[0x9]at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)[\n]""  - << ""[0x9]at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)[\n]""  - << ""[0x9]at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)[\n]""  - << ""[0x9]at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)[\n]""  - << ""[0x9]at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)[\n]""  - << ""[0x9]at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)[\n]""  - << ""[0x9]at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)[\n]""  - << ""[0x9]at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)[\n]""  - << ""[0x9]at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)[\n]""  - << ""[0x9]at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)[\n]""  - << ""[0x9]at java.lang.Thread.run(Thread.java:637)[\n]""  - << ""Caused by: java.lang.NullPointerException[\n]""  - << ""[0x9]at org.fcrepo.server.rest.DatastreamResource.addOrUpdateDatastream(DatastreamResource.java:389)[\n]""   ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update documentation to reflect message digest algorithms that are supported From FCREPO-626:  ""The hash algorithms HAVAL, TIGER and WHIRLPOOL are currently not supported by Fedora although the documentation suggests otherwise""  Update documentation to reflect this.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"MySQL: Alter column type in doFields to LONGTEXT Batch ingests of large ""archival"" base-64 encoded objects were failing with a StorageDeviceException error. The following was also appearing in fedora.log: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'dcRelation' at row 1  In the table doFields, the column type for dcRelation was altered from TEXT to LONGTEXT and ingests were successful. Could Fedora automatically create the table with this column type?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Clone object, as an alternative to ingest Fedora is difficult to work with in a CRUD workflow. There are no way to create a new object. This fix would provide an api function, that allow the user to copy a fedora object. Thus, certain objects can be specified as template objects with default values.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Create ""Upload"" method in REST API The existing API-M-LITE includes a /fedora/management/upload method - for uploading files to a temporaroy location and providing a URL that can then be used for other API methods that require a URL for content (rather than sending the content directly)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API completion (3.4) Parent issue to group all REST API completion issues for release 3.4  These issues should be ones deemed necessary to complete the REST API - but not bugs with the REST API unless they are serious enough to make the particular method unusable.  Need to determine which of these issues should be completed as part of 3.4 - particularly to get to the stage where the existing ""LITE"" APIs can be deprecated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enable optimistic locking for modify operations Extend Fedora API to support simple, optimistic locking for operations such as modify datastream. We've discussed implementing proper transaction support in Fedora for years (e.g. supporting JTA throughout), but supporting the very common use case of multiple users concurrently editing an object/datastream could be largely accomplished by supporting some form of optimistic locking.  As it stands, Fedora applications have to take elaborate steps to ensure one user doesn't step all over another user's work, and ultimately, can't guarantee this won't be the case.  For example, extend the relevant API methods to take a nillable lastModifiedDate. If null, the method behaves as it currently does (i.e. no check), else, if the resource's lastModifiedDate is later than the request's, fail with an HTTP 409 Conflict.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API purgeDatastream returns 204 instead of 404 for a non-existent datastream on a valid pid DELETE on  /fedora/pid/datastreams/dsID correctly returns a 404 when pid is not found, but returns a 204 when the pid is valid but dsID is not, which is the same as a successful result for a vaild pid/dsID",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Too-long DC, other values can cause triplestore to reach inconsistent state When using MPTStore as the Resource Index option, with a database (like Postgres or Oracle) that enforces a maximum length on column values, the triplestore can get into an inconsistent state because the asynchronous ""flush"" of the triples to update doesn't succeed due to a DB error.  Currently, the only way of dealing with this is to track down the problematic object(s) in the repository, remove or correct them in the underlying storage, and do a resource index rebuild.  Ideally, Fedora would have an option to either reject or auto-truncate such too-long values and avoid this inconsistency problem altogether.  This doesn't occur when using Mulgara as the underlying database because it doesn't have such length limits, however the option would be very helpful for people who have chosen another underlying triplestore.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add atom:category fedora-types:pid to JMS fedora.apim.update ingest message The JMS fedora.apim.update message triggered on ingest does not have the fedora-types:pid atom category set. For consistency with the other messages, it'd be helpful to add this.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Option to truncate or reject doFields updates based on length Different databases will behave differently based on whether the to-be-stored (or indexed) values exceed internal limits.  This improvement allows one to set a desired behavior (to truncate or reject) fields that exceed length limits.  Implementation should have the length limit specified in the dbspec file, and the desired behavior (truncate or reject) specified in fedora.fcfg.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Expose an ""evaluate"" method in the API for FeSL The Muradora codebase included an ""evaluate"" API method which allowed specification of subject, roles, actions, pid and (optional) dsid to determine if the specified action would be permissible in the given context.  The code is present in FeSL eg at org.fcrepo.server.security.xacml.pep.ContextHandlerImpl.evaluate  This method would be useful for front-end applications so that, for instance, a user interface appropriate to a user's permissions can be presented.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Adding datastream with managed content throws Exception when providing a checksum The following was reported on the mailing list:  I'm using Fedora 3.3 and I'm having a little bit of trouble with using checksummed managed datastreams through the REST client directly or the Flex client, and before digging further, I'd like to find out if any one else has run into anything similar:  Using the REST API:  INFO 2010-05-11 19:03:41.341 [http-8080-2] (DefaultManagement) Completed addDatastream(pid: file:5, dsID: File, altIDs: , dsLabel: fo-to-solr.xsl, versionable: true, MIMEType: application/xml, formatURI: null, dsLocation: file:/opt/scripts/fo-to-solr.xsl, controlGroup: M, dsState: A, checksumType: MD5, checksum: 2903fd799d56a1fa15cd614a346cc71a, logMessage: null) ERROR 2010-05-11 19:03:41.341 [http-8080-2] (DatastreamResource) Unexpected error fulfilling REST API request  fedora.server.errors.ValidationException: Checksum Mismatch: ExceptionReadingStream  ---  Using the Fedora Admin Flex client: INFO 2010-05-11 19:07:00.070 [http-8080-1] (DefaultDOManager) Committing modification of file:5 INFO 2010-05-11 19:07:00.072 [http-8080-1] (DefaultDOManager) Getting managed datastream from internal uploaded location: uploaded://6 INFO 2010-05-11 19:07:00.101 [http-8080-1] (DefaultDOManager) Replaced managed datastream location with internal id: file:5+File+File.0 ERROR 2010-05-11 19:07:00.117 [http-8080-1] (DefaultExternalContentManager) URI is not hierarchical java.lang.IllegalArgumentException: URI is not hierarchical [...] WARN 2010-05-11 19:07:00.129 [http-8080-1] (Datastream) IOException reading datastream to generate checksum  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Web admin client does not correctly handle PIDs with octet-escaped characters To reproduce:  Create a new object, specifying the PID as: changeme:one%2Ftwo  Error message:  ""Could not retrieve object '' from the repository.  Either the object does not exist, or you do not have permission to view it.""  It seems that th object is in fact created correctly - and is visible under ""Search"".  However the web admin client is unable to open the object, probably because it is not URL-encoding the PID in calls to the REST API.  It is possible to search for and view the object using /fedora/search and /fedora/objects",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
info:fedora registration contains outdated information The info:fedora-registration needs to be updated. http://info-uri.info/registry/OAIHandler?verb=GetRecord&metadataPrefix=reg&identifier=info:fedora/ Contains old information and dead links.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
PUT /objects/{pid}/datastreams/{dsid} sets versionable to true if it is not specified (REST API) Reported by Jasper Op de Coul - http://fedora-commons.1317035.n2.nabble.com/versionable-attribute-on-modifyDatastream-td5066130.html#a5066130  Test case: (1) curl -u fedoraAdmin:fedoraAdmin -T dc.xml -v http://localhost:8080/fedora/objects/changeme:1/datastreams/DC?dsState=A\&versionable=false - verify datastream versionable is set to false (2) curl -u fedoraAdmin:fedoraAdmin -T dc.xml -v http://localhost:8080/fedora/objects/changeme:1/datastreams/DC - datastream state has now been updated to true (it should not have been)  See FCREPO-608 for a similar issue with object state.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST api export specifies the wrong media type for atomZIp archives When using the REST api to export objects, the  content-type header in the response always contains ""text/xml"".  In the case of atomZip-1.1 format, this should be ""application/zip"" instead.    For a locally installed Fedora using default parameters, this can be observed by: http://localhost:8080/fedora/objects/fedora-system:FedoraObject-3.0/export?format=info%3Afedora%2Ffedora-system%3AATOMZip-1.1  This bug can cause some undesirable effects in the browser.  For example - When exporting from the admin client, the default file name may  end in "".xml"" instead of "".zip"" - When using the browser to view an export url as above, it may display an ""xml not well formed"" message rather than presenting a save file dialogue box  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API purgeDatastream - invalid date format for start time purges all versions of a datastream Calling purgeDatastream with a start date-time parameter in a format that Fedora doesn't recognize results in Fedora using a start date-time of null and purging *all* versions of the datastream.  For example, I have a datastream with versions created at: 2010-05-19T20:41:42.903Z, 2010-05-19T20:41:42.540Z, and 2010-05-19T20:41:42.140Z  If I call purgeDatastream with a startDT parameter of 2010-05-19T20:41:42.000540Z (which should remove the 2 newer versions, but format is not quite right), *all* versions of the datastream are purged.  I get the same behavior if I use a date in another format, e.g. 2010-05-19 20:57:34.739000+00:00 (even for a time that is newer than all the datastream versions).  Here is the output for the purgeDatastream call from the fedora log:  Completed purgeDatastream(pid: eulcoretest:11565, datastreamID: TEXT, startDT: null, endDT: null, logMessage: Purged datastream (ID=TEXT), versions ranging from the beginning of time to the end of time.  This resulted in the permanent removal of 3 datastream version(s) (2010-05-19T16:41:42.140Z, 2010-05-19T16:41:42.540Z, 2010-05-19T16:41:42.903Z) and all associated audit records.)  As a side note, it might be helpful to indicate in the documentations that Fedora *will* accept a date-time that includes 3 digits of microseconds (same format as what it returns in datastream history) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update version of Mulgara Update Fedora to use the latest version of Mulgara, currently 2.1.8.  Significant fixes over version 2.1.4 (current version) include - the TQL endpoint now works correctly, in 2.1.4 this generated invalid XML in some circumstances, particularly subqueries; improved optimisation of queries that use UNION, which could impact FCREPO-652 and FCREPO-651",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Ingesting a managed content datastream via REST fails with files larger than 2GB Reported by Graeme West http://fedora-commons.1317035.n2.nabble.com/Large-datastream-ingest-issue-Bad-request-unable-to-fulfill-REST-API-request-java-lang-NumberFormatE-td5094256.htm  Ingesting a file larger than 2GB fails with java.lang.NumberFormatException.  The source of this is in RestUtil -  rContent.size = Integer.parseInt(lengthHeaders.get(0));  This should be long rather than int (along with inner class RequestContent size field and related methods).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Extend Config A test coverage to include REST API support Extend test coverage in config A to include exercising the REST API - ideally the REST API should be tested under a variety of authorisation and authentication scenarios.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Datastream bindings for methods passing as URL use old-style LITE API When a method passes a datastream to a service as a URL reference, the URL it uses is the old LITE API-A (fedora/get) - this should be updated to use the new REST API URLs.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ListDatastreams xml response is not schema valid listDatastreams request (format=xml) returns a response that does not validate. For example, http://localhost:8080/fedora/objects/fedora-system:ContentModel-3.0/datastreams?format=xml  returns a response that is missing the default namespace declaration, and the schemaLocation has an invalid location (at least via REST API)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API purgeDatastream returns HTTP 204 No Content instead of the dates of the deleted versions Unlike the SOAP version which returns the dates of the purged datastream versions, the REST API request only returns a 204.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API returns datastreamProfile that is not schema-valid Similar to FCREPO-707, datastreamProfile (which is returned by a number of the datastream methods) doesn't declare its namespace. Also, a published instance of datastreamProfile.xsd to provide for the schemaLocation appears to be missing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
REST API getObjectProfile xml response is not schema valid Namespace declaration is missing from output.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The responsedate from The OAI Identify response is wrong. The responsedate in The internal OAI providers Identify answer is wrong. It seems that the calculated timezone and daylight savings offsets are added to the localdate, instead of subtracted.  Example:  Local time here 13:22  Ingested two objects into fedora. lastModified date 11:23 (which is UTC)   query OAI Provider with:  http://localhost:9080/fedora/oai?verb=Identify   and the answer is:   <responseDate>2010-05-31T15:13:46Z</responseDate>  The offending code is located in:    /src/java/fedora/oai/OAIResponder.java, line 631   where         UTCDate.setTime(localDate.getTime() + tzOffset);   should be replaced with         UTCDate.setTime(localDate.getTime() - tzOffset); ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Responses to various API requests are not schema-valid XML responses to API methods such as getObjectHistory, getObjectProfile are not schema valid.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"OAI Provider handle the from and until arguments wrong. The OAI Provider handle the from and until arguments wrong.  We've tried to use the from and until parameters with the ListRecords verb.  The behaviour now seems to filter objects on CreationDate and not LastModificationDate as expected.  The Filtering is done in the getDatePart method in FedoraOAIProvider.java in line 340, where the FieldSearchQuery is built. The query uses dcmDate instead of mDate, which is why it filters on creationDate. If the dcmDate in the from and until part are substituted mDate the FedoraOAIProvider works as expected.  A patch file solving the problem is attached",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactor management of temp and uploaded files Code for managing temp and uploaded files is somewhat distributed through the codebase, it would be better to have this in a single unit of code - a temp file management class (with an interface) to manage creating, reading and cleaning up temporary files.  Examples:  DefaultManagement - creates and reads uploaded files, including time-based expiry of these files DatastreamManagedContent - creates and reads uploaded files through DefaultManagement (thus requires authorization for the API-M methods) FOXMLDODeserializer creates temp files (for inline binary managed content) (and other Deserializers) DefaultDOManager deletes temp files (managed inline binary content)  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Ensure latest versions of schema files are available at http://www.fedora-commons.org/definitions/1/0/ Ensure all schema files for REST API responses are available online.  Candidate list to check (please add any others known about):  datastreamHistory.xsd datastreamProfile.xsd fedoraObjectHistory.xsd fedoraRepository.xsd getNextPIDInfo.xsd listDatastreams.xsd listMethods.xsd ojbectItemIndex.xsd objectMethods.xsd objectProfile.xsd,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow ModifyDatastreamByValue to update managed content datastreams ModifyDatastreamByValue (APIM) can currently only modify X datastreams.  For managed content datastreams should be possible to modify with this method.  Ensure REST API is also tested with this.  Note: The REST API allows this, but has to use special coding for the time being because the management module does not directly support it.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Journaling unit tests cannot handle multiple instances of repo on same server fcrepo-server/src/test/java/fedora/server/journal/readerwriter/multifile/TestLockingFollowingJournalReader.java -> fedoraTestingJournalFiles cannot handle multiple instances of repo on same server. The folder fedoraTestingJournalFiles is created in a tmp directory. The first instance to create this folder blocks other instances depending on write permissions.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide a rebuild utility to compute and store SIZE attributes for managed content datastreams FCREPO-64 means that SIZE attributes are now computed and stored for managed content datastreams.  However pre-existing managed datastream versions won't have this attribute, so the size won't be correctly reported.  Therefore provide some kind of rebuild/migration tool to calculate SIZE for existing M datastream versions that don't have the SIZE attribute and save in the FOXML.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide dynamic generation of datastream size for E and R datastreams. FCREPO-64 introduces persisting size of M datastreams in FOXML and reporting these via API calls.  Implement SIZE attribute for E and R datastreams:  eg when the SIZE attribute is requested, do a HEAD request on the external content (following redirects as necessary) and report the HTTP response Content-Length header.  Ensure these attributes are provided by HEAD requests for datastream dissemination via the REST API.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide solution to allow legacy LLStore plug-ins to work with new java package names Java package names in 3.4 have been changed, so legacy LLStore plug-ins will no longer work.  Provide some kind of adapter to allow these to work.  Pasted from FCREPO-622:  2) Legacy LLStore plugins will need to be updated. Preferably to plug in via Akubra, but if that can't be done, we should try to provide a solution that allows the use of these older plugins (like a legacy llstore jar, and an akubra adapter) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Provide a link to datastream content from the ""list datastreams"" view Prior to release 3.2, the datastream ID on ""list datastreams"" linked through to datastream content.  Since then the link is to the ""datastream profile"" which then contains a link to datastream content - however where API-A does not require authorization this means it is no longer possible for a user to navigate to datastream content.  A link to both the profile and the content should be provided on ""list datastreams"".  For consistency with releases prior to 3.2, ID link should be to content, with an additional ""profile"" link.  For consistency with release 3.2 onwards, ID link should be to profile (as it is), with an additional ""content"" link.  Thoughts welcomed on which is more appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Partial, on-line rebuild support Currently, Fedora's rebuild tool works across the entire repository only.  One must stop the repository, run a full rebuild, then start the repository.  It would be nice if one could do any of the following: 1) Add to, or remove from, the list of foxml and managed content directories that are scanned by the rebuilder. 2) If an on-line rebuild is requested, don't delete all the indexes first.  Instead, accept a list of foxml and/or managed content directories to scan.  For each item encountered, remove it from the indexes and re-add it, as necessary.  NOTE: This feature request was originally submitted as ""Ability to add new directories (on-demand) for rebuilder"", after a committer discussion about partial rebuild support.  The new description widens the scope of the original request...it may be broken down into sub-issues if it make sense (for example) to implement adding new directories and partial rebuilds separately.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"TestZip tmp files are not deleted and not unique Temporary files and folders in fcrepo-server/src/test/java/fedora/utilities/TestZip.java package fedora.utilities have hard coded names and are not deleted upon exit.   I suggest a complete rewrite using File.createTempFile with System.nanoTime(). As is now the this class is not particularly easy to maintain or patch.  For now I've patched it as follows:  <snippet>         private final String TMP_DIR = System.getProperty(""java.io.tmpdir"");          private final String ZIP_FILE = TMP_DIR + File.separator + ""test"" + System.nanoTime() + "".zip"";          private final String TEST_DIR = TMP_DIR + File.separator + ""test"" + System.nanoTime();         ...         File foo = new File(testDir, ""foo"");         File bar = new File(testDir, ""bar"");         File baz = new File(bar, ""baz""); </snippet>  and that's not very pretty! Something like this might be better:  <snippet>         //private final String TMP_DIR = System.getProperty(""java.io.tmpdir"");          private final String ZIP_FILE = File.separator + ""test.zip"";          private final String TEST_DIR = File.separator + ""test"";         ...         File foo = File directory = File.createTempFile(""foo"", System.nanoTime(), System.getProperty(""java.io.tmpdir"") );          File bar = File directory = File.createTempFile(""bar"", System.nanoTime(), System.getProperty(""java.io.tmpdir"") );          File baz = File directory = File.createTempFile(""baz"", System.nanoTime(), System.getProperty(""java.io.tmpdir"") );  </snippet>  though a more extensive rewrite would be preferable.  Please refer to http://fedora-commons.org/jira/browse/FCREPO-723 for a similiar issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Parameter datastreamDefaultFilename mis-spelt as datstreamDefaultFilename in fedora.fcfg But fortunately consistently mis-spelt in code also in DatastreamFilenameHelper in the REST package.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Get validate to also validate the ontologies for RELS-INT As the title says. The stuff that did not make it in as the first part of ECM,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Bug in relative SchemaLocation paths in Enhanced Content Model schemas Content models can associate schemas with datastreams. This happens with the <extension name=""SCHEMA> element.  The schema will always be defined in a <reference type=""xsd"" datastream=""SCHEMASTREAM""/> element.  As these datastreams can be internal, I have added an ability to import other local schemas. So, if you write  ... schemaLocation=""../SCHEMASTREAM2""/>, the validator will parse this as a reference to the datastream SCHEMASTREAM2 in the same object.  But if the validator is currently reading a schema that is NOT stored in Fedora, but which import another schema through a relative URL, the same bit will be invoked  so, if some schema outside Fedora uses ... schemaLocation=""../simpleDC.xsd""/>, the validator will attempt to request the ""simpleDC.xsd"" datastream from the content model. If there is no datastream with this name, the URL will be resolved normally. But if there is, the datastream will be used instead of the local schema. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Test config files are out-of-date The resources/scripts/test properties files are out of date.  For instance they use fesl.enabled, whereas the installer now uses fesl.authn.enabled and fesl.authz.enabled.  Maybe we could have an installer-generated warning so when reading a properties file during installation, if an expected value is not found and the default is used, this could be reported?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
System test failures when fesl authn enabled (fesl authz disabled) FeSL AuthN is the default for 3.4 (see FCREPO-671) but this results in some integration test failures:   Eg ConfigA  Failed tests:   testFindObjects(org.fcrepo.test.api.TestRESTAPI)   testResumeFindObjects(org.fcrepo.test.api.TestRESTAPI)   testFindObjectsBadSyntax(org.fcrepo.test.api.TestRESTAPI)   testUpload(org.fcrepo.test.api.TestRESTAPI)  Failed tests:   testXACMLAPIMAccess(org.fcrepo.test.api.TestXACMLPolicies)  Tests in error:   testXACMLMultiOwnerAccess(org.fcrepo.test.api.TestXACMLPolicies)   testXACMLUnmodifiableContentModel(org.fcrepo.test.api.TestXACMLPolicies)  Not investigated the reason for these - could be issues with the tests rather than fesl AuthN?,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"The REST api create xml return values by hand There is a class DefaultSerializer, in the REST api. It's job is to convert fedora datastructures to xml and html return values for the REST api. It does this by initializing a stringbuffer and appending strings as it parse the datastructure. This procedure works, but should be improved to some sort of automatic conversion or generation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"documentation wrong for Fedora-modify There is a bug in the documentation for Fedora-modify for version 3.3 ( https://wiki.duraspace.org/display/FCR30/Client+Command-line+Utilities ). The documentation says:  ""# validate-only-option - an _optional _ parameter indicating whether to only validate the directives file or to immediately process the file. The parameter can have any non-blank value. If present, the directives file will be validated only. If omitted, the directives file will be immediately processed.""  In fact, the opposite iis true. If absent, the director of file will be validated. If *present*, the directive file will be processed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow policies from multiple parents (multiple collection membership) Currently the request context resources are built from (a) the PID (and dsID) of the object and (b) the same with all parents.  According to the XACML 2.0 spec, multiple parent lineages should be included, ie if a resource test:res is a member of test:col1 and test:col2, then we should be generating - test:res - test:col1/test:res - test:col2/test:res  Currently only a single parent lineage is calculated (using the first parent relationship discovered in the relationships).  This would allow resources to be members of multiple collections, and to use policies from all parent collections.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"REST endpoint getRelationships throws ""Unsupported output format: Sparql"" When executing the request:  ""GET /fedora/objects/fedora-system:FedoraObject-3.0/relationships?format=sparql"" the following stack trace is thrown:   javax.ws.rs.WebApplicationException: org.trippi.TrippiException: Unsupported output format: Sparql   org.fcrepo.server.rest.BaseRestResource.handleException(BaseRestResource.java:168)   org.fcrepo.server.rest.RelationshipResource.getRelationships(RelationshipResource.java:103)   sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:597)   com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:175)   com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)   com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)   com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)   com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)   com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:689)   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:647)   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:638)   com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:590)   javax.servlet.http.HttpServlet.service(HttpServlet.java:717)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   org.fcrepo.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:79)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:287)   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)   org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)   org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)   org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)   org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)   org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)   org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)   org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)   java.lang.Thread.run(Thread.java:637) Caused by: org.trippi.TrippiException: Unsupported output format: Sparql   org.trippi.TripleIterator.toStream(TripleIterator.java:150)   org.trippi.TripleIterator.toStream(TripleIterator.java:116)   org.fcrepo.server.rest.RelationshipResource.getRelationships(RelationshipResource.java:98)  ... 35 more  All other formats (xml, rdf/xml, turtle, n-triples) seem to work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST endpoint purgeRelationship does not indicate if the relationship was purged The current implementation of the purgeRelationship REST endpoint does not indicate if a relation was actually purged. It returns ""204 no content"" in all cases. It should however return whether the operation succeeded or not (as supported by the respective APIM method).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"TriplestoreConnector is not Spring-friendly proposing some small changes to TriplestoreConnector for Fedora 3.5 release: * deprecate init(Map), add setConfiguration(Map) and getConfiguration(Map) * allow for constructor injection of config map on impls that support it * add an open() method, so that configuration might be inspected by client code before use (existing impls can be updated to call open() within their getReader/Writer methods).  Also, removing log4j dependency in favor of slf4j seems desirable (and relatively easy).  I'm not done with the other patch (json), but I think this stuff is important enough to prioritize it.",legacy - Trippi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
Remove references to internal Sun XML APIs import com.sun.org.apache.xml.internal.serialize.OutputFormat; import com.sun.org.apache.xml.internal.serialize.XMLSerializer;  Bumping priority: will be irresponsible to leave these in the 3.x line when it ends. They should be replaced with the apache impls.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Bundled Tomcat has enableLookups=""true"" in server.xml This setting should be changed to false, so Tomcat doesn't attempt a reverse DNS lookup for each request.  This can be a real performance limiter.  See related thread on fedora-commons-users list: http://fedora-commons.1317035.n2.nabble.com/Hostname-lookups-appears-to-be-affecting-performance-can-it-be-turned-off-td5321171.html#a5321171",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve repository scalability for individual operations and for multithreaded operations. In testing particularly with Sun, the core Fedora Repository has proven to be significantly slower than the underlying file storage subsystem.  Also, multi-threaded performance has proven to top out at 7-12 connections.  The repository needs to be analyzed to locate the reasons for performance bottlenecks and refactored to achieve performance levels closer the underlying storage capabilities.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The ownerId object property is added automatically with no value when not supplied during FOXML ingest. When using the REST API via the MediaShelf Fedora client, the ownerId object property is created even though it is not in the supplied FOXML.  It is given the value of an empty string.  It would expect either to default to the login credential or not be added automatically.  I have not tested yet from the command line or other clients to isolate the problem.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ability to clear the FeSL response cache The FeSL PEP contains a response cache.  Evaluation requests and responses are cached, so that repeating the same request will result in returning a cached item rather than re-evaluating the request.  Environment variable PEP_NOCACHE can be set to true to completely disable the cache.  Currently when policies are added, edited etc, the cache is not invalidated, with the impact that existing cache entries not reflecting the policy change could be returned (ie incorrect evaluation response).  The default cache expiry time is 10 minutes, so policy changes are not guaranteed completely effective until after this time.  Provide some means of clearing the cache, eg a configurable option so that (optionally) when a policy is added etc the cache is cleared. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Identify a ""recommended"" Java client library for the 3.4 release Identify a ""recommended"" Java client library for people to use for the 3.4 release.  Mark existing Fedora client code as deprecated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Validation of checksum as a repository setting When creating a datastream, the API allows the user to specify a checksum, and a checksum type. If these are specified, Fedora will automatically validate the checksum against the contents. For some usecases, this is the wanted behaviour.  When working with large external datastreams however, this become a serious bottleneck. If I know the checksum of the remote file, I want to be able to tell this to Fedora, so that it is stored in the standard way, without having Fedora download the entire terabyte long datastream to make sure that I gave the correct checksum.  What I would like to see is a fcfg param, autoValidateChecksums, that specify if user provided checksums should be validated, or just accepted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Credentials not passed through for API-A REST calls when FeSL AuthN enabled With FeSL AuthN enabled and API-A auth required turned off, it is not possible to authenticate for API-A REST calls.    Tested by supplying pre-emptive auth credentials (BASIC, DIGEST) using WizTools.org RESTClient - Fedora is not picking up the supplied login ID.  One impact of this is that if an object is deleted, access is (correctly) restricted by a XACML policy for unauthenticated users, however it is not possible to authenticate (eg as administrator) to view the object profile.  Thus once an object is deleted in the web admin client, the client can no longer retrieve the resource.  It would seem that the fix for FCREPO-615, http://fedora-commons.svn.sourceforge.net/viewvc/fedora-commons?revision=8467&view=revision, results in skipping retrieving preemptively-supplied credentials.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
No authentication for UserServlet with FeSL AuthN and API-A auth turned off The UserServlet does not require authentication (and will not pick up any pre-emptively supplied credentials).  See FCREPO-753 also.,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"RELS-EXT/INT support for other RDF formats From Steve's recent message to the user list[1]: ""Alternatives could include N3 and N-Triples, both of which tend to be more readable (and therefore potentially easier to author) than RDF/XML - possibly useful to those less experienced in creating RDF/XML.   This would not be possible with the current 3.3 release, as the RELS-* datastreams must be XML as they are ""X"" datastreams (N3 and N-Triples are not XML), but could be an option for 3.4 onwards now that we support M datastreams for RELS-*.   (Additionally, RDF/XML has limitations as to to what RDF can be serialized as RDF/XML.)""  [1] http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-FOXML-RELS-EXT-member-of-two-collections-tt5373319.html#a5376035",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Batch purge objects from command line Modify the class org.fcrepo.client.utility.AutoPurger to optionally take as an argument the path to a file containing a list of PIDS of objects to be purged, in lieu of a single pid.  Open the file, loop through the PIDs and purge each one, logging a message for each purge event.  Throw an exception if the file specified on the command line does not exist or cannot otherwise be read.  Update the fedora-purge.* scripts to accept the optional file parameter on the command line.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Add ""isCollection"" to the Fedora relationships ontology Currently ""isCollection"" is not present in the Fedora relationships ontology at http://fedora-commons.org/definitions/1/0/fedora-relsext-ontology.rdfs.  However it's a term that does seem to get used fairly frequently to allow discovery of resources that have children.  See the recent post by Gill Hamilton to the users list.  The wiki page FAQ item on this does in fact use this predicate although it is not defined in the ontology (https://wiki.duraspace.org/pages/viewpage.action?pageId=17530955) and Muradora also made use of this undefined predicate.  Should we therefore consider updating the ontology to include this?  Or should we recommend that people use a predicate from their own namespace (and update the wiki FAQ item also)?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
FeSL policy validation issues * Policies not being validated (configuration had validation turned off) * Validation exceptions being swallowed (but logged) in dbxml update decorator * Invalid/incorrect access-fedora-internal-call policy * Invalid test policy in TestHTTPStatusCodesConfigC,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"FeSL incorrect handler mapping for REST modifyDatastream The REST methods for modifyDatastream and setDatastreamState both are a PUT to /objects/{pid}/datastreams/{dsid}.  setDatastreamState has a query parameter of dsState.  modifyDatastream can optionally supply this parameter also.  When modifyDatastream includes this parameter, org.fcrepo.server.security.xacml.pep.rest.filters.ObjectsFilter.getObjectsHandler incorrectly identifies the method as setDatastreamState and thus returns the incorrect handler.  Impact is fairly low as permissions for both of these methods are likely to be the same.  In fact we have an overlap of permissions as modifyDatastream can also do setDatastreamState, we probably want a single handler for both (ie the modifyDatastream handler should probably handle setDatastreamState also).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Policy managers can create policies pertaining to any resources (no ability to restrict policy management) FeSL action ""admin"" enables users to manage (create) policies.  There is currently no restriction on the contents of the <Resources> section of the XACML policies being created - ie it is not possible to enable policy management for a restricted set of resources.  This is a potential security flaw - anyone with policy management permissions can create policies that affect any resource in the repository.  As a first step this should be clearly highlighted in the documentation.  Ideally it should be possible to specify a policy that enables policy management access for policies that pertain to a specified set of resources (eg a collection, all members of a collection).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"It is possible to specify apparently valid XACML policies that will never be effective FeSL (partially) implements the XACML 2.0 hierarchical resource profile [1]  This enables resources to be specified as a ""uri"" [2] in policies [3], including specifying resources using regular expression matches [4].  Only a subset of potential regex hierarchical URI specifications are used in the GenericPolicyFinderModule (actually -> PolicyManager -> DbXmlPolicyIndex) [5] which means that it is possible to create a policy using a resource URI with a regex which will never be located by the policy finder - thus the policy will never actually be used.  Example:  To specify all members of a collection, it is necessary to specify the full URI path, including all parents, so for an example collection demo:collection which is itself a member of demo:topCollection, it is necessary to specify: /demo:topCollection/demo:collection/.*  to specify all members of demo:collection.  If demo:collection were to be moved into demo:otherTopCollection the policy would no longer work.  It should be possible to specify members of a collection using only the immediate parent, ie something like .*/demo:collection/.*  (or something similar, regex probably needs tightening up a bit)  However such a regex syntax would not be recognised by the policy finder, so the policy would never be used.  It is not possible to create a policy specifying ""all members of collection xyz"" without specifying all ancestors of collection xyz in the policy.  NB: there will also be an impact on the hierarchical policy combining algorithms potentially if we change this behaviour  [1] http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-hier-profile-spec-os.pdf [2] in fact the ""uri"" used in FeSL isn't a defined Fedora URI, it's a simple path created by prepending all ancestors of the resource, separated by ""/"" [3] using ResourceAttributeDesignator: urn:oasis:names:tc:xacml:1.0:resource:resource-id [4] using ResourceMatch: urn:oasis:names:tc:xacml:2.0:function:anyURI-regexp-match [5] an example of URIs that are generated for searching for policies are as follows for a request context specifying datastream DC in object demo:resource (with full collection membership as above).  Note that these would not catch all potential regex resource specifications that identify the resource:      /demo:topCollection/demo:collection/demo:resource      /demo:topCollection/demo:collection/.*      /demo:topCollection      /demo:topCollection/.*      /demo:topCollection/demo:collection/demo:resource/.*      /demo:topCollection/demo:collection/demo:resource/DC$      /demo:topCollection/demo:collection/demo:resource/DC      /demo:topCollection/demo:collection ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Implement more tightly-defined (ie semantically precise) specification/identification of resources in policies Noting FCREPO-761, it is currently possible to specify resources in a policy to using regular expressions.  Indexing/locating policies based on regular expression syntax will be difficult (if not impossible) given the potential range of regular expressions that could be used to specify resources.  Currently only a small subset of regular expressions are searched for.  Instead of using the anyURI-regexp-match in conjunction with hierarchical URIs, it would be better to specify a set of ResourceAttributeDesignators that do not use regular expressions and are therefore (a) more semtically precise and (b) much easier to index and search for.  A full set of use-cases would need defining, but the following could be candidates - all children of resource xyz (ie immediate collection members) - all descendants of resource xyz (ie resources that are members of collections that are also members of xyz)  As part of this we should also consider the requirements of FCREPO-636, ie a policy object applies to a collection xyz through an ""appliesTo""; a policy object applies to collection members through ""appliesToChildrenOf""  ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Ability to validate FeSL policies The validate-policy.sh/.bat script that comes with Fedora assumes the v1 XACML schema, but FeSL policies use the v2 XACML schema.  Although FeSL Authorization is still considered experimental, it would be good to have a way for people to validate the newer-style policies.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Improve REST API responses The REST API needs improvement is in the area of API response messages, specifically on errors.  From the point-of-view of the REST API consumer, Java stack traces are unhelpful, and they expose the inner workings of Fedora, which consuming applications should neither see nor care about.  A concise response is more helpful to application developers using API.  The response should include these three items, in a form that's easy to parse:  1) an HTTP status code (which can also be obtained from the headers) 2) a local fedora error code, either numeric codes or other strings like ""PIDNotFound"" or ""LabelTooLong"", or both 3) a concise description/explanation.   Here's how an ideal response might look:  <fedora-response type=""action-failed"">   <http-code>415</http-code>   <fedora-error-code>LabelTooLong</fedora-error-code>   <explanation>     Object label must not exceed 255 characters     (foxml:property NAME='info:fedora/fedora-system:def/model#label')   </explanation> </fedora-response> ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Create an Admin module (similar to Management, Access) for Admin type ""API"" methods At the committer call 2010-08-10 implementation of FCREPO-724 and FCREPO-686 raised the issue of where administrative methods such as migrating datastream control groups and recalculating managed datastream size should live, and how they should be exposed.  It was felt that these should not live in the main SOAP and REST APIs as they were likely to be more transitive and subject to change, therefore a separate module, with a separate API, should be implemented for these (and should be documented as being subject to change).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Web Admin object state combo cannot be committed the first time unless a second property is changed. Also affects 3.4 RC.  The combo box which displays and permits changes to an object's state does not work if it is the only change made in a first attempt to commit.  Subsequent changes to the the state combo can be committed even if it is only change being made.  While found during 3.4 testing it affects versions back to 3.2.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer defaults to Akubra if no option is specified in an install.properties file If Fedora is installed with an install.properties file from a prior release (which does not have a property for the LLStore implementaiton), Akubra will be used by default.  Potentially this could affect users upgrading to this release from 3.3 or before, who may wish to use their existing install.properties during installation.  In this case they almost certainly wouldn't want to be using Akubra, so using the default is dangerous.  We need to show a warning during installation if the property is not present in install.properties.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Provide tool to allow migration from legacy LLStore implementation to Akubra Akubra becomes the default Low-level storag impementation in the 3.4 release.  However we currently have no means of migrating an existing repository using the legacy implementation to Akubra.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL invalid XACML results in changes to FESLPOLICY datastream even though API call fails Adding/editing an invalid FESLPOLICY datastream results in a failure of the API call, however the changes are saved.  This is due to the order in which policies are propagated to dbxml - after the main API call has been made.  Need to cater for the situation where both the API call and/or the propagation to dbxml (where the validation takes place) could fail.  Probably not a blocker for 3.4.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"FeSL - conversion of policy ""name"" to PID incorrect Fedora objects are created for policies by the FedoraPolicyStore class.  Although currently only used for loading bootstrap policiesfrom files and for testing, the conversion of the policy name to a PID is not safe.  Non-bootstrap-policy names are not correctly picking up the PID namespace, and there is no conversion for non-safe characters.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"FeSL potential for policy name/identifier collision Interfaces PolicyStore and PolicyIndex in the PDP expose a variety of methods for add/delete/update, which variously take a name parameter or generate one from the identifier in the XACML.  Depending on the code paths actually used in practice it could be possible for an identifier collision.  We should standardise on an identifier - suggest using the Policy object PID (note that PolicyManager methods are not actually exposed, only used during ingest of system policies).  Currently only affects the indexing of policies in DBXML and the policy document names used there - it is possible (again depending on the code paths actually used in practice) that two XACML documents (in two different Fedora objects) could use the same XACML policy identifier and therefore result in a DBXML exception.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Clean-up of ""orphan directories"" in Akubra When content is deleted from directories, the directories themselves are not removed, periodically some kind of purge should be done to remove unused directories.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
REST Servlet throws exception under access load. Two exceptions are thrown periodically while accessing Fedora via the REST Servlet.  The system is operating under a moderate-high load but none of its resources are bottlenecked.  Subsequent access operations function normally with the exceptions thrown at random but regular intervals.  The VM is also under load with the ingest of digital object and very small numbers of managed datastreams.  The events seem to correspond to 500 notifications in the client.  There does not seem to be any effect to the ingest operations.  The exceptions are found in the localhost log attached.  The catalina log is attached for completeness.  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow externally-managed content referring to a file URI to be readable by unauthenticated users When policy enforcement is turned on, and there is a policy in place to allow file uploads from specified paths, only an authenticated user is allowed to see the created externally-managed datastream.  Attached is a transcript of what takes place, but in summary, I'm allowed, as fedoraAdmin, to create objects with M and E datastreams whose content is uploaded via the file URI;  however, when I attempt to view the Externally Managed datastreams (E) as an unauthenticated anonymous user, I get a ""Policy blocked datastream resolution"" exception in the logs, caused by a ""AuthzDeniedException"":  Caused by: org.fcrepo.server.errors.authorization.AuthzDeniedException:         at org.fcrepo.server.security.PolicyEnforcementPoint.enforce(PolicyEnforcementPoint.java:422) [fcrepo-server-3.4-SNAPSHOT.jar:na]         at org.fcrepo.server.security.DefaultAuthorization.enforceRetrieveFile(DefaultAuthorization.java:1660) [fcrepo-server-3.4-SNAPSHOT.jar:na]         at org.fcrepo.server.storage.DefaultExternalContentManager.getFromFilesystem(DefaultExternalContentManager.java:242) [fcrepo-server-3.4-SNAPSHOT.jar:na]   If I retrieve the E datastream authenticated as the fedoraAdmin, then I can see it.  Datastreams of other types within the same object are visible to the world, as expected.  Creation of externally-managed datatstreams that use a file URI should be controlled by the file-resolution policies, but once the datastreams are created, they should be visible to the world according to the same rules that apply to M, R, and X datastreams in an object.  See attachments for a transcript of a test showing this behavior, and a sample policy file that replaces deny-unallowed-file-resolution.xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API:  Determine and set appropriate mime-type when a new managed datastream is added without a specified media or mime type If a datastream is created with the REST API and no media or mime type specified, Fedora sets the dsMIME type as ""application/x-www-form-urlencoded"" for datastreams of type M, R, and E.  This MIME type is incorrect for most datastreams.  For datastreams of type E and R, it doesn't matter so much (the content is delivered correctly);  but when you request a M datastream with this type, a header line ""content-disposition: inline; filename=""[something].bin"" is sent, and you are asked if you want to save a file with the content, since the browser cannot determine the MIME type and handle it appropriately.  How should the MIME type be determined, if it is not specified?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
DC Datastream is not validated The Dublin Core datastream appears not to be validated (looking at org.fcrepo.server.validation.ValidationUtility and elsewhere).  Maybe that is by design?  Noted in 3.4 but probably the case in earlier versions. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Clean up system test output messages The system tests ConfigA/B/C/Q generate a lot of debugging/informational messages through System.out.println, quite a lot of these are probably unnecessary (debugging the tests messages) and tend to flood the output making it difficult to see useful messages.  Also the HTTP client code (particularly the REST API tests) generate a lot of warning messages, which can probably be avoided with some code tidy-up:  WARN 00:21:07.971 (HttpMethodBase) Going to buffer response body of large or unknown size. Using getResponseBodyAsStream instead is recommended.  Again these leave useful messages buried in the output and not very visible.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"NPE thrown on disseminations if external web service response does not contain a Content-type header Fedora throws a null pointer exception if you call a disseminator that fronts a web service whose response does not contain a ""Content-type"" header.  Attached is output of a test that demonstrates the bug, a patch to fix this issue, and the output of this same test after the patch is installed. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Synchronisation of the access to modification of digital objects. We would like to avoid the ObjectLockedException thrwon in the DefaultDOManager.getWriteLock method. We thik this could be done by locking processes in the getWriteLock method instead of throwing the exception and releasing them in the releaseWriteLock method when appropriate. We are working on an implementation of this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Migration tool for version 2.x repositories does not work under 3.4 Because of the java package renaming, the migration tool used to upgrade 2.x repositories to 3.x does not work (see https://wiki.duraspace.org/display/FCR30/Upgrading+from+2.x).  We could either 1 just update the tool against the latest server jars, and update the references to fedora.fcfg where module etc names have changed 2 update package names in this migration tool as well 3 go the whole way and mavenise it as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer should check/verify intended location of JDBC connectors There are configuration variations in Tomcat supplied with various Linux distros.  In particular the Debian distribution does not have the same location for common jar files as a stand-alone installation of Tomcat 6.  This can lead to installation errors - see issue raised by Graeme West at  http://comments.gmane.org/gmane.comp.cms.fedora-commons.user/5637  The installer should examine $CATALINA_HOME/conf/catalina.properties - the common.loader.property, and deal sensibly with this  Options could include 1 warn if the intended location is not present 2 inform user what config changes are needed for Tomcat 3 offer user ability to specify an alternative path, informing them of the contents of the common.loader property to guide them 4 automatically modify Tomcat configuration  I would suggest 1, then 3 with the option to quit at this point so user can update the Tomcat configuration if necessary (ie 2).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora object 3.0 declare wrong format uri for the POLICY datastream This is the current xml                     <dsTypeModel ID=""POLICY"" optional=""true"">                         <form FORMAT_URI=""info:fedora/fedora-system:FedoraRELSExt-1.0"" MIME=""application/rdf+xml""/>                         <extension name=""SCHEMA"">                             <reference type=""datastream"" value=""POLICY-SCHEMA""/>                         </extension>                     </dsTypeModel>  The format uri should of course not be the one for the RELS-EXT datastream",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The jar-only releases are not usefull The jars made available for download are really not useful. For maven projects, they would depend on the repository, and get the jars automatically. For non-maven projects, they would be unable to use the jar, as there is no dependencies included.  I have made a patch for this, using maven's assembly plugin",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Adding datastream with referenced content on file system throws Exception when providing a checksum Replicates fcrepo-696, with the additional problem that an empty read-only context is insufficient for policy resolution.  I think the solution is to add the ability to attach a context to DatastreamReferencedContent (and arguably to DatastreamManagedContent, which would have the same problem if it enforced a policy regarding the URLs it would fetch).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Misleading error message: Multiple instances of RecordCache not allowed When the OAIProvider service starts up, if it is misconfigured, users will see a stack trace when they hit the service, whose message error is ""Multiple instances of RecordCache not allowed"".  This is a misleading error message, and hides the true problem in such cases.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Object label not escaped properly when set in doRegistry table Reported by Nicholas W on fcrepo-user list:  Just discovered this by accident. I am not sure if this is a known problem or not. In Fedora 3.3 If a label ends in a \ (blackslash) the ingest of an object fails with an SQL error.  Ingesting this example:  <?xml version=""1.0"" encoding=""UTF-8""?> <foxml:digitalObject xmlns:foxml=""info:fedora/fedora-system:def/foxml#"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" VERSION=""1.1"" PID=""changeme:9688"" xsi:schemaLocation=""info:fedora/fedora-system:def/foxml# http://www.fedora.info/definitions/1/0/foxml1-1.xsd""> <foxml:objectProperties> <foxml:property NAME=""info:fedora/fedora-system:def/model#state"" VALUE=""Active"" /> <foxml:property NAME=""info:fedora/fedora-system:def/model#label"" VALUE=""Something ending in a slash \"" /> </foxml:objectProperties> <foxml:datastream ID=""DC"" STATE=""A"" CONTROL_GROUP=""X"" VERSIONABLE=""true""> <foxml:datastreamVersion ID=""DC.0"" LABEL=""DC"" MIMETYPE=""text/xml;charset=utf-8""> <foxml:xmlContent><oai_dc:dc xmlns:oai_dc=""http://www.openarchives.org/OAI/2.0/oai_dc/"" xmlns:dc=""http://purl.org/dc/elements/1.1/"">  <dc:title xml:lang=""en"">DC Title</dc:title>  <dc:type>http://purl.org/vocab/frbr/core#Expression</dc:type><dc:identifier>changeme:9688</dc:identifier></oai_dc:dc></foxml:xmlContent> </foxml:datastreamVersion> </foxml:datastream> </foxml:digitalObject>  I get the following error:  Object ingest failed due to: Error (500): <pre>javax.ws.rs.WebApplicationException: fedora.server.errors.StorageDeviceException: Unexpected error from SQL database while registering object: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''Something ending in a slash \')' at line 1        at fedora.server.rest.BaseRestResource.handleException(BaseRestResource.java:162)        at fedora.server.rest.FedoraObjectResource.createObject(FedoraObjectResource...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL AuthN fedora-users.xml not closed properly after each use This can lead to the operating system running out of file handles.  Reported by Janna Wemekamp on the fcrepo-user list.  More information and reproduce: http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-FedoraCommons-3-4-with-Akubra-Low-Level-Storage-Java-crash-in-REST-API-s-getNextPID-td5480759.html  This problem does not occur when the old AuthN (non-FeSL) is used, so if using fedora-users.xml with Fedora 3.4, it is recommended to answer ""false"" to ""Enable FeSL AuthN?"" at install time.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Re-work of Fedora Client CLI tools  Fedora's CLI utilities should be reworked so that:  - We use one client library throughout (and stop using the old FedoraClient) - Batch operations are supported throughout  This can be accomplished a variety of ways.  Here's a proposal:  A) We use Kai's fedora-cli project as a replacement for the existing client batch/shell scripts. B) Kai's fedora-cli project uses the new MediaShelf-developed java Fedora Client C) Batch operations become scripts passed to fedora-cli.  This would subsume the existing batchmodify functionality, and support the batch purge use case highlighted in FCREPO-756","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"Cache fedora-users.xml for FeSL AuthN As noted in FCREPO-790, FeSL's fedora-users.xml authentication implementation reads this file for every request to the repository.  This file should not have to be re-read and parsed for every request -- the info it contains should be cached in some way for performance.  For example, a reasonable out-of-box behavior would be to refresh from the file if it has been > 60 seconds since the last request.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"FieldSearch implementation does not handle utc correctly When foxml is ingested, and the `update` method called on FieldSearchSQLImpl, dates registered with the Digital Object are treated differently from dates listed in the DublinCore metadata stream.  If the client supplies identical dates in respectively the DigitalObject created_date field and in a dublin core datastream, the dublin core date will be parsed as a UTC timestamp and the created date will not. This will result in the same timestamp being represented as two different epoch timestamps in the database tables:  dc:date      2010-09-02T02:20:20.202 -utc-> 2010-09-02T04:20:20.202 -getTime()-> 1283394020202 cDate        2010-09-02T02:20:20.202           2010-09-02T02:20:20.202 -getTime()-> 1283386820202  Upon searching for dates (ranges or equality) the `findObjects` method in FieldSearchResultSQLImpl will convert all search term values for dates given in Conditions, to UTC: date  EQUALS 2010-09-02T02:20:20.202 -utc-> 2010-09-02T04:20:20.202  -toSQL-> SELECT ... WHERE dcDates.dcDate = 1283394020202 cDate EQUALS 2010-09-02T02:20:20.202 -utc-> 2010-09-02T04:20:20.202 -toSQL-> SELECT ... WHERE doFields.cDate = 1283394020202  The attached java file demonstrates the FieldSearchSQLImpl use of DateUtility#parseDateStrict( java.lang.String ) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL loading of bootstrap policies can fail if a 2nd request is made before the initial load has completed The initial load of bootstrap policies is kicked off by the first request to the server.  If a second request to the server is made before the load has completed, the load fails.  Subsequent restarts of the server do not resolve the situation.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Integrate FeSL with module/spring architecture FeSL is not integrated with the current module architecture.  Once the Spring DI framework is in place, FeSL should be integrated with this architecture.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Fedora objects are not valid xml when using inline datastreams Try the attached file.  This is a valid object, and conforms to all the xml specifications. The trick here is that the xsi namespace is not redefined in the DC datastream.   It cannot ingest, as the DCFields class attempts to parse solely the contents of the DC datastream. But the contents of the DC datastream are valid, in the context of the object.  Reproducing this bug in production  1. getObjectXML on ANY fedora object 2. Parse this xml as a document (xsi is defined both on the top level, and in the DC datastream) 3. Do something with the document 4. Convert the document to xml (xsi is only defined on the top level) 5. Ingest the new xml (error, xsi:schemaLocation not bound)  The point here is that the standard XML parsers do NOT know that they MUST repeat the global namespaces in the root elements inside <xmlContent>. They do not know this, because this is not required by the xml specification.    I my repository we use templates, ie. data objects that we clone. We do the clone by exporting the template object, change the pid, and reingest the object. This fails, of course, because upon ingest the xsi:schemaLocation is added to the oai_dc:dc element by Fedora (why?). Parsing the exported object as a document then simplifies the namespace declaration. The resulting object then cannot reingest. We solve it by forcefully removing the xsi:schemaLocation attribute from the DC stream, even through we did not put it there.   If we really want to support Inline xml, we should adhere to the xml specification. The more I think about it, the more problematic inline xml is. We cannot have the xmlcontent of a datastream live separately from context of the object, they are part of the same document, and they will interact. One general solution could be to add namespace declarations for all top level namespaces to the root element of any inline datastream, when the content is requested. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The fedora.server.utilities.TestDateUtility.java is dependant on language setting The TestParseDate mehtod in the TestDateUtility class assumes that the machine the test are being executed on has its language settings set to English. The last member of of the array dates, shown below, has the English abbreviation ""Thu"" which cant be parsed in other languages. So the DateUtility.parseDateAsUTC returns null when it is actually doing what it is supposed to.  String[] dates =                 {""1970-01-01T00:00:00.000Z"", ""1970-01-01T00:00:00.00Z"",                         ""1970-01-01T00:00:00.0Z"", ""1970-01-01T00:00:00Z"",                         ""1970-01-01Z"", ""1970-01-01T00:00:00.000"",                         ""1970-01-01T00:00:00.00"", ""1970-01-01T00:00:00.0"",                         ""1970-01-01T00:00:00"", ""1970-01-01"",                         ""Thu, 01 Jan 1970 00:00:00 GMT""};  Solution: Generate the GMT string with Javas Date class. This should insure that the language of the machine doesnt matter in the unittest   The workaround for this is to set your machines language setting to English",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
SOAP modify functions should accommodate moving inline XML to Managed Datastreams Different SOAP calls are used depending on whether the datastream is inline XML or has been moved to a Managed Datastream.  This is inconsistent with the REST interface and requires the user to know the specific implementation of a given Fedora Digital Object.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Field Search experience significant performance problems on large scale repositories. The performance of Field search degrades significantly on large scale repositories when using queries on fields which are exact matches on indexed columns.  Likely this is due to the creation of very large result sets that cannot be returned in any practical form.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Review the utility of field search in it current form. Field Search-related functionality in its current form may need to be modified or considered for exclusion from the Fedora core to a supported but external utility.  Its use in queries for non-exact matches can severely impact the repository operations.  It is tied to Dublin Core with limited customizability.  It is useful for administrative functions but those are likely to be a subset of the currently supported columns.  It includes hard-coded HTML generation in the core which does not lend itself to internationalization (I18N) in its current form.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"external JMS broker unavailable at startup halts startup If Fedora is started with JMS messaging turned on and configured for an external broker with direct connection (and not through a JNDI provider) but that broker is unavailable at startup, the entire server goes back down. That seems like a pretty drastic failure.  To duplicate:  0) Turn off a repository.  1) Turn on the Messaging module and assign an external broker to ""java.naming.provider.url"" in fedora.fcfg, e.g.      <param name=""java.naming.provider.url"" value=""tcp://localhost:61616""/>  2) Make sure the external broker is not available.  3) Start up Fedora.  You'll see something like:  FATAL 2010-09-21 09:59:55.571 [main] (Server) Module (fedora.server.messaging.Messaging) failed to initialize fedora.server.errors.ModuleInitializationException: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused   fedora.server.messaging.MessagingModule.initModule(MessagingModule.java:81)   fedora.server.Module.<init>(Module.java:63)   fedora.server.messaging.MessagingModule.<init>(MessagingModule.java:58) ...  and then a server shutdown. Much better would be to see some kind of warning, then attempts to connect as appropriate with warnings thrown on failures.  It's not known to me whether this behavior is the same with a JNDI-provided ConnectionFactory, because I've never been able to get that stronger configuration to work, which is a whole 'nother problem. {grin} ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Drop McKoi JDBC support McKoi is a pure Java database that was originally distributed under GPL2 (newer versions are released under GPL3), while Fedora is distributed under Apache2.  Fedora has never depended on McKoi in order to run -- it has always been an option.  As of Fedora 3.2, the database itself was no longer distributed with Fedora (we switched to Derby as the out-of-box native Java database), but we continued to support integrating with a pre-installed McKoi database.  Although this is only the JDBC driver, and is only provided as an option, there is still legitimate concern that the license of the older version of McKoi (whose JDBC driver we have distributed in the past) is incompatible with Fedora.  To allay these concerns, we have two options:  1) Implement and test compatibility with the newer version of McKoi, which is under GPL3, so we can include the driver and make it easy for people to use at install-time, or 2) Completely remove McKoi support (no JDBC driver, install option, or DDLConverter)  I favor option #2 since we already have a pure Java database that works fine out of box (Derby), and it's unlikely that anyone is still using McKoi -- even if they were, it's not difficult to use the rebuilder to migrate to Derby.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Installer does not check for empty $CATALINA_HOME directory when using the included tomcat It is possible to configure the installer to use a $CATALINA_HOME directory outside of $FEDORA_HOME when using the Fedora-supplied Tomcat.  The installer checks, and warns, for an empty $FEDORA_HOME directory, but does not check for an empty $CATALINA_HOME directory when using the included Tomcat.  The installer silently over-writes existing files, but this can lead to eg an updated $CATALINA_HOME/webapps/fedora.war but leaving the existing $CATALINA_HOME/webapps/fedora/ folder in place - ie any existing version is effectively left in place.  Ideally when deploying to either an existing tomcat or using the included tomcat, there should be some sort of warning if (a) an existing fedora.war is present and (b) the fedora webapps directory (from a previous installation) is present, with the option to overwrite the war file (which should automatically delete the webapps directory).  This should also apply to the other wars that are deployed in Tomcat.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add relationships methods to batchModify directives It is not possible to use the relationships methods (addRelationship etc) in BatchModify.  These methods should be added (and possibly a cross-check to see if there are any other recently-added API methods that are not currently supported).  See http://sourceforge.net/mailarchive/forum.php?thread_name=6C321C785BFDA548A9DB3C126675968D26DD45%40SRV566.tudelft.net&forum_name=fedora-commons-users  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"When inline XML is provided for Managed content, it's auto-converted to Inline XML We now allow DC, RELS-EXT, RELS-INT to be managed content datastreams.  For inline XML datastreams, we allow inline specification of the XML in the FOXML.  It would be useful to allow this also for ""M"" datastreams.  Currently if XML content is found as XML inline, the datastream automatically reverts to inline when managed content is specified.  This is a bug because it's unexpected behavior.  Either Fedora should raise an error in such cases, or it should keep the datastream as managed content even though the payload has been provided as regular inline xml.  Note: If you want to include the content of any format stream (xml, etc) in the FOXML at ingest time, and have it be managed content, you can provide it as base64.  When doing this, it will automatically be sent down to storage as managed content at ingest time.  For FOXML, see http://fedora-commons.org/definitions/1/0/foxml1-1.xsd and look for ""binaryContent"" to see where in the schema this can be specified.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST getNextPid response does not include default namespace I was updating my REST API code for the default namespaces in Fedora 3.4 and discovered that the result from getNextPid does not have the default namespace that I expected it would.  It looks like this is being generated incorrectly.   Here's a sample result:  <pidList  xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://www.fedora.info/definitions/1/0/management/ http://myfedora.server.edu:8080/getNextPIDInfo.xsd"">   <pid>changeme:226</pid> </pidList> ","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
Option to include managed XML content as inline XML in exported FOXML We allow exporting with inline managed content as base64; where the datastream mime type indicates XML maybe we should (optionally?) allow exporting with the XML inline. Notwithstanding potential namespace declaration issues... ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FedoraClient.listDatastreams method not working We've been using Mediashelf client APIs in our repository. All methods we use are working properly except listDatastreams, which throws an exception as attached below. The test code I'm using is:  ...   ListDatastreamsResponse response = listDatastreams(""york:3"").execute(client); for(DatastreamType dst: response.getDatastreams()) {     System.out.println(dst.getDsid()); }  Thanks,  Frank Digital Library Systems Developer The University of York  ------------------------------------------------------ P.S. The error message is: Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.45 sec <<< FAILURE! testListDatastreams(uk.ac.york.dlib.yodl.utils.fedora.ds.TestMediaShelfFedoraClient)  Time elapsed: 0.193 sec  <<< ERROR! com.yourmediashelf.fedora.client.FedoraClientException: unexpected element (uri:"""", local:""objectDatastreams""). Expected elements are <{http://www.fedora.info/definitions/1/0/access/}OAI-delimiter>,<{http://www.fedora.info/definitions/1/0/access/}OAI-namespaceIdentifier>,<{http://www.fedora.info/definitions/1/0/access/}OAI-sample>,<{http://www.fedora.info/definitions/1/0/access/}PID-delimiter>,<{http://www.fedora.info/definitions/1/0/access/}PID-namespaceIdentifier>,<{http://www.fedora.info/definitions/1/0/access/}PID-sample>,<{http://www.fedora.info/definitions/1/0/access/}adminEmail>,<{http://www.fedora.info/definitions/1/0/access/}fedoraObjectHistory>,<{http://www.fedora.info/definitions/1/0/access/}fedoraRepository>,<{http://www.fedora.info/definitions/1/0/access/}objCreateDate>,<{http://www.fedora.info/definitions/1/0/access/}objDissIndexViewURL>,<{http://www.fedora.info/definitions/1/0/access/}objItemIndexViewURL>,<{http://www.fedora.info/definitions/1/0/access/}objLabel>,<{http://www.fedora.info/definitions/1/0/access/}objLastModDate>,<{http://www.fedora.info/definitions/1/0/access/}objModels>,<{http://www.fedora.info/definitions/1/0/access/}objOwnerId>,<{http://www.fedora.info/definitions/1/0/access/}objState>,<{http://www.fedora.info/definitions/1/0/access/}objectDatastreams>,<{http://www.fedora.info/definitions/1/0/access/}objectMethods>,<{http://www.fedora.info/definitions/1/0/access/}objectProfile>,<{http://www.fedora.info/definitions/1/0/access/}repositoryBaseURL>,<{http://www.fedora.info/definitions/1/0/access/}repositoryName>,<{http://www.fedora.info/definitions/1/0/access/}repositoryOAI-identifier>,<{http://www.fedora.info/definitions/1/0/access/}repositoryPID>,<{http://www.fedora.info/definitions/1/0/access/}repositoryVersion>,<{http://www.fedora.info/definitions/1/0/access/}retainPID>,<{http://www.fedora.info/definitions/1/0/access/}sampleAccess-URL>,<{http://www.fedora.info/definitions/1/0/access/}sampleOAI-URL>,<{http://www.fedora.info/definitions/1/0/access/}sampleSearch-URL>   com.yourmediashelf.fedora.client.response.ListDatastreamsResponse.getObjectDatastreams(ListDatastreamsResponse.java:105)   com.yourmediashelf.fedora.client.response.ListDatastreamsResponse.getDatastreams(ListDatastreamsResponse.java:63)   uk.ac.york.dlib.yodl.utils.fedora.ds.TestMediaShelfFedoraClient.testListDatastreams(TestMediaShelfFedoraClient.java:109)   sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:597)   org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)   org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)   org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)   org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)   org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)   org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)   org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)   org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)   org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)   org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)   org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)   org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)   org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)   org.junit.runners.ParentRunner.run(ParentRunner.java:236)   org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)   org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)   org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)   org.apache.maven.surefire.Surefire.run(Surefire.java:177)   sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:597)   org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)   org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009) Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:"""", local:""objectDatastreams""). Expected elements are <{http://www.fedora.info/definitions/1/0/access/}OAI-delimiter>,<{http://www.fedora.info/definitions/1/0/access/}OAI-namespaceIdentifier>,<{http://www.fedora.info/definitions/1/0/access/}OAI-sample>,<{http://www.fedora.info/definitions/1/0/access/}PID-delimiter>,<{http://www.fedora.info/definitions/1/0/access/}PID-namespaceIdentifier>,<{http://www.fedora.info/definitions/1/0/access/}PID-sample>,<{http://www.fedora.info/definitions/1/0/access/}adminEmail>,<{http://www.fedora.info/definitions/1/0/access/}fedoraObjectHistory>,<{http://www.fedora.info/definitions/1/0/access/}fedoraRepository>,<{http://www.fedora.info/definitions/1/0/access/}objCreateDate>,<{http://www.fedora.info/definitions/1/0/access/}objDissIndexViewURL>,<{http://www.fedora.info/definitions/1/0/access/}objItemIndexViewURL>,<{http://www.fedora.info/definitions/1/0/access/}objLabel>,<{http://www.fedora.info/definitions/1/0/access/}objLastModDate>,<{http://www.fedora.info/definitions/1/0/access/}objModels>,<{http://www.fedora.info/definitions/1/0/access/}objOwnerId>,<{http://www.fedora.info/definitions/1/0/access/}objState>,<{http://www.fedora.info/definitions/1/0/access/}objectDatastreams>,<{http://www.fedora.info/definitions/1/0/access/}objectMethods>,<{http://www.fedora.info/definitions/1/0/access/}objectProfile>,<{http://www.fedora.info/definitions/1/0/access/}repositoryBaseURL>,<{http://www.fedora.info/definitions/1/0/access/}repositoryName>,<{http://www.fedora.info/definitions/1/0/access/}repositoryOAI-identifier>,<{http://www.fedora.info/definitions/1/0/access/}repositoryPID>,<{http://www.fedora.info/definitions/1/0/access/}repositoryVersion>,<{http://www.fedora.info/definitions/1/0/access/}retainPID>,<{http://www.fedora.info/definitions/1/0/access/}sampleAccess-URL>,<{http://www.fedora.info/definitions/1/0/access/}sampleOAI-URL>,<{http://www.fedora.info/definitions/1/0/access/}sampleSearch-URL>   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:631)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:236)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:231)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:105)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1038)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:467)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:448)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)   org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)   org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)   org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(Unknown Source)   org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)   org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)   org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)   org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)   org.apache.xerces.parsers.XMLParser.parse(Unknown Source)   org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:200)   com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:173)   javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)   javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)   com.yourmediashelf.fedora.client.response.ListDatastreamsResponse.getObjectDatastreams(ListDatastreamsResponse.java:101)  ... 30 more ",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"POLICY datastreams (possibly others) subject to race conditions when control group is ""R"" Symptons: If the policy datastream in an object is Referenced content, operations involving this object will sometimes throw a AuthzException. There are probably other failures somewhere due to this bug.    Cause: (warning, long rant)  When fedora needs to act on this object, it will fetch the policy (every time, so beware of performance).   PolicyFinderModule.class // if the object exists and has a POLICY datastream, parse and return it {code} private AbstractPolicy loadObjectPolicy(String pid)  throws ServerException {     try {         DOReader reader = m_repoReader.getReader(Server.USE_DEFINITIVE_STORE, ReadOnlyContext.EMPTY, pid);         Datastream ds = reader.GetDatastream(""POLICY"", null);         if (ds != null) {             logger.debug(""Using POLICY for "" + pid);             return m_policyParser                     .copy().parse(ds.getContentStream(),                                m_validateObjectPoliciesFromDatastream);         } else {             return null;         }     } catch (ObjectNotInLowlevelStorageException e) {         return null;     } } {code}  So, the PolicyFinderModule gets a Reader to the Object. It then gets the Datastream from the object. It then gets the inputstream to the datastream contents.  So far, logical and simple.      Down in PolicyParser we find the following code {code} public AbstractPolicy parse(InputStream policyStream, boolean schemaValidate)         throws ValidationException {      // Parse; die if not well-formed     Document doc = null;     try {         doc = m_domParser.parse(policyStream);     } catch (Exception e) {         throw new ValidationException(""Policy invalid; malformed XML"", e);     } {code}  The message ""Policy invalid; malformed XML"" is carried all the way up to the fedora log, but the validation exception is lost. Why is the validation exception lost, you might ask?  The following code from PolicyFinderModule  {code} public PolicyFinderResult findPolicy(EvaluationCtx context) {     PolicyFinderResult policyFinderResult = null;     try {         List<AbstractPolicy> policies = new ArrayList<AbstractPolicy>(m_repositoryPolicies);         String pid = getPid(context);         if (pid != null && !"""".equals(pid)) {             AbstractPolicy objectPolicyFromObject = loadObjectPolicy(pid);             if (objectPolicyFromObject != null) {                 policies.add(objectPolicyFromObject);             }         }  ........     } catch (Exception e) {         policyFinderResult =                 new PolicyFinderResult(new Status(ERROR_CODE_LIST, e                         .getMessage()));     }     return policyFinderResult; } {code}  That catch gets gets the message from the exception, but looses the cause. So, fair, we should not be told why the validation failed. I am not sure if this is a bug, but I feel like the cause should go into the log.     Backing up, why did the validation fail? Debugging revealed the answer.  The stream had been closed. Now, why would the stream ever be closed before read? There is a very good reason for this, known as the MIMETypedStream class.    This code in DatastreamReferencedContent will illuminate the problem  {code} @Override public InputStream getContentStream() throws StreamIOException {     try {         MIMETypedStream stream = getExternalContentManager().getExternalContent(new ContentManagerParams(DSLocation));         DSSize = getContentLength(stream);         return stream.getStream();     } catch (Exception ex) {         throw new StreamIOException(""Error getting content stream"", ex);     } } {code}  To get a content stream, a MIMETypedStream is gotten, and from that the Inputstream is gotten. So, the MIMETypedStream is forgotten, and promptly garbagecollected.    When MIMETypedStream is garbagecollected, the following method will be called {code} /** * Ensures the underlying stream is closed at garbage-collection time * if the stream has not been retrieved. If getStream() has been called * the caller is responsible to close the stream. * * {@inheritDoc} */ @Override public void finalize() {     if(!gotStream) {         close();     } } {code}  Sounds sensible enough. But then we look at getStream  {code}  /**  * Retrieves the underlying stream.  * Caller is responsible to close the stream,  * either by calling MIMETypedStream.close()  * or by calling close() on the stream.  *  * @return The byte stream  */ public InputStream getStream() {     return stream; } {code}  A bug reveals itself. When the MIMETypedStream is garbage collected, it closes it's stream, no matter who is currently using it.    I stated that the MIMETypedStream is at the root of the problem. Let me expand upon that. The fact that MIMETypedStream closes it's contained stream is the issue. Most (all?) java streams will be automatically closed upon finalize. I know that the HTTPInputstream that MIMETypedStream most often front will be closed on finalize already. Generally, it is considered dangerous behaivour to close streams you did not open yourself. The MIMETypedStream does not make any provisions in it's javadoc, that you should not use the inputted inputstream for other purposes as well. If MIMETypedStream wants to have exclusive access to it's inputstream, it should let the callers know this. Secondly, the setter method in MIMETypedStream. What is actually the correct semantics for close, if the mimetypedstream has one inputstream, but is SET to have a new one? Should it close the old one? Should it even have a setter?   I will not commit any fixes until I know if this should go into 3.4.1 or I would in other ways disturb the release process. But of course, the simple fix, that will work 99% of the time is to add  {code} public InputStream getStream() {     gotStream = true;     return stream; } public void setStream(InputStream stream) {     if(!gotStream) {         close();     }     this.stream = stream; } {code}   ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Datastream history HTML response provides incorrect URL for link to datastream content The REST API method: /objects/{pid}/datastreams/{dsid}/history incorrectly provides URLs with the query parameter ""asOfVersionDate"", which is incorrect.  It should be ""asOfDateTime"".  This means that the URLs do not return the correct versions (all URLs will return the latest version).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Integrate fedora-client with Jira Install the beta Jira Git plugin  https://studio.plugins.atlassian.com/wiki/display/JGIT/JIRA+Git+Plugin  Also see: https://studio.plugins.atlassian.com/browse/JGIT-24,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
Connect ReviewBoard to fedora-client repository None,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"GetDisseminationHandler.java throws ""Error obtaining parameters"" exception when called with SOAP The error occurs when the class (in org.fcrepo.server.security.xacml.pep.ws.operations ) attempts to get the parameters from the SOAP request object oMap.   There is a commented out line of code for  ""properties"" which requests parameter 3 from the SOAP request object and then the uncommented line asOfDateTime requests paramter 4.     I'm not 100% familiar with the code, but I tried changing the asOfDateTime line to request parameter 3 instead of 4 and recompiled fedora and replaced the appropriate JAR file in my environment.  The change seems to have fixed the problem. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"DbXmlPolicyIndex query is not built for XACML-2.0  The XACML elements ""AnySubject"", ""AnyResource"" and ""AnyAction"" have been removed from the XACML schema.    The DbXMLPolicyIndex is still building the query looking for the ""any"" elements in the policy to determine if it is a match.  The end result is that policies with no subjects, resources or actions elements in the target are not found by DbXMLPolicyIndex when they should be matched.    Also, it would be beneficial to make the distinction in the XACML Policy Writing guide https://wiki.duraspace.org/display/FCR30/Fedora+XACML+Policy+Writing+Guide that the guide is meant for XACML 1.0 while FeSL uses XACML 2.0 so that people are not confused when the policies they write using the guide dont also work for FeSL.     Attached is a patch to DBXmlPolicyIndex.java that seems to fix the problem.   The main change is in the createQuery function.   I also added a debug log entry for one of the context attributes that was not sent to the logs that I used when debugging the query.   I've also attached a sample policy that recreates the problem.  It is based on the access-public.xml sample provided but is modified to allow read access to any resource in the repository except for the datastreams listed in the condition.   Since there is no ""Resources"" section,  the previous query could never return this policy. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Memory leak due to Mulgara bug We have been running our system with Mulgara. We have been running a very long ingest procedure, and we have been able to see that the time to process one record (actually a few fedora objects) increase from about 3 seconds to 9 seconds after a few hours. Heap dumps and examination revealed that for most of the time was spent by the GC. It turned out that after some hours, the com.sun.corba.se.impl.util.Utility had allocated 566 mb of ram.  Examination about what caused this lead us to http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6534290 It seems there is a bug with corba, where cache miss information is not garbage collected but retained in a static map.  I found this post to be of great help http://old.nabble.com/Memory-leak-when-using-JbossCache-and-JOTM-td9497014.html#a9497014 According to this post, if you do not include the jotm-iiop-stubs.jar, you will have a memory leak. Mulgara uses jotm but does not include that jar. I have currently added it by hand to the lib folder of my fedora instance, and restarted everything. If this fixes the leak, we have a fix, which needs to go upstream to mulgara or be implemented by fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"modifyObject API-M with no state change causes XACML policy to be removed from index. Calling modifyObject AP-M method with no state change (ie sending ""null"" as the objectState) on an object with a FESLPOLICY datastream causes PolicyIndexInvocationHandler.java to incorrectly remove the policy from the cache.   I dont believe this issue will exist for setting datastream states as well since the dsState can not be null in the setDatastreamState API-M method.  I have attached a patch that seems to fix the problem.   The patch adds a check to make sure that managementMethod.parameters.objectState is not null or empty before touching the policy cache.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
FeSL: Upgrade to released version of SUN XACML 2.0 libraries FeSL currently uses Sun XACML from a particular revision in CVS.  Upgrade to a released version of 2.0.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Ingesting with ""M"" datastream contentLocation set to a file fails with Akubra Ingesting an object on Windows, managed content datastream, with the datastream defined as follows:        <foxml:contentLocation REF=""file:/D:/Fedora34Test/test/datastream.xml"" TYPE=""URL""/>  Ingest fails.  Reports a ""Policy blocked datastream resolution"" error.  However this is with the deny-unallowed-file-resolution.xml disabled (ie policy deleted; policies reloaded).  Log with debug turned up is below.  The error seemingly at the root of this is (the actual error reporting is confusing): (PolicyFinder) An error occured while trying to find a single applicable policy for a request: Malformed object token: file:/D:/Fedora34Test/test/datastream.xml  This seems to be coming from org.fcrepo.server.storage.lowlevel.akugra.AkubraLowlevelStorage.getBlobId  What is confusing is why the file path ever got through to this class in the first place - I would expect only PIDs or internal datastream identifiers.  Reverting to the legacy storage solves the problem.  Log:  INFO 2010-11-19 10:45:19.310 [http-8080-1] (DefaultDOManager) Committing addition of demo:ingest DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (DOTranslationUtility) makeAbsoluteURLs: input=file:/D:/Fedora34Test/test/datastream.xml, output=file:/D:/Fedora34Test/test/datastream.xml DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (DefaultExternalContentManager) in getExternalContent(), url=file:/D:/Fedora34Test/test/datastream.xml DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (DefaultExternalContentManager) in getFile(), url=file:/D:/Fedora34Test/test/datastream.xml INFO 2010-11-19 10:45:19.310 [http-8080-1] (DefaultExternalContentManager) Checking resolution security on file:/D:/Fedora34Test/test/datastream.xml DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (DefaultAuthorization) Entered enforceRetrieveFile DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (ReadOnlyContext) SINGLE SUBJECT VALUE from map == fedoraAdmin DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) context index set=42 DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) wrapSubjectIdAsSubjects(): fedoraAdmin DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) wrapSubjectIdAsSubjects(): subjectAttribute, id=urn:oasis:names:tc:xacml:1.0:subject:subject-id, type=http://www.w3.org/2001/XMLSchema#string, value=StringAttribute: """" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) wrapSubjectIdAsSubjects(): subjectAttribute, id=urn:fedora:names:fedora:2.1:subject:loginId, type=http://www.w3.org/2001/XMLSchema#string, value=StringAttribute: ""fedoraAdmin"" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) request action has urn:fedora:names:fedora:2.1:action:contextId=StringAttribute: ""42"" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) request action has urn:fedora:names:fedora:2.1:action:api=StringAttribute: ""urn:fedora:names:fedora:2.1:action:api-m"" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) request action has urn:fedora:names:fedora:2.1:action:id=StringAttribute: ""urn:fedora:names:fedora:2.1:action:id-retrieveFile"" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) request action has urn:oasis:names:tc:xacml:1.0:action:action-id=StringAttribute: """" DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (PolicyEnforcementPoint) about to ref contextAttributeFinder=org.fcrepo.server.security.ContextAttributeFinderModule@20224a DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (ContextAttributeFinderModule) registering 42 DEBUG 2010-11-19 10:45:19.310 [http-8080-1] (DefaultDOManager) Got DOReader (source=null) for file:/D:/Fedora34Test/test/datastream.xml in 0ms. INFO 2010-11-19 10:45:19.310 [http-8080-1] (PolicyFinder) An error occured while trying to find a single applicable policy for a request: Malformed object token: file:/D:/Fedora34Test/test/datastream.xml DEBUG 2010-11-19 10:45:19.326 [http-8080-1] (PolicyEnforcementPoint) Policy evaluation took 16ms.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ingesting object with managed content DC datastream fails if content specified using a file:/// URL Reported by Janna Wemekamp http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-Policy-blocked-datastream-resolution-error-on-ingest-of-Managed-DC-datastream-tp5750061p5750061.html   If contentLocation is specified using the file:/ protocol for a managed content DC datastream, the ingest fails.  This is because during ingest DC content is read using DatastreamManagedContent.getContentStream(), which uses an external content manager to get the content.   At that point the content (dsLocation) is still the location provided upon ingest, ie the file:/// URL.  (The content is read to check if eg a dc:identifier is present, and if not, add it).  As this method does not have access to the Context (uses a default read-only context with no credentials) - this is failing authZ for DC specified using file:/// as a content location, even if the appropriate policy is modified to give access to that location (and potentially might fail for http URLs where auth is required?) - XACML policy enforcement will need the context to permit access to the file.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Disseminations should not require a datastream binding Currently Fedora disseminations require a datastream binding to operate. This is not always appropriate, and some people find it confusing. Some disseminations may go against the Resource Index or against an external service that requires no more information than a PID to operate. Usually people fulfill the requirement in these cases by binding against a required datastream like DC as a dummy. It would be well to release this constraint in the CMA.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Complete Maven hosting migration to Sonatype with sync to Maven Central The primary goal of this epic is to migrate Fedora's Maven artifacts completely to Sonatype and sync them to Maven Central, adhering to as much of the Sonatype Central Sync Requirements as possible. In particular, we aspire to have no library dependencies that are not hosted in Maven Central. We also want to take advantage of Sonatype's snapshot repository hosting option as an automatic part of our continuous integration builds that run at bamboo.duraspace.org.  For reference, here is the Sonatype OSS Maven Repository Usage Guide, which also includes a section on the latest Central sync requirements:    http://docs.sonatype.org/x/SQBl  ...and here is the original Sonatype hosting ticket for org.fcrepo:    https://issues.sonatype.org/browse/OSSRH-307","legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
Move Tomcat into maven repository instead of in codebase ...in order to make checkouts/clones more palatable moving forward.  This should be done before we update the version of the bundled Tomcat,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Change to a space-per-feature-release model for Fedora documentation Consider emulating what Atlassian does for Confluence documentation on their wiki.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Automate upload of release artifacts to sourceforge (or point to Sonatype m2 repo) None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Make configA/B/C/Q tests work purely through maven lifecycle Move away from shell scripts to invoke tests, to the extent possible.  For commandline utility tests and things that *need* to run outside the context of the test JVM, spawn a process from the test code.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Automate testing of different database and OS configurations (especially open source databases, and Windows)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Consistently use the new fedora-client in all code (test and server) that REST API is exercised ...and as part of this, the old FedoraClient class should be marked as deprecated.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"proai oaiprovider character encoding exception when using default encoding other than UTF-8 1) Fedora contains DC metadata with greek characters 2) Platform default encoding is not UTF-8  Exceptions are thrown in proai - see http://comments.gmane.org/gmane.comp.cms.fedora-commons.user/6026  The OAIProvider contains some code that uses the default encoding when converting to bytes to characters, rather than using UTF-8 (ie assuming that Fedora content is UTF-8) - see FedoraOAIDriver.java line 275).  This is causing issues when a default encoding other than UTF-8 is used.  Sample file to provoke the issue attached.  Work-around is to supply -Dfile.encoding=utf-8 to the JVM (eg add this to CATALINA_OPTS) ",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
Startup fails with Tomcat 5.5 when ResourceIndex is enabled As reported on the fedora-users mailing list by Lasse Aagren (http://article.gmane.org/gmane.comp.cms.fedora-commons.user/6049). I've confirmed this behavior on OS X using Tomcat 5.5.27 and 5.5.31 and the startup failure only occurs when the RI is enabled.  It's probably to do with a change in the Tomcat-provided jars in 5.5 vs 6.0. Stacktrace from original report:  10:51:45.534 [main] ERROR org.fcrepo.server.Server - Module (org.fcrepo.server.resourceIndex.ResourceIndex) failed to initialize org.fcrepo.server.errors.ModuleInitializationException: Error initializing RI        at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(ResourceIndexModule.java:112) [fcrepo-server-3.4.1.jar:na]        at org.fcrepo.server.Server.<init>(Server.java:636) [fcrepo-server-3.4.1.jar:na]        at org.fcrepo.server.BasicServer.<init>(BasicServer.java:41) [fcrepo-server-3.4.1.jar:na]        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [na:1.6.0_0]        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [na:1.6.0_0]        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [na:1.6.0_0]        at java.lang.reflect.Constructor.newInstance(Constructor.java:532) [na:1.6.0_0]        at org.fcrepo.server.Server.getInstance(Server.java:1004) [fcrepo-server-3.4.1.jar:na]        at org.fcrepo.server.ServerController.init(ServerController.java:402) [fcrepo-server-3.4.1.jar:na]        at javax.servlet.GenericServlet.init(GenericServlet.java:211) [servlet-api-2.4.jar:2.4.public_draft]        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1139) [catalina.jar:na]        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:966) [catalina.jar:na]        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3956) [catalina.jar:na]        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4230) [catalina.jar:na]        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760) [catalina.jar:na]        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740) [catalina.jar:na]        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544) [catalina.jar:na]        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:831) [catalina.jar:na]        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:720) [catalina.jar:na]        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:490) [catalina.jar:na]        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1149) [catalina.jar:na]        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311) [catalina.jar:na]        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120) [catalina.jar:na]        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022) [catalina.jar:na]        at org.apache.catalina.core.StandardHost.start(StandardHost.java:736) [catalina.jar:na]        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014) [catalina.jar:na]        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443) [catalina.jar:na]        at org.apache.catalina.core.StandardService.start(StandardService.java:448) [catalina.jar:na]        at org.apache.catalina.core.StandardServer.start(StandardServer.java:700) [catalina.jar:na]        at org.apache.catalina.startup.Catalina.start(Catalina.java:552) [catalina.jar:na]        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.6.0_0]        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.6.0_0]        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.6.0_0]        at java.lang.reflect.Method.invoke(Method.java:616) [na:1.6.0_0]        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295) [bootstrap.jar:na]        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.6.0_0]        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.6.0_0]        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.6.0_0]        at java.lang.reflect.Method.invoke(Method.java:616) [na:1.6.0_0]        at org.apache.commons.daemon.support.DaemonLoader.start(DaemonLoader.java:177) [commons-daemon-1.0.2.jar:1.0.1] Caused by: org.trippi.TrippiException: Couldn't create local database        at org.trippi.impl.mulgara.MulgaraSessionFactory.createModels(MulgaraSessionFactory.java:212) [trippi-mulgara-1.4.3.jar:na]        at org.trippi.impl.mulgara.MulgaraSessionFactory.<init>(MulgaraSessionFactory.java:80) [trippi-mulgara-1.4.3.jar:na]        at org.trippi.impl.mulgara.MulgaraConnector.init(MulgaraConnector.java:138) [trippi-mulgara-1.4.3.jar:na]        at org.trippi.TriplestoreConnector.init(TriplestoreConnector.java:24) [trippi-core-1.4.3.jar:na]        at org.fcrepo.server.resourceIndex.ResourceIndexModule.getConnector(ResourceIndexModule.java:138) [fcrepo-server-3.4.1.jar:na]        at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(ResourceIndexModule.java:100) [fcrepo-server-3.4.1.jar:na]        ... 39 common frames omitted Caused by: org.mulgara.query.QueryException: Couldn't create local database        at org.mulgara.server.local.LocalSessionFactory.newSession(LocalSessionFactory.java:199) [mulgara-core-2.1.4.jar:na]        at org.trippi.impl.mulgara.MulgaraSessionFactory.createModels(MulgaraSessionFactory.java:197) [trippi-mulgara-1.4.3.jar:na]        ... 44 common frames omitted Caused by: org.mulgara.server.SessionFactoryException: Could not instantiate TripleStoreImplementation from configuration.        at org.mulgara.server.SessionFactoryFactory.getTripleStoreImplementation(SessionFactoryFactory.java:184) [mulgara-core-2.1.4.jar:na]        at org.mulgara.server.SessionFactoryFactory.newSessionFactory(SessionFactoryFactory.java:231) [mulgara-core-2.1.4.jar:na]        at org.mulgara.server.local.LocalSessionFactory.newSession(LocalSessionFactory.java:195) [mulgara-core-2.1.4.jar:na]        ... 45 common frames omitted Caused by: java.lang.reflect.InvocationTargetException: null        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [na:1.6.0_0]        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [na:1.6.0_0]        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [na:1.6.0_0]        at java.lang.reflect.Constructor.newInstance(Constructor.java:532) [na:1.6.0_0]        at org.mulgara.server.SessionFactoryFactory.getTripleStoreImplementation(SessionFactoryFactory.java:177) [mulgara-core-2.1.4.jar:na] Caused by: java.lang.NullPointerException: null        at org.mulgara.store.xa.FreeList$Phase.use(FreeList.java:1129) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.xa.ManagedBlockFile$Phase$Token.<init>(ManagedBlockFile.java:528) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.xa.ManagedBlockFile$Phase.use(ManagedBlockFile.java:288) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.xa.AVLFile$Phase$Token.<init>(AVLFile.java:457) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.xa.AVLFile$Phase.use(AVLFile.java:393) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.stringpool.xa11.XA11StringPoolImpl$TreePhase$Token.<init>(XA11StringPoolImpl.java:1639) [mulgara-core-2.1.4.jar:na]        at org.mulgara.store.stringpool.xa11.XA11StringPoolImpl.selectPhase(XA11StringPoolImpl.java:618) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.StringPoolSessionFactory.selectPhase(StringPoolSessionFactory.java:332) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.Database.selectCommonPhase(Database.java:1424) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.Database.recoverDatabase(Database.java:1367) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.Database.<init>(Database.java:942) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.Database.<init>(Database.java:536) [mulgara-core-2.1.4.jar:na]        at org.mulgara.resolver.Database.<init>(Database.java:321) [mulgara-core-2.1.4.jar:na] ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add State and OwnerID to SOAP getObjectProfile The REST method for getObjectProfile includes State and OwnerID in its response.  The underlying Access method retrieves these values.    The corresponding API-A SOAP method does not return these values.  NB this will be a breaking API change.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Migrate Fedora Source Code to GitHub Migrate all source code currently hosted under the fedora-commons project at sourceforge to github.  Vote passed on December 7th: http://www.mail-archive.com/fedora-commons-developers@lists.sourceforge.net/msg00990.html  Further detail can be found at https://wiki.duraspace.org/display/FCREPO/Migration+to+GitHub,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora3.1.4 installer does not handle package installed tomats well The current fedora (3.4.1) installation script does not handle non standard tomcat installations well. There is an assumption of a particular directory structure. However package installed tomcats, for example tomcats installed with the  Ubuntu package installer, may arrange their directory structures differently. This causes problems locating resources such as lib files, which manifest when fedora is started up or the fedora command line scripts (notably rebuild.sh) are run. It would be useful if it was possible to configure the installation script so that  such directory structures could be specified before the script was run.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Standardize on LF for all text-based formats in the git repository Based on Chris&Aaron discussion about this thread: http://git.661346.n2.nabble.com/possible-gitattributes-eol-bug-with-new-eol-crlf-lf-support-td5516458.html  We decided this would be a good approach:  1. Modify all text as per the thread suggestion to use LFs 2. Modify our pom to automatically dos-ify the batch files in the assembly using the lineEnding attribute documented here: http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html 3. Publish recommended settings for git users, which are to set core.autocrlf to ""input"" (that is, force LF for line endings on check in only) if you're running Mac/Linux, and to set it to ""true"" (that is, force LF when checking in, but convert to native CRLF when checking out).  But if you're running git 1.7.2+, it's not required that you set it in your global config at all.  Instead, you can rely on the .gitattributes file described below. 4. Add a .gitattributes file to auto-convert all known text-based formats' line endings for people running git 1.7.2+ who haven't set core.autocrlf globally.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow both parent-child and child-parent relationships in forming hierarchical resource identifiers for FeSL policies config-melcoe-pep.xml defines the predicates that are used in forming the XACML hierarchical resource identifier used in specifying policies for example for collection members in the form /collection:1/.* - which specifies ""all children of collection:1"".  The relationships are used in identifying what the children are.  For example ""isMemberOf"".  Currently only child-parent relationships are allowed (and incorrectly identified as parent-child relationships).  It would be useful to also allow parent-child relationships for those situation where it is the RELS-EXT of the collection that identifies its members rather than the children using isMemberOf to specify the parent.  (The current relsext relationship ontology has both isMemberOf and hasMember).  Changes: 1. Correct existing config files and code to identify current relationships as child-parent instead of parent-child 2.  Add ability to specify parent-child relationships",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Allow FeSL relationship resolver to make use of the resource index if enabled Currently the FeSL relationship resolver makes use of the API-M relationships methods to query an object;s relationships (eg when determining hierarchical resource id and in the resource index attribute finder).  If the resource index module is enabled, the resolver should instead use the resource index directly.  This will enable more flexibility in defining how hierarchical resource identifiers should be formed, and will allow greater flexibility in the resource index attribute finder.  Currently there is a restriction that the relationships need to be in the object that is the XACML resource.  Note that this should fall back to using the API-M methods if the RI is disabled, so that FeSL is not dependent on the RI.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Allow more complex specification of attributes in the FeSL FedoraRIAttributeFinder The FedoraRIAttributeFinder permits a flexible means of defining XACML policies based on resource information from the Resource Index.  Currently this is limited to specification of an rdf property/predicate - eg to determine an object's last modified date, or a datastream's mime-type.  When the resource index is enabled, it would be useful to allow more complex queries - for example to determine some property of a parent object, etc.  Add the ability to specify - SPARQL queries - TQL queries  These would have a parameter marker for the xacml resource ID, and would return a single ""column"" of results.  EG: select $value from <#ri> where [resource] <rels:isMemberOf> $parent and $parent <some:property> $value  ([resource] is the XACML resource identifier from the request in this case - the info:fedora resource URI)  This feature should be optional as it will only work if the RI is enabled  (note that SPO queries are not included, as the current functionality effectively provides this)",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"FeSL FedoraRIAttributeFinder attempts to locate RI attributes using hierarchical resource paths FeSL uses the XACML 2.0 hierchical resource profile.  This means that an incoming PID is converted to a set of XACML resource IDs, including both the PID itself and the hierarchical path to the pid.  The FedoraRIAttributeFinder attempts to locate attribute values based on all of the resource IDs - so when it attempts this based on a hierarchical path, an exception is found as the resource is not a valid Fedora PID.  This results in failure of policy evaluation.  (""indeterminate"").  The attribute finder should only attempt to find attributes for valid Fedora subjects, ie PIDs and DSIDs, and should return an empty bag for anything else.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"If a previous ""add"" to the policy index (dbxml) fails, subsequent updates fail as the existing doc can't be deleted Adds to DBXML can fail, eg if they are not schema-valid (or due to some problem with DBXML).  This is leaving Fedora objects with an existing policy datastream, but no corresponding dbxml policy.  When the datastream is later updated, the dbxml update is failing as no existing policy could be found to first remove before adding.  Change the update to be a ""safe"" update, ie only delete if already exists.  Theoretically we could instead fail the saving of the Fedora policy datastream, but safer to at least have the policy datastream preserved (and in fact we would want to (1) save the policy datastream and check that this works before updating dbxml and then (2) if dbxml fails revert the policy datastream change.  Difficult without transactions.)",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Ban all known slf4j bindings except logback If multiple slf4j bindings are in the classpath at runtime, slf4j behaves unexpectedly.  Although none of our transitive dependencies currently pull in other slf4j bindings, it could happen, unnoticed, as new dependencies are added.  This change ensures that the build fails (so it gets noticed) if bindings besides logback are brought into Fedora's dependency tree.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Usage documentation has parameters for FedoraCredentials in wrong order Referring to http://mediashelf.github.com/fedora-client/usage.html  In the example, parameters for FedoraCredentials are given as user, password, baseURL, they should be baseURL, user, password.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Memory leak in OwlApi used by ECM Hi  I am very sorry to report that I have just discovered a memory leak in the ECM code. Actually, not in the ECM code, but in a library that ECM depends on.  The problem lies in the owlapi library, which I added to Fedora. Every time a validation is performed, a new Ontology idenfier is autogenerated by OWLAPI, and stored in a static map. This information is never used, in fact it is sufficiently protected to prevent if from ever being used. But still, perform enough validations, and your system will choke.  I have contacted the OWLAPI mailing list with the bug. As for Fedora, we could either just keep going for now, or we could perform our own fix.  The bug:  The IRI class contain the following static map  private static Map<String, String> prefixCache = new HashMap<String,String>();  This bit of the constructor is the ONLY use of this map              String cached = prefixCache.get(prefix);             if (cached == null) {                 prefixCache.put(prefix, prefix);             }             else {                 prefix = cached;             }  For a longrunning process, I have seen the map grow to 553 MB ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Concurrency issues with DBXML Reported by Nigel Thomas  Concurrent policy modifications and reads cause deadlocks with DBXML.    The current FeSL code does not manage deadlocks (or even attempt to detect them).  This can result in a corrupt policy index, or a ""permanent deadlock"" state where restarting the Fedora server fails to clear the DBXML deadlock - so first access to the repository never completes.  Attached are amended versions of DbXmlManager and DbXmlPolicyIndex that include wrapping operations in transactions, detection of deadlocks and transaction abortion when deadlocks occur (against release 3.4.1).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Supplying auxiliary attributes for XACML via Context.FEDORA_AUX_SUBJECT_ATTRIBUTES can never work I've verified this issue with Bill Niebel, the author of the code in question. He agrees with my assessment and we have a patch available. The bug occurs in:  org.fcrepo.server.security.servletfilters.FilterFinalize.doThisSubclass()  wherein incoming requests are locked (with an invocation of ExtendedHttpServletRequestWrapper.lockWrapper()) _before_ the auxiliary attributes are added to them. This causes an exception to be thrown without exception (pun thoroughly intended). The solution is to move the locking of the request to the end of the doThisSubclass() method. With that in place, the system works as advertised here:  https://wiki.duraspace.org/display/FCR30/Authentication+and+User+Attributes  I haven't the gearing up right now to run a full test series, so that has yet to be done, but I can make that time if it's desired.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Tidy-up FeSL policy validation 1) FeSL policy validation currently requires web access (for the XACML 2.0 schema).  Other XML validation in Fedora works off local copies of schemata.  Add the required XACML schemata to the Fedora distribution and modify the validation to use the local copies.  2) Validation currently takes place in both the policy store and the policy index.  Now that policies are in Fedora object datastreams it would make more sense to validate when the datatream is being pushed to the policy index (currently within the FeSL management decorator), and remove validation from these lower levels.  (Also, if validation is disabled we should also check xml-well-formed-ness).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Updating an ""M"" DC datastream with versionable = false fails Reported by Janna Wemekamp, see http://permalink.gmane.org/gmane.comp.cms.fedora-commons.user/6275  Updating a DC datastream stored as Managed Content fails if the datastream is not versionable.  This is due to a RI update error.  The triple update compares the ""before"" and ""after"" states of an object.  Currently it does this after managed content datastream changes have been persisted - so the ""before"" state is unavailable, and it therefore fails.  We could move the update to happen before the managed datastreams are saved, however if there is an error/exception later in the code, this means that the RI will be out of sync with the object contents.  (note that for a purge, this does in fact happen in this sequence - so we potentially already have the problem that if a purge fails then the RI is out of sync).  Moving the update to happen before the managed datastreams are updated is probably ok as a short-term solution, but ideally we need some kind of transactional behaviour - maybe we modify the RI update code so that it can (a) get a list of updates (adds and deletes) and then (b) later persist those updates.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
PreparedStatements Everywhere! Audit all code that touches databases within the codebase and change to use prepared statements.  Mainly for security reasons...recent bugfix releases of Fedora have been necessitated by our not having done this in the past.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL's implementation of XACML Hierarchical Resource Profile is non-compliant FeSL makes use of the XACML Hierarchical Resource Profile (HRP) - http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-hier-profile-spec-os.pdf and http://docs.oasis-open.org/xacml/3.0/xacml-3.0-hierarchical-v1-spec-cs-01-en.pdf  This is used in evaluation permissions of members of collections, particularly when evaluating the precedence of policies in a hierarchy of collections and resources.  FeSL uses the ""URI path"" variant of this (as opposed to parent and ancestor attributes).  The XACML specification states that the resource-id used in the path to the resource (in the request context, and in the policy) MUST be a URI.    However FeSL specifies resource-id attribute values as (for example, individual path components are PIDs):  /ns:TopCollection/ns:SubCollection/ns:someResource  ... which is not a URI  It could form the ""path"" component if a suitable URI scheme was chosen for this hierarchical resource-id within FeSL.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Developer documentation updates reflecting GitHub migration Now that Fedora's source code is managed via git on GitHub, several documents on the wiki need to be updated (they still reference subversion).  As Steve recently pointed out:  A quick trawl gives the following:   https://wiki.duraspace.org/display/FCREPO/Committer's+Guide (Chris - Updated to reference GitHub and the Best Practices document) https://wiki.duraspace.org/display/FCREPO/Fedora+Release+Process (Chris - TBD) https://wiki.duraspace.org/pages/viewpage.action?pageId=13765655 (Eddie) https://wiki.duraspace.org/pages/viewpage.action?pageId=1310878 (Chris - Removed; doc out of date) https://wiki.duraspace.org/display/FCR30/Configuring+Low+Level+Storage (Chris - Updated with legacy verbage)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora misuse ERROR statements for logging Fedora will often report ERROR for simple operations that can hardly be called an error.  As fedora is a server system, there are really two kinds of ERRORS  1. User request failed 2. Server got broken  For a maintenance perspective, I want my maintenance department to monitor the fedora log for problems with the fedora server. These should not monitor the logs for users timing out or not knowing the correct password.  I feel we should rework the log statements, or provide a way for the user-request problems to be filtered to a separate file.  Examples of how fedora logs errors  Exhibit 1 I pressed ""next"" after the session timed out. Do the server operator need to informed of this server error?  ERROR 2011-01-20 13:10:24.055 [http-7880-4] ([FieldSearchServlet]) Servlet.service() for servlet FieldSearchServlet threw exception org.fcrepo.server.errors.UnknownSessionTokenException: Session is expired or never existed.         at org.fcrepo.server.search.FieldSearchSQLImpl.resumeFindObjects(FieldSearchSQLImpl.java:342) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.search.FieldSearchSQLModule.resumeFindObjects(FieldSearchSQLModule.java:167) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.storage.DefaultDOManager.resumeFindObjects(DefaultDOManager.java:1800) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.DefaultAccess.resumeFindObjects(DefaultAccess.java:729) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.FieldSearchServlet.doGet(FieldSearchServlet.java:347) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.FieldSearchServlet.doPost(FieldSearchServlet.java:708) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:637) [servlet-api.jar:na]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) [servlet-api.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) [catalina.jar:6.0.29]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:6.0.29]         at org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:295) [fcrepo-security-jaas-3.4.2-SNAPSHOT.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:6.0.29]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:6.0.29]         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) [catalina.jar:6.0.29]         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [catalina.jar:6.0.29]         at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563) [catalina.jar:6.0.29]         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [catalina.jar:6.0.29]         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [catalina.jar:6.0.29]         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [catalina.jar:6.0.29]         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298) [catalina.jar:6.0.29]         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857) [tomcat-coyote.jar:6.0.29]         at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588) [tomcat-coyote.jar:6.0.29]         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489) [tomcat-coyote.jar:6.0.29]         at java.lang.Thread.run(Thread.java:619) [na:1.6.0_15]   Exhibit 2 A user failed to login. Is this really an ERROR?  ERROR 2011-01-24 10:48:53.016 [http-7880-11] (AuthFilterJAAS) Login Failure: all modules ignored  Exhibit 3 WARN, not ERROR, but attempted to load an object that does not exist.   WARN 2011-01-24 10:53:33.513 [http-7880-3] (FedoraObjectResource) Resource not found: demo:5; unable to fulfill REST API request org.fcrepo.server.errors.ObjectNotInLowlevelStorageException: demo:5         at org.fcrepo.server.storage.lowlevel.akubra.AkubraLowlevelStorage.retrieve(AkubraLowlevelStorage.java:383) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.storage.lowlevel.akubra.AkubraLowlevelStorage.retrieveObject(AkubraLowlevelStorage.java:160) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.storage.lowlevel.akubra.AkubraLowlevelStorageModule.retrieveObject(AkubraLowlevelStorageModule.java:84) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.storage.DefaultDOManager.getReader(DefaultDOManager.java:646) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.DefaultAccess.getObjectProfile(DefaultAccess.java:637) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.rest.FedoraObjectResource.getObjectProfile(FedoraObjectResource.java:184) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at sun.reflect.GeneratedMethodAccessor147.invoke(Unknown Source) [na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_15]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_15]   Exhibit 4 Malformed pid, that is clearly a Server ERROR.  ERROR 2011-01-24 10:53:49.862 [http-7880-11] (FedoraObjectResource) Unexpected error fulfilling REST API request org.fcrepo.server.errors.MalformedPidException: PID delimiter (:) is missing.         at org.fcrepo.server.Server.getPID(Server.java:1358) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.DefaultAccess.getObjectProfile(DefaultAccess.java:633) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.rest.FedoraObjectResource.getObjectProfile(FedoraObjectResource.java:184) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at sun.reflect.GeneratedMethodAccessor147.invoke(Unknown Source) [na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_15]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_15]   Exhibit 5 Same as above  ERROR 2011-01-24 10:53:49.866 [http-7880-11] (WebApplicationImpl) Internal server error javax.ws.rs.WebApplicationException: org.fcrepo.server.errors.MalformedPidException: PID delimiter (:) is missing.         at org.fcrepo.server.rest.BaseRestResource.handleException(BaseRestResource.java:168) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.rest.FedoraObjectResource.getObjectProfile(FedoraObjectResource.java:197) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at sun.reflect.GeneratedMethodAccessor147.invoke(Unknown Source) [na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_15]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_15]   Exhibit 6 Uh, getting an non-existant datastream. Is this really an ERROR?  ERROR 2011-01-25 13:29:35.655 [http-7880-1] (FedoraAPIABindingSOAPHTTPImpl) Error getting datastream dissemination org.fcrepo.server.errors.DatastreamNotFoundException: [DefaulAccess] No datastream could be returned. Either there is no datastream for the digital object ""fedora-system:FedoraObject-3.0"" with datastream ID of ""VIEW ""  OR  there are no datastreams that match the specified date/time value of ""null ""  .         at org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1150) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.FedoraAPIABindingSOAPHTTPImpl.getDatastreamDissemination(FedoraAPIABindingSOAPHTTPImpl.java:156) [fcrepo-server-3.4.2-SNAPSHOT.jar:na]         at org.fcrepo.server.access.FedoraAPIABindingSOAPHTTPSkeleton.getDatastreamDissemination(FedoraAPIABindingSOAPHTTPSkeleton.java:186) [fcrepo-common-3.4.2-SNAPSHOT.jar:na]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.6.0_15]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [na:1.6.0_15]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_15]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_15]   ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update wiki documentation to reflect new testing procedures ...as implemented by Aaron recently.  The development space for the next version of Fedora's documentation is here:  https://wiki.duraspace.org/display/FEDORADEV,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"API-M JMS messages do not include certain parameters of the original call As per the Messaging module documentation, the Atom messages emitted over JMS in connection with API-M calls include _almost_ everything one would need to recreate the call. Except:  '  Each <category> corresponds to a method's argument:     * The term indicates the argument value. However, null values are indicated as ""null"", and non-null xsd:base64Binary values are indicated as ""[OMITTED]"".'  -from https://wiki.duraspace.org/display/FCR30/Messaging  so that a message consumer has almost, but not quite enough information to know exactly what happened in the case of 'ingest' and 'modifyDatastreamByValue' calls. It would be better to allow JMS messages to contain a full report of the method call. I understand that this could produce some really large messages, so it would be best to allow this as a configurable option.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve upgrade process/documentation Improve the upgrade process and documentation for Fedora.  Some of the existing documentation isn't as explicit as it should be (eg identifying explicitly what to change in fedora.fcfg).  As far as the process goes, I would suggest the following would be a good target:  After an upgrade:  - the new Fedora installation is at the location previously occupied by the previous Fedora installation, including paths to datastores (object, datastream), paths/locations/URLs/names of databases, etc. - the previous Fedora installation can be completely removed (ie everything under $FEDORA_HOME, including any sub-folders containing previous datastream/object store, database, etc)  ie, after upgrading a version of software I would expect everything to look as it did prior to the upgrade.   This may not be possible in all cases depending how far back someone is upgrading from, and the changes in a new release.  A recent thread on upgrading:  http://sourceforge.net/mailarchive/forum.php?thread_name=001701cbc2ab%242ce4cf20%240301010a%40asusp4t533&forum_name=fedora-commons-users  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Objects with ""D"" state remain deleted in OAIProvider indefinitely On Feb 1, 2011, Luca Lelli reported this to fcrepo-user list:  in a project we are using Fedora Commons 3.3 with PROAI for providing data to be harvested. We have seen that in some situations the cache of PROAI is not syncronized with Fedora Repository: i.e. some Fedora objetcs in PROAI cache are not present or if present are not aligned with the related Fedora objects. This seems to be more probable when some Fedora objects which are in state D (deleted)  are again activated i.e. the object state is modified to 'A'. The modification date of Fedora Object is correctly modified. But the PROAI cache signals always deleted. Peharps thre are some issues with proai.properties parameters configuration? E.g. we are using proai.driverPollSeconds = 600 and the other Back-End Update Behavior parameters are left with default values (proai.maxWorkers = 5, proai.maxWorkBatchSize = 10, proai.maxFailedRetries = 3, proai.maxCommitQueueSize = 120, proai.maxRecordsPerTransaction = 60, proai.driverPollingEnabled = true).  Mailing list thread: http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-problems-with-proai-properties-parameters-configuration-td5982309.html",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"Custom error pages do not work for /fedora/objects/..... The error pages located (standard installation) in the fedora/jsp directory do not show up when the new REST api is used, e.g. /fedora/objects/<PID>/methods/<Sdef>/<method> with a wrong method name. Instead, the old-style /gedora/get/<PID>/<Sdef>/<method> with a wrong method name gives the error page as intended. The same holds for any url witth /fedora/objects/<anything>",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update mime-to-extensions.xml file to include recent Microsoft Office mime types and extensions Recent versions of Microsoft Office include a number of new file extensions:  *.docx, *.pptx, *.xlsx, etc that are associated with new mime types.  The more common new file mime-types should be added to the FEDORA_HOME/server/config/mime-to-extensions.xml file so that the correct suffix is appended to the file name when the Content-Disposition header is generated for downloaded datastream content.  See http://technet.microsoft.com/en-us/library/ee309278%28office.12%29.aspx for a list extensions and mime types.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Refactor to use spring beans throughout Fedora codebase None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove references to LITE APIs from (1) tests; (2) demo objects and (3) core code The integration tests, demo objects, and some of the core Fedora code still make use of the LITE APIs, which are to be deprecated.  These should be converted to use endpoints in the new REST API.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API doesn't use jsps on error (404, etc) When calling the REST API, if an error occurs (such as a 404, as when hitting /fedora/objects/demo:nosuchobject ), the response body is not formatted using the JSPs as expected.  Contrast this to what happens when hitting a URL that doesn't fall under the REST API, like /fedora/foo  This was originally reported by Egbert Gramsbergen to the fcrepo-user list on Feb 7th, 2011.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"findObjects search does not allow including an apostrophe It seems like there should be some way to escape an apostrophe for inclusion in a findObjects search, but none of the obvious ways for escaping an apostrophe work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add findObjects NOT operator It would be nice to have a ""not"" operator in the findObjects search that would allow searching for all objects where a particular value is not present.  It would also be nice if the ""not"" operator could be used to find all items where a particular field is empty or not present at all (e.g., something like rights!'public domain' or rights!'')",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade bundled Tomcat to version 7 Upgrade bundled version of Tomcat to version 7; ensure Fedora runs with an external instance of Tomcat version 7.  See this thread for potential issue with directory permissions: http://sourceforge.net/mailarchive/message.php?msg_id=27140622  And some notes from the Apache Tomcat docs on directory ownership by root and the Tomcat user: http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Non-Tomcat_settings,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XmlUsersFileModule depends on FEDORA_HOME environment variable org.fcrepo.server.security.jaas.auth.module.XmlUsersFileModule depends on the FEDORA_HOME environment variable being set, rather than following the convention of using org.fcrepo.common.Constants.FEDORA_HOME which attempts to determine the value of ""Fedora Home"" as follows:          * servlet.fedora.home system property (checked first)          * fedora.home system property (checked next) or the          * FEDORA_HOME environment variable (checked last).  As a result, this can cause Fedora to fail to start if the environment variable is not set. In scenarios where the FEDORA_HOME environment variable is set and multiple Fedoras are deployed to the same system, they will all end up (unintentionally) using the same copy of FEDORA_HOME/server/config/fedora-users.xml file.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"DC Datastream modifications do not add dc:identifier with the PID On ingest if the DC datastream is missing, or if it does not contain a dc:identifier field with the object's PID then a dc:identifier field is added with the PID.  However datastream modifications do not follow the same behaviour; for instance if an update is performed with DC XML with a missing dc:identifier, it is not automatically added.  It should be.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Clean up devdocs in source tree Many of the files under resources/doc/devdocs are outdated and useless. They should be dropped, with the exception of the Eclipse settings, which are still relevant.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Thread-safety issue in Trippi - RIOTripleIterator A number of JVM crashes due to SIGSEGV.  On looking at the logs, most of them have the following in common:  Java frames: (J=compiled Java code, j=interpreted, Vv=VM code) j  java.lang.Thread.start0()V+0 j  java.lang.Thread.start()V+32 j  org.trippi.io.RIOTripleIterator.<init>(Ljava/io/InputStream;Lorg/openrdf/rio/RDFParser;Ljava/lang/String;)V+116 j  org.trippi.TripleIterator.fromStream(Ljava/io/InputStream;Ljava/lang/String;Lorg/trippi/RDFFormat;)Lorg/trippi/TripleIterator;+98 J  org.fcrepo.server.storage.RDFRelationshipReader.readRelationships(Ljava/io/InputStream;)Ljava/util/Set; J  org.fcrepo.server.storage.types.BasicDigitalObject.getRels(Ljava/lang/String;)Ljava/util/Set;  Lookiing at the source (https://github.com/fcrepo/trippi/blob/master/src/java/org/trippi/io/RIOTripleIterator.java) I wonder if we have a thread-safety issue around m_finishedParsing:  In the constructor: - parsing is kicked off in a separate thread - getNext() is called  getNext() reads m_finishedParsing. the parsing thread sets m_finishedParsing to true when done  Although getNext() is synchronized, there's no protection around the parsing thread setting m_finishedParsing, so potentially an issue if the parsing completes whilst getNext() is reading m_finishedParsing.     ",legacy - Trippi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
"Datastream history and object history REST API calls are inconsistent Reported by Stuart Chalk.  One uses /history, the other users /versions (and the documentation is wrong).  See https://wiki.duraspace.org/display/FCR30/REST+API?focusedCommentId=24347009#comment-24347009  This would be a breaking API change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Build/Test process improvement suggestions The recent build/test  improvements to automate deploying Fedora instances and running the integration tests on them are a significant improvement.  But whenever you get something, you always want more!  Suggestions for some improvements: * single test config failure prevents other tests running - eg if a test in configA fails, configB/C/Q don't run * install from single copy of installer jar - currently installer is copied to locations for configA/B/C/Q - things would run a little faster if we could install from a single copy of the installer rather than needing to copy it to four different locations * disabled configs still go through a build, eg -DconfigA=false does result in the tests not running for configA, but it seems to go through a build process; again things would be a little faster if this didn't happen  Overall desire here is to decrease the round-trip time for fixing an issue with a single integration test case.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Implement describeRepository in REST API describeRepository is not implemented in the REST API - implement it.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade FeSL to use Berkeley DB XML 2.5.16 Upgrade so that FeSL can use the later version of dbxml.,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
Support risearch queries Add support for querying the ResourceIndex via fedora-client.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
Support Stomp for Messaging Service Stomp (http://stomp.codehaus.org/) is a messaging protocol with wide client support (http://stomp.codehaus.org/Clients). It's already well supported by ActiveMQ. Fedora should support Stomp when messaging is provided as an embedded (in VM) broker.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Enhance FilePolicyIndex FeSL has a default policy index implementation of FilePolicyIndex (since 3.5) .  This is a basic memory-cached, file-backed policy index.  It always returns the full set of policies known to it (it does no filtering based on the request) - similar to the legacy XACML implementation.  As such it is suitable for a relatively small number of policies.  This index could be enhanced to provide indexing and better caching to provide a performant alternative to an XML database-backed policy index.  The full functionality of an XML database is not required to support FeSL - what is required is indexed access to policies based on (configurable) resource, subject, action, environment attributes.  An option could be to do the indexing in an SQL database.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
SOAP + MTOM MTOM:  http://www.w3.org/TR/soap12-mtom/  is now the definitive standard on how to transmit non-XML information through SOAP. It would be well for Fedora's SOAP Web services to support MTOM.,"legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
Fedora 3.5.0 Documentation Updates 3.5.0 docs go here until release: https://wiki.duraspace.org/display/FEDORADEV,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Note the Tomcat 6.0.24 and later memory leak warnings From Scott & Steve:  I assume you're testing this with Tomcat 6.0.24 or higher, correct?  I've noticed this too, and did some research on it:  as of version  6.0.24, Tomcat by default runs memory leak detection on everything and  logs the results to its log file.  These errors you're seeing have  probably always been there, but are only logged with newer versions of  Tomcat.  The Tomcat wiki page  http://wiki.apache.org/tomcat/MemoryLeakProtection has a good  explanation of the memory leak detection/protection features, and a  breakdown of the kinds of situations it detects, and possible fixes.  In short, I decided these errors were nothing that needed to be  addressed immediately, but we should probably keep an eye on them going  forward, and do what we can to clean them up as we refactor code.  Many  of the errors may be generated by third-party classes in jars  distributed with Fedora, in which case our hands may be tied as to the  amount of fixing we can do.  -- Scott  Steve Bayliss wrote: I'm seeing some SEVERE log messages on shutting down Tomcat in Tomcat's catalina log file.  (as an aside, when running integration tests with the tests doing their own install of Fedora, I'm not seeing any tomcat log files at all - it would be useful if we had these to check for any issues).  The messsages are pasted below.  Can anyone else verify this?  Steve  28-Mar-2011 08:42:01 org.apache.coyote.http11.Http11Protocol pause INFO: Pausing Coyote HTTP/1.1 on http-8080 28-Mar-2011 08:42:01 org.apache.coyote.http11.Http11Protocol pause INFO: Pausing Coyote HTTP/1.1 on http-8443 28-Mar-2011 08:42:02 org.apache.catalina.core.StandardService stop INFO: Stopping service Catalina 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [Thread-2] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [ActiveMQ Scheduler] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [JotmBatch] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [JotmClock] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [Write-lock Reaper] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [VMTransport] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [VMTransport] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearReferencesThreads SEVERE: The web application [/fedora] appears to have started a thread named [Persistence Adaptor Task] but has failed to stop it. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap SEVERE: The web application [/fedora] created a ThreadLocal with key of type [org.apache.axis.utils.XMLUtils.ThreadLocalDocumentBuilder] (value [org.apache.axis.utils.XMLUtils$ThreadLocalDocumentBuilder@161477a]) and a value of type [org.apache.xerces.jaxp.DocumentBuilderImpl] (value [org.apache.xerces.jaxp.DocumentBuilderImpl@19bb4f0]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap SEVERE: The web application [/fedora] created a ThreadLocal with key of type [null] (value [ch.qos.logback.core.UnsynchronizedAppenderBase$1@1841515]) and a value of type [java.lang.Boolean] (value [false]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap SEVERE: The web application [/fedora] created a ThreadLocal with key of type [org.apache.derby.iapi.sql.dictionary.TableDescriptor$1] (value [org.apache.derby.iapi.sql.dictionary.TableDescriptor$1@843e7b]) and a value of type [java.util.WeakHashMap] (value [{=null, ={1, 2, 3}, =null, ={1, 6}, ={1}, =null, =null, ={1, 2}}]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap SEVERE: The web application [/fedora] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2232d8]) and a value of type [org.apache.derby.iapi.services.context.ContextManager] (value [org.apache.derby.iapi.services.context.ContextManager@3fe94a]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak. 28-Mar-2011 08:42:04 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap SEVERE: The web application [/fedora] created a ThreadLocal with key of type [org.apache.derby.iapi.sql.dictionary.TableDescriptor$1] (value [org.apache.derby.iapi.sql.dictionary.TableDescriptor$1@843e7b]) and a value of type [java.util.WeakHashMap] (value [{={1}}]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak. 28-Mar-2011 08:42:07 org.apache.coyote.http11.Http11Protocol destroy INFO: Stopping Coyote HTTP/1.1 on http-8080 28-Mar-2011 08:42:07 org.apache.coyote.http11.Http11Protocol destroy INFO: Stopping Coyote HTTP/1.1 on http-8443",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
org.fcrepo.server.validation.ecm.jaxb contains schema-generated classes Generated classes should be generated as part of the Maven build process,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Refactor authN/authZ servlet filters. The servlet filters for authN/authZ in Fedora are somewhat elderly and more complicated than they need be. This is a master-issue to organize the work of refactoring them.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Deprecate org.fcrepo.server.security.servletfilters.ldap The package org.fcrepo.server.security.servletfilters.ldap contains functionality that is entirely superseded by that available in FESL. This package should be pruned from the source tree and documentation should be updated to prefer FESL strongly.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Deprecate org.fcrepo.server.security.servletfilters.pubcookie The package org.fcrepo.server.security.servletfilters.pubcookie is totally unsupported and out of maintenance. It has never been documented, the author Bill Neibel is not sure that it actually works at all, and we know of no installation using it. This package should be pruned from the source tree.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create use case using XMLUsersFile for servlet filter refactoring We require a use case showing the use of XMLUsersFile for refactoring the servlet filters.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve efficiency of building parent hierarchies as part of XACML request building For FeSL policy evaluation, a hierarchical resource-id attribute is built from the PID (and datastream if relevant) of the object.  This is done by querying for parents of the objects, using the relationships specified in config-melcoe-pep.xml.  Currently, a separate query is issued for each parent-child relationship specified.  In the current implementation this means a separate parsing of the RELS datastreams for each query.  It would be more efficient to get all of the relationships in a single query.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Create use case using HTTP-upstream authN/authZ-attribute-supply None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Mark ""classic"" AuthN servlet filters as deprecated Discussed on April 5th committer call. This would not change any functionality, but would serve to notify people who might be inclined to develop against the classic AuthN classes that they're going away soon and they may want to spend their time on more forward-looking stuff.  At a later point, we could decide to more forcefully deprecate these by sticking them in a .deprecated sub-package...so they're still usable if people are in a real bind. This was a suggestion by Scott Prater on the mailing list recently.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL policy finder xpath is incorrect/restrictive The XPath generated for policy queries in the xml database are restrictive and in certain cases will not return matching policies.  Example: If a policy specifies an attribute id not usually supplied in the request it will not be matched when it should be (the policy query is built on attributes supplied by the PEP; ie before additional attribute-finding has taken place).  An attribute in the policy which is not specified in the request should always result in a match (since the finder is unable to determine if the policy matches due to lack of information in the request).  The attribute conditions part of the query needs to include an additional clause specifying ""if a policy attribute is not present in the request"". ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Improve efficiency of FeSL policy finder (XPath) Current XPath does not take account of and/or conditions in the policy.  Instead it treats all attributes specified in the policy as ""or"" conditions.  Case 1: Policy specifies Resources   Resource     ResourceMatch       AttID1 = ""xyz""   Resource     ResourceMatch       Att2D1 = ""pqr""  This is an ""or"" condition, so any request containing ""xyx"" OR ""pqr"" should match.  This case is currently satisfied  Case 2: Policy specifies Resources   Resource     ResourceMatch       AttID1 = ""xyz""     ResourceMatch       Att2D1 = ""pqr""  This is an ""and"" condition, so a request containing ""xyx"" AND ""pqr"" should match; but a request matching on only one of the attributes should not.  This case is currently not satisfied - the finder will return too many policies as it will match on a request with either of the attributes specified.  Additionally, the current ""match"" logic is not constrained to a single ResourceMatch (or SubjectMatch, etc) - so for the policy: Resources   Resource     ResourceMatch       AttID1 = ""xyz""   Resource     ResourceMatch       AttID2 = ""pqr""  The policy will match the request if the request has AttID1=""pqr"" - incorrectly.  Though this is unlikely to be a major problem in practice as the identifier spaces used for different attributes in general do not have common values. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Implement ResourceFinder modules in FeSL The Sun XACML implementation has resource finders/modules:  http://sunxacml.sourceforge.net/javadoc/com/sun/xacml/finder/ResourceFinder.html http://sunxacml.sourceforge.net/javadoc/com/sun/xacml/finder/ResourceFinderModule.html  These are used specifically for dealing with hierarchical resources and getting the desendents etc for building hierarchical resources (either using the ""path"" URI profile, or using the ancestor profile).  The current implementation does not make use of these; instead the PEP builds a set of hierarchical resource IDs based on the PID/DS using custom code.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Fix memory leaks The version bump of Tomcat in Fedora 3.5 reveals memory leaks on shutdown.  Some of these may be in code outside of Fedora, but we should review these and fix where possible.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Internal server error when accessing managed datastreams for objects with the pid namespace 'file' I ingested some objects with the pid namespace ""file"" with a managed content datastream. As far as I can tell, the ingest was successful (perhaps because of the patch for https://jira.duraspace.org/browse/FCREPO-696), but when I try to access the datastream using either the API-A-LITE or REST API (e.g. http://localhost:8180/fedora/objects/file%3Abarcode111480/datastreams/Exiftool.rdf/content) , I receive an HTTP 500 error and this message:  javax.ws.rs.WebApplicationException: org.fcrepo.server.errors.StreamIOException: [DatastreamManagedContent] returned  the error: ""org.fcrepo.server.errors.HttpServiceNotFoundException"". Reason: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.HttpServiceNotFoundException  The message was  ""[FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .  ""  .     [ Full stack trace from fedora.log at bottom ].  If I re-ingest the object in a different namespace, I do not receive the error.    =======   ERROR 2011-04-13 13:23:09.047 [MainThread] (DefaultExternalContentManager) URI is not hierarchical java.lang.IllegalArgumentException: URI is not hierarchical   java.io.File.<init>(File.java:363) [na:1.6.0_22]   org.fcrepo.server.storage.DefaultExternalContentManager.getFromFilesystem(DefaultExternalContentManager.java:235) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.DefaultExternalContentManager.getExternalContent(DefaultExternalContentManager.java:146) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:175) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:129) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1165) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.rest.DatastreamResource.getDatastream(DatastreamResource.java:232) [fcrepo-server-3.4.2.jar:na]   sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source) [na:na]   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_22]   java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_22]   com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:175) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:689) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:647) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:638) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:590) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   javax.servlet.http.HttpServlet.service(HttpServlet.java:820) [servlet-api-2.5-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1098) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:79) [fcrepo-server-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:295) [fcrepo-security-jaas-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.Server.handle(Server.java:285) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:502) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:821) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:513) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:208) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:378) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:226) [jetty-6.1.3.jar:6.1.3]   org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442) [jetty-util-6.1.3.jar:6.1.3] ERROR 2011-04-13 13:23:09.052 [MainThread] (DatastreamResource) Unexpected error fulfilling REST API request org.fcrepo.server.errors.StreamIOException: [DatastreamManagedContent] returned  the error: ""org.fcrepo.server.errors.HttpServiceNotFoundException"". Reason: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.HttpServiceNotFoundException  The message was  ""[FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .  ""  .     org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:193) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:129) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1165) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.rest.DatastreamResource.getDatastream(DatastreamResource.java:232) [fcrepo-server-3.4.2.jar:na]   sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source) [na:na]   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_22]   java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_22]   com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:175) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:689) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:647) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:638) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:590) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   javax.servlet.http.HttpServlet.service(HttpServlet.java:820) [servlet-api-2.5-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1098) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:79) [fcrepo-server-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:295) [fcrepo-security-jaas-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.Server.handle(Server.java:285) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:502) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:821) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:513) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:208) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:378) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:226) [jetty-6.1.3.jar:6.1.3]   org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442) [jetty-util-6.1.3.jar:6.1.3] Caused by: org.fcrepo.server.errors.HttpServiceNotFoundException: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.HttpServiceNotFoundException  The message was  ""[FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .  ""  .     org.fcrepo.server.storage.DefaultExternalContentManager.getExternalContent(DefaultExternalContentManager.java:155) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:175) [fcrepo-server-3.4.2.jar:na]  ... 42 common frames omitted Caused by: org.fcrepo.server.errors.HttpServiceNotFoundException: [FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .     org.fcrepo.server.storage.DefaultExternalContentManager.getFromFilesystem(DefaultExternalContentManager.java:266) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.DefaultExternalContentManager.getExternalContent(DefaultExternalContentManager.java:146) [fcrepo-server-3.4.2.jar:na]  ... 43 common frames omitted Caused by: java.lang.IllegalArgumentException: URI is not hierarchical   java.io.File.<init>(File.java:363) [na:1.6.0_22]   org.fcrepo.server.storage.DefaultExternalContentManager.getFromFilesystem(DefaultExternalContentManager.java:235) [fcrepo-server-3.4.2.jar:na]  ... 44 common frames omitted ERROR 2011-04-13 13:23:09.056 [MainThread] (WebApplicationImpl) Internal server error javax.ws.rs.WebApplicationException: org.fcrepo.server.errors.StreamIOException: [DatastreamManagedContent] returned  the error: ""org.fcrepo.server.errors.HttpServiceNotFoundException"". Reason: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.HttpServiceNotFoundException  The message was  ""[FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .  ""  .     org.fcrepo.server.rest.BaseRestResource.handleException(BaseRestResource.java:168) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.rest.DatastreamResource.getDatastream(DatastreamResource.java:250) [fcrepo-server-3.4.2.jar:na]   sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source) [na:na]   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_22]   java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_22]   com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:175) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:689) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:647) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:638) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:590) [jersey-bundle-1.0.3.1.jar:1.0.3.1]   javax.servlet.http.HttpServlet.service(HttpServlet.java:820) [servlet-api-2.5-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1098) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.servletfilters.FilterRestApiFlash.doFilter(FilterRestApiFlash.java:79) [fcrepo-server-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:295) [fcrepo-security-jaas-3.4.2.jar:na]   org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.Server.handle(Server.java:285) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:502) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:821) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:513) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:208) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:378) [jetty-6.1.3.jar:6.1.3]   org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:226) [jetty-6.1.3.jar:6.1.3]   org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442) [jetty-util-6.1.3.jar:6.1.3] Caused by: org.fcrepo.server.errors.StreamIOException: [DatastreamManagedContent] returned  the error: ""org.fcrepo.server.errors.HttpServiceNotFoundException"". Reason: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.HttpServiceNotFoundException  The message was  ""[FileExternalContentManager] returned an error.  The underlying error was a java.lang.IllegalArgumentException  The message was  ""URI is not hierarchical""  .  ""  .     org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:193) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.storage.types.DatastreamManagedContent.getContentStream(DatastreamManagedContent.java:129) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1165) [fcrepo-server-3.4.2.jar:na]   org.fcrepo.server.rest.DatastreamResource.getDatastream(DatastreamResource.java:232) [fcrepo-server-3.4.2.jar:na]  ... 39 common frames omitted Caused by: org.fcrepo.server.errors.HttpServiceNotFoundException: [DefaultExternalContentManager] returned an error.  The underlying ...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Failure to use https protocol when datastream points to local URL As reported by Swithun Crowe on April 13th 2011:  I was having trouble with the demo objects - everything seemed to work, apart from being able to view the list of objects in the demo SmileyStuff collection. Looking at the list with URL  /fedora/get/demo:SmileyStuff/demo:Collection/list  worked, but  /fedora/objects/demo:SmileyStuff/datastreams/LIST/content  didn't. It gave this error:  Error getting http://itspc-cs2.st-andrews.ac.uk:443/fedora/get/demo:SmileyStuff/demo:Collection/list  It is using a secure port, but the protocol is still http, with no s.  I traced this back to fcrepo/fcrepo-server/src/main/java/org/fcrepo/server/storage/DefaultExternalContentManager.java, in method getFromWeb, where there is a colon where there shouldn't be one. The protocol string returned by params.getProtocol doesn't include the : after the protocol, so the comparison fails when it should succeed.  This is a patch for it:  --- DefaultExternalContentManager.java.orig     2011-04-13 10:42:07.000000000 +0100 +++ DefaultExternalContentManager.java  2011-04-13 10:42:19.000000000 +0100 @@ -313,7 +313,7 @@                      new Boolean(beHash.get(""callSSL""))                              .booleanValue();              if (backendSSL) { -                if (params.getProtocol().equals(""http:"")) { +                if (params.getProtocol().equals(""http"")) {                      url = url.replaceFirst(""http:"", ""https:"");                  }                  url = ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL REST and SOAP AuthZ missing handlers and filters Missing handlers/filters in FeSL AuthZ are resulting in a bypass of authorisation (and therefore a hole in the security)  Handlers for API methods are configured in config-melcoe-pep.xml, which maps operations to the handler class for the REST and SOAP API methods.  Instead an error should be reported (and access should not be granted to the method).  Relevant code is in the REST PEP and the SOAP PEP implementations - this is where the null is tested for and the pass-through is implemented.  Sub-issues to this one identify the missing handlers/filters/mappings to handlers and filters that require implementation.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Review web.xml mappings for /objects/nextPID and /objects/nextPID.xml For some, possibly historical, reason, there are mappings for the above paths to the RestServlet.  Other REST methods are mapped using an /objects/* path - so in fact this would also pick up the above.  Suspect there is various fix-up code to deal with this special case in the REST handling, and also in the FeSL filter/handler mappings which will all need revising if we remove the two special-case mappings.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Review MIMETypedStream implementation Discussed on committer call 2011/04/26 - http headers overlap with properties in this class, which could lead to confusion in the future.  Potentially there are two implementations - one for a non-http stream and one for a stream which is intended to pass through http headers.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
No FeSL filter for /management/control None,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Update ActiveMQ See 5.5.0 release notes: https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12311210&styleName=Html&version=12315626,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support xml configuration of ActiveMQ In addition to the broker URI configuration currently supported by Fedora, also provide support for XML configuration of ActiveMQ. See: http://activemq.apache.org/xml-configuration.html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Library updates for 3.5.0 Umbrella issue for miscellaneous library updates for 3.5.0,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Spring Update Spring libraries from 3.0.3.RELEASE to 3.0.5.RELEASE,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Abdera Update Abdera from 1.1 to 1.1.2,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Derby Update Derby from 10.5.3.0_1 to 10.7.1.1,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update jackson-mapper-asl Update jackson-mapper-asl from 1.5.2 to 1.5.8,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Update Axiom libraries Update Axiom libraries from 1.2.8 to 1.2.10,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"No FeSL handlers for relationships methods No handlers defined for REST API methods addRelationship, getRelationships, purgeRelationships",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Maven build warnings for missing plugin versions Maven is reporting various build warnings because of missing plugin version declarations (and in the case of fcrepo-server, an additional warning because of a duplicate declaration of the exec-maven-plugin), e.g.:  [WARNING] Some problems were encountered while building the effective model for org.fcrepo:fcrepo-common:jar:3.5-SNAPSHOT [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 199, column 15  [WARNING] Some problems were encountered while building the effective model for org.fcrepo:fcrepo-server:jar:3.5-SNAPSHOT [WARNING] 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declaration of plugin org.codehaus.mojo:exec-maven-plugin @ line 311, column 15",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Refactor FeSL and existing XACML attribute finder modules In 3.5, the FeSL Relationships attribute finder module was enhanced to allow relationship-query-based attributes; and a similar relationships attribute finder module was added for the existing XACML implementation.  As these both conform to the same XACML interface, this code should be refactored to provide a single attribute finder module, with Spring configuration.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Web admin client will not ingest objects if the extension is not .xml If a foxml file is ingested using the web admin client from a file with an extension other than "".xml"", a new empty object is created rather than an object created from the foxml file.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Search path /objects (with no parameters) not matching a REST operation handler /objects/?param1=blah&param2=blah matches, but a path /objects does not match (the GET method test expects some parameters, whereas no parameters is valid)  So the /objects search page gives an error.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Move API serializers into a separate package 1) REST XML output serialization is via org.fcrepo.server.rest.DefaultSerializer 2) REST Serialization to HTML is (1) plus an xslt, in the individual handlers for the rest methods 3) See FCREPO-886 - there is additional serialization in the default disseminators  We should consider the serialization as independent from the API, and move the serialization code (and possibly refactor) into (perhaps) org.fcrepo.server.storage.types.serializers - as it seems that it is classes in org.fcrepo.server.storage.types that require serialization.  This should be refactored to include the to-HTML serialization.  This could form the basis of a standard serialization package able to handle a variety of formats, HTML, XML, text, JSON, etc etc.  org.fcrepo.server.access.defaultdisseminator.ObjectInfoAsXML() should be removed; and the code scanned for any other serialization that should be refactored into the new serialization package.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Installation Path An IllegalStateException (see attached file) is thrown during start up if the path C:\Program Files (x86)\fedora is used for installation.  ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Allow FeSL RI Attribute finder queries to be based on object URI as well as resource URI TQL/SPARQL queries can be used to define XACML resource IDs.  These queries have substituted into them (at run-time) the ID of the resource, ie the info:fedora URI.  So an object has an object URI, a datastream has a datastream URI.  This can lead to cumbersome queries in some cases - for instance where a policy is to apply to the object and all components of the object one has to deal with the case where the URI may be a datastream or an object, and if a datastream determine the object.  Enhance the current behaviour to also allow substitution of the object URI.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Web application context loading can fail on some Windows environments Fedora does not start because Spring cannot find any beans that should exist in the web application context.    the installer creates a context param file in $FEDORA_HOME/tomcat/config/Catalina/localhost/fedora.xml.  Spring looks for a parameter contextConfigLocation, which the installer specifies to point to $FEDORA_HOME/server/config/spring/web/*.xml  In some Windows environments, the fileststem path is mangled, and looks something like ""c://c:/fedora-3.5/server/config/spring/web/*.xml]""  The context file is created by the installer in fcrepo-installer, Tomcat.java, installFedoraContext()",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Review and update FeSL bootstrap policies The existing XACML engine has a set of bootstrap/default policies.  FeSL also includes a set of bootstrap/default policies, however these are not identical to the existing XACML engine.  Review the differences between these, and bring FeSL bootstrap policies in line with the default set.  Move any policies that are not needed to an examples directory (eg permitting access for staff, student; the example collections policy etc).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Export Serializer fails on large datastreams owing to limitation of int as array index Scott Hammel says: ""Running some export tests using Fedora's REST export API, I get a negative array index Java exception when doing an ""archive"" export of an object at around 400 MB (>320 MB, < 450 MB).  Fedora is version 3.4 something; running on 32-bit CentOS 5.5, Sun Java 1.6, 21  Is it just me or has anyone else seen something like that?  Thanks, Scott""",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Policy index rebuilder fails FeSL policy index rebuilder fails with the following stack trace.  As far as I can tell (and I've not had chance to look at this in any detail yet) I think it is something to do with the spring config not picking up the bean for this particular rebuilder.  Or perhaps this particular rebuilder is in need of some spring-ification - org.fcrepo.server.security.xacml.pdp.data.PolicyIndexRebuilder  Error: java.lang.NullPointerException  java.lang.NullPointerException         at org.fcrepo.server.utilities.rebuild.Rebuild.getOptions(Rebuild.java:2 22)         at org.fcrepo.server.utilities.rebuild.Rebuild.getUserInput(Rebuild.java :379)         at org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:447)         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl. java:39)         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces sorImpl.java:25)         at java.lang.reflect.Method.invoke(Method.java:597)         at org.fcrepo.server.utilities.rebuild.cli.CLILoader.main(CLILoader.java :77),legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"GetDissemination does not correctly handle query string parameters Reported by Damian Kaliszan on the user's list.  The code incorrectly uses the string ""key"" when building a map of params, instead of the ""key"" method parameter.  Patch from Damian attached.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Evaluate replacements for JRDF http://jrdf.sourceforge.net/status.html  JRDF is inactive as of 8 May 2011. JRDF is used in Trippi, FESL, and, the storage and resourceIndex packages. Fedora's JRDF libraries are bundled up with Mulgara (?).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create REST API equivalent of getDatastreams API-M method The REST API does not have the equivalent of API-M getDatastreams.  Instead it is necessary to list datastreams using the /objects/pid/datastreams endpoint and then iterate each of the datastreams.  Add getDatastreams to the REST API.  For discussion: - should this be a different endpoint to the /objects/pid/datastereams endpoint? - or should we add a URL parameter on the same endpoint? - need to consider any AuthZ implications (as listDatastreams is API-A and getDatastreams is API-M),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Exception when modifying an object 32767 times The database internally uses a SMALLINT for the systemVersion in the doRegistry table. This value is incremented every time you modify an object, and overflows when you reach 32767 modifications. This was reproduced using a small piece of code that added and removed a relation from and object repeatedly.  The stacktrace is: org.fcrepo.server.errors.StorageDeviceException: Error creating replication job: The resulting value is outside the range for the data type SMALLINT.         at org.fcrepo.server.storage.DefaultDOManager.doCommit(DefaultDOManager.java:1376) [fcrepo-server-3.4.2.jar:na]         at org.fcrepo.server.storage.SimpleDOWriter.commit(SimpleDOWriter.java:508) [fcrepo-server-3.4.2.jar:na]         at org.fcrepo.server.management.DefaultManagement.purgeRelationship(DefaultManagement.java:1755) [fcrepo-server-3.4.2.jar:na]         at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source) [na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_24]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_24]         at org.fcrepo.server.messaging.NotificationInvocationHandler.invoke(NotificationInvocationHandler.java:68) [fcrepo-server-3.4.2.jar:na]         at $Proxy0.purgeRelationship(Unknown Source) [na:na]         at org.fcrepo.server.management.ManagementModule.purgeRelationship(ManagementModule.java:476) [fcrepo-server-3.4.2.jar:na]         at org.fcrepo.server.management.FedoraAPIMBindingSOAPHTTPImpl.purgeRelationship(FedoraAPIMBindingSOAPHTTPImpl.java:551) [fcrepo-server-3.4.2.jar:na]         at org.fcrepo.server.management.FedoraAPIMBindingSOAPHTTPSkeleton.purgeRelationship(FedoraAPIMBindingSOAPHTTPSkeleton.java:463) [fcrepo-common-3.4.2.jar:na]         at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source) [na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [na:1.6.0_24]         at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_24]         at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281) [axis-1.3-PATCHED.jar:na]         at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699) [axis-1.3-PATCHED.jar:na]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:637) [servlet-api.jar:na]         at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) [axis-1.3-PATCHED.jar:na]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) [servlet-api.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235) [fcrepo-server-3.4.2.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235) [fcrepo-server-3.4.2.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235) [fcrepo-server-3.4.2.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235) [fcrepo-server-3.4.2.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.fcrepo.server.security.servletfilters.FilterSetup.doFilter(FilterSetup.java:235) [fcrepo-server-3.4.2.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) [catalina.jar:na]         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:na]         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) [catalina.jar:na]         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [catalina.jar:na]         at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525) [catalina.jar:na]         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128) [catalina.jar:na]         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [catalina.jar:na]         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [catalina.jar:na]         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293) [catalina.jar:na]         at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849) [tomcat-coyote.jar:na]         at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583) [tomcat-coyote.jar:na]         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454) [tomcat-coyote.jar:na]         at java.lang.Thread.run(Thread.java:662) [na:1.6.0_24]  I have attached a patch that modifies the type to INT. There is also a modification of the DefaultDOManager that passes the original SQLException as cause to the StorageDeviceException that is thrown, so the stack trace is preserved",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create an AttributeFinderModule based on XML content of datastream An attribute finder module eg allowing xpath-based exposure of xml content as a XACML resource id.  See mailing list thread http://comments.gmane.org/gmane.comp.cms.fedora-commons.user/6711  Similar to what's been done for the relationships-based attributes.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Populate metadata to Akubra API We have a use case to expose Fedora datastream/objects to science data tools that are dependent on a meaningful file system and MIME indicators by file extension. For example, Earth and Atmospheric Science community has a tool to read a special format called NetCDF that represents multiple-dimensional arrays and there are data tools serve them via HTTP, but needs to scan the file system for that type of files, rather than read a HTTP stream.  I would therefore like to have the the hints argument in the Akubra API  to be populated with the mime type and the parent PID, in order to implement a special storage on the file system for this kind of tool. The Parent PID is to be used to form a correct collection hierarchy, and the MIME type is to be used to write the file extension.  We have had an implementation (using the Fedora 3.4.2 legacy storage system) that used the internal low-level storage API, which needs to be move into Akubra as a true sustainable solution. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"audit trail does not store ingest if no save message is passed When you ingest a new object without passing a log message, the audit trail doesn't get created and the ingest event is not logged in the audit trail.  However, if you ingest the same object with a log message, then the audit trail is created correctly and the ingest event is added to the audit trail with all the information you'd expect.  We've known about this for a while and were just working around it by ensuring we always include a log message in the ingest call - it didn't occur to me to report it as a bug until I was talking to Asger.  I can duplicate this easily in the REST api; I don't know for sure if it happens when you use other APIs.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
jboss repository no longer available The JBoss repository http://repository.jboss.org/maven2 is no longer available according to http://community.jboss.org/en/build/blog/2011/06/01/blocking-repositoryjbossorgmaven2. It prevents to build the fcrepo project in case necessary dependencies were not already available in local .m2 repository.  I am attaching a patch of pom.xml that resolves the issue for the master branch.  Older releases (tags) can be affected too. Maybe there should be a notice to put the new repository to local .m2/settings.xml if you do not intend to update older tags.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Ability to access more subject attributes in FeSL policies As it is now it is only possible to access fedoraRole from a subjects attributes in FeSL. It would be desirable to be able to get access to other attributes as well to create more complex policies.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Allow configuration of Messaging datastores with no messageTypes specified The messageTypes parameter of data store configurations specifies what types of API-M message (access, update) the datastore will receive.  However it is not possible to omit this (or specify """"): an exception is thrown on initialisation, as the String.split returns an array of a single zero-length string if it is specified as """" and NPE if the parameter is omitted.  It would be useful to configure datastores that do not receive API-M messages for custom messaging implementations - eg use messaging.send(destination, message) to send a new kind of message to the new destination (datastore); without the datastore also receiving the existing API-M messages. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Rebuilder does not start when using embedded Derby Immediately after a fresh install of 3.5-SNAPSHOT, I started, then stopped Fedora, then attempted to run the rebuilder. It paused for a few seconds, then exited with the following error:  org.fcrepo.server.errors.ModuleInitializationException: Error while attempting to check for and create non-existing table(s): org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Failed to start database '/Users/cwilper/fedora/derby/fedora3' with class loader org.fcrepo.server.utilities.rebuild.cli.CLILoader@59bca5f1, see the next exception for details.)         at org.fcrepo.server.utilities.rebuild.RebuildDOManager.postInitModule(RebuildDOManager.java:128)         at org.fcrepo.server.Server.<init>(Server.java:644)         at org.fcrepo.server.Server.<init>(Server.java:697)         at org.fcrepo.server.utilities.rebuild.RebuildServer.<init>(RebuildServer.java:55)         at org.fcrepo.server.utilities.rebuild.RebuildServer.getRebuildInstance(RebuildServer.java:141)         at org.fcrepo.server.utilities.rebuild.Rebuild.getServer(Rebuild.java:212)         at org.fcrepo.server.utilities.rebuild.Rebuild.getRebuilder(Rebuild.java:263)         at org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:446)         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)         at java.lang.reflect.Method.invoke(Method.java:597)         at org.fcrepo.server.utilities.rebuild.cli.CLILoader.main(CLILoader.java:77)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Weekly ""Fresh"" build with local m2 repo cleared out http://maven.apache.org/plugins/maven-dependency-plugin/purge-local-repository-mojo.html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Maven cannot find javax.resource:connector-api Building fcrepo from source fails with the following error:  [ERROR] Failed to execute goal on project fcrepo-common: Could not resolve dependencies for project org.fcrepo:fcrepo-common:jar:3.5-SNAPSHOT: Could not find artifact javax.resource:connector-api:jar:1.5 in central (http://repo1.maven.org/maven2) -> [Help 1]  (you may need to clean out your local Maven repository to reproduce this error)  fcrepo-server's POM defines the connector-api dependency.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Re-evaluate need for pre-filtering on the way to the message broker (e.g. API-M method type) Feels like this kind of filtering could be done between the broker and the recievers...,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Setting ownerId in REST API ingest request does not work Setting the ownerId get variable on a REST API ingest request does not work and returns default ownerId value. (https://wiki.duraspace.org/display/FCR30/REST+API#RESTAPI-ingest)  Looks like only a small code fix is required at https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/java/org/fcrepo/server/rest/FedoraObjectResource.java#L293  Also, it looks like ownerId is coded as ownerID on lines 247 and 283 and might also need to be changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Memory leak in fedora-client MediaShelf fedora-client memory leak detected at http://mediashelf.github.com/fedora-client/xref/com/yourmediashelf/fedora/c lient/FedoraClient.html#102. When multiple new clients are created and removed (assuming gc has happened), references to eu.medsea.mimeutil.detector.MagicMimeMimeDetector still persist in the heap.   See attached chart from MAT, after running some stress test's on our servers and processing the resulting heap.  For a quick fix I have changed fedora client to use a single instance of new MimeUtil2(); by making it static and using a static initialiser to register the mime detector. This has helped, however may introduce unforeseen threading issues in MimeUtil2 perhaps on the method MimeUtil2.getMimeTypes.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Changing object label in Web Admin client to contain accents Ends up with trash symbols being given inserted.   Seems to be related to different URLencoding/decoding schemes.  For example, the URLencoding of   (a acute) given by Flash's escape function is %E1 (RFC2396), but it would seem that the UTF-8 scheme of %C3%A1 is expected/required.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Investigate memory leaks Noting FCREPO-890 and FCREPO-891 - the new bundled version of Tomcat reports SEVERE messages on shutdown indicating potential memory leaks.  These should be investigated, and where these are due to Fedora they should be fixed.  For issues outside of Fedora code probably useful to inform the relevant provider of the software component.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Update documentation Update the documentation. This release is focused on out-of-the-box users, so the configuration process is simplified, and documentation shall reflect this.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
URIResolver shall also be configurable for the Solr plugin URIResolver shall also be configurable for the Solr plugin. This was originally done for the Lucene plugin. S.Lamb@hull.ac.uk reported it missing for Solr and supplied a patch.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Add support for XML mime type ""application/xml"" Add support for XML mime type ""application/xml"" in xslt helper functions (previously only text/xml supported)",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"An index field named ""PID"" shall not be required for the Solr plugin. An index field named ""PID"" shall not be required for the Solr plugin.  The required field name is stated in the uniqueKey element in solr's schema.xml file.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Delete index entries for Inactive foxml objects for the Solr plugin. Delete index entries for Inactive foxml objects for the Solr plugin. There is a <delete> element defined for the purpose.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Add the index property fgsindex.stopwordsLocation Add the index property fgsindex.stopwordsLocation Use it with the selected analyzer Custom StopwordsAnalyzer is an alternative,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"PDF text extraction shall avoid sending exceptions PDF text extraction shall avoid sending exceptions. When exceptions are thrown during text extraction, they shall be caught and empty index field returned with a log warning. Before, exceptions were sent back to the indexing stylesheet, which would cancel the indexing, now the index document will just lack the full text index field. Text extraction from PDF documents shall put spaces instead of characters 00-31 (except 09, 10 and 13), because they have caused exception during indexing.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Simplified configuration for out-of-the-box users Simplified configuration for out-of-the-box users. Users shall just run a shell script, which will collect the necessary information in order to run the ant script that will insert the values in the config files. Thus, users do not have to customize and run the ant script.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Upgrade to latest pdfbox Upgrade to latest pdfbox.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Upgrade to latest Lucene and Solr Upgrade to latest Lucene and Solr. It may be wise to take it in two steps, because they changed a lot from 2.* to 3.* So in the first place, upgrade to Lucene 2.9.4 and Solr 1.4.1",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Upgrade to latest Zebra Upgrade to latest Zebra. Probably a very simple task, since Zebra did not change much.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Upgrade to latest Fedora Upgrade to latest Fedora. It may be a good idea to upgrade first to Fedora 3.3. Included is upgrade of other relevant libs included in Fedora.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Increased flexibility to derive the configuration of a repository Discussion at the committers' Skype meeting of 26 Jul 2011 included questions about the flexibility of Fedora's configuration mechanism. This issue is a holding tank for that discussion, which will go farther as time allows. Some points raised:  1) The purpose of FEDORA_HOME is not entirely clear and agreed. FEDORA_HOME contains configuration, slowly-changing state (e.g. repository-wide policies), and (often) quickly-changing state like the primary object store.  2) Fedora's installation procedures are bound up with configuration. We're not perfectly sure what a perfect installation procedure looks like, and the best road forward for configuration may depend on that. Chris mentioned the desire for an easy way for (human) installers to align Fedora's state on the filesystem with FHS-- e.g. configuration in etc, changing state in var, and so forth. Eddie pointed out that this is all very well-- for *nix. Chris also pointed out that many Java webapps offer a means by which a simple default configuration is engaged if no alternative  3) There are some questions about technique and the best use of Spring to fulfill our designs for configuration.  4) Eddie mentioned the idiom often found in scripted webapps in which code is placed on the filesystem (or in a container) and then configuration (as a human act) occurs on the first load of the app. It was widely agreed that this is a very pleasant way to deploy and would be attractive to many.  5) Adam make the wild-eyed claim that OSGi offers powerful configuration services, and that it would be as well to move forward with that in mind and be prepared to shift configuration into that framework, since OSGi is where Fedora is headed.  6) It was generally agreed that more discussion is in order!  ","legacy - Fedora,legacy - FeSL,legacy - OSGi,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0
Create a backwards-compatible schema for REST/listDatastreams that can accommodate datastream profiles None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for JDK 7 After installing JDK 7 i'm unable to build the fcrepo project from scratch using maven. Build stops at fcrepo-common because of:  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project fcrepo-common: Compilation failure [ERROR] /home/ruckus/dev/projects/fcrepo-github/fcrepo/fcrepo-common/src/main/java/org/fcrepo/utilities/DriverShim.java:[33,7] error: DriverShim is not abstract and does not override abstract method getParentLogger() in Driver ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"URIResolver for Saxon Servlet to allow for additional datastream bindings to be provided to xslt Fedora's CMA has two methods for dealing with authentication for external services called from object methods:  Either datastream mediation is used (which mints a temporary callback URI for the datastream), or the external service needs to authenticate against Fedora.  The Saxon servlet has provision to authenticate against Fedora, however this is only done for the source document and stylesheet document - additional documents specified on the Saxon URL (and therefore retrieved using the xslt document() function) do not authenticate.  Thus it is impossible to pass in additional datastreams to the xslt or indeed source content from elsewhere using the document() function if authentication is required.  Another use case is for the xslt to source content from Fedora REST API methods using the xslt document() function.  A custom URI resolver could be created which uses exactly the same configuration and mechanism as is currently used for the source and stylesheet documents, which would get around this limitation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"listMethods should gracefully handle missing CModel objects Currently listMethods fails (stack trace below) if a CModel object is not found.  It should gracefully handle missing CModel objects (eg specifying a CModel URI simply to identify the type of object without actually wanting to create a CModel object).  This means if an object subscribes to a set of CModels, and any single one of these doesn't exist as a Fedora CModel object it is not possible to list/execute methods for those that do exist.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Selection between xslt processors, xalan or saxon Current xslt processor is xalan, which has XPath 1.0. Requests for XPath 2.0 lead to a need for a choice of saxon.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
GSearch 2.2 wsdl breaks with axis2 GSearch 2.2 works with axis1. Investigate if we can/should upgrade to axis2 ( http://axis.apache.org/axis2/java/core/ )   From:  Alistair Young <alistair.young@uhi.ac.uk>  Subject:  [fcrepo-user] gsearch 2.2 wsdl breaks with axis2  Date:  7. aug 2011 17.58.29 CEST  To:  Support and info exchange list for Fedora users. <fedora-commons-users@lists.sourceforge.net>   Does anyone know if there's a fix or workaround for the gsearch wsdl? Running axis2 + xmlbeans over it gives this error:  org.apache.xmlbeans.XmlException: error: cvc-identity-constraint.4.2.2: Duplicate key 'gfindObjects' for key constraint 'element@http://www.w3.org/2001/XMLSchema'  running the same config over Fedora API-A and API-M works fine. ,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Purging more than 200 files concurrently depletes the DB Pool and causes inconsistencies. When purging Objects rapidly the DB Thread Pool gets exhausted first a log message like ""Max DB Threads (200) reached..."" get printed before  the system then says something along the lines ""could'nt delete object  from Database. but this should be ok"". After that the system is in an inconsistent state and e.g. search requests end in a HTTP 500 Server Error.  I will add a test case soon...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add setAllowLeadingWildcard to configuration of the Lucene plugin Add setAllowLeadingWildcard to configuration of the Lucene plugin  There is a request to be able to set org.apache.lucene.queryParser.QueryParser.setAllowLeadingWildcard() so that queries can start with '*' or '?'.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"For externally-referenced content, Fedora passes through underlying service's mime-type in preference to the one defined in the datastream definition I was hoping to have Fedora be the canonical source of a file's mime type and let the underlying http-based storage service only be concerned with storing and slinging bits around. It seems however that Fedora passes the mime type set by the underlying storage service no matter what's set in the datastreamVersion in the object XML.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RI Module fails to start if log level is set to DEBUG If the log level is set to DEBUG, the resource index module fails to start.  Also once the server has started in this state it fails to shutdown cleanly.  Exceptions reported:  Tomcat log:  ************************** ** FEDORA STARTUP ERROR ** **************************  Fedora startup failed org.fcrepo.server.errors.ModuleInitializationException: Error initializing RI          at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(Re sourceIndexModule.java:127)          at org.fcrepo.server.Server.<init>(Server.java:644)          at org.fcrepo.server.BasicServer.<init>(BasicServer.java:41)          at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)           at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct orAccessorImpl.java:39)          at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC onstructorAccessorImpl.java:27)          at java.lang.reflect.Constructor.newInstance(Constructor.java:513)          at org.fcrepo.server.Server.getInstance(Server.java:1239)          at org.fcrepo.server.ServerController.init(ServerController.java:403)          at javax.servlet.GenericServlet.init(GenericServlet.java:212)          at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper. java:1173)          at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:99 3)          at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContex t.java:4350)          at org.apache.catalina.core.StandardContext.start(StandardContext.java:4 659)          at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase .java:791)          at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:77 1)          at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:546)           at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.ja va:637)          at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.j ava:563)          at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:498 )          at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1277)          at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java :321)          at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl eSupport.java:119)          at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)           at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)          at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)           at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445 )          at org.apache.catalina.core.StandardService.start(StandardService.java:5 19)          at org.apache.catalina.core.StandardServer.start(StandardServer.java:710 )          at org.apache.catalina.startup.Catalina.start(Catalina.java:581)          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl. java:39)          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces sorImpl.java:25)          at java.lang.reflect.Method.invoke(Method.java:597)          at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)          at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) Caused by: java.lang.UnsupportedOperationException: This MulgaraConnector is rea d-only!          at org.trippi.impl.mulgara.MulgaraConnector.getWriter(MulgaraConnector.j ava:104)          at org.fcrepo.server.resourceIndex.ResourceIndexImpl.<init>(ResourceInde xImpl.java:74)          at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(Re sourceIndexModule.java:120)          ... 35 more     Fedora log:  DEBUG 2011-09-14 18:11:41.036 [main] (DefaultListableBeanFactory) Finished creating instance of bean 'org.fcrepo.server.resourceIndex.TripleGenerator' DEBUG 2011-09-14 18:11:41.067 [main] (SessionFactoryFinder) Attempting to connect via RMI DEBUG 2011-09-14 18:11:42.177 [main] (SessionFactoryFinder) Failed to connect via RMI javax.naming.ServiceUnavailableException: null   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:101) [na:1.6.0_17]   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:107) [na:1.6.0_17]   at javax.naming.InitialContext.lookup(InitialContext.java:392) [na:1.6.0_17]   at org.mulgara.server.driver.SessionFactoryFinder.newSessionFactory(SessionFact oryFinder.java:147) [mulgara-core-2.1.4.jar:na]   at org.trippi.impl.mulgara.MulgaraSessionFactory.<init>(MulgaraSessionFactory.j ava:75) [trippi-mulgara-1.5.4.jar:na]   at org.trippi.impl.mulgara.MulgaraConnector.open(MulgaraConnector.java:242) [trippi-mulgara-1.5.4.jar:na]   at org.trippi.impl.mulgara.MulgaraConnector.getWriter(MulgaraConnector.java:97) [trippi-mulgara-1.5.4.jar:na]   at org.fcrepo.server.resourceIndex.ResourceIndexImpl.<init>(ResourceIndexImpl.j ava:74) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(ResourceI ndexModule.java:120) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.Server.<init>(Server.java:644) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.BasicServer.<init>(BasicServer.java:41) [fcrepo-server-3.5.jar:na]   at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [na:1.6.0_17]   at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAcces sorImpl.java:39) [na:1.6.0_17]   at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstruc torAccessorImpl.java:27) [na:1.6.0_17]   at java.lang.reflect.Constructor.newInstance(Constructor.java:513) [na:1.6.0_17]   at org.fcrepo.server.Server.getInstance(Server.java:1239) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.ServerController.init(ServerController.java:403) [fcrepo-server-3.5.jar:na]   at javax.servlet.GenericServlet.init(GenericServlet.java:212) [servlet-api.jar:2.5.MR2]   at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:11 73) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java: 4350) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardContext.start(StandardContext.java:4659) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:7 91) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:546) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:637) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:563 ) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:498) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1277) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:321) [catalina.jar:6.0.29]   at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSuppor t.java:119) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardHost.start(StandardHost.java:785) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardService.start(StandardService.java:519) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardServer.start(StandardServer.java:710) [catalina.jar:6.0.29]   at org.apache.catalina.startup.Catalina.start(Catalina.java:581) [catalina.jar:6.0.29]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.6.0_17]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) [na:1.6.0_17]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) [na:1.6.0_17]   at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_17]   at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) [bootstrap.jar:6.0.29]   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) [bootstrap.jar:6.0.29] Caused by: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:   java.net.ConnectException: Connection refused: connect   at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:601) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:198) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:184) [na:1.6.0_17]   at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:322) [na:1.6.0_17]   at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source) [na:1.6.0_17]   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:97) [na:1.6.0_17]   ... 43 common frames omitted Caused by: java.net.ConnectException: Connection refused: connect   at java.net.PlainSocketImpl.socketConnect(Native Method) [na:1.6.0_17]   at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333) [na:1.6.0_17]   at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195) [na:1.6.0_17]   at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182) [na:1.6.0_17]   at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366) [na:1.6.0_17]   at java.net.Socket.connect(Socket.java:525) [na:1.6.0_17]   at java.net.Socket.connect(Socket.java:475) [na:1.6.0_17]   at java.net.Socket.<init>(Socket.java:372) [na:1.6.0_17]   at java.net.Socket.<init>(Socket.java:186) [na:1.6.0_17]   at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketF actory.java:22) [na:1.6.0_17]   at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketF actory.java:128) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:595) [na:1.6.0_17]   ... 48 common frames omitted DEBUG 2011-09-14 18:11:42.239 [main] (SessionFactoryFinder) Attempting to fallback to local javax.naming.ServiceUnavailableException: null   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:101) [na:1.6.0_17]   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:107) [na:1.6.0_17]   at javax.naming.InitialContext.lookup(InitialContext.java:392) [na:1.6.0_17]   at org.mulgara.server.driver.SessionFactoryFinder.newSessionFactory(SessionFact oryFinder.java:147) [mulgara-core-2.1.4.jar:na]   at org.trippi.impl.mulgara.MulgaraSessionFactory.<init>(MulgaraSessionFactory.j ava:75) [trippi-mulgara-1.5.4.jar:na]   at org.trippi.impl.mulgara.MulgaraConnector.open(MulgaraConnector.java:242) [trippi-mulgara-1.5.4.jar:na]   at org.trippi.impl.mulgara.MulgaraConnector.getWriter(MulgaraConnector.java:97) [trippi-mulgara-1.5.4.jar:na]   at org.fcrepo.server.resourceIndex.ResourceIndexImpl.<init>(ResourceIndexImpl.j ava:74) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.resourceIndex.ResourceIndexModule.postInitModule(ResourceI ndexModule.java:120) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.Server.<init>(Server.java:644) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.BasicServer.<init>(BasicServer.java:41) [fcrepo-server-3.5.jar:na]   at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [na:1.6.0_17]   at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAcces sorImpl.java:39) [na:1.6.0_17]   at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstruc torAccessorImpl.java:27) [na:1.6.0_17]   at java.lang.reflect.Constructor.newInstance(Constructor.java:513) [na:1.6.0_17]   at org.fcrepo.server.Server.getInstance(Server.java:1239) [fcrepo-server-3.5.jar:na]   at org.fcrepo.server.ServerController.init(ServerController.java:403) [fcrepo-server-3.5.jar:na]   at javax.servlet.GenericServlet.init(GenericServlet.java:212) [servlet-api.jar:2.5.MR2]   at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:11 73) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java: 4350) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardContext.start(StandardContext.java:4659) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:7 91) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:546) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:637) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:563 ) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:498) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1277) [catalina.jar:6.0.29]   at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:321) [catalina.jar:6.0.29]   at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSuppor t.java:119) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardHost.start(StandardHost.java:785) [catalina.jar:6.0.29]   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardService.start(StandardService.java:519) [catalina.jar:6.0.29]   at org.apache.catalina.core.StandardServer.start(StandardServer.java:710) [catalina.jar:6.0.29]   at org.apache.catalina.startup.Catalina.start(Catalina.java:581) [catalina.jar:6.0.29]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.6.0_17]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) [na:1.6.0_17]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) [na:1.6.0_17]   at java.lang.reflect.Method.invoke(Method.java:597) [na:1.6.0_17]   at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) [bootstrap.jar:6.0.29]   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) [bootstrap.jar:6.0.29] Caused by: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is:   java.net.ConnectException: Connection refused: connect   at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:601) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:198) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:184) [na:1.6.0_17]   at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:322) [na:1.6.0_17]   at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source) [na:1.6.0_17]   at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:97) [na:1.6.0_17]   ... 43 common frames omitted Caused by: java.net.ConnectException: Connection refused: connect   at java.net.PlainSocketImpl.socketConnect(Native Method) [na:1.6.0_17]   at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333) [na:1.6.0_17]   at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195) [na:1.6.0_17]   at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182) [na:1.6.0_17]   at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366) [na:1.6.0_17]   at java.net.Socket.connect(Socket.java:525) [na:1.6.0_17]   at java.net.Socket.connect(Socket.java:475) [na:1.6.0_17]   at java.net.Socket.<init>(Socket.java:372) [na:1.6.0_17]   at java.net.Socket.<init>(Socket.java:186) [na:1.6.0_17]   at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketF actory.java:22) [na:1.6.0_17]   at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketF actory.java:128) [na:1.6.0_17]   at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:595) [na:1.6.0_17]   ... 48 common frames omitted ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ability to specify FeSL caching options in config instead of environment variable FeSL's XACML caches policy evaluation results, so that policies are not re-evaluated for repeated access to the same resource etc.  This is currently configurable - the caching can be disabled by setting PEP_NOCACHE=true as an environment variable.  This should instead be an option in a config file, FeSL should not depend on environment variables.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Fedora Admin (Swing) Client datastream mimetypes for Word, Excel and Powepoint are inconsistent w/ server mimetype extension mappings org.fcrepo.client.objecteditor.DatastreamsPane includes the following mime types: ""application/ms-word"", ""application/ms-excel"", ""application/ms-powerpoint""  However, FEDORA_HOME/server/conf/mime-to-extensions.xml uses the following: application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, which appear to be the more recognized variant. Moreover, Richard Green reports that at least IE 9.0.8112.16421, Safari 5.1 (7534.50) and Chrome 14.0.835.186m don't correctly recognize application/ms-word.  DatastreamsPane.ALL_KNOWN_MIMETYPES should be modified so that the above mimetypes accord w/ mime-to-extensions.xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FCFG to Spring conversion utility A simple utility for converting module configurations in fedora.fcfg to Spring bean configuration files.  This utility should allow conversion of all or a selected part of fedora.fcfg to a Spring bean XML format, akin to the files in $FEDORA_HOME/config/spring/  We discussed this utility as part of FCREPO-954, so it could be used by people upgrading from Fedora 3.5...but we think it has general utility beyond just the conversion of DefaultDOManager's configuration to a Spring config file. It could also be used for:  1) Plugging in alternative module implementations in Fedora 3.5+, such as utilities that might come out of the Fedora Create community.  2) A starting point for the eventual conversion of all of fedora.fcfg to Spring configuration files.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Utility for detecting and repairing inconsistencies (eg filesystem vs SQL database inconsistencies) A utility that could report inconsistencies between the SQL object registry and the storage layer.  Optionally provide abilities to fix inconsistencies, eg - remove entry from SQL DB if no files found - add entry to SQL DB if files found but no object registered",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora object generator I should be able to build a suite of Fedora test objects according to configuration parameters which include composition of datastreams (e.g. X, M, E, R), relations to other objects, along with distribution of said objects that are also configurable (e.g. 100,000 objects, where 10% are of type T1, 50% type T2, etc).  In the case of M datastreams, we should be able to specify inlined base64 or not.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Compatibility with latest versions of Fedora, Lucene, Solr, Zebra, PDFBox Compatibility with latest versions of Fedora, Lucene, Solr, Zebra, PDFBox",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Useful end-user search page generation from indexing stylesheet Useful end-user search page generation from indexing stylesheet. This was part of the plan in https://conferences.tdl.org/or/OR2011/OR2011main/paper/view/416/127 for GSearch 2.3 (FCREPO-979 Simplified configuration for out-of-the-box users)  but it was decided to release 2.3 without it due to time constraints.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Performance measurements and possibly improvements Performance measurements and possibly improvements,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Filtering of search results by access constraints Filtering of search results by access constraints.  This was part of the plan in https://conferences.tdl.org/or/OR2011/OR2011main/paper/view/416/127 for GSearch 2.4. Based on work presented at OR2008 : http://pubs.or08.ecs.soton.ac.uk/104/  Problem: Search results contain hits that the user does not have the access rights to see  Solution: Extend access rights to search results by filtering,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Interaction with the Resource Index Interaction with the Resource Index. The idea is to search a GSearch index by embedding a Lucene query in an iTQL query ,  and the opposite, to search the Resource Index by embedding an iTQL query in a Lucene query.  Example of iTQL query with embedded Lucene query: select $object1 $object2 from <#ri> where $object1 <fedora-model:hasModel> <info:fedora/MyNS:XContentModel> and $object1 <fgsearch-MyIndex:matches> 'author:Jones AND fulltext:(salt AND water)' and $object2 <fedora-model:hasModel> <info:fedora/MyNS:YContentModel> and $object1 <my-model:hasRelationTo> $object2 This overcomes the two weaknesses that Lucene cannot do joins,  and that the full-text option of the Resource Index uses Lucene in a limited manner  (e.g. you cannot search on the full document text behind a pdf datastream,  and you cannot exploit numerous features of Lucene and Solr).",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Use Apache Tika for extraction Apache Tika is a toolkit that can extract text and metadata from a wide variety of mimetyped formats (including PDF, via PDFBox). Employing Tika as an extraction engine in GSearch would immediately expand enormously the possible range of material over which GSearch could operate, and going forward, GSearch would benefit from new parsers and better-performing parsers created as part of that effort.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Begin regularly releasing built org.fcrepo artifacts to Maven Central Starting with 3.6, we should begin routinely publishing our artifacts to Maven Central as part of the release process. According to Greg Pendlebury on the fcrepo-dev list, Sonatype does not consider having non-central dependencies a deal-breaker for deploying artifacts to Maven Central. Therefore, this can actually happen before we get rid of non-central dependencies.  For reference, see how Greg did it here for 3.5: http://fedora-commons.1317035.n2.nabble.com/fcrepo-dev-Fedora-Client-Maven-Bundles-td6581243.html  This task should add appropriate info to poms, ensure Sonatype is doing central sync for org.fcrepo, and document the steps necessary to build/release the artifacts in the Fedora Release Process document on the wiki.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Define ""manual upload fitness criteria"" for non-central third-party libs None","legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
Document all third-party libs not in Maven Central None,"legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
Automatically deploy artifact snapshots to Sonatype snapshot repo via Bamboo None,"legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
"Management of GSearch configurations in Fedora objects This issue is created in response to the message below. I want to implement a simple ""solution"" to these needs. The ""solution"" consists in creating Fedora objects to hold the current configuration files as datastreams. In this way, they can be managed with Fedora tools, and they can be part of RELS-EXT and RELS-INT relationships and XACML policy controls. Whether the ""solution"" covers the needs fully can be an interesting discussion.   From: ""ajs6f@virginia.edu"" <ajs6f@virginia.edu> Date: 12. okt 2011 16.41.11 CEST To: ""fedora-commons-developers@lists.sourceforge.net Developers"" <fedora-commons-developers@lists.sourceforge.net> Cc: Support and info exchange list for Fedora users. <fedora-commons-users@lists.sourceforge.net> Subject: Re: [fcrepo-dev] GSearch planning Reply-To: ""fedora-commons-developers@lists.sourceforge.net"" <fedora-commons-developers@lists.sourceforge.net>  Here's a less straightforward idea, which I haven't put into a Jira issue because it warrants discussion, if it evenis to become part of the roadmap.  At OR in Austin, I presented an indexing system (based partly on ideas from GSearch, but not on the GSearch codebase) that we at UVa are working on. One of the key principles of this system is that because discovery and presentation for repository contents are increasingly based on indexes, and because discovery and presentation are parts of curation (viewed broadly), it is worthwhile to move the configuration of indexing workflows inside the repository being indexed, so that indexing configuration ""lives"" alongside the indexed contents and can be managed through the same services. (In the example of our system, RELS-INT RDF connects metadata datastreams in indexable objects with indexer objects that contain indexing transformations.)  I'd like to propose that the roadmap for GSearch include the task of making it possible for users to move configuration for indexing transformations (_not_ necessarily configuration for the connections between indexes and repositories, but only the configuration of indexing transformations) _inside_ the repositories being indexed.  One key affordance that would become available would be to manage indexing transformations through the same APIs as are used for repository contents. Because changing an index transformation would no longer require altering material in the local GSearch install, but only the repository, all of the wonderful functionality that Fedora already supplies in of the core repository services would become available (e.g. XACML policy controls, metadata associations, a nice RESTful API, etc.).   Doing this would require much careful thought as to how to model and structure representations of indexing transformations in the repository context, but it could have great benefits, as tools to manage indexing would be able to rely on work already done and in progress for the management of ordinary repository contents.   --- A. Soroka Online Library Environment the University of Virginia Library  ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Exploration of complex GSearch use cases This issue is created in response to the messages below. I want to explore complex GSearch use cases and sketch or implement solutions, based on existing and/or potential GSearch functionality. Such functionality includes many-repositories-to-many-indexes, indexing xslt stylesheets creating index documents across Fedora datastreams and/or objects, managing GSearch configurations in Fedora objects (FCREPO-1018), and interaction between the resource index and the Lucene/Solr index(es) (FCREPO-1009).   From: ""ajs6f@virginia.edu"" <ajs6f@virginia.edu> Date: 24. okt 2011 02.19.24 CEST To: Support and info exchange list for Fedora users. <fedora-commons-users@lists.sourceforge.net> Subject: Re: [fcrepo-user] [fcrepo-dev] GSearch planning Reply-To: Support and info exchange list for Fedora users. <fedora-commons-users@lists.sourceforge.net>  The intention of bringing the structure of the indexing workflow out of XSLT into the RDF relationships between objects is not primarily to provide for complex cases, although it can do that. It is, instead, to make that structure part of the curation of the objects themselves.  The interest of this move follows on the claim that the presentation of objects increasingly is dependent on indexing (in part because so many ""front-end"" frameworks for Fedora rely on indexes to immediately construct many user-facing web pages, and not on direct retrieval from the repository, e.g. Hydra or Islandora), and that therefore indexing workflow deserves to be curated alongside data contents in the _strongest practical way_. I claim further that the strongest possible way to curate relationships between content datastreams and indexing transforms in a Fedora repository is in explicit RDF, and that this is practical.  I quite agree that a powerful but unwieldy or opaque style of configuration may be worse than a weaker but more transparent style, but I believe that with enough thought and attention for the specific modeling of workflow, we could provide graceful factoring in configuration through which simple GSearch indexing workflows would incur very little expense (and even less than they now do) but sophisticated workflows remain possible.  --- A. Soroka Online Library Environment the University of Virginia Library     On Oct 23, 2011, at 8:05 PM, Conal Tuohy wrote:  On 17/10/11 11:48, ajs6f@virginia.edu wrote: Heartily seconded!  In the architecture we're exploring at UVa, we use RELS-INT to define relationships between datastreams and indexing transforms. The relevance to this issue lies in RELS-EXT. By indexing RELS-EXT as a datastream (and assuming that the molecular ""para-object"" that is responsible for a given index record is constructed via RELS-EXT relationships) we can obtain information about the other objects that may be involved in any index record to which a given object is associated. I'm in agreement that keeping the analysis of object relationships for indexing purposes in indexing XSLT is _not_ the best way, and instead we look to combine this technique with the use of Enhanced Content Model Views to create the kind of multiobject records to which Jonathan is pointing by hiding the explicit structure of the ""para-object"" from the indexing XSLT. This may or may not be the best possible solution for the problem, so I'm just offering it as a place to begin discussion.   --- A. Soroka Online Library Environment the University of Virginia Library     On Oct 16, 2011, at 8:15 PM, Jonathan Green wrote:  Something that I think needs to be considered when moving forward with gsearch is that the index may not always share a 1 to 1 relationship with objects in fedora. In a very atomistic content model perhaps the solr document is actually composed of parts from many related objects. These types of decisions are currently very hard to make in XSLTs. In what way hard? Can you expand a little on the difficulties you see?  While I think XSLTs have a place in transforming metadata, there needs to be something more. One issue to keep to in mind here is the 80/20 rule. If Fedora's  indexing system is complex enough to allow for all manner of complex  cases, then it may be needlessly complex for many simple cases. A more  complex system would make complex indexing easier, but if it also makes  simpler cases harder (even just harder to understand a configuration  system), then the OVERALL ease-of-use might actually decrease. I don't  think it's possible to strike a perfect balance, but a technology like  XSLT might be a useful catch-all: it can handle simple cases very  simply, but can also be extended arbitrarily (including, for instance,  transcluding metadata from related Fedora objects or other XML datasources).  In very many cases, the mapping of Fedora objects to Solr documents is  very simple and won't, for instance, involve any aggregation. But the  mapping from Fedora objects to Solr documents is in principle arbitrary;  you might choose to do pretty much anything, quite legitimately. You  might have metadata schemas of any type; you might use the RDF store,  you might have external authority files, etc. This is where, I think, a  system which is sufficiently configurable to be fully general could well  end up as complex as an XSLT-based system would be, but without many of  the advantages of XSLT (code libraries, books and mail-lists, programmer  experience, etc).  It might be enough to ship Fedora with a basic set of XSLT transforms,  and a few sample transforms showing how to use the resource index, etc. --   Conal Tuohy eResearch Business Analyst Victorian eResearch Strategic Initiative +61-466324297 ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Out-of-memory exceptions due to FeSL PEP buffering datastreams in memory See report from Greg Jansen here:  http://sourceforge.net/mailarchive/message.php?msg_id=28272473  The code looks like it is buffering the datastream in memory, which is clearly a bad thing.  It should be passing the stream through.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Split Java REST client into two artefacts - main REST API and a separate Messaging client fedora-client (https://github.com/mediashelf/fedora-client) currently produces a single artifact that also bundles messaging client code. fedora-client should produce two artifacts, one for working with the REST APIs (API-A, API-M) and another for working with the Messaging module.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Deprecate Messaging client Replace with MediaShelf messaging client  Don't deprecate immediately, let people know first and keep in for a release or two to allow people to swap over.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
No Support for Latest W3C SPARQL Query Results XML Format The current Sparql result format for queries in the RI index does not conform to the W3C recommendation at http://www.w3.org/TR/rdf-sparql-XMLres/,"legacy - Fedora,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0
"Make validation more pluggable/configurable Currently validation is somewhat configurable:  A custom validation module could be written and configured in fedora.fcfg.  This isn't that flexible as it means that if the existing validation was also to be carried out, then that would need to be called by the custom validator.  A better design pattern might be something like the management Decorator pattern we already used.  We also might consider allowing validators to operate on the digital object, rather than a file or inputstream - it may be more convenient for the validator to access the object itself rather than FOXML.  We perhaps also might distinguish between different types of validation, eg validation of the FOXML vs validation of the object - the FOXML is a serialisation of the object, it is not the object itself.   Existing validation on doCommit() (DefaultDOManager) only happens in debug - but the validator is invoked on ingest separately.  The existing validation could be refactored so that the XML validation and schematron validation become decorator implementations.  We should also consider relationships validation (which is carried out by the ValidationUtility, and not included in the DOValidatorImpl).  Perhaps the REST validate endpoint could also be extended (and configurable) to validate using the above as well as the current ECM validation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Documentation Update documentation for 2.4,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"UUID Type 1 timestamp-based Path ID Mapper Given a Type 1 UUID pid, e.g. demo:8e25cab0-167d-11e1-be50-0800200c9a66, I would like to have the object stored on the filesystem based on the uuid-encoded timestamp, e.g. $FEDORA_HOME/data/objectStore/2011/11/24/info%3Afedora%2Fdemo%3A8e25cab0-167d-11e1-be50-0800200c9a66.  The timestamp-based path mapping should be configurable, e.g. yyyy/MM/dd, and yyyy/MM/dd is a reasonable default. The Path ID Mapper must be able to accommodate non-type1 UUID identifiers as well, falling back to the default, hash-based algorithm.  Rationale: We mint UUIDs for >95% of our repository objects. It's also the case that it's only the most recently ingested/modified objects that are most frequently accessed. Given the scale of our repository, we'd like to be able to make storage policy decisions (slow/fast storage, backup policies) based on the age (i.e. importance) of the object. This also allows us to prioritize the restore of objects in a disaster recovery scenario. ",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"Support additional, configurable invalidation of objects in the DOReaderCache In addition to the maxCachedSeconds parameter to DOReaderCache, we would like to have support for invalidating objects in the cache by other means: - Max number of requests: for example, after an object has been requested 100 times, remove it from the cache - Total time: for example, 500 seconds, no matter how many requests. - A combination of all three: the first to occur invalidates the cache.  Rationale: In a scenario in which Fedora is replicated other than with Journaling, Fedora is not aware of object modifications, and therefore does not invalidate the DOReaderCache for those modified objects. In the current implementation, requests for an object will refresh the object in the cache and therefore, a very popular object (despite being stale) might never be removed from the cache.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"With FeSL AuthZ, authentication is required for API-A despite apia.auth.required=false on installation Fedora installed with FeSL AuthN and FeSL AuthZ; API-A authentication required set to false when installing.  However Authentication is requested for all API-A requests.  (with FeSL AuthZ turned off and legacy XACML enabled, this is not the case)",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Calling HEAD on getDatastreamDissemination in REST API calls GET on the underlying service for datastreams in control group E Performing a HEAD call on the getDatastreamDissemination REST API does not seem to result in a HEAD call on the underlying resource for control group E. Instead it seems like a HTTPClient instance is spun up and the whole underlying HTTP request for a GET completes before the server returns a response. This is kind of deadly for large files.  Maybe there's another api I should be invoking? Anyway, this seems like an unintended behavior.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Support for MySQL 5.5 (use ENGINE=InnoDB) MySQL 5.5 no longer supports the word ""type"" when declaring that a table should be an InnoDB one. In order to make it work, you have to use the word ""engine"".  See related thread here: http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-Fedora-OAI-provider-errors-td7039344.html",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"listDatastreams fails with NPE when a policy specifies a subset of datastreams to give access to. The attached policy basically allows access to apia methods to user ""public"" in group ""public"", but only if - the request does not specify a datastream ID; or - the request specifies a datastream ID in the ""permitted"" list (which is only DC in the example)  When doing a listDatastreams, logging in as public, there is an NPE caused by the post-method results filtering.  java.lang.NullPointerException  org.fcrepo.server.security.xacml.pep.rest.objectshandlers.ListDatastreams.filterHTML(ListDatastreams.java:294)  org.fcrepo.server.security.xacml.pep.rest.objectshandlers.ListDatastreams.handleResponse(ListDatastreams.java:203)  org.fcrepo.server.security.xacml.pep.rest.filters.ObjectsFilter.handleResponse(ObjectsFilter.java:111)  org.fcrepo.server.security.xacml.pep.rest.PEP.doFilter(PEP.java:172)  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)  org.fcrepo.server.security.jaas.AuthFilterJAAS.doFilter(AuthFilterJAAS.java:305)  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)  org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:109)  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:169)  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167) ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"FeSL authN sessioning is undocumented  The authN sessioning (based on a ""secret"" HTTP header) capability in the FeSL authN servlet filter is not documented except in the source code. ","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Object properties are not available as XACML resource attributes Well, in fact some of them are - using the FedoraRIAttributeFinderModule, and the default configuration of this exposes ownerID and state for example.  However this introduces a dependency on the resource index.  Also the attributeID used is info:fedora/fedora-system:def/model#ownerId, which is not the standard Fedora XACML resource attribute ID for owner.  In the legacy XACML implementation, the org.fcrepo.server.security.ResourceAttributeFinderModule handles getting these basic object properties.  This appears to be missing from FeSL.  FeSL should at least support (without requiring the RI) the resource attributes that are available under legacy XACML.  Maybe it is just a case of adding in the existing ResourceAttributeFinderModule to FeSL configuration?",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"modifyObject incorrectly uses the ownerID XACML resource attributeID URI for the new ownerID property supplied by the API method 1) Legacy XACML incorrectly uses the resource attribute ID for ownerID for the new ownerID property - it should supply the new ownerID property as a different URI (see for example the way state is handled - different URIs for existing resource state and new resource state). 2) FeSL does the same  Note that this bug will only show up if an ownerID value is supplied as a parameter of the modifyObject method - if none is present then the legacy XACML engine will pick up the existing value from the object.  FeSL's default configuration is to supply this value using the URI ""info:fedora/fedora-system:def/model#ownerId"" - which will always give the current (not the new) ownerID.  This means that modifyObject API operations cannot be restricted by policies based on the existing ownerID of the object, as the value from the request will be used if present instead of the existing object's ownerID.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Auto checksums don't work on ingest Auto-checksumming is configured (autoChecksum = true, checksumAlgorithm = MD5) but when I ingest object via xml with datastream content but no contentDigest included in the foxml, I get a ""DISABLED"" / ""none"" checksum instead of the automatic, default checksum that I should be getting. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Internal OAI Provider does not conform to the Open Archives Interface OAI Provider does not conform to the Open Archives Interface.  The OAI Provider in Fedora does not conform to the Interface in several respects: First of the Date the objects are filtered by is CreationDate and NOT LastModification date.  from http://www.openarchives.org/OAI/openarchivesprotocol.html#Datestamp: ""Harvesters may use datestamps to harvest only those records that were created, deleted, or modified within a specified date range.""  Which isn't possible because filtering is done on CreationDate. This problem was reported before (FCREPO-716), but the bugfix was not applied. Furthermore the datestamp published in the OAI headers was also the creationDate which of course should be LastModificationDate.  The earliestDatestamp in the Identify answer is also wrong. In the class FedoraOAIProvider, The earliestDatestamp is created by a call to new Date(), so everytime you ask for the earliestDatestamp you would just get now.  from http://www.openarchives.org/OAI/openarchivesprotocol.html#Identify: ""earliestDatestamp : a UTCdatetime that is the guaranteed lower limit of all datestamps recording changes, modifications, or deletions in the repository. A repository must not use datestamps lower than the one specified by the content of the earliestDatestamp element. earliestDatestamp must be expressed at the finest granularity supported by the repository.""  Which in no way is supported by the current implementation.  I've supplied a patch which I believe addresses these issues.  The ""Best"" earliest timestamp can be found through a rather heavy fieldsearch search, but instead I've used the idea in the FedoraOAIProvider which adds a 'dcmDate>'2001-01-01'"" to fieldsearch searches. I've defined an earliestDate field (set to 2001-01-01), which is used as the earliestDatestamp value in the Identify answer, and this value is also used to restrict the fieldsearch querys.  We would really like this patch to be applied, and, if for some reason, the patch does not address certain important issues, please respond so I can create a patch that everybody is happy with. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Improve the control over writeLimit in getDatastreamFromTika Improve the control over writeLimit in getDatastreamFromTika.  Currently, a writeLimit of 100k characters is enforced by Tika, and those characters are not available in the index field,  when exception is thrown.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Installer incorrectly requires user to provide a database user password When running the installer, if user selects MySQL as the database platform, the installer doesn't allow the user to proceed if they enter an empty string for 'password' even though this is allowed by MySQL and is the default behaviour for many desktop development environments.    Database -------- Please select the database you will be using with    Fedora. The supported databases are Derby, MySQL, Oracle and Postgres.      If you do not have a database ready for use by Fedora or would prefer to    use the embedded version of Derby bundled with Fedora, enter 'included'.  Options : derby, mysql, oracle, postgresql, included  Enter a value ==> mysql   MySQL JDBC driver ----------------- You may either use the included JDBC driver or your own copy.               Enter 'included' to use the included JDBC driver, or, enter the location    (full path) of the driver.   Enter a value [default is included] ==>      Database username ----------------- Enter the database username Fedora will use to connect to the Fedora database.  Enter a value ==> drupaluser   Database password ----------------- Enter the database password Fedora will use to connect to the Fedora database.  Enter a value ==>   Error: Must specify a value Enter a value ==>   Logging into the database with no password is allowed in MySQL.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Remove PEP_NOCACHE environment variable configuration for disabling FeSL policy results caching System property fedora.fesl.pep_nocache added in 3.6; as Fedora should have no dependencies on environment variables this should be removed in a future release.  This is a placeholder issue to remove the (deprecated) use of environment variable PEP_NOCACHE=true in a future release.  See ContextHandlerImpl#init() for where this is currently used.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Shared resource for XML operations Currently object FOXML validation (via schematron - xslt - and schemata - xsd) is inefficient as the stylesheets are compiled for every validation.  Create some kind of shared resource for XML operations such as transformations and validations with some kind of caching mechanism so that compiled invariant XML resources can be re-used.  In the future this component could form a good candidate for separate OSGi service(s).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ECM validation of MIMEType does not allow objects to specify charset if none is specified in the CModel It would be useful for * Data object datastreams to be able to specify charset in the MIMEType, so their contents can properly be interpreted * CModels to only specify the media-type in the MIMEType; ie charset can vary per data object  Current ECM validation of this is an exact match, so this is not possible.  Email thread on this issue: http://sourceforge.net/mailarchive/message.php?msg_id=28567702  Suggest we should when validating:  * parse the MIMEType fields, based on the format: ** type/subtype; name1=value1; name2=value2 * Validate as follows: ** type/subtype should be matched exactly (could be future enhancements to define a hierarchy of mimetypes for validation) (or maybe we allow wildcards, eg text/* or */xml ?) ** If CModel specifies a param eg name1 then (1) object datastream must specify the param with the same value ** Datastream is allowed to specify addtional params that are not in the CModel specification (but if datastream specifies a param name and the same param name is in the CModel specification then there must be an exact match) ** could be future enhancements to this, eg specifying lists of acceptable param values - could even do this now with a specification such as ""text/xml; charset=utf-8|utf-16"" ** could potentially allow wildcard specification of parameter values, which would be interpreted as such - the datastream *must* have the parameter, but can have any value, eg ""text/xml; charset=*""  Minimal requirement from my perspective is:  CModel specifies mimetype:  ""text/xml"" Datastream specifies mimetype ""text/xml; charset=utf-8""  And this is accepted as valid.  But mimetype ""application/xml; charset=utf-8"" is not valid.  A thought... we could just encode the CModel mimetype as a regexp - and that gives all the flexibility we need?  Or is this a bit ugly?  And some extra attribute etc to specify interpretation a regexp?    ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOReaderCache Cleanup DOReaderCache breaks JEE compliance by implementing an unmanaged thread, which is restricted in EJB spec:   - http://stackoverflow.com/questions/533783/why-spawning-threads-in-j2ee-container-is-discouraged  - http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/ejb_tier/qanda/restrictions.html  Furthermore the usage of List is quite peculiar, where type and semantics are dependent on the index of the object in the list. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Newline characters in FOXML result in triples that can't be deleted from the resource index when object is updated/purged Having an object label with newline character sequences in the FOXML, eg &#13;&#10; or &#10; ingests correctly and a triple is created for the label.  However when modifying the label (or purging the object) the label triple is not deleted.  It looks like there is some mangling of the newline character sequence, probably causing the triple delete to fail as Fedora's string for the label isn't matching the value in the resource index.  Verified with both the Windows and Linux newline character sequences above.  See also: http://www.mail-archive.com/fedora-commons-users@lists.sourceforge.net/msg03659.html for Jonathan Green's report of this and a test object to reproduce this.  Added as priority Major as this affects the integrity of the resource index.  Potentially there could be other cases of this, tests should be added for this, including these characters (and possibly others) in DC triples and in RELS-* datastream triples.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Messaging Client-Server Integration Tests Now that we're recommending people using the messaging client that's part of the fcrepo-client project (see FCREPO-1022), it would be a good time to have automated integration tests that verify functionality.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create examples for Cargo-based integration tests Convert one or more integration test config suites from Ant/installer-based execution over to use Cargo-based execution for use as examples.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"invalid XML datastream checksums after migration from inline (X) to managed (M) via migration script Migrating XML datastreams from inline (X) to managed (M) using the modify-control-group migration tool results in invalid checksums depending on the options specified when the modify-control-group script is run.    Steps to reproduce this behavior: - create a new test object via the admin interface -  inline DC datastream with a checksum (in my testing, I'm using MD5) - run the fedora-modify-control-group script on the DC datastream for the test object with default options - call compare datastream checksum API on the test object's DC datastream - Fedora reports this as false.  I tested the migration script with a few different options, and it seems that setting the addXMLHeader option to true instead of the default false is sufficient for the checksum to remain valid after the migration (setting both addXMLHeader and reformat options to true also resulted in a valid checksum after the migration).  As a result of this apparent bug, I have large numbers of production XML datastreams that were migrated (quite a while ago) with this script using the default options, and the XML checksums are invalid (something I only discovered more recently while doing full-repository checksum auditing).  We NEED a way to correct those invalid checksums.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FeSL does not support granular policies at the level of individual API methods $FEDORA_HOME/sever/config/config-melcoe-pep-mapping.xml specifies a mapping between the full set of API methods/action identifiers used for Fedora API operations and simplified versions of create, read, update, delete, admin  Whilst this is useful for simplified authoring of policies; it has two deficiences:  * The simplified values are presented using the same Action attribute ID as the standard Fedora Action attribute ID - which is misleading/confusing (these simplified values should be a separate attribute ID?) * The original Fedora action IDs are not retained, making it difficult to write granular policies.  For example it's not easy to distinguish between purging an object and purging a datastream, as the same action ID is supplied (in fact the only way currently is to look at the full resource ID and see if there's a datastream on the end, which is not very useful).  So suggeste action would be: 1) The simplified action IDs should be presented using a different a different action attribute ID 2) The original Fedora action IDs should be retained, for more granular-level policies  But: 1) is a breaking change; any existing policies based on these simplified action IDs would break.  So a compromise would be to present both the fedora-original and FeSL-simplified action IDs using the same attribute ID; as the simplified values don't collide with the existing values.   Example: Attribute ID: urn:fedora:names:fedora:2.1:action:id Value: urn:fedora:names:fedora:2.1:action:id-purgeObject  Is translated by FeSL, and presented to the PDP as: Attribute ID: urn:fedora:names:fedora:2.1:action:id Value: delete  (note that the original, granular method-level value is not retained).   There is a kind of work-around currently which is to amend the mappings back to their original values; but this means you loose the simplified attributes, so is only a work-around for specific situations. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
Include attributes for relationships API methods in FeSL - allow policies based on the relationship being manipulated the Relationships API methods (see purge relationship for an example) do not specify any attributes that identify the actual relationship being manipulated.  It would be useful to add these.  Then one could write policies to specifically control certain types of relationships (eg control who can add members to collections),legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Flush triple to RI before doing RI-based attribute query when evaluating FeSL policies Triples don't get flushed to the resource index immediately.  There are occasions where this can impact RI-based policy evaluation.  Eg imagine a parent-child restriction policy that prevents parents being deleted before their children.  There is a case where - all children are deleted - triples not yet flushed to RI - therefore parent delete then fails  There could be other situations also.  Suggest doing a flush as part of the RI-based resource attribute query.  But, would this introduce a performance overhead?  Eg if policies are being evaluated when doing a mass ingest, it could cause a flush on every object.  Maybe instead an optional parameter on the attribute definition?  Or...",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Maven build errors with git-site and m2e lifecycle-mapping Maven builds (mvn compile) are currently failing due to two issues:  1) The git-site dependency was on a SNAPSHOT version, and the snapshot has been deleted. Change to use a released version (0.3.1) as fcrepo-misc does. 2) The use of m2e's lifecycle-mapping ""plugin"" incorrectly listed it directly under plugins. It's not an actual plugin, so builds fail if it's there and maven can't find it in any repository. Just having it in the pluginManagement section is sufficient.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Create fault codes for Fedora exceptions to be used in Web service error reporting After discussion on the 9 Feb 2012 committers' call, the decision was made to provide fault codes for Fedora errors that are independent of the Java exception specifics. These are for use in the Web APIs as a way of distinguishing otherwise similar error conditions on the client side. See:  http://irclogs.duraspace.org/index.php?date=2012-02-09  for more info.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Cant use ORDER BY DESC($variable) using SPARQL In fedora/risearch I can't seem to order my results using ORDER BY DESC($variable) or ORDER BY ASC($variable) , which is a SPARQL standard defined here: http://www.w3.org/TR/rdf-sparql-query/#modOrderBy  I can however sort ascending by just using ORDER BY $variable.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST Ingesting AtomZip fails unless parameter ignoreMime is set to true FedoraObjectResource around line 264:  If the ingested file is AtomZip, there's a check that the MIMEType is XML-compatible - this won't usually be the case for AtomZip.  If the test fails, the stream is left as null, and a new blank object is created.  The logic should be changed so that if a binary ingest format has been specified, this check for XML mime type is skipped.  Work-around is to specifty the parameter ignoreMime=true  Can be tested using the web admin client - export an object in AtomZIP format, then try ingesting it; you'll get an NPE (as the ZIP file being read at this point isn't a zip file, it's the template FOXML file created due to the MIME check above resulting in a null inputstream and therefore a template FOXML file being created).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Ingest of AtomZIP files fail with URL validation exception for managed content datastreams AtomZIP files specify src giving the content location.  Exported objects in AtomZIP format give this as simply the file name (within the zip).  The current validation code tries to validate this location and fails.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Use latest Akubra (akubra-fs bugfixes) The next version of Fedora should include the AKUBRA-1 and AKUBRA-7 fixes available in the latest Akubra release.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"debug messages in gsearch 2.4 and 2.4.1 When I deploy fedoragsearch.war (2.4 or 2.4.1) there are debug messages turned on filling catalina.out. Everything seems to be logged, even some 'binary' data and oaiprovider stuff so the log fills extremely fast. I've tried to remove/edit all log4j.xml and logging.properties I found with no success. The logs from tomcat (and I think also gsearch itself) were turned off but there were still debug messages going in from activemq, axis and other libraries. The only thing finally seemed to helped was using /lib dependencies from gsearch 2.3 and adding only what was necessary from 2.4 (tika-1.0, fcrepo-3.5, lucene-3.5, servlet-api-2.4). Any idea which dependency is turning this on or what is happening?",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"FieldSearch ConcurrentModificationException with many queries While stress testing Fedora, hitting the fieldsearch interface with many simultaneous requests, a ConcurrentModificationException is sometimes thrown.  See related thread: http://fedora-commons.1317035.n2.nabble.com/fcrepo-user-ConcurrentModificationException-td7351953.html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"UN_TOKENIZED fields break truncated search I have an UN_TOKENIZED Lucene index called SENTID which contains, amongst many others, values like 'GHS02' and 'GHS04'. These can be readily searched with the query format SENTCODE:GHS02, but the truncated search SENTCODE:GHS* will not hit them.  Gert Schmeltz Pedersen explained to me last year, that this is due to the fact that all UN_TOKENIZED field queries are subjected to KeywordAnalyzer, which apparently casts your query to lowercase when truncation is used (note, though, that specifying the query as SENTCODE:ghs* does not solve the problem...).  Gert  promised to look into this, and possibly solve it by allowing configuration of other analyzers for specific UN_TOKENIZED fields. This has not been done in 2.4.1, though, unless I completely missed something.  For the time being, I work around this by creating both an uppercase and a lowercase entry for each occurrence of this field. A more general solution would be most welcome.   ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"OAI Provider can add duplicate xsi:schemaLocation and xmlns:xsi The FedoraOAIProvider class adds xmlns:xsi and xsi:schemaLocation attributes to oai_dc:dc nodes of DC streams' content:  {code}   if ((dissURI.split(""/"").length == 3) && (dissURI.endsWith(""/DC""))) {     // If it's a DC datastream dissemination, inject the     // xsi:schemaLocation attribute     xml = xml.replaceAll(""<oai_dc:dc "", ""<oai_dc:dc "" + _XSI_DECLARATION + "" "" + _DC_SCHEMALOCATION + "" "");   } {code}  However, if these attributes already exist, they are still added. An attribute can be specified only once for an XML element instance, hence the resulting document is invalid XML.  The code should check for existence of the xmlns:xsi and xmlns:schemaLocation attributes before adding them.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
A function to return a datastream as an XML tree Request for a new feature:  From:  Remi Malessa <rem@llgc.org.uk> Subject:  Re: [fcrepo-user] Fedora G Search - XSLT authentication Date:  14. mar 2012 10.29.12 CET To:  Support and info exchange list for Fedora users. <fedora-commons-users@lists.sourceforge.net>  Is there a function to return a datastream as an XML tree ?,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Create fault codes for Fedora exceptions to be used in Web service error reporting After discussion on the 9 Feb 2012 committers' call, the decision was made to provide fault codes for Fedora errors that are independent of the Java exception specifics. These are for use in the Web APIs as a way of distinguishing otherwise similar error conditions on the client side. See:  http://irclogs.duraspace.org/index.php?date=2012-02-09  for more info.   Chris Wilper did some work a long time ago to begin internationalization for Fedora's exception hierarchy. It looks like (because this work hinged on providing codes for each exception underneath ServerException) it could be swiftly reused for this purpose, and we'd even get machinery for i18n for free! ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
DateUtility's date parsing is buggy DateUtility.parseDateStrict is not strict (never sets formatter's leniency to false).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora-client-* 0.4 not published for Maven http://mediashelf.github.com/fedora-client/ mentions that fedora-client-0.4 is the recommended version to use with Fedora 3.5.0. Neither Maven Central (http://search.maven.org/#search|ga|1|fedora-client) nor DuraSpace Third-Party Maven Repository (https://m2.duraspace.org/content/repositories/thirdparty/com/yourmediashelf/fedora/client/fedora-client/) include version 0.4. The last published version is 0.3. It would be great to have the latest dependency available. Thank you.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
Upgrade to latest referenced libraries Upgrade to latest referenced libraries.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Enhance example URIResolverImpl Enhance dk.defxws.fedoragsearch.server.URIResolverImpl to handle other URIs than for a Fedora repository. This issue was initiated by a pull request from sarowe at github. This class may be set in index.properties for fgsindex.uriResolver A developer may implement javax.xml.transform.URIResolver and set it instead, see http://xerces.apache.org/xerces2-j/javadocs/api/javax/xml/transform/URIResolver.html ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Improve handling of datastream bindings for disseminations The current behavior of dissemination machinery is to URL-encode datastream addresses if the entire dissemination URL contains ""=("". This is a pretty simple-minded test and makes the use of 'E' datastreams less flexible than otherwise might be the case. The test can be made more subtle.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade jaxrs library Jersey 1.8 has POM issues that require mirroring maven repos to build.  Upgrading to Jersey 1.12 or removing Jersey entirely in favor of CXF for JAXRS would solve the problem.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Provide new Fedora client for tests and provide one example test Provide the new Fedora client for use with repository integration tests. This does _not_ entail moving or merging source code. It only implies using Maven to make the new Fedora client available and writing one sample test using it to be a model for others.,"legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"Decide on whether to use Jersey or CXF for new Fedora client. In order to move forward with the use of the new Fedora client for integration tests, we need to decide on whether to continue to use Jersey as the Web services client library therein or switch, as the server has, to using Apache CXF.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"Convert all REST API integration tests to use new Fedora client Once a decision has been reached on which Web services library to use for the new Fedora client, all of the integration tests that work against the REST API should be converted over to use it.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"Pool SAXParsers if possible There are a number of places in which we create new SAXPArserFactory objects for non-validating, namespace aware parser creation.  These parser should be pooled, as their creation is expensive.  eg: The various deserializers (FOXML, sdef-WSDL, etc.)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Pool DocumentBuilders Where Possible There are a number of places in the code in which we create DocumentBuilderFactories for namespace-aware DocumentBuilders.  We should pool access to these DocumentBuilders (they are reset-able), since creating them is expensive.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Deprecate org.fcrepo.server.security.servletfilters.xmluserfile The package org.fcrepo.server.security.servletfilters.xmluserfile contains functionality that is entirely superseded by that available in FESL. This package should be deprecated and documentation should be updated to prefer FESL strongly. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Create integration tests for new authN filter The new ""upstream authN"" filter requires integration tests.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Create new ""upstream authN"" filter as indicated by use case. None",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"NPE when rebuilding the ResourceIndex After installing the current version from trunk and switching the datastore in fedora.fcfg to ""localPostrgesqlMPTStore"" running server/bin/fedora-rebuild.sh throws the following NPE. It seems org.fcrepo.Server.m_context which is declared as GeneralApplicationContext is null.   Server directory is /home/ruckus/dev/fedora-3.6/server  ---------------------------------------------------------------------  Error: java.lang.NullPointerException  java.lang.NullPointerException   org.fcrepo.server.Server.getBeanNamesForType(Server.java:1659)   org.fcrepo.server.utilities.rebuild.Rebuild.getRebuilder(Rebuild.java:277)   org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:459)   sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   java.lang.reflect.Method.invoke(Method.java:597)   org.fcrepo.server.utilities.rebuild.cli.CLILoader.main(CLILoader.java:77) ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ResourceIndex Search has no Query Language set After installing fedora with postgresql and switching the datastore to ""localPostgresqlMPTStore"", there are no query languages shown to choose from the Resource Index search (/risearch). see the attached screenshot...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"User-provided JDBC jar not copied during install When running the installer and specifying Oracle, I supplied the JDBC driver path on my local system. The connection test succeeded, and installation finished normally. However, when I started Fedora, the ConnectionPoolManager logged a message about the pool not being able to initialize because the driver could not be found.  After the initial startup, manually copying the Oracle jdbc driver jar file into webapps/fedora/WEB-INF/lib was successful.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"URL Escaping PIDs Returns 404s When testing the Fedora 3.6-preview against Islandora I noticed that Fedora doesn't seem to accept URL encoded PIDs anymore. Islandora URL encodes all the parameters sent to the Fedora REST API.  This works: http://fedora36test:8080/fedora/objects/test:object but this doesn't: http://fedora36test:8080/fedora/objects/test:object  Logs: WARN 2012-06-19 12:45:00.588 [http-8080-2] (JAXRSUtils) No operation matching request path ""/fedora/objects/test%3Aobject"" is found, Relative Path: /test%3Aobject, HTTP Method: GET, ContentType: */*, Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8,. Please enable FINE/TRACE log level for more details.  On ingest: This works: curl -u fedoraAdmin:fedoraAdmin -X POST http://fedora36test:8080/fedora/objects/test:object But this doesn't: curl -u fedoraAdmin:fedoraAdmin -X POST http://fedora36test:8080/fedora/objects/test%3Aobject  Logs: WARN 2012-06-19 11:28:47.975 [http-8080-1] (JAXRSUtils) No operation matching request path ""/fedora/objects/test%3Aobject"" is found, Relative Path: /test%3Aobject, HTTP Method: POST, ContentType: */*, Accept: */*,. Please enable FINE/TRACE log level for more details.  This looks like a new issue in 3.6, the above examples work fine against 3.5 and 3.4.2",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Build config for Islandora Build config for Islandora.  Tailor the properties file so that it is easier to configure GSearch for Islandora.  Add Drupal module for input of properties and call of ant script.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Fedora Returns ""400 Bad Request"" When Calling ModifyDatastream REST Call on DC When I run this command:  curl -XPUT -u fedoraAdmin:fedoraAdmin http://vm1:8080/fedora/objects/test:pid/datastreams/testdsid?dsLabel=""wallawalla""  I get back a datastream profile and everything is fine.   When I run: curl -XPUT -u fedoraAdmin:fedoraAdmin http://vm1:8080/fedora/objects/test:pid/datastreams/DC?dsLabel=""wallawalla""  I get back: InputStream cannot be null  Full output from the --trace-ascii flag to curl: 00cd: 1.4 OpenSSL/0.9.8r zlib/1.2.5 00ec: Host: vm1:8080 00fc: Accept: */* 0109: <= Recv header, 26 bytes (0x1a) 0000: HTTP/1.1 400 Bad Request <= Recv header, 27 bytes (0x1b) 0000: Server: Apache-Coyote/1.1 <= Recv header, 71 bytes (0x47) 0000: Set-Cookie: JSESSIONID=6BDA7864B37383FC01F13D4E372EC71D; Path=/f 0040: edora <= Recv header, 37 bytes (0x25) 0000: Date: Mon, 25 Jun 2012 20:19:53 GMT <= Recv header, 26 bytes (0x1a) 0000: Content-Type: text/plain <= Recv header, 20 bytes (0x14) 0000: Content-Length: 26 <= Recv header, 19 bytes (0x13) 0000: Connection: close <= Recv header, 2 bytes (0x2) 0000: <= Recv data, 26 bytes (0x1a) 0000: InputStream cannot be null == Info: Closing connection #0 ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Use Cargo Maven plugin to start/stop Fedora for fedora-client integration tests Currently, the fedora-client integration tests require a running instance of Fedora. We should use Cargo to automate starting/stopping an instance of Fedora for testing.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Use Fedora field search interface to supply records to ProAI Because I got timeouts using the ITQLQueryFactory in the Fedora OAI provider, which uses the resource index which was apparently not up for getting 3 million records at once, I decided to write a FedoraSeachQueryFactory which uses the Fedora findObjects API call to retrieve objects from the repository instead of querying the resource index. Because findObjects pages records 100 at a time, there are no timeout issues like with the ITQLFactory. Additionally, if that is all the resource index is being used for, you can save quite some disk space by disabling and removing the resource index.  I think others might find the FedoraSearchQueryFactory useful and I'd be happy to contribute it. I wrote it to be configuration-compatible with the ITQLQueryFactory, i.e. just changing the driver.fedora.queryFactory value to fedora.services.oaiprovider.FedoraSearchQueryFactory should be enough. Obviously complex triple queries won't work, and a few things related to set membership are still hard-coded at this point just to get it working, although this could be improved on. ",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
Wrong checksum on MetsFedoraExt-1.1 export If we export an object using the MetsFedoraExt-1.1 format and we have a datastream with multiple versions the value of the md5 chucksum is always the checksum of the first version.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Integration tests fail with ""Cannot find the declaration of element 'fbm:batchModify'."" When running the integration tests im running into a SaxException. Check the attached test report.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"The Swing Admin client failed multiple tests during manual FCREPO 3.6 release tests. The Swing Admin client exhibits several failures during manual testing for the 3.6 release.  This list is still being built.  However, substantial parts of the tool continue to function and can provide useful operations.  - Attempt to ingest an object whose PID already exists in Fedora.  The Swing Admin Client will lock up and the only way to exit is to kill its process.  - Most of the ""Console"" functions (SOAP) do not work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Document movement of Server configuration parms to Spring in 3.6 None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Upgrade to latest Fedora, Lucene and Solr. Upgrade to latest Fedora, Lucene and Solr. Included is upgrade of other relevant libs included in Fedora. ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"fcrepo 3.6 creates a page with broken links from object search given a final / in the URL Whenn you enter http://fedora-server.dom/fedora/objects/ (note the final slash; this can happen by ""hacking off"" the last part of a long URL to navigate back), then a query of the following type is issued by Fedora: http://fedora-server.dom/fedora/objects/?pid=true&title=true&description=true&identifier=true&terms=*&query=&maxResults=20 (Note the / before ?pid) The resulting page contains broken links of the type http://fedora-server.dom/fedora/objects/objects/prefix%3Asuffix (Note the duplication of objects/ in the path)  Following the broken links gives back a completely empty page.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Poor handling of authN choices in installer. The installer currently allows the selection of experimental upstream authN and the simultaneous selection of FESL. These are not compatible choices and should not be offered together.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Implement proper HEAD request handling in REST API for Datastream Dissemination Performing a HEAD request always results in a full GET request. Having JAX-RS @HEAD implementations in the REST API would be more efficient,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Write 3.6.1 Release Notes Write 3.6.1 Release Notes for these completed issues: https://jira.duraspace.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+FCREPO+AND+fixVersion+%3D+11040+AND+resolution+%3D+Fixed+ORDER+BY+priority+DESC,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add support for getting value of method parameters in fedora-client-messaging Per discussion on the users list: http://thread.gmane.org/gmane.comp.cms.fedora-commons.user/8013  Add support to fedora-client-messaging so that the value of API-M method parameters can be retrieved.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"Ingest with FeSL AuthZ enabled: Object whose PIDs start with a digit are not accessible once created When FeSL Authz is enabled, objects whose PIDs start with a digit cannot be accessed or modified once they are created.  The object is created, but attempts to view the object, add a datastream to it, or purge it result in this error:  java.net.URISyntaxException: Illegal character in scheme name at index 0  This exception appears to be thrown when URI.parse() is called in org.fcrepo.server.security.xacml.pep.rest.objectshandlers.GetObjectProfile.handleRequest().",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"Transfer fcsu to Fedora remit Chris Wilper has written a utility that can, amongst other capabilities, migrate legacy LLStore instances to Akubra. This utility should be brought into Fedora Commons and supported there.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Behaviour change in REST api when updating from 3.5 to 3.6.x The change from Jersey to Apache CXF introduced a behaviour change, when requesting a resource with the Accept-Header set to an empty string.   * Jersey converted the empty string Accept-Header to ""Accept: */*"" and therefore responded to such a request with the corresponding object representation and a HTTP 200 Ok.  * Apache CXF does not modify the header value and therefor looks for a resource method annotated with @Produces("""") which can not be found. Therefore CXF returns a HTTP 404 Not Found in this scenario.   According to the HTTP spec at http://www.w3.org/Protocols/rfc2616/rfc2616-sec14 it seems CXF implements the better behaviour, but it should be noted that it is supposed to return a HTTP 406 Not Acceptable instead of a 404.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Performance degradation when adding a lot of datastreams When adding a lot of manages datastreams to an object the ingestion throughput performance degrades in a linear fashion.  When e.g. ingesting 1000 managed datastreams with 500KB each the time needed for adding the datastream for the first is ~20ms and this degrades to ~130ms on a local installation.  I created a git hub project to reproduce this, which can be found here:  https://github.com/fasseg/fcrepo-test-ingester.git which can be run as described in the README to reproduce this issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"id-listObjectInFieldSearchResults action is evaluated without an api attribute When an object search is executed under FESL, there is a check both for a findObjects action and listObjectInFieldSearchResults action, the latter used when filtering the search results.  In the second case, there is no api attribute in the XACML evaluation context; it should be APIA. ",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"PolicyIndexRebuilder fails with a NullPointerException in FCRepo 3.6 The PolicyIndexRebuilder does not have access to the PolicyIndex it needs, because the RebuildServer does not load the requisite Spring beans. This leads to a NullPointerException.  It can be worked around by copying the PolicyIndex configuration, and configuring an additional bean for the rebuilder like so:  <bean id=""org.fcrepo.server.security.xacml.pdp.data.PolicyIndexRebuilder2""             class=""org.fcrepo.server.security.xacml.pdp.data.PolicyIndexRebuilder"" >             <property name=""policyIndex"" ref=""org.fcrepo.server.security.xacml.pdp.data.PolicyIndex"" />         </bean>","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
FESL Action mapping is misconfigured by default The default FESL configuration has a typo in the ContextUtil spring configuration: It sets the actionMap property instead of the actionValueMap property.  The result is that FESL is not mapping the granular action ids in the XACML evaluation context.  It can be fixed by simply editing the Spring configuration to use the correct property name. ,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"DateTimeUtil does create a lot of ""SimpleDateFormat"" objects DateTimeUtil does allocate 1 SimpleDateFormat object at least for each datastream/version. Since SimpleDateFormat is not thread-safe as pointed out by Ben this could be done via a ThreadLocal<> rather than a static object reference. I'll check into that and maybe try out other formatter as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Add note to fedora.fcfg deprecating it in favor of Spring Put a comment into fedora.fcfg noting that it is a deprecated configuration mechanism and folks should rely on Spring config going forward. ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Only FOXML format is supported when calling the REST api's ""/objects/new"" method with a blank body. When calling HTTP1.1 GET ""/objects/new?format=info:fedora/fedora-system:ATOM-1.0"" with an empty body fedora does not create a new empty fedora object but returns an error message resulting from an empty response body, this works however when using FOXML 1.1.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"XACML documentation uses out of date vocabulary, doesn't show how to get the content model inside of a policy. Effects Fedora 3.0 to 3.6  References an old vocabulary.  https://wiki.duraspace.org/display/FEDORA36/Fedora+XACML+Policy+Writing+Guide  Should also include this information https://jira.duraspace.org/browse/FCREPO-477  Note that https://jira.duraspace.org/browse/FCREPO-477 the use of res-ext field hasModel isn't shown in the repositories vocabulary.txt ","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"Inclusion of ""datatype"" in addRelationship request causing fatal Tomcat error Including the datatype POST variable with an addRelationship request causes the following tomcat error. Are there URI definitions of the datatypes that exist somewhere?  INFO 2012-11-03 09:31:54.303 [http-8080-1] (DefaultManagement) Completed addRelationship(pid: sjrda:20, relationship: info:fedora/fedora-system:def/relations-external#hasPart, object: Testing, isLiteral: true, datatype: string) WARN 2012-11-03 09:31:54.305 [http-8080-1] (PhaseInterceptorChain) Application {http://www.springframework.org/schema/beans}objectsService has thrown exception, unwinding now org.apache.cxf.interceptor.Fault: Not a valid (absolute) URI: string ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Upgrade to Apache Commons Pool 1.6 Currently, our deployed version of Apache Commons Pool is 1.3, which is pretty old. This comes from a dependency of commons-dbcp. Other libraries already in play ask for newer versions of Commons Pool (e.g. activemq-pool wants commons-pool 1.5.6).  Commons Pool 1.6 provides a generics-enabled API which is much more pleasant to work with. It might be best if we try to step up to that and ""bring along for the ride"" any libraries which turn out to be incommoded by the change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Cannot use fedora-rebuild.sh on non standard install env-server.sh relies on Fedora being installed in a 'webapps' directory:  set WEBINF=""%CATALINA_HOME%\webapps\%WEBAPP_NAME%\WEB-INF""  when it's installed separately from Tomcat (to allow easier upgrades), e.g.  /WWW/domain.name/fedora  the rebuild fails to run.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Java 7 compatibility One of the primary goals of the Fedora 3.7 release will be the move from Java 6 to Java 7. This issue is a container for all the issues that will arise in that process.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ActiveMQ upgrade for compatibility with java 7 The version of ActiveMQ that has been included with Fedora is not compatible with Java 7. It must be upgraded for Fedora 3.7 and the consequences to Fedora's dependency profile must be considered and corrected.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"API-M purgeRelationship null object not working as expected According to the documentation, supplying purgeRelationship with an ""object"" of null should result in purging all relations which match   http://www.fedora-commons.org/documentation/3.0/userdocs/server/webservices/apim/index.html#methods.purgeRelationship  However, when I supply it with null, I get the following:  INFO 2012-11-30 11:11:59.763 [ajp-bio-8009-exec-2] (DefaultManagement) Completed purgeRelationship(pid: uuid:4ecc25e9-cc02-4191-8589-ffbaecac258f, relationship: http://cdr.unc.edu/definitions/1.0/bas e-model.xml#isPublished, object: null, isLiteral: true, datatype: null) ERROR 2012-11-30 11:11:59.764 [ajp-bio-8009-exec-2] (FedoraAPIMBindingSOAPHTTPImpl) Error purging relationships java.lang.IllegalArgumentException: Null ""newLexicalForm"" parameter         at org.jrdf.graph.AbstractLiteral.<init>(AbstractLiteral.java:109) [mulgara-core-2.1.11.jar:na]         at org.fcrepo.common.rdf.SimpleLiteral.<init>(SimpleLiteral.java:22) [fcrepo-common-3.5.jar:na]         at org.fcrepo.server.storage.SimpleDOWriter.createTriple(SimpleDOWriter.java:484) [fcrepo-server-3.5.jar:na] ...  Setting object to not be a literal also fails, although slightly differently:  INFO 2012-11-30 11:07:46.931 [ajp-bio-8009-exec-6] (DefaultManagement) Completed purgeRelationship(pid: uuid:4ecc25e9-cc02-4191-8589-ffbaecac258f, relationship: http://cdr.unc.edu/definitions/1.0/base-model.xml#isPublished, object: null, isLiteral: false, datatype: null) ERROR 2012-11-30 11:07:46.933 [ajp-bio-8009-exec-6] (FedoraAPIMBindingSOAPHTTPImpl) Error purging relationships java.lang.NullPointerException: null         at java.net.URI$Parser.parse(URI.java:3004) [na:1.6.0_37]         at java.net.URI.<init>(URI.java:577) [na:1.6.0_37]         at org.fcrepo.server.storage.SimpleDOWriter.createTriple(SimpleDOWriter.java:489) [fcrepo-server-3.5.jar:na]         at org.fcrepo.server.storage.SimpleDOWriter.purgeRelationship(SimpleDOWriter.java:406) [fcrepo-server-3.5.jar:na]         at org.fcrepo.server.storage.SimpleDOWriter.purgeRelationship(SimpleDOWriter.java:391) [fcrepo-server-3.5.jar:na]         at org.fcrepo.server.management.DefaultManagement.purgeRelationship(DefaultManagement.java:1755) [fcrepo-server-3.5.jar:na] ...  Looking at the source for SimpleDOWriter, there does not seem to be any case to check for the ""object"" being set to null, and AbstractLiteral doesn't seem to care for that:  https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/java/org/fcrepo/server/storage/SimpleDOWriter.java#L474  The matching method, FilteredTripleIterator.matches(), also doesn't allow for a positive match when the searching for a null from what I can tell, so if it weren't excepting out earlier it would probably still not purge any relations:  https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/java/org/fcrepo/server/utilities/FilteredTripleIterator.java#L99  Our setup is with an external mulgara triple store, running 3.6.1 at the moment",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DOValidatorImpl writes object XML to disk even if it doesn't need to org.fcrepo.server.validation.DOValidatorImpl has a FIXME dating back to the days of Sandy Payette (who appears to have written the code):          // FIXME We need to use the object Inputstream twice, once for XML         // Schema validation and once for Schematron validation.         // We may want to consider implementing some form of a rewindable         // InputStream. For now, I will just write the object InputStream to         // disk so I can read it multiple times.           Seems like now is as good a time as any to FIXME. {grin}  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Prevent validation Schematron from being recompiled for every validation A particular case of poorly-managed XML resources is in org.fcrepo.server.validation.DOValidatorSchematron, where a Schematron XSLT transform is recompiled over and over again. Chris Wilper proved using YourKit that this creates a serious slowdown in the ingest pipeline. The first simple improvement available is to precompile the transform and to then pool instances of DOValidatorSchematron used in DOValidatorImpl.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Destroy Schematron validators and replace with XML Schema After investigation, it appears to be the case that the Schematron validators in:  fcrepo-server/src/main/resources/schematron  accomplish nothing that could not be more easily and more clearly accomplished with XML Schema. The machinery that operates these validators is extremely old and inefficient. The best course of action will be to replace them entirely with modern XML Schema. This will entail alterations to ord.fcrepo.server.validtion and to installer machinery that builds the module configuration for role org.fcrepo.server.validation.DOValidator. It may turn out that the best approach will be to dispense with the module section and turn to Spring config (yay!) for the change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Create XML Schema that supersedes Schematron Create XML Schema that supersedes the obsolete Schematron validators.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Library upgrades for 3.7 Master issue for library upgrades for 3.7,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade asm Upgrade asm/asm from 3.1 to 3.3.1.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade sjsxp Upgrade sjsxp from 1.0.1 to 1.0.2.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade commons-codec Upgrade commons-codec from 1.6 to 1.7.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade commons-dbcp Upgrade commons-dbcp from 1.2.2 to 1.4,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Upgrade commons-io Upgrade commons-io from 2.3 to 2.4.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"FESL's log patterns in server/config/logback.xml don't log useful information The current FeSL debug message definition (commented out by default):      <layout class=""ch.qos.logback.classic.PatternLayout"">       <Pattern>%p %d{yyyy-MM-dd' 'HH:mm:ss.SSS} [%t] (%c{0}\\) %m%n</Pattern>     </layout>  ...does not log useful information:  INFO 2012-12-14 10:40:16.546 [localhost-startStop-1] (AuthFilterJAAS\INFO 2012-12-14 10:40:16.547 [localhost-startStop-1] (AuthFilterJAAS\DEBUG 2012-12-14 10:40:50.783 [http-bio-8080-exec-1] (AuthFilterJAAS\DEBUG 2012-12-14 10:40:50.822 [http-bio-8080-exec-1] (AuthFilterJAAS\DEBUG 2012-12-14 10:41:05.232 [http-bio-8080-exec-2] (AuthFilterJAAS\DEBUG 2012-12-14 10:41:05.232 [http-bio-8080-exec-2] (AuthFilterJAAS\DEBUG 2012-12-14 10:41:05.237 [http-bio-  If the <layout> stanza is changed to the <encoder> pattern used earlier in the file:      <encoder>                                                                  <pattern>%p %d{yyyy-MM-dd' 'HH:mm:ss.SSS} [%t] \(%c{0}\) %m%n</pattern>     </encoder>  ...then useful log information is shown:  INFO 2012-12-14 10:49:43.737 [localhost-startStop-1] (AuthFilterJAAS) initialised servlet filter: org.fcrepo.server.security.jaas.AuthFilterJAAS DEBUG 2012-12-14 10:50:12.552 [http-bio-8080-exec-1] (AuthFilterJAAS) incoming filter: org.fcrepo.server.security.jaas.AuthFilterJAAS DEBUG 2012-12-14 10:50:12.559 [http-bio-8080-exec-1] (AuthFilterJAAS) session-id: E5CDACC6C976F548887FAB498B7E717D DEBUG 2012-12-14 10:50:12.564 [http-bio-8080-exec-1] (AuthFilterJAAS) auth username: admin ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Searching with apostrophe in a search query should be allowed I am attempting to search for objects that have the string ""haven't"" in the description field.   If I search for ""haven't"" as a terms search there is no problems. But if I try to search with a query like ""description~haven't"", I encountered the following problem:  First the apostrophe character must be escaped as \' to be accepted by the org.fcrepo.server.search.Condition.getConditions parser. (This is not a problem, but I am not sure it is documented)  But still with the apostrophe character escaped for the parser, the search condition is rejected by a check in the Condition constructor.  If this check is removed, it becomes possible to search for the objects.  I am attaching a diff file with the check removed and with added integration test that demonstrates the handling of apostrophes in terms and query type searches. It seems to work OK with this change  (This may also be related to FCREPO-867)",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora overrides logback configuration for other webapps as well The class org.fcrepo.utilities.LogConfig initializes the logback configuration with its initFromFile method.  It does so, however, by setting the system property *logback.configurationFile* if it is not already set.  This leads to one of the following problems:  - If the property is already set, the fedora logback configuration is not used. - If the property is not already set, Fedora sets it, overriding any logback.xml files that may be on the classpath, even for other web applications.  A better way to programmatically load a logback configuration, just for your own webapplication, would be to use a ServletContextListener and have it execute something like the following in its contextInitialized method: {code}        LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();        JoranConfigurator configurator = new JoranConfigurator();        configurator.setContext(lc);        lc.reset();        configurator.doConfigure(externalConfigFile);        logger.info(""Configured Logback with config file from: {}"", externalConfigFile.getAbsolutePath()); {code}",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"URL escaping PIDs for Relationships REST resource returns 404s This is essentially the same as issue FCREPO-1102.  When 1102 was fixed in https://github.com/fcrepo/fcrepo/commit/2aa71e3db6f2aba5b66b22783594b035fbe0119d the VALID_PID_PART regular expression constant was added to FedoraObjectsResource and DatastreamResource, but the original (problematic) regular expression is still present in RelationshipResource.   Currently it uses ([A-Za-z0-9]|-|\\.)+:(([A-Za-z0-9])|-|\\.|~|_|(%[0-9A-F]{2}))+ which matches ""test:1234"" but not ""test:%3a1234"" (see http://fiddle.re/pp0m ). The VALID_PID_PART regular expression correctly matches either PID.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Upgrade to latest Fedora, Lucene, Solr, and Tika. Upgraded to Lucene 4.2.0, Solr 4.2.0, Tika 1.3 Compatible with Fedora 3.6.2 Still using fcrepo 3.5 libs, because messaging-client is not in 3.6, works ok.   ",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"Error retrieving tomcat dependency in fedora-client tests Hi,  I can't build fedora-client from src. I have faced the following issue:  Could not transfer artifact org.fcrepo:apache-tomcat:zip:7.0.29 from/to duraspace-thirdparty  I also cannot find apache-tomcat in ""org.fcrepo"" manually.  Full log is in attachment.  Please check it.  Thank you.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"addRelationships REST API regression in fcrepo 3.6 In Fedora 3.6.1 and 3.6.2 (haven't tried 3.6.0..), the addRelationships endpoint is broken. When you send a POST request (that worked in Fedora 3.5), you get a 404:  opening connection to localhost:8983... opened <- ""POST /fedora/objects/transactions%3A1/relationships/new?subject=transactions%3A1&predicate=uri%3Aasdf&object=fedora%3Aobject HTTP/1.1\r\nAccept: */*; q=0.5, application/xml\r\nAccept-Encoding: gzip, deflate\r\nUser-Agent: Ruby\r\nAuthorization: Basic ZmVkb3JhQWRtaW46ZmVkb3JhQWRtaW4=\r\nHost: localhost:8983\r\nContent-Length: 0\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\n"" <- """" -> ""HTTP/1.1 404 Not Found\r\n"" -> ""Expires: Thu, 01-Jan-1970 00:00:00 GMT\r\n"" -> ""Set-Cookie: JSESSIONID=g2s8y1h6dqzbq6wevhz795wi;Path=/fedora\r\n"" -> ""Allow: POST,GET,DELETE,PUT,OPTIONS,HEAD\r\n"" -> ""Content-Length: 0\r\n"" -> ""Date: Thu, 02 May 2013 18:21:11 GMT\r\n"" -> ""Server: Jetty(6.1-SNAPSHOT)\r\n"" -> ""\r\n""  and a not-particularly-helpful JAX-RS message in the logs:  WARN 2013-05-02 10:47:30.533 [btpool0-1] (JAXRSUtils) No operation matching request path ""/fedora/objects/transactions%3A1/relationships/new"" is found, Relative Path: /transactions%3A1/relationships/new, HTTP Method: POST, ContentType: application/x-www-form-urlencoded, Accept: application/xml,*/*;q=0.5,. Please enable FINE/TRACE log level for more details.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"REST API can not upload files greater than 2^31-1 in size I have a version of  fedora 3.5 running that errors with  javax.ws.rs.WebApplicationException: org.fcrepo.server.errors.StreamWriteException: Error writing temp stream       at org.fcrepo.server.rest.BaseRestResource.handleException(BaseRestResource.java:172)       at org.fcrepo.server.rest.DatastreamResource.addOrUpdateDatastream(DatastreamResource.java:583)     when I write a file 2GB in size (1024*1024*2048) via the API:  curl -H ""Content-type:application/octet-stream"" -X POST -u ""name:pass"" --upload-file 3g.data \  http://host:8080/fedora/objects/scholarsphere:5425k9692/datastreams/blah?controlGroup=M  But when I write a 2GB-1MB file (1024*1024*2047) via the API, it works without issue. Multipart uploads also do not work.  Ben Armintor has been working with me on this and first identified https://jira.duraspace.org/browse/FCREPO-704 as a potential starting place. He has since followed up with:    I've got a test verifying a bug in FCRepo 3.6 (and earlier) for content posted in the request body- I'll push a fix today (I think).  There are two places in the REST library in which signed ints are being used got content-length in the kind of upload you have: https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/java/org/fcrepo/server/rest/RestUtil.java#L74 (where it's implicit in the j2ee interface, so we just have to ignore it and parse the header) and at https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/java/org/fcrepo/server/rest/RestUtil.java#L63 (our fault- that was clearly a place we missed when an earlier bug in this line was fixed 3 years ago).  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Rebuilders fail when a Management Delegate bean is configured Hi all,  I am in the process to upgrade from Fedora 3.3.1 to 3.6.2  I just noticed that after enabling journaling the fedora-rebuild.sh script won't work anymore.   Basically in fedora.fcfg I added the relevant section for normal mode as described here https://wiki.duraspace.org/display/FEDORA36/Journaling#Journaling-impl-config  When starting the fedora web applications everything looks fine but, when stopping it and running fedora-rebuild.sh  I get a  Error creating bean with name 'org.fcrepo.server.security.Authorization': Bean definition is abstract.   This suggest to me that enabling journaling, introduces more spring beans behind the scenes but I have not been able to figure out where or how, enabling DEBUG logging for springframework in logback.xml shows that it is loading beans from the standard locations in server/conf/spring but it does not reveal much detail about the other locations where it is loadging beans from.  This is a snippet:  ************************************************************************ DEBUG (DefaultBeanDefinitionDocumentReader) Loading bean definitions DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.security.AuthorizationConfiguration$created#546ce79d] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.security.AuthorizationConfiguration$created#42dd8bec] DEBUG (DefaultNamespaceHandlerResolver) Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://activemq.apache.org/schema/core=org.apache.xbean.spring.context.v2.XBeanNamespaceHandler, http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.w3.org/2006/07/ws-policy=org.apache.cxf.ws.policy.spring.PolicyNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://cxf.apache.org/jaxws=org.apache.cxf.jaxws.spring.NamespaceHandler, http://cxf.apache.org/policy=org.apache.cxf.ws.policy.spring.NamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://cxf.apache.org/transports/http/configuration=org.apache.cxf.transport.http.spring.NamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://cxf.apache.org/ws/addressing=org.apache.cxf.ws.addressing.spring.NamespaceHandler, http://cxf.apache.org/simple=org.apache.cxf.frontend.spring.NamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler, http://cxf.apache.org/core=org.apache.cxf.bus.spring.NamespaceHandler, http://cxf.apache.org/jaxrs=org.apache.cxf.jaxrs.spring.NamespaceHandler, http://www.springframework.org/schema/security=org.springframework.security.config.SecurityNamespaceHandler, http://schemas.xmlsoap.org/ws/2004/09/policy=org.apache.cxf.ws.policy.spring.PolicyNamespaceHandler, http://www.w3.org/ns/ws-policy=org.apache.cxf.ws.policy.spring.PolicyNamespaceHandler, http://cxf.apache.org/bindings/soap=org.apache.cxf.binding.soap.spring.NamespaceHandler} DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#245a690] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#2aba391a] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#27faefe0] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#4b9a6fa1] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#816d9ce] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#14356788] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#3e201c15] DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.config.Parameter#2e13c690] DEBUG (BeanDefinitionParserDelegate) Using generated bean name [util:list#14512f92] for nested custom element 'util:list' DEBUG (BeanDefinitionParserDelegate) Neither XML 'id' nor 'name' specified - using generated bean name [org.fcrepo.server.security.impl.SimplePolicyLoader#4a5844db] INFO (XmlBeanDefinitionReader) Loading XML bean definitions from file [/opt/fedora/fedora-3.6/server/config/spring/doobjectvalidator.xml] DEBUG (DefaultDocumentLoader) Using JAXP provider [org.apache.xerces.jaxp.DocumentBuilderFactoryImpl] DEBUG (PluggableSchemaResolver) Found XML schema [http://www.springframework.org/schema/beans/spring-beans-3.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-3.0.xsd DEBUG (DefaultBeanDefinitionDocumentReader) Loading bean definitions DEBUG (BeanDefinitionParserDelegate) No XML 'id' specified - using 'org.fcrepo.server.validation.DOObjectValidator' as bean name and [] as aliases INFO (XmlBeanDefinitionReader) Loading XML bean definitions from file [/opt/fedora/fedora-3.6/server/config/spring/triple-generator.xml] DEBUG (DefaultDocumentLoader) Using JAXP provider [org.apache.xerces.jaxp.DocumentBuilderFactoryImpl] DEBUG (PluggableSchemaResolver) Found XML schema [http://www.springframework.org/schema/beans/spring-beans-3.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-3.0.xsd DEBUG (DefaultBeanDefinitionDocumentReader) Loading bean definitions INFO (GenericApplicationContext) Refreshing org.springframework.context.support.GenericApplicationContext@3e0d6c32: startup date [Thu Jul 18 11:20:35 EST 2013]; parent: org.springframework.context.support.GenericApplicationContext@42e50215 DEBUG (GenericApplicationContext) Bean factory for org.springframework.context.support.GenericApplicationContext@3e0d6c32: org.springframework.beans.factory.support.DefaultListableBeanFactory@50e68513: defining beans [org.springframework.context.annotation.CommonAnnotationBeanPostProcessor,org.fcrepo.server.security.ContextRegistry,org.fcrepo.server.security.Authorization,org.fcrepo.server.security.AuthorizationConfiguration,policyFinderModules,org.fcrepo.server.security.ContextAttributeFinderModule,org.fcrepo.server.security.ResourceAttributeFinderModule,attributeFinderModules,resourceFinderModules,PDPConfigurationFactory,LegacyPDPConfig,org.fcrepo.server.security.PolicyEnforcementPoint,org.fcrepo.server.validation.DOObjectValidator,org.trippi.io.TripleIteratorFactory,Object-3.0,ContentModel-3.0,ServiceDefinition-3.0,ServiceDeployment-3.0,org.fcrepo.server.resourceIndex.TripleGenerator,org.fcrepo.server.resourceIndex.ModelBasedTripleGenerator,localMySQLPool,localDerbyPool,localOraclePool,localPostgreSQLPool,localMulgaraTriplestore,localPostgresMPTTriplestore,apimUpdateMessages,apimAccessMessages,org.fcrepo.server.storage.lowlevel.ILowlevelStorage,org.fcrepo.server.storage.lowlevel.ILowlevelStorageConfiguration,org.fcrepo.server.security.BackendSecurity,org.fcrepo.server.security.BackendSecurityConfiguration,org.fcrepo.server.storage.DOManager,org.fcrepo.server.storage.DOManagerConfiguration,org.fcrepo.server.management.Management,org.fcrepo.server.management.ManagementConfiguration,org.fcrepo.server.management.ManagementDelegate,org.fcrepo.server.management.ManagementDelegateConfiguration,org.fcrepo.server.access.Access,org.fcrepo.server.access.AccessConfiguration,org.fcrepo.server.access.DynamicAccess,org.fcrepo.server.access.DynamicAccessConfiguration,org.fcrepo.server.search.FieldSearch,org.fcrepo.server.search.FieldSearchConfiguration,org.fcrepo.server.resourceIndex.ResourceIndex,org.fcrepo.server.resourceIndex.ResourceIndexConfiguration,org.fcrepo.oai.OAIProvider,org.fcrepo.oai.OAIProviderConfiguration,org.fcrepo.server.storage.translation.DOTranslator,org.fcrepo.server.storage.translation.DOTranslatorConfiguration,org.fcrepo.server.management.PIDGenerator,org.fcrepo.server.management.PIDGeneratorConfiguration,org.fcrepo.server.messaging.Messaging,org.fcrepo.server.messaging.MessagingConfiguration,org.fcrepo.server.storage.ConnectionPoolManager,org.fcrepo.server.storage.ConnectionPoolManagerConfiguration,org.fcrepo.server.validation.DOValidator,org.fcrepo.server.validation.DOValidatorConfiguration,org.fcrepo.server.storage.ExternalContentManager,org.fcrepo.server.storage.ExternalContentManagerConfiguration,org.trippi.TriplestoreConnector,org.fcrepo.server.resourceIndex.ResourceIndexRebuilder,org.fcrepo.server.utilities.rebuild.SQLRebuilder]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@7795c14c DEBUG (DefaultListableBeanFactory) Creating shared instance of singleton bean 'org.springframework.context.annotation.CommonAnnotationBeanPostProcessor'  ****************************************************  And here below is the  output when running fedora-rebuild.sh with the default logback.xml config.  Has anyone come across this? Any suggestion to fix it?  Thanks, Javier   ************************************************************ javier@genesis-cl:/opt/fedora/fedora-3.6/server/bin$ ./fedora-rebuild.sh                          Fedora Rebuild Utility                      ..........................  WARNING: Live rebuilds are not currently supported.          Make sure your server is stopped before continuing.  Server directory is /opt/fedora/fedora-3.6/server  ---------------------------------------------------------------------  ERROR (Server) Fatal error while starting server org.springframework.beans.factory.BeanIsAbstractException: Error creating bean with name 'org.fcrepo.server.security.Authorization': Bean definition is abstract         at org.springframework.beans.factory.support.AbstractBeanFactory.checkMergedBeanDefinition(AbstractBeanFactory.java:1208) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:277) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1079) ~[spring-context-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.fcrepo.server.Server.getBean(Server.java:1684) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.management.ManagementModule.postInitModule(ManagementModule.java:180) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.Server.init(Server.java:655) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.RebuildServer.getRebuildInstance(RebuildServer.java:164) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.Rebuild.getServer(Rebuild.java:206) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.Rebuild.getRebuilder(Rebuild.java:268) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:450) ~[fcrepo-server-3.6.2.jar:na] Error: Fatal error while starting server  java.lang.RuntimeException: Fatal error while starting server         at org.fcrepo.server.Server.init(Server.java:695)         at org.fcrepo.server.utilities.rebuild.RebuildServer.getRebuildInstance(RebuildServer.java:164)         at org.fcrepo.server.utilities.rebuild.Rebuild.getServer(Rebuild.java:206)         at org.fcrepo.server.utilities.rebuild.Rebuild.getRebuilder(Rebuild.java:268)         at org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:450) Caused by: org.springframework.beans.factory.BeanIsAbstractException: Error creating bean with name 'org.fcrepo.server.security.Authorization': Bean definition is abstract         at org.springframework.beans.factory.support.AbstractBeanFactory.checkMergedBeanDefinition(AbstractBeanFactory.java:1208)         at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:277)         at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)         at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1079)         at org.fcrepo.server.Server.getBean(Server.java:1684)         at org.fcrepo.server.management.ManagementModule.postInitModule(ManagementModule.java:180)         at org.fcrepo.server.Server.init(Server.java:655)         ... 4 more ERROR (Server) Fatal error while starting server org.springframework.beans.factory.BeanIsAbstractException: Error creating bean with name 'org.fcrepo.server.security.Authorization': Bean definition is abstract         at org.springframework.beans.factory.support.AbstractBeanFactory.checkMergedBeanDefinition(AbstractBeanFactory.java:1208) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:277) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1079) ~[spring-context-3.0.7.RELEASE.jar:3.0.7.RELEASE]         at org.fcrepo.server.Server.getBean(Server.java:1684) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.management.ManagementModule.postInitModule(ManagementModule.java:180) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.Server.init(Server.java:655) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.RebuildServer.getRebuildInstance(RebuildServer.java:164) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.Rebuild.getServer(Rebuild.java:206) ~[fcrepo-server-3.6.2.jar:na]         at org.fcrepo.server.utilities.rebuild.Rebuild.main(Rebuild.java:463) ~[fcrepo-server-3.6.2.jar:na] Server shutdown error: java.lang.RuntimeException: Fatal error while starting server   ********************************************************************************",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora-export utility throws NullPointerException running the following command in order to export all objects from my local fedora repo   ./fedora-export.sh localhost:8980 fedoraAdmin fedoraAdmin DMO default default /tmp http  I get a NullPointerException (see attached log file),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora-ingest utility throws ObjectNotInLowlevelStorageException Running the following command to ingest a file to a Fedora repo:  ./fedora-ingest.sh f ~/authors_migration/h_c_andersen/sifd_1058.xml info:fedora/fedora-system:FOXML-1.1 server_url:port_number fedoraAdmin password http  returns the following message:  Error  :  Caused by: [DefaultExternalContentManager] returned an error.  The underlying error was a org.fcrepo.server.errors.GeneralException  The message was  ""Error getting http://localhost:8080/fedora/get/sifd:1058/provenanceMetadata/2013-07-17T08:29:40.294Z""  .   (Last attempted file was /home/jatr/authors_migration/h_c_andersen/sifd_1058.xml)  I have attached an excerpt from the fedora.log from the server and the FOXML I was trying to ingest ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fcr:fixity bug using the fcepo-fs-ms-federation-connecter from:  http://localhost:8080/rest/objects/WallSsamAniC.tif/fcr:fixity  fedora-internal:hasFixityResult 468db09b:140c5679d13:-7ff4  468db09b:140c5679d13:-7ff4  fedora-internal:computedChecksum urn:sha1:da39a3ee5e6b4b0d3255bfef95601890afd80709  fedora-internal:status ""BAD_CHECKSUM""^^http://www.w3.org/2001/XMLSchema#string fedora-internal:status ""BAD_SIZE""^^http://www.w3.org/2001/XMLSchema#string  That same checksum (beginning da39a) appears for each of projected content",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RmiTransport not closing the journal I reported the following back in January:  Hi,  We are having trouble getting the RMI Journal Receiver to close journal files and I wonder if anyone can provide assistance. We have two Fedora 3.3 instances setup with the Primary named Moscow and the Secondary named Kiev. The journaling setup for Moscow is as follows:   <module role=""fedora.server.management.Management"" class=""fedora.server.journal.Journaler"">    <param name=""journalFileSizeLimit"" value=""100M""/>     <param name=""journalFileAgeLimit"" value=""1M""/>    <param name=""journalWriterClassname"" value=""fedora.server.journal.readerwriter.multicast.MulticastJournalWriter""/>    <param name=""transport.local.classname"" value=""fedora.server.journal.readerwriter.multicast.LocalDirectoryTransport""/>    <param name=""transport.local.directoryPath"" value=""/usr/local/journals/archiveFiles""/>    <param name=""transport.local.crucial"" value=""true""/>    <param name=""transport.follow1.classname"" value=""fedora.server.journal.readerwriter.multicast.rmi.RmiTransport""/>    <param name=""transport.follow1.crucial"" value=""true""/>    <param name=""transport.follow1.hostName"" value=""kiev""/>    <param name=""transport.follow1.service"" value=""RmiJournalReceiver""/>  </module>  I've set the follower to crucial for testing so I know when its failed. When I make a change on the Moscow Fedora it creates a journal file in /usr/local/journals/archiveFiles on moscow and also sends a copy to kiev:  [root@kiev journals]# ls /usr/local/ndr-content/journals/journalFiles/ _fedoraJournal20130104.112651.626Z  but the above journal is never closed, so when I make a second change on Moscow I get the following error from the RMI Journal Receiver:  java -jar RmiJournalReceiver.jar /usr/local/ndr-content/journals/journalFiles ERROR - Attempting to open file 'fedoraJournal20130104.112928.178Z' when file 'fedoraJournal20130104.112651.626Z' has not been closed.  Note the RMIJournal Receiver is running on kiev. I've tried manually copying the journal files from Moscow /usr/local/journals/archiveFiles to kiev /usr/local/ndr-content/journals/journalFiles/ and these get applied correctly so I think the problem is with the RMIJournalReciever. The journals are correctly closed on Moscow:  [root@moscow objects]# ls /usr/local/journals/archiveFiles fedoraJournal20121109.150753.709Z  fedoraJournal20130104.092118.451Z  fedoraJournal20130104.104736.028Z  fedoraJournal20130104.111949.758Z  fedoraJournal20130104.112928.178Z fedoraJournal20130104.085612.224Z  fedoraJournal20130104.092225.537Z  fedoraJournal20130104.105831.895Z  fedoraJournal20130104.112411.838Z fedoraJournal20130104.085936.569Z  fedoraJournal20130104.092911.764Z  fedoraJournal20130104.110746.708Z  fedoraJournal20130104.112651.626Z  Thanks for your help  Glen Robson Head of Systems National Library of Wales",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Running the mysql create database command the database was created as latin1 not utf-8 Following the instructions at:  http://fedora-commons.org/documentation/3.3/Installation%20and%20Configuration%20Guide.html  it tells you to run:  Create the database. For example, to create a database named ""fedora3"", enter:  CREATE DATABASE fedora3;  which by default created a latin1 encoded database:  mysql> status -------------- mysql  Ver 14.14 Distrib 5.1.67, for redhat-linux-gnu (x86_64) using readline 5.1  Connection id:  11140 Current database: fedora33 Current user:  root@localhost SSL:   Not in use Current pager:  stdout Using outfile:  '' Using delimiter: ; Server version:  5.1.67 Source distribution Protocol version: 10 Connection:  Localhost via UNIX socket Server characterset: latin1 Db     characterset: latin1 Client characterset: latin1 Conn.  characterset: latin1 UNIX socket:  /var/lib/mysql/mysql.sock Uptime:   90 days 18 hours 33 min 5 sec  Threads: 3  Questions: 240484138  Slow queries: 4  Opens: 48  Flush tables: 1  Open tables: 41  Queries per second avg: 30.663 --------------  we only discovered this when trying to ingest a Dublin Core datastream which had the ? character in them and we got the following error:  Caused by: java.sql.SQLException: Incorrect string value: '\xC5\xB7... ...' for column 'dcDescription' at row 1   com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)   com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)   com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)   com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)   com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)   com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)   com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2542)   com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1734)   com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2019)   com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1937)   com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1922)   org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)   fedora.server.utilities.SQLUtilityImpl.i_updateRow(SQLUtilityImpl.java:205)   fedora.server.utilities.SQLUtilityImpl.i_replaceInto(SQLUtilityImpl.java:143)   fedora.server.utilities.SQLUtility.replaceInto(SQLUtility.java:91)   fedora.server.search.FieldSearchSQLImpl.update(FieldSearchSQLImpl.java:240)  Would it be possible to change the Documentation to get people to check what the default character set is for their database or create the database as utf-8 by deafult?  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Typos in logback.xml prevent fedora logging coming up automatically after installation https://github.com/fcrepo/fcrepo/blob/master/fcrepo-server/src/main/resources/fcfg/server/logback.xml  Title case is used for FileNamePattern and MaxFileSize instead of camel case preventing fedora logging from starting automatically,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pidRegistry corruption Legacy storage: INGEST: foo:1 201310091500000 1) DOManager checks the pidRegistry Db for foo:1 2) if no, creates {OBJECTS}/2013/10/09/1500/000/foo_1 Akubra storage: INGEST: foo:1 201310091500000 1) ditto 2) if no, MD5  info:fedora/foo:1  3) build directory structure from hash advantage: you don t have to look up path in Db Scenario: As of 20131010, Db is corrupt, or not up to date, or incomplete, or maybe the last val for PIDs in namespace just reset Legacy: INGEST: foo:1 201310101500000 1) DOManager checks the pidRegistry Db for foo:1 2) if no, creates {OBJECTS}/2013/10/10/1500/000/foo_1 Where are you now? Original foo:1 is orphaned, but exists, as do datastreams Akubra: Everything that has the same id gets overwritten irreperably Circumstances that this happens in: 1) pidRegistry is jacked AND 2) you use sequential pids (as opposed to random, or UUIDs) AND 3) you use Akubra (Legacy you just have orphan objects) What can we do? 1) Legacy, we can build a report of duplicates, and possibly provide a FCSU command to move them to a unique PID 2) Akubra, we can really just tell you that an objectCreation date is out of sequence with it s PID (this is crappy) Is this behavior on ingest in the context of a bad Db fixable? 1) Legacy: not really. To do this without the Db, you would have trawl the corpus of FOXML, which would not only be slow, but the would be maximally slow on the non error requests (ie, a new PID). Non starter. 2) Akubra: Yes, because the DOManager could be required to ping an Akubra objectstore as part of the objectExists() call. Raise an exception. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora 3.7.1 fails to start with legacy-fs storage option chosen I just started a 3.7.1 upgrade at Tufts as well.  While running the installer we ran into a different initial problem, and having resolved that have caught up the problem reported here, so first off, thanks for the info here in this thread.  The problem we initially hit is that in our install we specify the low level storage option as legacy-fs, which upon start up results in the following error:  ERROR 13:46:21.014 (Server) Module (org.fcrepo.server.storage.lowlevel.ILowlevelStorage) failed to initialize org.fcrepo.server.errors.ModuleInitializationException: couldn't set up path_algorithm for objectPaths  Class org.fcrepo.server.storage.lowlevel.defaultstore.Store can not access a member of class org.fcrepo.server.storage.lowlevel.TimestampPathAlgorithm with modifiers ""public""         at org.fcrepo.server.storage.lowlevel.DefaultLowlevelStorageModule.postInitMod ule(DefaultLowlevelStorageModule.java:44) ~[fcrepo-server-3.7.1.jar:na]  Looking at the fcrepo-server source it seemed to be related to this commit:  https://github.com/fcrepo/fcrepo/commit/5ad360edf39bfeca57038974639b41073af1fd1b#diff-644ddc1704c65930c61becbd9826bee1  Where the Store class moved from being a support within DefaultLowlevelStorage in the org.fcrepo.server.storage.lowlevel package to the org.fcrepo.server.storage.lowlevel.default package as a top level class.  I confirmed that by making the TimestampPathAlgorithm class public this issue goes away at startup since Store would then have access.  Not sure if this is the correct fix or if Store should've stayed in the previous package. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"DDL for new rebuild table must not specify indexes on unique keys MySQL does not support defining an index with the same name as a unique key, and throws an exception when such is indicated in the DDL.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Fedora Startup fails using a Oracle database As reported by Arnaud Koster from ARHS: ----------------------------------------------------- BTW: It seems that Fedora 3.7.1 is not compatible with Oracle database. In fact, we faced a problem during the startup: Fedora tries to execute this script: CREATE TABLE fcrepoRebuildStatus (     rebuildDate NUMBER(20,0) NOT NULL,     complete boolean NOT NULL,     UNIQUE  (rebuildDate) );",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"OutOfMemoryError uploading big files to fedora using mediashelf fedora-client v0.7 Where are problems uploading big files to fedora using  fedora-client v0.7  Test to reproduce bug:      @Test     public void addLargeStreamToFedora() throws IOException, FedoraClientException {          FedoraCredentials fedoraCredentials =             new FedoraCredentials(""http://localhost:8085/fedora"", ""fedoraAdmin"",             ""<password>"");         FedoraClient fedoraClient = new FedoraClient(fedoraCredentials);          AddDatastream addStream =             new AddDatastream(""test:atest1"", ""MAIN"");         addStream.mimeType(""application/pdf"");         addStream.controlGroup(""M"");         addStream.dsLabel(""ds_label_1"");          Path filePath = Paths.get(""<path to large file>"");          InputStream is = Files.newInputStream(filePath);         addStream.content(is);         new Ingest(""test:atest1"").ownerId(""test"").execute(fedoraClient);         addStream.execute(fedoraClient); //java.lang.OutOfMemoryError: Java heap space     }  stack trace: addLargeStream(...FedoraRepositoryIT)  Time elapsed: 1.802 sec  <<< ERROR! java.lang.OutOfMemoryError: Java heap space     at java.util.Arrays.copyOf(Arrays.java:2271)     at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:113)     at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)     at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:140)     at sun.net.www.http.PosterOutputStream.write(PosterOutputStream.java:78)     at com.sun.jersey.api.client.CommittingOutputStream.write(CommittingOutputStream.java:90)     at com.sun.jersey.core.util.ReaderWriter.writeTo(ReaderWriter.java:115)     at com.sun.jersey.core.provider.AbstractMessageReaderWriterProvider.writeTo(AbstractMessageReaderWriterProvider.java:76)     at com.sun.jersey.core.impl.provider.entity.InputStreamProvider.writeTo(InputStreamProvider.java:98)     at com.sun.jersey.core.impl.provider.entity.InputStreamProvider.writeTo(InputStreamProvider.java:59)     at com.sun.jersey.api.client.RequestWriter.writeRequestEntity(RequestWriter.java:300)     at com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:213)     at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:149)     at com.sun.jersey.api.client.filter.HTTPBasicAuthFilter.handle(HTTPBasicAuthFilter.java:104)     at com.sun.jersey.api.client.Client.handle(Client.java:648)     at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)     at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)     at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:568)     at com.yourmediashelf.fedora.client.request.AddDatastream.execute(AddDatastream.java:232)     at....addLargeStream(FedoraRepositoryIT.java:115)   I think, this problem is related to http://stackoverflow.com/questions/11176824/preventing-the-jersey-client-from-causing-an-outofmemory-error-when-posting-larg  And work around would be use ApacheHttpClient instead of HttpURLConection in com.yourmediashelf.fedora.client.FedoraClent constructor. Something like:      /**      * Constructor for FedoraClient.      *      * @param fc credentials for a Fedora repository      */     public FedoraClient(FedoraCredentials fc) {         this.fc = fc;          // TODO validate fc         // null check for username & password         // null check for baseUrl           ClientConfig config = new DefaultClientConfig(); //added         config.getProperties().put(DefaultApacheHttpClientConfig.PROPERTY_CHUNKED_ENCODING_SIZE, 0); //added          // FIXME this isn't very security-minded         if (fc.getBaseUrl().toString().startsWith(""https"")) {             SSLContext ctx = null;             try {                 ctx = SSLContext.getInstance(""SSL"");                 ctx.init(null, null, null);             } catch (NoSuchAlgorithmException e) {                 logger.error(e.getMessage(), e);             } catch (KeyManagementException e) {                 logger.error(e.getMessage(), e);             }              // FIXME Consider using not-yet-commons-ssl hostnameverifier             // config by property: strict, none, etc.             config.getProperties().put(                 HTTPSProperties.PROPERTY_HTTPS_PROPERTIES,                 new HTTPSProperties(null, ctx));             client = ApacheHttpClient.create(config);         } else {             client = ApacheHttpClient.create(config); //changed         }         client.setFollowRedirects(true);         client.addFilter(new HTTPBasicAuthFilter(fc.getUsername(), fc             .getPassword()));     } ",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"ConnectionPool may spuriously set database connections to read-only When releasing a connection from the SQL connection pool, and SQL exception may cause the connection to never be read/write again.  The offending code is in org.fcrepo.server.storage.ConnectionPool where this method is: {code}     private void setConnectionReadOnly(Connection connection, boolean readOnly) {         if (supportsReadOnly) {             try {                 connection.setReadOnly(readOnly);             } catch (Throwable th) {                 logger.info(""Read-only connections not supported ("" + th.getMessage() + "")"");                 supportsReadOnly = false;             }         }     } {code}  Note that on any exception it is never tried again to change the mode of the connection. And since the default is that connections are read only in the pool, the connection will never again be read/write. The log message is erronous too, it seems to claim that the problem is in setting a connection read only, but it might as well be in setting it read write.  This may happen in a real world scenario, where the exception you try to set to readWrite or readOnly is closed. You will get an exception with ""connection is closed"". You will have this scenario if you call free twice: {code}     public void free(Connection connection) {         try {             // ensure connections returned to pool as read-only             setConnectionReadOnly(connection, true);             if (!connection.isClosed()) connection.close();         } catch (SQLException sqle) {             logger.warn(""Unable to close connection"", sqle);         } finally {             if (logger.isDebugEnabled()) {                 logger.debug(""Returned connection to pool ("" + toString() + "")"");             }         }     } {code} because free tries to set the connection to readOnly.  We think this happens if an SQL query is expired, while still delivering data. The connection will then be freed twice: First when expired, second when the result is finally ready.  We have had this situation happen to us twice in 24 hours, and it makes Fedora unwritable but responsive to reads.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"RISearchServlet chrashes if stylesheets unaccessable Installation of Fedora to standard Debain Tomcat via deployment descriptor files (fedora.xml context description in /var/lib/tomcat7/conf/Catalina/localhost) doesn't set up the webapp directory in the way RISearchServlet (and probably other components) is expecting it. In particular the directory /ri (containing stylesheets) is missing.  However, the set up of RISearchServlet doesn't check for existence/accessibility of these files on initialization.  Part of the problem seems to be, that Trippi needs absolute File path to the stylesheet files, instead of resource URL (obtained by calling getResource).  Maybe connected to this issue: https://jira.duraspace.org/browse/FCREPO-534",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Spring application context not properly configured after installation After installation, configuration parameters regarding Fedora host name and OAI contact information is not reflected in Fedora configuration after start.  Although the settings in server/conf/fedora.fcfg are in place, Fedora (namely DescribeRepositoryServlet) shows default properties from deployed WEB-INF/classes/applicationContext.xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Missing Aduna maven repository breaks build When the Aduna Maven repository was taken offline in mid-April 2014, fcrepo maven build broke, as required dependencies were no longer available.  Fix:  remove the Aduna repository from the the pom, remove/replace sesame artifacts with transitive dependencies to artifacts in the Aduna repo.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Replace Melcoe Sunxacml artifact with JBOSS Sun XACML artifact Replace the private sunxacml libraries stored in the Duraspace maven repo with the open jboss-sunxacml libraries.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Maven fails to resolve dependency due to SSL Exception Using a fresh Maven setup (empty local repository), Maven can not resolve dependencies for project org.fcrepo:fcrepo-common. Looks like there is an SSL issue with https://m2.duraspace.org/content/repositories/releases.  The repository is accessible via web browser but Maven always stops the resolving process with ""peer not authenticated"" error.  I tried to trick Maven into accepting all SSL with http://stackoverflow.com/questions/21252800/maven-trusting-all-certs-unlimited-java-policy, but this just leads to ""unable to find valid certification path to requested target"" error.  Here is the Maven output:  [INFO] ------------------------------------------------------------------------ [INFO] Reactor Summary: [INFO]  [INFO] Fedora Repository Project ......................... SUCCESS [0.610s] [INFO] Fedora Common Library ............................. FAILURE [1.317s] [INFO] Fedora Server Library ............................. SKIPPED [INFO] All Fedora Clients ................................ SKIPPED [INFO] Fedora Admin Client (Swing) ....................... SKIPPED [INFO] Fedora Messaging Client Library ................... SKIPPED [INFO] Fedora Security Modules ........................... SKIPPED [INFO] Fedora Security PDP ............................... SKIPPED [INFO] Fedora JAAS Authentication ........................ SKIPPED [INFO] Fedora Security PEP ............................... SKIPPED [INFO] Fedora HTTP-sourced Authentication ................ SKIPPED [INFO] All Fedora Webapps ................................ SKIPPED [INFO] Fedora Webapp ..................................... SKIPPED [INFO] Fedora Webapp - Demo Content ...................... SKIPPED [INFO] Fedora Webapp - Formatting Objects Processor ...... SKIPPED [INFO] Fedora Webapp - Saxon XSLT Processor .............. SKIPPED [INFO] Fedora Webapp - Image Manipulation ................ SKIPPED [INFO] Fedora Installer .................................. SKIPPED [INFO] Fedora Integration Test ........................... SKIPPED [INFO] Fedora Integration Test - Basic Tests and Resources  SKIPPED [INFO] Fedora Integration Test - Configuration A ......... SKIPPED [INFO] Fedora Integration Test - Configuration B ......... SKIPPED [INFO] Fedora Integration Test - Configuration C ......... SKIPPED [INFO] Fedora Integration Test - Configuration Q ......... SKIPPED [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO] ------------------------------------------------------------------------ [INFO] Total time: 2.922s [INFO] Finished at: Fri Aug 08 09:18:20 CEST 2014 [INFO] Final Memory: 21M/430M [INFO] ------------------------------------------------------------------------ [ERROR] Failed to execute goal on project fcrepo-common: Could not resolve dependencies for project org.fcrepo:fcrepo-common:jar:3.7.2-SNAPSHOT: Failed to collect dependencies for [commons-codec:commons-codec:jar:1.7 (compile), org.apache.httpcomponents:httpclient:jar:4.2.5 (compile), org.apache.httpcomponents:httpmime:jar:4.2.5 (compile), javax.xml:jaxrpc-api:jar:1.1 (compile), org.fcrepo:mulgara-core:jar:2.1.13 (compile), org.jboss.security:jboss-sunxacml:jar:2.0.9.Final (compile), wsdl4j:wsdl4j:jar:1.6.2 (compile), org.slf4j:slf4j-api:jar:1.7.2 (compile), org.slf4j:log4j-over-slf4j:jar:1.7.2 (runtime), org.slf4j:jcl-over-slf4j:jar:1.7.2 (runtime), dom4j:dom4j:jar:1.6.1 (compile), org.fcrepo:saxon:jar:9.0 (compile), javax.servlet:servlet-api:jar:2.4 (provided), joda-time:joda-time:jar:1.5.2 (compile), commons-pool:commons-pool:jar:1.6 (compile), commons-io:commons-io:jar:2.4 (compile), junit:junit:jar:4.10 (test)]: Failed to read artifact descriptor for org.fcrepo:mulgara-core:jar:2.1.13: Could not transfer artifact org.fcrepo:mulgara-core:pom:2.1.13 from/to duraspace-releases (https://m2.duraspace.org/content/repositories/releases): peer not authenticated -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project fcrepo-common: Could not resolve dependencies for project org.fcrepo:fcrepo-common:jar:3.7.2-SNAPSHOT: Failed to collect dependencies for [commons-codec:commons-codec:jar:1.7 (compile), org.apache.httpcomponents:httpclient:jar:4.2.5 (compile), org.apache.httpcomponents:httpmime:jar:4.2.5 (compile), javax.xml:jaxrpc-api:jar:1.1 (compile), org.fcrepo:mulgara-core:jar:2.1.13 (compile), org.jboss.security:jboss-sunxacml:jar:2.0.9.Final (compile), wsdl4j:wsdl4j:jar:1.6.2 (compile), org.slf4j:slf4j-api:jar:1.7.2 (compile), org.slf4j:log4j-over-slf4j:jar:1.7.2 (runtime), org.slf4j:jcl-over-slf4j:jar:1.7.2 (runtime), dom4j:dom4j:jar:1.6.1 (compile), org.fcrepo:saxon:jar:9.0 (compile), javax.servlet:servlet-api:jar:2.4 (provided), joda-time:joda-time:jar:1.5.2 (compile), commons-pool:commons-pool:jar:1.6 (compile), commons-io:commons-io:jar:2.4 (compile), junit:junit:jar:4.10 (test)]   org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:210)   org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies(LifecycleDependencyResolver.java:117)   org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved(MojoExecutor.java:258)   org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:201)   org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)   org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)   org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)   org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)   org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)   org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)   org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)   org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)   org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)   org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)   org.apache.maven.cli.MavenCli.main(MavenCli.java:141)   sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   java.lang.reflect.Method.invoke(Method.java:606)   org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)   org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)   org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)   org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356) Caused by: org.apache.maven.project.DependencyResolutionException: Could not resolve dependencies for project org.fcrepo:fcrepo-common:jar:3.7.2-SNAPSHOT: Failed to collect dependencies for [commons-codec:commons-codec:jar:1.7 (compile), org.apache.httpcomponents:httpclient:jar:4.2.5 (compile), org.apache.httpcomponents:httpmime:jar:4.2.5 (compile), javax.xml:jaxrpc-api:jar:1.1 (compile), org.fcrepo:mulgara-core:jar:2.1.13 (compile), org.jboss.security:jboss-sunxacml:jar:2.0.9.Final (compile), wsdl4j:wsdl4j:jar:1.6.2 (compile), org.slf4j:slf4j-api:jar:1.7.2 (compile), org.slf4j:log4j-over-slf4j:jar:1.7.2 (runtime), org.slf4j:jcl-over-slf4j:jar:1.7.2 (runtime), dom4j:dom4j:jar:1.6.1 (compile), org.fcrepo:saxon:jar:9.0 (compile), javax.servlet:servlet-api:jar:2.4 (provided), joda-time:joda-time:jar:1.5.2 (compile), commons-pool:commons-pool:jar:1.6 (compile), commons-io:commons-io:jar:2.4 (compile), junit:junit:jar:4.10 (test)]   org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:158)   org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:185)  ... 22 more Caused by: org.sonatype.aether.collection.DependencyCollectionException: Failed to collect dependencies for [commons-codec:commons-codec:jar:1.7 (compile), org.apache.httpcomponents:httpclient:jar:4.2.5 (compile), org.apache.httpcomponents:httpmime:jar:4.2.5 (compile), javax.xml:jaxrpc-api:jar:1.1 (compile), org.fcrepo:mulgara-core:jar:2.1.13 (compile), org.jboss.security:jboss-sunxacml:jar:2.0.9.Final (compile), wsdl4j:wsdl4j:jar:1.6.2 (compile), org.slf4j:slf4j-api:jar:1.7.2 (compile), org.slf4j:log4j-over-slf4j:jar:1.7.2 (runtime), org.slf4j:jcl-over-slf4j:jar:1.7.2 (runtime), dom4j:dom4j:jar:1.6.1 (compile), org.fcrepo:saxon:jar:9.0 (compile), javax.servlet:servlet-api:jar:2.4 (provided), joda-time:joda-time:jar:1.5.2 (compile), commons-pool:commons-pool:jar:1.6 (compile), commons-io:commons-io:jar:2.4 (compile), junit:junit:jar:4.10 (test)]   org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:258)   org.sonatype.aether.impl.internal.DefaultRepositorySystem.collectDependencies(DefaultRepositorySystem.java:308)   org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:150)  ... 23 more Caused by: org.sonatype.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.fcrepo:mulgara-core:jar:2.1.13   org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:296)   org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:186)   org.sonatype.aether.impl.internal.DefaultDependencyCollector.process(DefaultDependencyCollector.java:412)   org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:240)  ... 25 more Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.fcrepo:mulgara-core:pom:2.1.13 from/to duraspace-releases (https://m2.duraspace.org/content/repositories/releases): peer not authenticated   org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:538)   org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:216)   org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:193)   org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:281)  ... 28 more Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.fcrepo:mulgara-core:pom:2.1.13 from/to duraspace-releases (https://m2.duraspace.org/content/repositories/releases): peer not authenticated   org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:951)   org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:939)   org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:669)   org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:60)   java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)   java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)   java.lang.Thread.run(Thread.java:744) Caused by: org.apache.maven.wagon.TransferFailedException: peer not authenticated   org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:892)   org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)   org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)   org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)   org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:601)  ... 4 more Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated   sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:397)   org.apache.maven.wagon.providers.http.httpclient.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:126)   org.apache.maven.wagon.providers.http.httpclient.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:437)   org.apache.maven.wagon.providers.http.ConfigurableSSLSocketFactoryDecorator.connectSocket(ConfigurableSSLSocketFactoryDecorator.java:64)   org.apache.maven.wagon.providers.http.httpclient.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)   org.apache.maven.wagon.providers.http.httpclient.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)   org.apache.maven.wagon.providers.http.httpclient.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)   org.apache.maven.wagon.providers.http.httpclient.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)   org.apache.maven.wagon.providers.http.httpclient.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)   org.apache.maven.wagon.providers.http.httpclient.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)   org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.execute(AbstractHttpClientWagon.java:746)   org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:886)  ... 8 more ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Included Postgres driver prevents installation  Just tried to upgrade a 3.7.2 installation with this snapshot on a Debian Wheezy/Java7/Tomcat6/Postgres9.1 combo, but I hit an error when trying to setup database access:  Database -------- Enter a value ==> postgresql  Postgresql JDBC driver ---------------------- Enter a value [default is included] ==>  Database username ----------------- Enter a value ==> myuser  Database password ----------------- Enter a value ==> secret  JDBC URL -------- Enter a value [default is jdbc:postgresql://localhost/fedora3] ==>  JDBC DriverClass ---------------- Enter a value [default is org.postgresql.Driver] ==>   Validating database connection...FAILED  java.sql.SQLFeatureNotSupportedException: Method org.postgresql.jdbc4.Jdbc4Connection.isValid(int) is not yet implemented.         at org.postgresql.Driver.notImplemented(Driver.java:751)         at org.postgresql.jdbc4.AbstractJdbc4Connection.isValid(AbstractJdbc4Connection.java:118)         at org.postgresql.jdbc4.Jdbc4Connection.isValid(Jdbc4Connection.java:19)         at org.fcrepo.utilities.install.Database.test(Database.java:126)         at org.fcrepo.utilities.install.InstallOptions.validateDatabaseConnection(InstallOptions.java:496)         at org.fcrepo.utilities.install.InstallOptions.<init>(InstallOptions.java:255)         at org.fcrepo.utilities.install.Installer.main(Installer.java:158)         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)         at java.lang.reflect.Method.invoke(Method.java:606)         at com.simontuffs.onejar.Boot.run(Boot.java:306)         at com.simontuffs.onejar.Boot.main(Boot.java:159) java.sql.SQLFeatureNotSupportedException: Method org.postgresql.jdbc4.Jdbc4Connection.isValid(int) is not yet implemented.  ERROR validating database connection; see above. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora-export tool throws NullPointerException Running the following command to export all objects from repo:  ./jetty/fedora/client/bin/fedora-export.sh localhost:8980 fedoraAdmin fedoraAdmin DMO default default ~/work/fedora_dump http fedo  returns the following message:  Error  : java.lang.NullPointerExceptionjava.lang.NullPointerException   org.fcrepo.client.utility.export.Export.one(Export.java:78)   org.fcrepo.client.utility.export.Export.main(Export.java:283) ,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Default configuration for Postgres backend inappropriate for Postgres 9 defaults See http://www.postgresql.org/docs/current/static/runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS  PostgreSQL 9.1 now ""treat[s] backslashes literally, as specified in the SQL standard."" This makes the default value of: <param name=""backslashIsEscape"" value=""true""/>  for the ILowLevelStore module in fcfg inappropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"GSearch 2.6 blindly passes invalid XML to SOLR update service Evidence proves GSearch makes no attempt to ensure XML validity before passing the XML to SOLR's update service.  Invalid XML errors are completely lost and obscured in the current implementation; GSearch's log reports an ambiguous ""connection error"" instead of revealing the true source of the error (invalid XML).  One must manually feed XML to SOLR's update service to reveal the source of the error like so: curl -k --request POST -H ""Content-Type: text/xml"" --data-binary ""@invalid.xml"" https://localhost:8443/solr/update  <?xml version=""1.0"" encoding=""UTF-8""?> <response> <lst name=""responseHeader""><int name=""status"">400</int><int name=""QTime"">4</int></lst><lst name=""error""><str name=""msg"">Illegal character ((CTRL-CHAR, code 27))  at [row,col {unknown-source}]: [135,47]</str><int name=""code"">400</int></lst> </response>  In the case of the attached invalid.xml, there is an invisible control character rendering the XML invalid.  Attached is also a screenshot showing xmlstarlet's validator result.  Is is my professional opinion that invalid XML should never be passed blindingly to SOLR's update service.   Recommend running GSearch/Apache Tika generated XML through a validator subroutine prior to being passed to SOLR's update service.  Additionally, proper invalid XML error handling, including logging and related error messaging should be wholly reflected in GSearch's log files.  Today's error messaging is misnomer reflecting a communications error.  In reality, it is not a communications error at all, unless one stretches the definition of communications out like taffy to apply to invalid XML.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
Documentation states wrong configuration path for custom activemq.xml file Documentation [1] states wrong configuration path for activemq.xml file.  Instead of $FEDORA_HOME/server/config an customized broker configuration file should go to $FEDORA_HOME/server/config/spring to be picked up at Spring context start up.  [1] https://wiki.duraspace.org/display/FEDORA37/Messaging,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ActiveMQ Broker won't start when configured via Sprint Bean Sample Spring Bean Broker set-up is invalid.  Putting an activemq.xml to $FEDORA_HOME/server/config/spring somehow interferes with the default broker instantiation. The broker won't start if configured the Spring way. Using default broker instantiation via Messaging Module (configured via fedora.fcfg) works fine.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"WADL generated for objects is broken The WADL file obtained from http://localhost:8080/fedora/objects/application.wadl is incomplete and missing id attributes on the methods.  About 60% of the methods are absent including pretty much all datastreams methods.  Please find attached a sample of the generated WADL file.  Using the 3.5 WADL file ""works"" as a work around. For my use the solution was to switch library to one that hardcodes the API instead of using WADL (eulfedora).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Bug in org.fcrepo.server.security.jaas.auth.module.XmlUsersFileModule We have found that XmlUsersFileModule stops working intermittently, e.g. sometimes it doesn't let local users login. After adding logs to XmlUsersFileModule, I found when it stops working, the getUserDocument() method does return any users from fedora-users.xml. I reckon it's a bug with the 'quick and dirty caching'. If I change getUserDocument() to the following, the bug disappears (tested).  private static Document getUserDocument() throws Exception {     userDoc = DataUtils.getDocumentFromFile(userFile);     return userDoc; }  Our jaas.con: ------------------------- fedora-auth {  org.fcrepo.server.security.jaas.auth.module.XmlUsersFileModule sufficient;  XXXLdapModule sufficient  host.url=""XXX""  auth.type=""simple""  bind.mode=""bind""  bind.user=""XXX""  bind.pass=""XXX""  bind.filter=""XXX""; };",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Synchornisation possible Repository Equivalence issue None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
If Critical follower is down primary only goes read only after one request.  None,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Ingest of AtomZIP files fails with FileNotFoundException Fedora allows exporting whole objects in AtomZIP1.1 file, but ingesting this file doesn't work. No error is presented in front end applications.    However, logs fill with FileNotFoundExceptions like this:  ```  Unable to read temp file created for datastream from archive for qucosa:1 / ATT-1  java.io.FileNotFoundException: /home/claussni/opt/apache-tomcat-7.0.55/temp/atomzip7872738724372657615/ATT-1.0.pdf (No such file or directory)  ```    Root cause is that the temporary folder ```/atomzip7872738724372657615/``` doesn't exist on ingest time.    The bug is in ```org.fcrepo.server.storage.translation.AtomDODeserializer.deserialize()```. The temporary directory gets deleted after building the new digital object, but references for managed datastreams still point there.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Triples removed from triplestore index when a related resource is created See: https://www.pivotaltracker.com/story/show/83268844    Issue occurs when the following sequence is followed:  * Create a node at /parent  * Add rdf:type indexing:indexable to the /parent node  * Create a child node at /parent/child  * Add rdf:type indexing:indexable to the /parent/child node  (now the triplestore has entries for both /parent and /parent/child)  * Update some property on /parent (e.g. dc:title)  (now the triples for /parent/child are gone)    For this, I used the updated message-consumer.    If you look at https://github.com/fcrepo4/fcrepo-message-consumer/blob/master/fcrepo-message-consumer-core/src/main/java/org/fcrepo/indexer/sparql/SparqlIndexer.java#L122  You will see that when /parent is updated, if any triples have an object with a URI that starts with the /parent URI, that, too, is added to DELETE statement.",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Grinder testing framework setup This task is to establish a repeatable process for setting up a Grinder environment to performance test Fedora.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Grinder test runs Based on the Testing Considerations:  https://wiki.duraspace.org/display/FF/Assessment+Plan+-+Performance#AssessmentPlan-Performance-TestingConsiderations    ...please modify (or simply run) existing test (ingest.py) to achieve the following three states:  - a steady state is achieved  - a declining state is achieved  - Fedora 4 exhibits high error rates or stops responding    Please collect and document the results in a way that:  - someone else can run the same tests  - it is clear where the failure points are, i.e. how many objects before failure, or what rate of ingest before failure, etc    Once we have demonstrated that the grinder framework is actually useful in assessing F4 performance, then we can move on to the access tests.    Here are some results from last sprint: https://wiki.duraspace.org/display/FF/Grinder+Results",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
OAIProvider SPARQL/JQL Refactoring This task is to refactor the fcrepo4-oaiprovider project to no longer need any of the classes in the org.fcrepo.oai.jql package:  https://github.com/fcrepo4-labs/fcrepo4-oaiprovider/tree/master/src/main/java/org/fcrepo/oai/jql    Where these classes are used (such as by: https://github.com/fcrepo4-labs/fcrepo4-oaiprovider/blob/master/src/main/java/org/fcrepo/oai/service/OAIProviderService.java) the SPARQL queries should be replaced by direct JQL queries.,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
OAIProvider - Allow admins to manage descriptive content about the repository and make the content available This task is to review and clean up: https://github.com/fcrepo4-labs/fcrepo4-oaiprovider/pull/6    See: https://www.pivotaltracker.com/story/show/81482904,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Draft implementation of a WebAccessControls authz module This task is to develop an initial implementation of:  https://www.w3.org/wiki/WebAccessControl,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel doesn't deploy to OSGi containers When deploying fcrepo-camel to an OSGi container (such as Karaf), the getter/setter type mismatch on the endpoint class causes the startup to fail.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"Exception when accessing federated .DS_Store files When accessing "".DS_Store"" files on a federated filesystem, the following exception is thrown:     INFO 17:25:40.434 (FedoraLdp) HEAD for: resources/ext/imagingserver/Non_Object/Non-Object Archive/GlassNegProject/GlassNegDocumentation/.DS_Store  INFO 17:25:40.473 (WildcardExceptionMapper) Exception intercepted by WildcardExceptionMapper:    java.lang.IllegalArgumentException: Illegal character in path at index 90: http://dams01-test.artic.edu/fcrepo/rest/resources/ext/imagingserver/Non_Object/Non-Object Archive/GlassN  egProject/GlassNegDocumentation/.DS_Store/fcr:metadata          at java.net.URI.create(URI.java:859) ~[na:1.7.0_55]          at org.glassfish.jersey.uri.UriTemplate.normalize(UriTemplate.java:399) ~[jersey-common-2.13.jar:na]          at org.glassfish.jersey.message.internal.JerseyLink$Builder.resolveLinkUri(JerseyLink.java:174) ~[jersey-common-2.13.jar:na]          at org.glassfish.jersey.message.internal.JerseyLink$Builder.build(JerseyLink.java:161) ~[jersey-common-2.13.jar:na]          at org.glassfish.jersey.message.internal.JerseyLink$Builder.build(JerseyLink.java:73) ~[jersey-common-2.13.jar:na]          at org.fcrepo.http.api.FedoraLdp.addResourceLinkHeaders(FedoraLdp.java:521) ~[fcrepo-http-api-4.0.0-beta-05-SNAPSHOT.jar:na]          at org.fcrepo.http.api.FedoraLdp.addResourceLinkHeaders(FedoraLdp.java:506) ~[fcrepo-http-api-4.0.0-beta-05-SNAPSHOT.jar:na]          at org.fcrepo.http.api.FedoraLdp.addOptionsHttpHeaders(FedoraLdp.java:500) ~[fcrepo-http-api-4.0.0-beta-05-SNAPSHOT.jar:na]          at org.fcrepo.http.api.FedoraLdp.addResourceHttpHeaders(FedoraLdp.java:470) ~[fcrepo-http-api-4.0.0-beta-05-SNAPSHOT.jar:na]          at org.fcrepo.http.api.FedoraLdp.head(FedoraLdp.java:148) ~[fcrepo-http-api-4.0.0-beta-05-SNAPSHOT.jar:na]          at sun.reflect.GeneratedMethodAccessor69.invoke(Unknown Source) ~[na:na]      I can access other .DS_Store files but this one (and one in sibling directories) has a space in its path. I can access other files under the path containing the space, but not .DS_Store files.     Will try some more combination to establish a pattern. ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Make fcrepo-camel easier to deploy to OSGi containers fcrepo-camel uses jena classes for handling RDF in the org.fcrepo.camel.processor classes. Those should be swapped out for the corresponding clerezza libraries (http://clerezza.apache.org/), which wrap jena-core in an OSGi-safe way. It is possible to deploy fcrepo-camel without the change, but it would be significantly easier if its dependency chain was fully OSGi compliant -- which would make the pom.xml configuration much cleaner.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
fcrepo-camel should stream resources from fedora The http client converts the response payload to a string. That should remain as an InputStream.,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"fcrepo-camel should accept dynamic fcr:transform endpoints The current fcrepo-camel component allows users to specify endpoints with a static fcr:transform value:    to(""fcrepo:localhost:8080/rest?transform=foo"")    or a configurable property:    to(""fcrepo:localhost:8080/rest?transform={{transform}}"")    but this doesn't allow for the case when that value needs to be dynamically determined while a route is running, such as by checking the indexing:hasIndexingTransform property of an object.    Instead, users should be able to dynamically configure that value in the same way they can dynamically configure the Identifier value:    setHeader(FCREPO_TRANSFORM).xpath(""/rdf:RDF/rdf:Description/indexing:hasIndexingTransform/text()"", ns)     ",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
Write integration test for massive blank node loading Write an integration test that demonstrates the current degraded performance caused by ingested objects with large numbers of blank nodes. See the [discussion thread|https://groups.google.com/d/topic/fedora-tech/uDhbM3CkDQc/discussion] in the fedora-tech group for more details.  ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Many blank nodes under /.well-known/genid/ Currently, blank nodes are created under:  /.well-known/genid/{uuid}    Since performance of the repository suffers when a single container has more than a few thousand children, the current approach of storing all blank nodes directly under the above parent is problematic.  This issue is to ensure that blank nodes do not introduce a performance penalty by instead creating an auto-generated hierarchy under the above path, or by some other means.    See: https://groups.google.com/d/msg/fedora-tech/uDhbM3CkDQc/8aRR76G76wgJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Better JMS integration test Using the awaitility provides a cleaner IT for the JMS producer.    https://github.com/fcrepo4/fcrepo4/pull/668,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Fedora ontology contains unknown owl predicates The fedora ontology at: http://fedora.info/definitions/v4/repository contains triples for owl:Individual, but AFAIK, this is not a valid owl property (it isn't in the spec for the owl v2 schema: http://www.w3.org/2002/07/owl#). These triples are not visible in the HTML view, so you must use `curl` to request the application/rdf+xml representation in order to see these values.    It is quite possible that owl:NamedIndividual is meant for the ""active"" and ""deleted"" values so that the ontology would read like this:       <owl:NamedIndividual rdf:about=""http://fedora.info/definitions/v4/repository#active"">       <rdfs:label xml:lang=""en"">active</rdfs:label>       <rdfs:comment xml:lang=""en"">The resource is active.</rdfs:comment>       <rdf:type rdf:resource=""http://fedora.info/definitions/v4/repository#ResourceStatus""/>     </owl:NamedIndividual>     <owl:NamedIndividual rdf:about=""http://fedora.info/definitions/v4/repository#deleted"">       <rdfs:label xml:lang=""en"">deleted</rdfs:label>       <rdfs:comment xml:lang=""en"">The resource has been marked for deletion.</rdfs:comment>       <rdf:type rdf:resource=""http://fedora.info/definitions/v4/repository#ResourceStatus""/>     </owl:NamedIndividual>",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Clean compiler warnings Clean out compiler warnings in kernel and elsewhere.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Correct JavaDocs for -kernel and -kernel-impl The JavaDocs for core types in -kernel and -kernel-impl still make references to types like FedoraObject, which no longer exist after the Great LDP-aimed Refactoring of fall 2014. Part of the reason this happened is because those types were mentioned as ""literals"" in JavaDocs, instead of as the target of @link tags, which would have allowed IDEs to rename them as refactoring occurred. This ticket is to correct the bad comments that now exist and ensure that types are mentioned as the targets of @link tags to avoid the problem in future.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Investigate using Hamcrest matchers for type determination We do an awful lot of nominal type-determination based on JCR mixins. Most of this happens via static methods with responsibility for a single type or a few types, with boolean result. Often these methods are wrapped in Guava Predicate<>s for operation over collections or Iterator<>s. It might be worth developing a clean and readable micro-framework around Hamcrest matchers for type-determination that would make it easy to find the right test or predicate for a particular task. But it might be more work than is worthwhile. This ticket is to find out which. The result will either be nothing or another ticket for the actual construction and integration of such a micro-framework.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel unit tests are behaving more like integration tests The existing unit tests for fcrepo-camel act more like integration tests (i.e. they start up an instance of fedora, etc). The tests should be refactored to work as true unit tests.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
Support dcterms:title and skos:prefLabel for node titles Support more predicates for finding node titles: dcterms:title and skos:prefLabel.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"JMS event properties do not need to be in the fcrepo ontology The fcrepo ontology (http://fedora.info/definitions/v4/repository#) contains properties that were used for the JMS event system before the 4.0.0 release. Those properties are no longer used by the eventing system, and they should be removed from the ontology.    The properties in question are: identifier, baseURL, eventType, properties and timestamp    See also: https://github.com/fcrepo4/ontology/issues/10",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Prepare fcrepo-camel for graduation from fcrepo4-labs A number of small changes should be made to prepare fcrepo-camel for graduation from the -labs organization. They include:    * Decouple fcrepo-camel runtime from fcrepo server code  * Adjust maven configuration to include release-related artifacts; sonatype parent  * Use an embedded fuseki server (rather than a containerized servlet) for the triplestore integration tests  * Improve the integration tests to do more checking of body content    ,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"Improve integration tests for fcrepo-camel The integration tests for fcrepo-camel could be more thorough, and they could do a better job of independently checking the results of an external operation (such as saving data to a triplestore).    In particular, an embedded solr server should be set up as part of this    Also, an OSGi environment should test the deployability of the bundle.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"fcrepo-camel sparql processors support Fuseki but not Sesame The message format and headers produced by the sparql processors work fine for fuseki but not for sesame. For example, sesame requires the content-type header to be equal to ""application/x-www-form-urlencoded"" and the body needs to be structured in key=value format like this:  update={sparql update query}    That format will work for both Fuseki and Sesame.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"base url contains trailing slash The message headers produced by fedora include a ""baseUrl"" and an ""identifier"" header. The baseUrl header is produced with a trailing slash and the identifier header contains an initial slash. Thus, in order to compose the two elements (baseUrl + identifier) into a complete path, one must first strip off any trailing slash from the baseUrl.    It would be better if the baseUrl value simply didn't contain the trailing slash.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Too many transactions kill Fedora Created stress test script (see attached file).     The script loops over the following tasks 10,000 times:   - open a transaction  - create an object  - commit the transaction     Fedora starts consistently throwing error around cycle #950.    After that, the app becomes unresponsive and Tomcat needs to be killed. See logfile excerpt.     Interestingly, on my ArchLinux development VM with less RAM and processor this does not happen.     Happy New Year!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add support for Prefer: headers in fcrepo-camel The fcrepo-camel component does not support Prefer headers. It should support these headers both statically, with an endpoint declaration (fcrepo:{uri}?preferOmit=...) and with a dynamic header value (HTTP_PREFER).",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Eliminate unnecessary iterators There are several types in org.fcrepo.kernel.impl.utils.iterators that do nothing but create properly type-safe Iterators from pre-Java-generics JCR iterator types. These can be safely destroyed in favor of other idioms in client code, which will reduce the size of the codebase with no other changes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Analyze Marmotta's usage of Memento as a base on which to build Fedora's versioning HTTP API Memento:    http://www.mementoweb.org/    is a specification for transacting in versions of resource representations over HTTP. It has been adopted by at least one other LDP implementation:    http://marmotta.apache.org/platform/versioning-module.html    This ticket is to analyze the match of Marmotta's adoption of Memento with Fedora community use cases around versioning and to determine what work would be needed to adapt it for Fedora. In particular, we want to understand the ways in which Memento would interact with LDP.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add proper OSGi support for Fedora modules The maven-bundle-plugin is not properly configured for the various fcrepo-* modules, despite being set up to package these as OSGi bundles.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add more logging to fcrepo-camel The logging in fcrepo-camel is too minimal. This issue is to track the addition of better debug logging support.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove dependency on camel-http4 The fcrepo-camel component with throw exceptions when the underlying http client encounters errors. The exception that is thrown uses an exception class from camel-http4, which is only a moderately good fit for fcrepo-camel. Since other camel component libraries tend not to have these cross-component dependencies, I think that it would be a good idea to remove the reliance on camel-http4 and implement the Exception class internally.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel doesn't build properly with java8 The integration tests don't build properly. Certain tests expect null values but the tests are written such that these null values are not associated with an Object.class type.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel RDF parsing classes should define a context node When certain types of RDF documents are passed to the camel processor classes (for instance, turtle documents with an implied subject), the RDF parser will create a dummy subject URI instead of using the message headers to construct a real subject URI.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"issues with OSGi bundling/deployment The javax.ws.rs.core classes appear to be causing issues with OSGi loading of fcrepo-camel.    When a route tries to use the FcrepoClient, a class not found error is thrown, even though the class (apparently) has been loaded into the bundle.    Since Link header parsing is the only place where the Jersey classes are being used, one option would be to parse the headers manually (split on "";"", remove leading and trailing <>, etc)",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"We need better examples for the camel component The fcrepo-camel component contains a few examples, but these are both rather poor in quality. It would be better to have more complete examples.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Role-based authorization delegate allows user with only reader permission to PATCH On a Fedora 4 instance configured to use the role-based authorization delegate, I have added an fcr:accessroles ACL to the collection /bulk13  that sets up ""testuser"" with just read-only access:    {noformat}  { ""testuser"": [ ""reader"" ] }  {noformat}    Everything appears fine when I attempt to modify a container resource  under /bulk13 with PUT or POST; the PUT is rejected with a 409 and error  messages referring to insufficient permissions to modify the triples, and  the POST is rejected with a 403.    However, when I send a PATCH request with a SPARQL update query, it  succeeds (returns 204, and the resource gets updated). For example, this  command will add a triple with the predicate dc:title and the object  ""foobar 2"":    {noformat}  curl -X PATCH  http://localhost:8080/rest/bulk13/6c/16/04/6d/6c16046d-3c21-4a21-b866-febdf  cb8a61d -H 'Content-Type: application/sparql-update' -d'INSERT { <>  <http://purl.org/dc/elements/1.1/title> ""foobar 2"". } WHERE {}' -u  testuser:XXXXXX -i  {noformat}  Yields:  {noformat}  HTTP/1.1 204 No Content  ETag: ""ad1d4b9ed567a9bbd470de712e6c71765345d0c5""  Last-Modified: Tue, 13 Jan 2015 14:34:07 GMT  Server: Jetty(8.1.11.v20130520)  {noformat}    This is incorrect behavior, since testuser should not be able to modify  any resources under /bulk13, per the fcr:accessroles configuration.    Checking the effective access roles using an admin user, this is what I get:  {noformat}  curl 'http://localhost:8080/rest/bulk13/6c/16/04/6d/6c16046d-3c21-4a21-b866-febdfcb8a61d/fcr:accessroles?effective' -u fedoraAdmin:XXXX -i  {noformat}  Yields:  {nofoRmat}  HTTP/1.1 200 OK  Content-Length: 23  Content-Type: application/json  Server: Jetty(8.1.11.v20130520)    {""testuser"":[""reader""]}  {noformat}",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Write lock in DefaultDOManager can cause lost updates when, e.g., adding relationships from multiple threads The implementation of getWriteLock in DefaultDOManager was changed a while ago to allow for improved ingest throughput:    https://jira.duraspace.org/browse/FCREPO-1024    However, since the write lock for an object is obtained after reading and deserializing an object, adding relationships to an object from multiple threads at the same time can result in lost updates, because a later thread may modify a datastream using stale data. Previously, if two threads tried to obtain a writer on the same object at the same time, an exception would be thrown.    A possible fix is to obtain the write lock before reading and deserializing the object. I've prepared a unit test and a small patch here:    https://github.com/UNC-Libraries/fcrepo/compare/read-write-lock",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
indexing# namespace This task is to create a new http://fedora.info/definitions/v4/config namespace that includes the following predicates:  config:indexable  config:hasIndexingTransform    See: https://github.com/fcrepo4/ontology/issues/12  =================  Once this namespace has been created and added to:  https://github.com/fcrepo4/ontology    A new ticket should be created to:  - update codebases that currently expect/define indexing:indexable and indexing:hasIndexingTransform  - update wiki documentation,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Fix errors in the documentation There were some errors in the documentation, including incorrect links, and outdated information.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
align the use of the indexing# namespace with the source OWL document Related to https://jira.duraspace.org/browse/FCREPO-1285    The camel component should start using the config# namespace instead of the indexing# namespace. Same thing for fcrepo-message-consumer,"f4-camel,f4-message-consumer",0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"Inconsistent naming conventions for configuration parameters The fcrepo configuration values passed into the JVM follow inconsistent conventions, including CamelCase, hyphens, underscores and period delimiters. Also, the values of these configuration parameters expect different formats. For example:    fcrepo.home (expects a regular path)  fcrepo.modeshape.configuration (expects a path prefixed by either ""file:"" or ""classpath:"")  fcrepo.ispn.repo.CacheDirPath (uses camelCase, expects a regular path)  fcrepo.binary-store-path (uses hyphens ? and expects a regular path)  fcrepo.activemq.dir (regular path)  fcrepo.infinispan.cache_configuration (why is this not fcrepo.ispn.*? and why the underscore?)    Are there reasons why there is such a diversity of formats?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update fcrepo4 pom.xml for Java8 source This task is to update the main fcrepo4 pom.xml to specify support for ""source"" of 1.8, while keeping ""target"" as 1.7.    Additionally, fcrepo-camel and fcrepo-build-tools /pom.xml should be updated.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Subset of child nonRdfSource properties not found in responses If a resource ""parent"" has a child resource ""child"", where the child has a property of dc:title, the following request will correctly include the child's title:  curl -i  -H""Prefer: return=representation; include=\""http://fedora.info/definitions/v4/repository#EmbedResources\"""" http://localhost:8080/rest/parent    However, if the child is instead a nonRdfSource (an image, for example) with a dc:title, then the above request does not include the child's title.    This is likely due to the logic in PropertiesRdfContext.java not currently also including the nonRdfSourceDescription properties.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add support for fcrepo connections over https The fcrepo-camel component assumes that all connections to the fedora endpoint takes place over plain HTTP. The component should support connects over HTTPS as well. This can be done by adding a simple ""secure"" endpoint option.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"HTML-templates contain errors when proxied over an HTTPS connection When requesting the HTML version of the REST API, the output is incorrect when accessed over an HTTPS proxy. The hostnames are correct, but the scheme is written as http://.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Production Transaction Manager This task is to establish a default Transaction Manager implementation to be wired into the ISPN layer. Currently, the dummy, in-memory Transaction Manager is used.    Reference:  * http://infinispan.org/docs/6.0.x/user_guide/user_guide.html#_configuration_4  * http://docs.jboss.org/infinispan/6.0/apidocs/org/infinispan/transaction/lookup/JBossStandaloneJTAManagerLookup.html  * http://narayana.io/",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Long-running ingest produces ""OutOfMemoryError: GC overhead limit exceeded"" error When ingesting object metadata as RDF/XML, initial batches of 1000 objects are successful and pretty constant in processing time.  After 5-8 batches are loaded, the processing time increases and eventually there is the error ""java.lang.OutOfMemoryError: GC overhead limit exceeded"".    If I restart the servlet container between batches, the error goes away.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"""java.text.ParseException: Next event is not a Separator"" raised When you pass a filename header with an unescaped quote in it. It's fine for this to be an error, but is the java specific exception appropriate?    I set a header like this:  Content-Disposition: attachment; filename="" ""Value Added"" in Editorial Acquisitions.pdf""    The following example provokes the situation:  curl -XPOST -i --data-binary @file.txt -H""Content-Disposition: attachment; filename=""some"" junk.txt"" localhost:8080/f4/rest    See: https://github.com/fcrepo4/fcrepo4/issues/687",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable component-wide configuration via spring The camel component can be configured via uri options, but some of these options would apply to every use of the component (such as authUsername/authPassword), and it is cumbersome to type this each time.    It would be useful if the camel component would accept component-level configuration values via spring like many of the other camel components (i.e. activemq, jms, ssh, etc). Then, the route builder doesn't need to include all of these values each time.  ",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
change the copyright date to 2015 The copyright date in the license headers is listed as 2014. This should be changed to 2015 for the 4.0.1 release.,"f4-auth,f4-camel,f4-core,f4-java-client,f4-message-consumer,f4-oaiprovider",0,1,1,1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0
"Concurrent API-A-LITE get requests fail There is a concurrency bug in the API-A-LITE ""get"" APIs in Fedora 3.8, which potentially results in a server exception and failure to properly respond to the following methods:    getDatastreamDissemination  getDissemination  getObjectProfile  getObjectHistory    The bug is in class org.fcrepo.server.access.FedoraAccessServlet.java, in which the instance variable requestURI is used in the processing logic.  As this is an instance variable it is not thread-safe, resulting in unexpected values for a given thread and exceptions during processing.      Here is the code snippet:  --------------------------------  public class FedoraAccessServlet   ...        /** Portion of initial request URL from protocol up to query string */      private String requestURI = null;      ...       public void doGet(HttpServletRequest request, HttpServletResponse response)              throws ServletException, IOException {      ...          requestURI = request.getQueryString() != null ?                  request.getRequestURL().toString() + ""?"" + request.getQueryString()                  : request.getRequestURL().toString();          logger.info(""Got request: {}"", requestURI);    ...          String[] URIArray = requestURI.substring(0, request.getRequestURL().length()).split(""/"");  --------------------------------    It appears that this instance variable has been around since at least Fedora 3.3, but it had been used only for logging.  So previous errors may have been limited to logging an incorrect requestURI.    It looks like Fedora 3.8 has a great deal of code cleanup and optimizations - thanks much for the hard work and the release!  However, I guess that this bug was introduced during some of the cleanup.    In our system, we process many requests simultaneously through this servlet in order to provide many images at once for search results or page thumbnails.  In our system the error manifests in several ways, about 0.5% of the time:    1. DatastreamNotFoundException, because requestURI.substring is called with the shorter length of a different request, resulting in truncated datastream names:  org.fcrepo.server.errors.DatastreamNotFoundException: [DefaulAccess] No datastream could be returned. Either there is no datastream for the digital object ""nlm:nlmuid-101539482-pgimg-11"" with datastream ID of ""THUM ""  OR  there are no datastreams that match the specified date/time value of ""null ""  .          at org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1124) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.getDatastreamDissemination(FedoraAccessServlet.java:594) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:447) ~[fcrepo-server-3.8.0.jar:na]    2. StringIndexOutOfBoundsException, because requestURI.substring is called with the longer length of a different request:  java.lang.StringIndexOutOfBoundsException: String index out of range: 62          at java.lang.String.substring(String.java:1907)          at org.fcrepo.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:208)    3. Incorrect logging - threads log that they are processing a different URI than they actually are.  Here, three different threads report on the processing of page 11 (should be processed by one thread in our system):  INFO 2015-01-16 10:11:51.960 [http-bio-8080-exec-10] (FedoraAccessServlet) Got request: http://localhost:8080/fedora/get/nlm:nlmuid-63510860R-pgimg-11/THUMB  ERROR 2015-01-16 10:11:52.081 [http-bio-8080-exec-8] (FedoraAccessServlet) Datastream not found for request: http://localhost:8080/fedora/get/nlm:nlmuid-63510860R-pgimg-11/THUMB (actionLabel=Access)  org.fcrepo.server.errors.DatastreamNotFoundException: [DefaulAccess] No datastream could be returned. Either there is no datastream for the digital object ""nlm:nlmuid-63510860R-pgimg-11"" with datastream ID of ""THUM ""  OR  there are no datastreams that match the specified date/time value of ""null ""  .          at org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1124) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.getDatastreamDissemination(FedoraAccessServlet.java:594) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:447) ~[fcrepo-server-3.8.0.jar:na]  ERROR 2015-01-16 10:11:52.095 [http-bio-8080-exec-16] (FedoraAccessServlet) Datastream not found for request: http://localhost:8080/fedora/get/nlm:nlmuid-63510860R-pgimg-11/THUMB (actionLabel=Access)  org.fcrepo.server.errors.DatastreamNotFoundException: [DefaulAccess] No datastream could be returned. Either there is no datastream for the digital object ""nlm:nlmuid-63510860R-pgimg-11"" with datastream ID of ""THUM ""  OR  there are no datastreams that match the specified date/time value of ""null ""  .          at org.fcrepo.server.access.DefaultAccess.getDatastreamDissemination(DefaultAccess.java:1124) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.getDatastreamDissemination(FedoraAccessServlet.java:594) ~[fcrepo-server-3.8.0.jar:na]          at org.fcrepo.server.access.FedoraAccessServlet.doGet(FedoraAccessServlet.java:447) ~[fcrepo-server-3.8.0.jar:na]    We have patched this class in our system by making this variable a local variable:  // Portion of initial request URL from protocol up to query string  // Moved to a local variable to be thread-safe        String requestURI = request.getQueryString() != null ?                request.getRequestURL().toString() + ""?"" + request.getQueryString()                : request.getRequestURL().toString();    This proposed fix is attached.    We have tested the patch in our Fedora 3.8 system and it seems to be OK.  Converting this variable to local also seems to be OK given the intent of this variable and the rest of the code in this class, but it would be helpful to have confirmation given the effort that has gone into optimizing this class and code.    I understand also that this API has been deprecated since Fedora 3.4-RC1, so an alternative solution would be to just use the REST API.  However, this code was adjusted for Fedora 3.8, so perhaps it is still common for many organizations to use this API.  We do still use it in parts of our system.    Thanks again for all of the work in code cleanup, optimizations and other enhancements in this large release!",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Error processing """"""-escaped literals When posting the turtle RDF:    <> <http://purl.org/dc/terms/description> """"""  """""" .    An internal server error is produced:         Ldp::HttpError:   (0x0D)STATUS: 500 org.apache.jena.riot.RiotException: [line: 2, col: 48] illegal escape sequence value:          at org.apache.jena.riot.system.ErrorHandlerFactory$ErrorHandlerStd.fatal(ErrorHandlerFactory.java:136)          at org.apache.jena.riot.lang.LangEngine.raiseException(LangEngine.java:163)          at org.apache.jena.riot.lang.LangEngine.nextToken(LangEngine.java:106)          at org.apache.jena.riot.lang.LangTurtleBase.predicateObjectItem(LangTurtleBase.java:287)          at org.apache.jena.riot.lang.LangTurtleBase.predicateObjectList(LangTurtleBase.java:269)          at org.apache.jena.riot.lang.LangTurtleBase.triples(LangTurtleBase.java:250)          at org.apache.jena.riot.lang.LangTurtleBase.triplesSameSubject(LangTurtleBase.java:191)          at org.apache.jena.riot.lang.LangTurtle.oneTopLevelElement(LangTurtle.java:44)          at org.apache.jena.riot.lang.LangTurtleBase.runParser(LangTurtleBase.java:90)          at org.apache.jena.riot.lang.LangBase.parse(LangBase.java:42)          at org.apache.jena.riot.RDFParserRegistry$ReaderRIOTLang.read(RDFParserRegistry.ja...    See https://github.com/fcrepo4/fcrepo4/issues/694",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"example projects have incorrect blueprint namespaces The blueprint files for the example projects in fcrepo-camel use version 1.0.0 of the aries namespace, but this is incompatible with the update-strategy=""reload"" that is used (introduced in version 1.1.0). The XML files need the namespace declarations to refer to the correct version.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Ingest degradation bulk load It has been observed that when ingesting 50,000 resources with the attached mods.rdf file, ingest performance drops between the creation of 30,000 and 40,000 resources.   The attached mods.rdf includes 13 blanknodes.    The following script can be used to reproduce the issue:  ===========  curl -XPUT localhost:8080/fcrepo/rest/test/collection0    time for x in {0..50000}; do if [ $(( $x % 500 )) == 0 ]; then d=`date`; echo ""$d --- $x"" ; fi; curl -s -XPOST --data-binary @mods.ttl -H""Content-Type: text/turtle""   localhost:8080/fcrepo/rest/test/collection0 > /dev/null; done  ===========    Tests should be performed that create resources that do and do not include RDF bodies.  Additionally, tests should be performed in repository hierarchies that are initially empty and in those that already contain thousands of resources.    Once a scenario is found to exhibit performance degradation, repeat the test while profiling the application with YourKit:  https://wiki.duraspace.org/display/FF/Profiling+Fedora    ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create a features.xml artifact for easy deployment in karaf When deploying fcrepo-camel in karaf, it is possible to copy the compiled jarfile to the $KARAF_HOME/deploy folder, but it would be better to have a features.xml artifact in the maven repository so that you can add (provision) fcrepo-camel support to karaf like you can with other camel artifacts. This is described here: http://karaf.apache.org/manual/latest/users-guide/provisioning.html    Basically, with a features.xml file, deployment consists of:    > feature:repo-add mvn:org.fcrepo.camel/fcrepo-camel/4.0.1/xml/features  > feature:install fcrepo-camel    This would make deployment of fcrepo-camel-based routes significantly easier.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update indexing documentation This task is to update the wiki documentation to note the ontology updates included in:  https://jira.duraspace.org/browse/FCREPO-1287 and  https://jira.duraspace.org/browse/FCREPO-1285,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Publish indexing# and repository# ontologies Found in https://github.com/fcrepo4/ontology    ----------  The existing vocabularies should be republished at:  http://fedora.info/definitions/v4/2014/11/27/repository  http://fedora.info/definitions/v4/2014/11/27/oai-pmh    ----------  The two vocabularies should be pushed at the respective URLs:  http://fedora.info/definitions/v4/2015/02/04/repository  http://fedora.info/definitions/v4/2015/02/04/indexing    ----------  With the following endpoints redirecting to the current vocabulary URLs above:  http://fedora.info/definitions/v4/repository  http://fedora.info/definitions/v4/indexing  http://fedora.info/definitions/v4/oai-pmh,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"incorrect links in documentation Many of the README files contain incorrect, outdated or version-specific links to the fcrepo wiki.","f4-auth,f4-camel,f4-message-consumer",0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Reduce a Sonar critical Issue This task is to fix the 1 critical issue and reduce the 200 major issues:  http://sonar.fcrepo.org/drilldown/issues/1,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update wiki documentation for configuration changes This task is to update the wiki documentation in response to codebase updates from:  https://jira.duraspace.org/browse/FCREPO-1288,"f4-core,f4-message-consumer",0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"Standardize ontology class names This task is to update the ontology class and property names, and ensure that the changes are reflected in the appropriate locations in the source code.    See: https://github.com/fcrepo4/ontology/issues/14",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Sparql processors should support named graphs The processor classes in fcrepo-camel will transform an RDF representation of a fedora node into a SPARQL-Update query capable of being sent to an external triplestore. It would be useful to be able to optionally store these in named graphs.    The implementation should accept a new header value, for example CamelFcrepoNamedGraph, which would allow for dynamic changes to this value without needing a separate processor class.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"change how https-based connections work with fcrepo-camel The current implementation of fcrepo-camel allows a user to interact with a remote fedora repository over https by setting the secure=true URI parameter.    I do not think this is a good implementation. It is error prone and departs from how this is handled in other camel components (such as http4).    The better implementation would remove the 'secure' option and instead use the https:// protocol if the fedora port is set as 443 (otherwise using http://). I am not convinced that there is a use case for using https:// with non-standard ports (e.g. 9443), and as it stands, this seems like an unnecessary option.    If that use case emerges, we can revisit this decision.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Rewrite RDF generation framework for Java 8 Rewrite the RDF generation framework in -kernel-modeshape to use Java 8's ""pseudo-functional"" Collections API enhancements. This should dramatically shorten and clarify the code therein.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - Dodgy - Parameter must be nonnull but is marked as nullable This task is to fix major issue ""Dodgy - Parameter must be nonnull but is marked as nullable"". There are 25 files: http://sonar.fcrepo.org/drilldown/issues/1",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issues ""Methods should not be too complex"" This task is to fix major issue ""Methods should not be too complex"". There are 23 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AMethodCyclomaticComplexity&rule_sev=MAJOR&severity=MAJOR  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Avoid too deep inheritance tree"" This task is to fix major issue ""Avoid too deep inheritance tree"". There are 22 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AMaximumInheritanceDepth&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Bad practice - Class inherits equals() and uses Object.hashCode()"" This task is to fix major issue ""Bad practice - Class inherits equals() and uses Object.hashCode()"". There are 10 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3AHE_INHERITS_EQUALS_USE_HASHCODE&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Generic exceptions Error, RuntimeException, Throwable and Exception should never be thrown"" This task is to fix major issue ""Generic exceptions Error, RuntimeException, Throwable and Exception should never be thrown"". There are 9 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS00112&rule_sev=MAJOR&severity=MAJOR  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Correctness - Class defines field that masks a superclass field"" This task is to fix major issue ""Correctness - Class defines field that masks a superclass field"". There are 9 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3AMF_CLASS_MASKS_FIELD&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Class Fan Out Complexity"" This task is to fix major issue ""Class Fan Out Complexity"". There are 8 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=checkstyle%3Acom.puppycrawl.tools.checkstyle.checks.metrics.ClassFanOutComplexityCheck&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Lambdas and anonymous classes should not have too many lines"" This task is to fix major issue ""Lambdas and anonymous classes should not have too many lines"". There are 7 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1188&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Class Data Abstraction Coupling"" This task is to fix major issue ""Class Data Abstraction Coupling"". There are 6 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=checkstyle%3Acom.puppycrawl.tools.checkstyle.checks.metrics.ClassDataAbstractionCouplingCheck&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Final Class"" This task is to fix major issue ""Final Class"". There are 6 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=checkstyle%3Acom.puppycrawl.tools.checkstyle.checks.design.FinalClassCheck&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Abstract Class Without Abstract Method"" This task is to fix major issue ""Abstract Class Without Abstract Method"". There are 6 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AAbstractClassWithoutAbstractMethod&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Class with only private constructors should be final"" This task is to fix major issue ""Class with only private constructors should be final"". There are 6 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AClassWithOnlyPrivateConstructorsShouldBeFinal&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Throws declarations should not be redundant"" This task is to fix major issue ""Throws declarations should not be redundant"". There are 6 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3ARedundantThrowsDeclarationCheck&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Loggers should be ""private static final"" This task is to fix major issue ""Loggers should be ""private static final"" and should share a naming convention"". There are 5 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1312&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Unused Private Field"" This task is to fix major issue ""Unused Private Field"". There are 5 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AUnusedPrivateField&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Use Index Of Char"" This task is to fix major issue ""Use Index Of Char"". There are 5 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AUseIndexOfChar&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - Declarations should use Java collection interfaces such as ""List"" rather than specific implementation classes such as ""LinkedList"" This task is to fix major issue Declarations should use Java collection interfaces such as ""List"" rather than specific implementation classes such as ""LinkedList"". There are 4 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1319&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Try-catch blocks should not be nested"" This task is to fix major issue ""Try-catch blocks should not be nested"". There are 4 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1141&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issue - ""Close Resource"" This task is to fix major issue ""Close Resource"". There are 4 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3ACloseResource&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issues - ""Static Variable Name"" and ""Avoid commented-out lines of code"" This task is to fix two major issues - Static Variable Name and Avoid commented-out lines of code. There are total 5 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=checkstyle%3Acom.puppycrawl.tools.checkstyle.checks.naming.StaticVariableNameCheck&rule_sev=MAJOR&severity=MAJOR  http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3ACommentedOutCodeLine&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issues - ""Constructor Calls Overridable Method"" and ""Collapsible ""if"" statements should be merged"" This task is to fix two major issues - Constructor Calls Overridable Method and Collapsible ""if"" statements should be merged. There are total 5 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AConstructorCallsOverridableMethod&rule_sev=MAJOR&severity=MAJOR  http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1066&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce Sonar major issues - ""Methods should not be empty"", ""Unused protected method"", and ""FIXME tags should be handled"" This task is to fix 3 major issues ""  Methods should not be empty 2 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1186&rule_sev=MAJOR&severity=MAJOR   Unused protected method 2 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AUnusedProtectedMethod&rule_sev=MAJOR&severity=MAJOR  FIXME tags should be handled 1 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1134&rule_sev=MAJOR&severity=MAJOR  """,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce 5 Sonar major issues (1) This task is to fix 5 major issues ""   Performance - Method concatenates strings using + in a loop 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3ASBSC_USE_STRINGBUFFER_CONCATENATION&rule_sev=MAJOR&severity=MAJOR  Unused private method 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AUnusedPrivateMethod&rule_sev=MAJOR&severity=MAJOR  Singular Field 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3ASingularField&rule_sev=MAJOR&severity=MAJOR  Correctness - Nullcheck of value previously dereferenced 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3ARCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE&rule_sev=MAJOR&severity=MAJOR  Empty arrays and collections should be returned instead of null 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1168&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce 5 Sonar major issues (2) Reduce 5 Sonar major issues -   This task is to fix 5 major issue ""   Compare Objects With Equals 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3ACompareObjectsWithEquals&rule_sev=MAJOR&severity=MAJOR  Simplify Conditional 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3ASimplifyConditional&rule_sev=MAJOR&severity=MAJOR  Correctness - Field only ever set to null 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3AUWF_NULL_FIELD&rule_sev=MAJOR&severity=MAJOR  Exception types should not be tested using ""instanceof"" in catch blocks 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=squid%3AS1193&rule_sev=MAJOR&severity=MAJOR    Bad practice - Class defines compareTo(...) and uses Object.equals() 9 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3AEQ_COMPARETO_USE_OBJECT_EQUALS&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce 5 Sonar major issues (3) This task is to fix 5 major issue ""  Use String Buffer For String Appends 2 files: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AUseStringBufferForStringAppends&rule_sev=MAJOR&severity=MAJOR  Performance - Should be a static inner class 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=findbugs%3ASIC_INNER_SHOULD_BE_STATIC&rule_sev=MAJOR&severity=MAJOR  Simple Date Format Needs Locale 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3ASimpleDateFormatNeedsLocale&rule_sev=MAJOR&severity=MAJOR  Unused formal parameter 1 file: http://sonar.fcrepo.org/drilldown/issues/1?&rule=pmd%3AUnusedFormalParameter&rule_sev=MAJOR&severity=MAJOR",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Build plugin updates There are a lot of plugins being used in the Fedora 4 core modules that need updating. This ticket is to update the heck out of 'em.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Rejigger Checkstyles to work around Java 8 idioms Checkstyles currently has problems with Java 8 idioms like lambdas and lengthy method call chains. The Maven plugin we use for Checkstyles has been switched off to avoid failing builds in the branch for Java 8 for now:    https://github.com/fcrepo4/fcrepo4/tree/Java8    but should be fixed and turned back on. Although it would be ideal to actually turn all Checkstyle rules back on, if it is possible to turn on all rules except a small subset that pose difficulties for lamba idioms and the like, that would also be acceptable.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Missing default properties in pom.xml A couple of system properties are referenced throughout the POMs and code but never declared in any POM. These properties can be set in Maven command line executions: ```mvn ... -Dfcrepo.test.port=8080```    The properties should be declared in the man POM using some default values. They can than be overridden by command line arguments.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Maven fails to resolve plugin dependency Executing ```mvn -U dependency:resolve-plugins``` fails with:    ""Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.8:resolve-plugins (default-cli) on project fcrepo: Nested: Could not find artifact org.eclipse.mylyn.github:org.eclipse.egit.github.core:jar:3.1.0.201310021548-r in fcrepo-thirdparty (http://maven.fcrepo.org/nexus/content/repositories/thirdparty/)""",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Remove DublinCoreDescribable from vocabulary Since DublinCoreDescribable is no longer used in the context of Fedora, it the term/class should be removed from the vocabulary:  http://fedora.info/definitions/v4/repository#DublinCoreDescribable",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
Update Repository and Indexing URIs in codebases This task is to ensure that references to the repository# and indexing# namespaces point to the following URLs:  http://fedora.info/definitions/repository/v4.1.0  http://fedora.info/definitions/indexing/v4.1.0,"f4-camel,f4-core,f4-message-consumer,f4-ontology",0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0
fcrepo4-release tests broken None,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel should include explicit support for transactions Fcrepo-camel does not provide explicit support for transactions, but it should. Furthermore, it should do so in such a way that it does not get in the way of a user -- this would probably involve using appropriate header values inside a transaction (which are then cleared after committing the transaction). This way, a user program would not need to do any extra (unnecessary) url processing.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update pom.xml for list of committers This task is to update the top-level pom.xml to include only the ""committers"" in the <developers> section.  https://wiki.duraspace.org/display/FF/Fedora+Committers",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel gh-pages This task is to enable github user documentation to be produced during release.  These docs will then be linked off of:  http://docs.fcrepo.org/,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix javadocs: fcrepo4 This task is to run the following command on the main fcrepo4 codebase:  mvn javadoc:jar    ...and fix the issues that cause build failure.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix javadocs: fcrepo-message-consumer This task is to run the following command on the fcrepo-message-consumer codebase:  mvn javadoc:jar    ...and fix the issues that cause build failure.,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix javadocs: fcrepo-module-auth-rbacl This task is to run the following command on the fcrepo-module-auth-rbacl codebase:  mvn javadoc:jar    ...and fix the issues that cause build failure.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix javadocs: fcrepo-module-auth-xacml This task is to run the following command on the fcrepo-module-auth-xacml codebase:   mvn javadoc:jar     ...and fix the issues that cause build failure.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix javadocs: fcrepo4-oaiprovider This task is to run the following command on the fcrepo4-oaiprovider codebase:   mvn javadoc:jar     ...and fix the issues that cause build failure.,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
Add previous version reference to Vocabularies This task is to add a reference in Fedora vocabularies that indicates the URLs of:  - current version  - previous version  - supported Fedora version    The vocabularies to be updated are:  - http://fedora.info/definitions/v4/repository  - http://fedora.info/definitions/v4/indexing  - http://fedora.info/definitions/v4/oai-pmh,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Improve the HTML display view of the ontologies  The RDF ontologies are transformed to HTML with some XSLT, but the resulting HTML is, perhaps, overly utilitarian. By updating the XSLT, it would be possible to improve the appearance to browser-based requests.    This would not involve changing the underlying RDF in any way -- just the XSLT.",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"update dependencies and clean up fcrepo-camel maven configuration Related to https://jira.duraspace.org/browse/FCREPO-1338 and https://jira.duraspace.org/browse/FCREPO-1351    The maven configuration should be updated to include recent updates from dependencies, and generally should be cleaned up. For instance, there is no reason to use <pluginManagement> if there are no downstream modules inheriting the maven configuration. Plus, it would be good to put all of the maven plugin version numbers in variables near the top of the pom.xml file",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Deleting referenced node removes all property values on referrer Steps to reproduce:   - Create containers: /test, /test/res1, /test/res2  - Add property to /test: INSERT { <> myns:rel </test/res1>, </test/res2> } WHERE {}  - Verify that multi-valued property is set in /test referring to both resources  - Delete either /test/res1 or /test/res2    Result: myns:rel does not appear in /test any more; both relationships are deleted  Expected: only the relationship with the deleted node should be deleted",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Enable properties of InboundReferences This task is to create a new ""Prefer"" header type along the lines of:  http://fedora.info/definitions/v4/repository#InboundReferences    ...that enables a client requesting GET on a container to indicated that the properties of InboundReferences are desired in the response.  See:   https://wiki.duraspace.org/display/FEDORA4x/RESTful+HTTP+API+-+Containers#RESTfulHTTPAPI-Containers-GETRetrievethecontentoftheresource    and:  https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-http-api/src/main/java/org/fcrepo/http/api/ContentExposingResource.java#L199  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"karaf features file should include dependency information The karaf-based features.xml artifact should include bundle dependencies, which will simplify the OSGi configuration (and bring it more in line with how it should work -- i.e. by externalizing its dependencies)",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
409 when setting RDF.type to a string See: https://github.com/fcrepo4/fcrepo4/issues/726    The resolution to this issue should be limited to updating MalformedRdfExceptionMapper.java.  - The response code should be changed from 409 to 400.  - The `org.*Exception:` should be filtered out of the message in the response body.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Inconsistent capitalization of indexing:indexable in code and wiki documentation In org.fcrepo.indexer.IndexerGroup.INDEXABLE_MIXIN, ""indexable"" is capitalized as ""Indexable."" But the Fedora 4 documentation wiki shows this property as lowercase:    https://wiki.duraspace.org/display/FEDORA40/External+Search#ExternalSearch-Createnewobjectswithindexingproperties  https://wiki.duraspace.org/display/FEDORA40/Solr+Indexing+Quick+Guide    When the indexable property is added to a resource in all-lowercase, as shown in the docs, the resource does not get indexed. Instead, IndexerGroup outputs a log message like: ""Resource: http://example.org/ retrieved without indexable type.""    It appears that either the documentation or INDEXABLE_MIXIN is using incorrect capitalization.",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"Solr indexing on Binary resources When running the fcrepo-message-consumer, binary resources are not properly indexed into Solr due to the logic in NamedFieldsRetriever.java not inspecting the ""link: describedby"" resource.    See email thread: https://groups.google.com/d/msg/fedora-tech/TjbQkfIy6PM/1NU8saiEZ4kJ",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"very slow GET requests to fs federated resources and Broken Pipe errors When I access certain resources in a federated filesystem, the response is very slow or causes an error (see attached log).     One specific case is accessing a container / federated folder which has only 23 subfolders, each of which has several thousands of nested files. Nesting does not go over 1-2 levels deep.     With curl, request times for the same resource vary from 0.06 to 47s. ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
409 Message - on PUT before parent created This task is to clean up the message returned to the client when trying to create a resource with PUT before the resource's parent has been created.    See: https://github.com/fcrepo4/fcrepo4/issues/733,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Vagrant F4 for Training This task is to create a Vagrant setup that can be used in F4 one-day trainings, like the upcoming training in D.C.  https://wiki.duraspace.org/display/FF/Training+-+DC+Area+Fedora+User+Group+Meeting%3A+31+March+-+1+April+2015    Ideally, this Vagrant setup would include:  - Tomcat7  - Fedora4  - Solr  - Fuseki    Here is a good starting point:  https://github.com/Islandora-Labs/islandora/blob/7.x-2.x/install/Vagrantfile","f4-core,f4-message-consumer",0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up fcrepo-camel example projects the example projects should have their dependencies updated, along with some minor code updates.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unauthorized PATCH should be 403 not 400 This task is the use the fcrepo-webapp-plus.war to reproduce the scenario documented here:  https://jira.duraspace.org/browse/FCREPO-1283    The fix will likely involve updating the JcrPropertyStatementListener.java to collect exceptions (not just exception.getMessage) and throw the javax.jcr.AccessDeniedException if it is caught, otherwise continue to throw a MalformedRdfException.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"errors encountered with CachedOutputStreams For large documents when streamCaching() is in effect, errors are encountered. This is probably due to the file-spooled stream being removed prematurely. The relevant function in FcrepoProducer should be fixed, and some tests should be written to test for this situation.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unterminated namespace incorrectly interpreted This task is to determine where in the application stack sparql-update requests, like the one below, are having their namespace declaration mis-interpreted.  The following example should successfully create a ""esc"" namespace prefix.  # Request  curl -i -XPATCH -H""Content-Type: application/sparql-update"" --data-binary @props.sparql localhost:8080/rest/testcontainer    # Where, props.sparql is:  ---------------  PREFIX esc: <http://myurl.org>  INSERT {  <>  esc:package ""ppp"";  }  WHERE { }  ---------------    See: https://groups.google.com/d/msg/fedora-tech/rk8U4KCKWbc/2J6bZkP3AxwJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT with bad RDF should have better message When creating a container resource with an RDF body, if the RDF is invalid in some way, it would be helpful if the message found in the internal logging would be sanitized and returned to the client.    curl -i -XPUT --data-binary @body.rdf -H""Content-Type: text/turtle"" localhost:8080/rest/test    Where ""body.rdf"" can be any of the attached ""body.*.rdf"" documents.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"LDP Indirect Containers not including references This task is to walk through the IndirectContainer example here:  https://docs.google.com/a/fedora-commons.org/document/d/1RI8aX8XQEk-30-Ht-DaPF5nz_VtI1-eqxUuDvF3nhv0/edit#    ...ensuring that the ""/collections/{id}"" container is updated with member statements.  Currently it is not.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Anonymous Blank Nodes This task is to re-implement blank nodes along the lines of the following plan:    1) The REST API would continue to accept RDF documents with blank nodes (this is not a change from the current behavior).    2) The fedora:Blanknode class in the fedora ontology would be eliminated.    3) Blank nodes will no longer be published at the .well-known/genid location.    That is, when RDF documents with blank nodes are added to Fedora, those blank nodes will be skolemized internally and stored under the node that the RDF document described, but will not be made available at any location.    4) When fedora:Container nodes are requested, any skolem nodes contained in that document will be serialized as blank nodes, according to the concrete RDF syntax that is requested.    5) When a fedora:Container (one that contains blank nodes) is deleted, the corresponding skolem nodes will also be removed from Fedora.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"misleading error message When creating a consumerEndpoint (which isn't possible), an exception is thrown (correctly), but the error message suggests that a ""producer"" is being created as opposed to a ""consumer"".",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Web UI over HTTPS throws non-HTTPS warning While accessing the fcrepo web UI over HTTPS, the browser notifies about an insecure form.    The Google Chrome console reports:     The page at 'https://myrepo.edu/fcrepo/rest' was loaded over HTTPS, but is submitting data to an insecure location at 'fcr:import': this content should also be submitted over HTTPS.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove the fedora:Blanknode class from the Fedora ontology  None,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Respond with 501 on client-provided Link header for LDPR creation See:   - https://groups.google.com/d/msg/fedora-tech/LBnvq7Z8ZuE/hf67h9wEIeAJ and  - http://www.w3.org/TR/ldp/#h-ldpc-post-createrdf    This task is to make it clear that F4 does not yet support the creation of LDPR (vs. LDPC) RDF Source resources that are not containers.    The following request should result in a ""501 Not Implemented"" response code:  curl -i -X POST -H ""Link: <http://www.w3.org/ns/ldp#Resource>;rel=\""type\"""" http://localhost:8080/rest/",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
address various sonar warnings in fcrepo-camel There are a number of sonar-related issues that can be addressed with some minor refactoring and code cleanup.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
LDP Indirect Containers not including references in Java 8 Tests written for https://jira.duraspace.org/browse/FCREPO-1383 do not pass in Java 8.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
Migrate to Java 8 Ongoing work found here:    https://github.com/fcrepo4/fcrepo4/tree/Java8,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fcrepo-message-consumer HttpClient opens too many connections The fcrepo-message-consumer HttpClient instance currently disables all connection limits:    https://github.com/fcrepo4/fcrepo-message-consumer/blob/master/fcrepo-message-consumer-core/src/main/java/org/fcrepo/indexer/IndexerGroup.java#L208    This means that indexing a large number of objects will result in a very large number of open connections.  This limit should be set to a more reasonable value and/or made configurable.,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
Add the ability to create version snapshots to the fedora 4 java client. In using the fcrepo4-client it would be useful to be able to create versions.,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Publish ""objState"" ontology Related to: https://jira.duraspace.org/browse/FCREPO-1363",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Sonar Blocker: VersionsRdfContext.Version2Triples equals() diverges from hashCode() See:  http://sonar.fcrepo.org/drilldown/issues/1?severity=BLOCKER    This issue was introduced with:  https://github.com/fcrepo4/fcrepo4/commit/d9a596b8c12bd473038e9455ab83f5d8537f0194    It is most likely not a good idea to disable VersionsRdfContext.equals(). Instead, a proper equals() method should exist that with a hashCode() method that abides by the contract:  http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"JCR references leaked to JMS message headers Some of the predicates passed to the JMS producer (in the org.fcrepo.jms.properties header) use the JCR namespace.     For example: http://www.jcp.org/jcr/1.0lastModified,http://www.jcp.org/jcr/1.0createdBy    These should be replaced the the http://fedora.info/definitions/v4/repository# namespace.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Trailing semicolon in Prefer header causes parse failure Including a prefer header with a trailing semicolon causes a parsing failure, e.g.:    curl -H ""Prefer: return=minimal; "" http://fedora4/SSqaFedora4/rest/prod/path/to/a/valid/resource    See https://github.com/fcrepo4/fcrepo4/issues/750",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Publish ""fixity"" message This task is to create an event type for ""fixity events"" and to publish them through the standard EventBus/JMS messaging flow.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Publish PCDM This task is to publish the ontology found here:  https://github.com/duraspace/pcdm    onto the DuraSpace-hosted http://pcdm.org site.    A follow-on ticket should be created to automate this process. Apparently [~azaroth42] has some helper scripts.  ,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
HTTP 500 after dodgy SPARQL Update is submitted via PATCH The issue detailed below has been confirmed:  https://github.com/fcrepo4/fcrepo4/issues/752    This task is to investigate and resolve the issue.      ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Enforce trailing a '/' on LDPC URIs The LDP specification recommends using a trailing slash in the URIs of containers:  http://www.w3.org/TR/ldp-bp/#include-a-trailing-slash-in-container-uris    This task is to:  1) confirm with the F4 committer team that this is a recommendation that we want to enforce  2) investigate the impact of enforcing this recommendation  3) implement it,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT/PATCH of resources that are not the target of the request Currently, an F4 client is able to request a PUT or PATCH on a repository resource that contains triples with other resources as their RDF subjects.  In these cases, the repository resource that is not the target of the request can be updated.   This is questionable behavior.    This task is to:  1) confirm with the F4 committer team that this behavior should be disabled  2) implement it    Note: Although this issue shows itself in the REST-API, the solution should be deeper within Fedora, i.e. within the kernel.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
PCDM JSON-LD @context This task is to create a JSON-LD @context file for PCDM.  - http://www.w3.org/TR/json-ld/#the-context  - https://github.com/duraspace/pcdm    This @context file will then be published alongside the pcdm.org ontology for inclusion in PCDM JSON-LD documents.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Verify correctness of ""omitting"" server managed triples This task is to ensure that ""omitting"" server-managed triples (SMT) behaves as expected under the following circumstances:  1) Create an RDF Source with client-provided triples, then request that resource (omitting SMTs) and ensure that only the client-provided triples are in the response.  2) Add an rdf:type to the RDF Source, and ensure that it is included in the response that omits SMTs.  3) Ensure server-managed triples can not be updated (i.e. repository namespace).    Note: To omit server-managed triples on GET requests, include the following request header:  -----  Prefer: return=representation; omit=""http://fedora.info/definitions/v4/repository#ServerManaged""  -----",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT must fail if triples not persisted 4.2.4.4 If an otherwise valid HTTP PUT request is received that contains properties the server chooses not to persist, e.g. unknown content, LDP servers must respond with an appropriate 4xx range status code [RFC7231]. LDP servers should provide a corresponding response body containing information about which properties could not be persisted. The format of the 4xx response body is not constrained by LDP. LDP servers expose these application-specific constraints as described in section 4.2.1 General.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"POST/PATCH must advertise constraints if triples not persisted 4.2.1.6 LDP servers must publish any constraints on LDP clients  ability to create or update LDPRs, by adding a Link header with an appropriate context URI, a link relation of http://www.w3.org/ns/ldp#constrainedBy, and a target URI identifying a set of constraints [RFC5988], to all responses to requests that fail due to violation of those constraints. For example, a server that refuses resource creation requests via HTTP PUT, POST, or PATCH would return this Link header on its 4xx responses to such requests. The same Link header may be provided on other responses. LDP neither defines nor constrains the representation of the link's target resource. Natural language constraint documents are therefore permitted, although machine-readable ones facilitate better client interactions. The appropriate context URI can vary based on the request's semantics and method; unless the response is otherwise constrained, the default (the effective request URI) should be used.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Make sure that all internal audit events generate JMS messages There is a ticket to generate messages for fixity events (FCREPO-1407), and all other events should be generating messages already.    This ticket is to confirm that all of the other internal events listed in the Audit event type table already generate events:    https://wiki.duraspace.org/display/FF/Audit+Service+Repository+Events+and+Agents","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Make sure that generated messages contain enough information to create event RDF The Audit requirements list the information that must be recorded for events:    https://wiki.duraspace.org/display/FF/Design+-+Audit+Service#Design-AuditService-Functional-Write/Import    * Agent (end user)  * Date/Time  * Activity (event type)  * Entity (repository resource being acted on)    Make sure this information is available in the JMS messages being generated (so the events can be processed without needing to retrieve further info from the repository).  If any information is missing, create additional tickets for adding it.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create Camel workflow to process messages and create event RDF in an external triplestore None,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Propose RDF classes and properties that event RDF should use The Audit requirements includes guidlines for the properties and classes to use for recording audit information:    https://wiki.duraspace.org/display/FF/Audit+Service+PROV-O+vs+PREMIS    This ticket is to document the RDF that will be used to record audit events and gather community feedback:    * Verify that these guidelines cover all of the required information in the Audit specification  * Create a wiki page documenting the classes, properties and values that will be used  * Post a message to the fedora-tech mailing list asking for feedback on the wiki page","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Document recipe for creating event RDF for external events in an external triplestore using SPARQL Update Once the Audit functional tickets from phase 1 are completed, document an end-to-end recipe for processing JMS events with Camel and storing audit triples in an external triplestore.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Investigate disabling deleting event triples from external triplestore In some audit scenarios, it is important to prevent deletion of audit records.  To support this, investigate options for access control and/or disabling deletes in an external triplestore.    Fuseki does not appear to have builtin access control functionality (see http://jena.apache.org/documentation/serving_data/#security-and-access-control), but Sesame uses a standard Java servlet container and so should support access control (see http://www.rivuli-development.com/further-reading/sesame-cookbook/basic-security-with-http-authentication/).","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Verify that all Audit specification requirements are satisfied by phase 1 Verify that the Audit service phase 1 implementation and documentation satisfy the requirements specified in:    https://wiki.duraspace.org/display/FF/Design+-+Audit+Service#Design-AuditService-ProposedRequirements    Correct documentation as needed.,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Automatically generate audit event nodes for internal audit events If an audit container is configured, internal audit events should automatically be generated and posted to that container.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Audit REST API: per-resource GET Create a REST API endpoint that allows retrieving audit records attached to a repository resource,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Audit REST API: POST Create a REST API endpoint for creating audit event records for external events,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Audit REST API: whole-repository GET Create a REST API for retrieving all event records in the repository,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Audit REST API: DELETE Create a REST API endpoint for deleting audit events.  It should be possible to enable or disable this endpoint with a configuration change, such as setting a system property.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Verify that all Audit specification requirements are satisfied by phase 2 * verify that the Audit service phase 2 implementation and documentation satisfy the requirements specified in:     https://wiki.duraspace.org/display/FF/Design+-+Audit+Service#Design-AuditService-ProposedRequirements     * verify that other repository functionality isn't impacted by enabling or disabling persisting audit event records in the repository    * document end-to-end recipe for configuring audit events with in-repository persistence,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Evaluate and integrate the bnd-maven-plugin See http://blogs.paremus.com/2015/03/announcing-the-bnd-maven-plugin/    It appears that this will significantly improve the build configuration for OSGi bundles.,"f4-camel,f4-core",0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make sure f4-camel supports new user-related JMS headers Related to https://jira.duraspace.org/browse/FCREPO-1420    This is mostly a documentation issue, but the JmsHeaders class should be modified to include the new header fields.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"move magic endpoint strings into constant values Some of the ""magic"" endpoint values are expressed as strings (fcr:tx, fcr:transform, etc) in the code. These should be moved into const values and consolidated into a single file.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Version history container should be discoverable via Link header The URI for the versions container should be advertised, where available, in a Link header similar to the the metadata container:    Link: <./fcr:versions>;rel=""version-history""    This is following the patterns adhered to by LDP and the conventions outlined in RFC5829  (http://tools.ietf.org/html/rfc5829).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Multiple events published for NonRdfResources Multiple events are getting published to the activemq topic with regards to NonRDFSourceDescriptions.  It appears to be happening only for NODE_ADDED and NODE_REMOVED events.  PROPERTY_ADDED, PROPERTY_CHANGED, PROPERTY_REMOVED are fine.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create test/IT for FCREPO-1411 (PUT/PATCH resources not target of request) that checks whether a solution works The sub-task is to create a failing test (currently with @Ignore) that should pass when a patch is introduced.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-client should use Link rel=""describedby"" header for description The Java client should inspect the headers of NonRDFSources to find where the description is, rather than adding fcr:metadata to the end of the NonRDFSource URI.    When creating a NonRDFSource or doing a HEAD on it, there will be a Link rel=""describedby"" header indicating the URI of the description.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create Camel processor to transform audit events into SPARQL Update commands Create a Camel Processor implementation that transforms JMS events into SPARQL Update commands for an external triplestore.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"File/content event collapsing using fcr:content instead of jcr:content File event collapsing doesn't work correctly because of a jcr/fcr namespace mixup.  Also, there is no way to differentiate between object and file removal operations since no properties are included in the event.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add Audit processing to Vagrant Add a working audit event processing setup to the fcrepo4-vagrant setup.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Duplicate date properties on NonRdfSourceDescriptions The following SPARQL query creates duplicate date propeties on NonRdfSourceDescriptions:    DELETE WHERE  {  <> <http://www.loc.gov/premis/rdf/v1#hasDateCreatedByApplication> ?o0 .  <> <http://www.loc.gov/premis/rdf/v1#hasEventDateTime> ?o1 .  } ;  INSERT DATA {  <> <http://www.loc.gov/premis/rdf/v1#hasDateCreatedByApplication> ""2015-01-27T19:09:18.112Z""^^<http://www.w3.org/2001/XMLSchema#dateTime> .  <> <http://www.loc.gov/premis/rdf/v1#hasEventDateTime> ""2015-01-27T19:09:18.112Z""^^<http://www.w3.org/2001/XMLSchema#dateTime> .  }     Does not seem to affect Containers.  Non-date properties seem to be safe, as well.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add integration tests to fcrepo-camel-toolbox/audit-triplestore None,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add sonar-related configuration to fcrepo-camel-toolbox None,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Functional testing of fcrepo-camel-toolbox/audit-triplestore Verify that the audit-triplestore code works with Fuseki,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create a WAR package of fcrepo-camel-toolbox/audit-triplestore Add WAR file packaging to audit-triplestore project pom.xml,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add integration tests to audit-triplestore in fcrepo-camel-toolbox There are currently no integration tests. This task would add these tasks,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"HTML UI - Enable creation of container with text/turtle body This task is to update the HTML UI to enable the creation of Container resources that have an RDF body.    For example, this ticket is complete when a user of the HTML UI can paste the following text/turtle into a UI input field when creating a Container, and the created container will have the appropriate pcdm property.  body.ttl----------  @prefix pcdm: <http://pcdm.org/models#>  <> a pcdm:Object .  ----------    ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document creating audit nodes in the repository for external audit events Update the wiki to include instructions for creating repository nodes for external audit events instead of putting them in an external triplestore:    https://wiki.duraspace.org/display/FF/External+Audit+Events,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Suppress JMS events for internal audit node creation The JMS module should not emit events related to creating audit nodes for internal audit events.  Add a way to suppress these events, ideally in a way that is configurable and not tightly coupled to the audit implementation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel-toolbox checkstyles The following plugin should be added to:  audit-triplestore/pom.xml          <plugin>          <groupId>org.apache.maven.plugins</groupId>          <artifactId>maven-checkstyle-plugin</artifactId>        </plugin>,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
jacoco configuration is not correct in fcrepo-camel-toolbox Sonar does not report on code coverage for the fcrepo-camel-toolbox project. I suspect that is because I did not configure jacoco correctly. Could [~awoods] take a look at this?,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"decouple audit service event handler from fedora's activemq broker Currently the camel workflow for the audit service goes from a single activemq broker to the triplestore endpoint (via a processor) in a single route. By separating these into two separate routes, it will be easier to test and more flexible if there is a need to add another JMS/Kafka/etc consumer. ",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Rename eventURI.base property To be consistent with the naming practices of the rest of the project, rename the ""eventURI.base"" property in fcrepo-camel-toolbox/audit-triplestore to ""event.baseUri"".",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add access control to fcrepo4-vagrant Add access control to the fcrepo4-vagrant VM.    See https://wiki.duraspace.org/display/FEDORA4x/How+to+Configure+Servlet+Container+Authentication,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"REST Ingesting AtomZip fails on resource /new Fedora REST API resource ""/new"" won't accept Content-Type:application/zip needed for ingesting AtomZIP files.     A similar issue around ingesting has been addressed already in https://jira.duraspace.org/browse/FCREPO-1070",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Move existing fcrepo-camel ""examples"" to fcrepo-camel-toolbox In addition to copying the project shells, add unit/integration tests.    (I imagine that the ""examples"" will remain in fcrepo-camel, but without the testing, etc)",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update REST API: client-provided checksums This task is to change the existing REST API mechanism for allowing a F4 client to pass in a checksum when ingesting a NonRdfSource from:  https://wiki.duraspace.org/display/FEDORA4x/RESTful+HTTP+API+-+Containers#RESTfulHTTPAPI-Containers-BluePOSTCreatenewresourceswithinaLDPcontainer    to:  http://tools.ietf.org/html/rfc3230#section-4.3.2  ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"non-LPDC LDPRSes as ""pointlike objects"" Fedora should respond to a request to create a non-LDPC LDPRS by creating such a resource as a ""pointlike object"", an object with no datastreams and no child objects. This created resource should support the correct LDP interaction model.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Subject of triples in GET request RDF triples that are returned on a GET response to a repository resource should only contain ""subjects"" that are the resource itself.    Examples of where this is not currently being enforced include:  <resource>/fcr:metadata, and  <resource>/fcr:versions",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create audit event type that can apply to either bitstream or metadata updates When mapping Fedora 3 audit types, there are cases where it isn't clear whether an update would correspond to Fedora 4 properties or files/bitstreams.  So we should include a supertype of the existing audit types that these can be mapped to.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Standardize JSON handling library The current codebase uses both the Jackson 1 and GSON libraries for handling JSON.  In addition, Modeshape by default includes Jackson 2, which is excluded.    Ideally, we should use Jackson 2 included with Modeshape.  If that is not possible for some reason, we should use a single JSON library.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel example on README is incorrect The example on the fcrepo-camel README is too simplistic and doesn't take deletions into account.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PREMIS hasEventRelatedAgent should be multivalued The PREMIS hasEventRelatedAgent property should be multi-valued, so it can be used for both the user and user-agent values as specified in our audit RDF requirements.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create karaf features.xml provisioning for fcrepo-camel-toolbox projects When deploying camel-toolbox applications (such as the audit service) in OSGi, it would be nice to have a feature.xml file so that the bundle can be installed and managed directly from the karaf shell:    $ feature:install audit-triplestore    Rather than compiling and manually installing it.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add option to use fcrepo-webapp-plus-audit to fcrepo4-vagrant Add an option to use the internal auditor in the fcrepo4-vagrant VM.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add IT for InternalAuditor Add an integration test for InteralAuditor.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
PATCH should support LDPatch The LDP Working Group is currently leaning towards using LDPatch as the preferred LDP PATCH language:    http://www.w3.org/TR/ldpatch/    We should investigate supporting LDPatch and add support if possible.    BananaRDF (https://github.com/w3c/banana-rdf) supports LDPatch.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Checking audit node links to deleted resources causes error InternalAuditor creates audit nodes which link to resources with URIs instead of references, so the link isn't removed if the resource is deleted.  This is to support the use case of maintaining audit records for deleted nodes.    When the audit nodes that link to deleted nodes are accessed, there is an error when the URI pointing to the deleted node is treated as a reference and checked for being a Skolem.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update audit-triplestore to reuse as much of the internal auditor code/constants as possible The internal and external audit services implement mostly the same functionality, so there is duplicated code between them.  Update the external audit service (fcrepo-camel-toolbox/audit-triplestore) to reuse as much of the code as possible from the internal auditor (fcrepo-audit).",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Publish fcrepo-audit.jar artifact in Maven repository The PR to update audit-triplestore reuse fcrepo-audit code only works if you have built fcrepo-audit locally:    https://github.com/fcrepo4-labs/fcrepo-camel-toolbox/pull/15    This ticket is to publish the fcrepo-audit.jar artifact to a Maven repository so it will work normally.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create an interim release of the fcrepo-webapp-plus audit WAR file To integrate the internal audit with vagrant, we need to be able to download WAR artifacts from a release.  This ticket is to create interim releases of the fcrepo-webapp-plus-audit.war artifact.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Contain JCR dependencies to fcrepo-kernel This task is to find and eliminate leakage of JCR dependent code that extends beyond the kernel.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add an indexing endpoint to the fcrepo-camel-toolbox projects The solr- and triplestore-indexers in the fcrepo-camel-toolbox project, would benefit from an external indexing endpoint -- that is, an endpoint where users can initiate an indexing process at any arbitrary node in the fedora hierarchy. The indexer would then traverse the repository, following ldp:contains links.    This would be useful for reindexing the entire collection (or some subset thereof).",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove JCR leakage from fcrepo-audit This change to fcrepo-audit leaks JCR exceptions and uses JCR nodes:    https://github.com/fcrepo4-labs/fcrepo-audit/commit/3d7d6d348424df73940bf992b2770cdbc92dc3d5#commitcomment-10865344    Refactor to hide the JCR implementation and use Fedora abstractions instead.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create Wiki Page for Audit Service Phase 2 Create a page like https://wiki.duraspace.org/display/FF/Using+Audit+Events+Phase+1 for the phase 2 audit service.    This page should include:  * How to setup the internal auditor using vagrant and/or fcrepo-webapp-plus, setting the system property  * How to generate and review audit events",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create Audit Service Feature wiki page Create a Feature page for the Audit service.  This page should  * Link to the Phase 1 and Phase 2 detail pages  * Explain the difference between Phase 1 and Phase 2 approaches  * Explain the pros and cons of the different approaches  * Incorporate the Audit Service design docs,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"the HTML display of containers with bnodes causes exceptions Adding a bnode to a container works as expected, but if that container is subsequently viewed in the HTML display, a 500 server error is triggered and a stack trace is displayed",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add fcrepo- prefix to modules in fcrepo-camel-toolbox The modules in fcrepo-camel-toolbox follow the naming convention of:    <feature>-<backend>    for example:    audit-triplestore  indexing-solr    This ticket is to rename those so that they are all prefixed by fcrepo-:    fcrepo-audit-triplestore  fcrepo-indexing-solr    These all will continue to live in the org.fcrepo.camel groupId,"f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
travis-ci configuration for fcrepo-audit module The fcrepo-audit module needs a .travis.yml file,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit-triplestore can't find class org.fcrepo.audit.InternalAuditor When the audit-triplestore Camel workflow is run (either as a webapp deployed in tomcat or using mvn jetty:run), when it attempts to process events, it gets the error:    java.lang.NoClassDefFoundError: Could not initialize class org.fcrepo.audit.InternalAuditor    The fcrepo-audit JAR file is present in the audit-triplestore WAR file.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Transform fails for some properties fcr:transform fails for the transform program attached:     $ curl  -XPOST  -H 'Content-Type: application/rdf+ldpath' -T 'CITI_asset_transform.txt' 'http://localhost:8080/fcrepo/rest/test/fcr:transform'  org.apache.marmotta.ldpath.exception.LDPathParseException: error while parsing path expression    org.apache.marmotta.ldpath.LDPath.programQuery(LDPath.java:246)    org.fcrepo.transform.transformations.LDPathTransform.apply(LDPathTransform.java:146)    org.fcrepo.transform.transformations.LDPathTransform.apply(LDPathTransform.java:59)    org.fcrepo.transform.http.FedoraTransform.evaluateTransform(FedoraTransform.java:186)    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    java.lang.reflect.Method.invoke(Method.java:606)    org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)    org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ObjectOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:167)    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)    org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:384)    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:342)    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:101)    org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)    org.glassfish.jersey.internal.Errors.process(Errors.java:315)    org.glassfish.jersey.internal.Errors.process(Errors.java:297)    org.glassfish.jersey.internal.Errors.process(Errors.java:267)    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1030)    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)    java.lang.Thread.run(Thread.java:745)  Caused by: org.apache.marmotta.ldpath.parser.ParseException: Encountered "" <IDENTIFIER> ""Created_On """" at line 12, column 1.  Was expecting:      <EOF>      org.apache.marmotta.ldpath.parser.LdPathParser.generateParseException(LdPathParser.java:2550)    org.apache.marmotta.ldpath.parser.LdPathParser.jj_consume_token(LdPathParser.java:2440)    org.apache.marmotta.ldpath.parser.LdPathParser.Program(LdPathParser.java:409)    org.apache.marmotta.ldpath.parser.LdPathParser.parseProgram(LdPathParser.java:112)    org.apache.marmotta.ldpath.LDPath.programQuery(LDPath.java:235)   ... 44 more      I tried different combinations, and I noticed that removing the fedora:* properties from the program I get expected results. Adding any of the fedora:* properties gives me the same error.   ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"403 when updating Pairtree elements When trying to update pairtree elements, a 403 should be returned...  such as in the following interaction:    # /rest/ container has 0 children  [azaroth@localhost fedora4]$ curl -X POST --data @temp.ttl http://localhost:8080/rest/  http://localhost:8080/rest/70/9d/63/00/709d6300-e65d-470e-8982-996eefbdf810    # /rest/ container now has 1 child  [azaroth@localhost fedora4]$ curl -X POST --data @temp.ttl http://localhost:8080/rest/70/  http://localhost:8080/rest/70/ea/e2/20/ff/eae220ff-ebed-42a3-ad7a-ef0be4cbf939    # /rest/ container now has two children, even though I posted to a different container :(",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit-triplestore Camel workflow should ignore events generated by InternalAuditor When both fcrepo-audit and audit-triplestore are enabled, two extra events are created for each event:    1. The event for the creation of the audit node created by fcrepo-audit  2. The event for the audit container lastModified being updated    InternalAuditor has some logic to ignore these updates:    https://github.com/fcrepo4-labs/fcrepo-audit/blob/master/src/main/java/org/fcrepo/audit/InternalAuditor.java#L157    audit-triplestore should ignore these too.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit-triplestore and fcrepo-audit should use the same URIs for identifying events Both audit-triplestore and fcrepo-audit auto-generate identifiers for event nodes, leading to different identifiers for the same events stored in two different places.    We should generate a single identifier when the events are converted from JCR to Fedora events, and use that identifier in both places for consistency.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Provide UUID in REST API response body or HTTP header for requests that create events Ticket following from discussion beginning at https://groups.google.com/d/msg/fedora-tech/-7xfBGLdAaA/9IMYxFnxGhEJ    REST API requests that create new events should return the event's UUID, similar to how requests that create a new object return the new object's URI. General use case is so that external services that add events can use the UUID for internal record keeping. ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Hash references (as child nodes) are not modifiable There is an undocumented feature in fedora 4 allowing a user to create child nodes on a resource using a #hashvalue. For instance:    curl -XPOST localhost:8080/rest -H""Slug: mynode""    One can create nested metadata on that node like so:    INSERT {    <> dc:creator <http://localhost:8080/rest/mynode#creator> .    <http://localhost:8080/rest/mynode#creator> a foaf:Person ;            foaf:name ""Haruki Murakami"" .  } WHERE {}    The #creator triples are stored as a child node, so when http://localhost:8080/rest/mynode is requested, those triples will be included.    This seems like a useful way of handling nested RDF metadata.    However, it does not seem possible to add, remove or otherwise modify this child container.    A subsequent SPARQL update has no effect:    INSERT {    <http://localhost:8080/rest/mynode#creator>             foaf:homepage <http://www.harukimurakami.com/> .  } WHERE {}    Neither does this:    DELETE { <http://localhost:8080/rest/mynode#creator> foaf:name ?o }  WHERE { <http://localhost:8080/rest/mynode#creator> foaf:name ?o }    Or this:    DELETE { <http://localhost:8080/rest/mynode#creator> foaf:name ""Haruki Murakami"" }  WHERE { <http://localhost:8080/rest/mynode#creator> foaf:name ""Haruki Murakami"" }    Or this:    DELETE WHERE { <http://localhost:8080/rest/mynode#creator> ?p ?o }    This behavior is clearly problematic. I wonder whether ""fixing it"" means changing the code to support the sorts of SPARQL update requests listed above, or whether this feature should be removed entirely.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Revisit Blank Node implementation This task is to reintroduce the following commits:  https://github.com/fcrepo4/fcrepo4/commit/ceacc9832890906c8dee8f4533f5b33679d9b875  https://github.com/fcrepo4-labs/fcrepo4-oaiprovider/commit/03c2bef5aa68ef224a86aa432d5ecfb378ff7c99    That were reverted with these commits:  https://github.com/fcrepo4/fcrepo4/commit/ae5aa5d2b2cafc8ebcb67baf226e57547e81bc5d  https://github.com/fcrepo4-labs/fcrepo-audit/commit/578626c0b8ff602920e95b78697dfba72a612d54  https://github.com/fcrepo4-labs/fcrepo4-oaiprovider/commit/c507414f4c9489a71291386c09f06525a6f1e666    Because PATCH and PUT were not yet supported.  An initial cut at a PATCH fix can be found in this PR:   https://github.com/fcrepo4/fcrepo4/pull/786,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Redesign Fixity Service This task is to redesign the fcr:fixity service to be more in line with RESTful LDP interaction models.  For example, similar to the way that all non-RDF sources have an associated fcr:metadata resource, all resources (RDF or not) should possibly have an fcr:fixity resource.  When performing a GET on fcr:fixity, the most recent fixity check outcome should possibly be returned.  When performing a POST on fcr:fixity, a new fixity check should be run with a newly created outcome resource added as a child of fcr:fixity.    The completion of this ticket should also take into consideration:  Publish ""fixity"" message : https://jira.duraspace.org/browse/FCREPO-1407","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Clean-up Vagrant configuration This task is to allow the System Property: FEDORA_AUDIT_LOCATION to be read into the fedora4.sh script.  Also, Fuseki only starts on the initial vagrant up, and not after a vagrant halt cycle.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Camel Serialize to disk This task is to create a Camel component that writes repository updates to disk to satisfy the need for a human-readable backup.  This should be part of the https://github.com/fcrepo4-exts/fcrepo-camel-toolbox repository along with other Camel components.    It would be ideal if such a module were configurable to allow users to define if the RDF and/or the binary resources should be persisted to disk.    This was implemented with the fcrepo-message-consumer as documented here:  https://wiki.duraspace.org/display/FEDORA4x/RdfPersistenceIndexer,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Camel persist to DuraCloud This task is to create a Camel component that persists updated repository resources (RDF and binaries) to DuraCloud via the DuraCloud REST API.    Similar modules already exist here:  https://github.com/fcrepo4-labs/fcrepo-camel-toolbox,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"NonRDFSources do not have rdf:type ldp:NonRDFSource The description of NonRDFSources includes rdf:type fedora:Binary, but does not include rdf:type ldp:NonRDFSource.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Enable fcrepo-camel-toolbox profiles Currently, the fcrepo-camel-toolbox allows for the creation of war files configured for:   - audit triplestore  - indexing solr  - indexing triplestore    This task is to enable build profiles that would allow for any combination of the above.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"NonRDFSources (or their description) should be able to have child containers NonRDFSources should be allowed to have children, either directly underneath the NonRDFSource, or under its description (fcr:metadata).  This would allow for the associating files with other files that are not directly linked to the parent container (e.g., a FITS XML description of a file is related to the file, not to the parent container directly).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel-toolbox README files should be updated The documentation for fcrepo-camel-toolbox is out of date.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jms identifier header is malformed for URI fragments Given the following sparql-update command:    INSERT {  <http://localhost:8080/rest/foo> dc:contributor <http://localhost:8080/rest/foo#contributor> .  <http://localhost:8080/rest/foo#contributor> a foaf:Person ;    foaf:name ""me"" .  } WHERE {}    The JMS system sends out two messages (this makes sense). But the one referring to the hash container has a strangely formatted IDENTIFIER: in this case it would be /foo/#/contributor, which doesn't seem right. I would expect /foo#contributor",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update fcrepo-vagrant all solr/audit/fuseki integrations This task is to update the fcrepo4-vagrant configuration so that all of the integrations are enabled:  - indexing-solr  - indexing-triplestore  - audit-triplestore,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Restore fcr:batch for bulk operations Restore the fcr:batch REST endpoint for doing batch operations.  This would be particularly helpful for reducing the number requests necessary to build complex objects, which should improve performance and concurrent editing robustness.    The last release of Fedora that had the fcr:batch functionality was 4.0.0-beta-03: https://github.com/fcrepo4/fcrepo4/blob/fcrepo-4.0.0-beta-03/fcrepo-http-api/src/main/java/org/fcrepo/http/api/FedoraBatch.java",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use premis:hasMessageDigest for checksums consistently The fixity service uses premis:hasMessageDigest for file checksums, but the file description uses fedora:digest.  We should use the same property in both places.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Allow updating mimeType and filename Filename and mimeType are currently server-managed, so they cannot be updated once they are set.  Other server-managed properties (creation/modification dates, file size and sha1 checksum) are closely tied to the underlying storage, and modifying them could be problematic.  But filename and mimeType can safely be modified, so we should allow that.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-connector-filesystem exports org.modeshape packages The fcrepo-connector-file exports org.modeshape packages, which is not good, especially in an OSGi context. The reason it does this is because it extends a private class in org.modeshape (JsonSidecarExtraPropertyStore). This export, however, can be avoided by simply extending the public o.m.j.spi.federation.ExtraPropertiesStore, which is public.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-kernel-impl exports org.modeshape packages The fcrepo-kernel-impl exports org.modeshape packages, which is especially problematic in an OSGi context. The code should be refactored in such a way that these org.modeshape packages are no longer exported.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"500 and stacktrace with empty path element javax.jcr.RepositoryException: The path ""/test/me/mb/er/s//members/9528a300-22da-40f2-bf3c-5b345d71affb"" is not valid because it contains an empty segment at     How about a 4xx error? ""not a valid path""    See: https://github.com/fcrepo4/fcrepo4/issues/793",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Stop spewing UUIDs Fedora is currently publishing JCR-assigned internal UUIDs as properties of resources. It should stop doing this. The property that is used to publish this internal-only information (""fedora:uuid"") should be removed from the public ontologies.","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Binary resource properties to reside on Non-RDF Source Description This task is to ensure that properties relating to Binary resources should reside (and be manipulated) on the associated Non-RDF Source Description.  Additionally, all RDF that is returned in response to requests on the Non-RDF Source Description should have a single subject: the Binary resource.    Although users should not be allowed to update properties directly on Binary resources, the triples in the following response should all have the subject of the Binary resource:  https://gist.github.com/yulgit1/b5dd01305bec7883831c    Likely related to: https://github.com/fcrepo4/fcrepo4/issues/814",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"mix:created and mix:lastModified appear in rdf:type when a new resource is created. When creating a new resource, mix:created and mix:lastModified appear as rdf:types.      Though technically correct, as they are an artifact of JCR and the fact that RDF types are persisted as JCR mixins, we should hide them as they are confusing and could leak out to other systems.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create utility to migrate technical metadata properties Recent changes to 4.2-SNAPSHOT have changed the properties used to store technical metadata for files/NonRDFSources, such as the SHA-1 checksum, mime type, and file name:    fedora:digest => premis:hasMessageDigest  fedora:mimeType => ebucore:mimeType  premis:hasOriginalName => ebucore:filename    Develop a utility that will traverse a repository and migrate these properties.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"java8 build machinery for camel-related tools The fcrepo-camel and fcrepo-camel-toolbox projects do not have fcrepo configured as a parent POM, so in order to add Java8 support, they, too need to be updated.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"travis configuration should support java8 Now that the fcrepo pom configuration specifies java8 as a build target, the .travis.yml configuration on the various downstream projects should be updated.    Effectively: perl -pi -e 's/oraclejdk7/oraclejdk8/' .travis.yml","f4-audit,f4-auth,f4-java-client,f4-message-consumer,f4-oaiprovider",1,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel: Migrate to Java8 This is a generic ticket to track progress refactoring the fcrepo-camel codebase to use more of the Java8 idioms,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Attempting to PUT outdated RDF returns incorrect HTTP status code When updating a container via HTTP PUT, the value of the `fedora:lastModified` triple must match its current counterpart in the repository, otherwise an HTTP 400 error is returned with the following message:        Could not remove triple containing predicate http://fedora.info/definitions/v4/repository#lastModified to node /book    This should really be a 409 (Conflict) error with an improved message. I would propose something like: ""Cannot update the container as the supplied RDF is out-of-date based on the value of its fedora:lastModified triple.""    Background: https://github.com/fcrepo4/fcrepo4/issues/800#issuecomment-104694026",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Attempting to delete non-existent properties short-circuits SPARQL update query. When issuing SPARQL updates, deletion of non-existent properties prevents the rest of the query from executing.    For example, if you have a container with dc:title, and attempt to issue a delete query on dc:title and dc:author, the missing dc:author stops the query from deleting the dc:title.    Example SPARQL update queries to issue on a new resource to test:    PREFIX  dc:   <http://purl.org/dc/elements/1.1/>     INSERT DATA {    <> dc:title ""Stuff"" .  }    Followed by    PREFIX  dc:   <http://purl.org/dc/elements/1.1/>     DELETE WHERE  {    <> dc:title ?o0 .    <> dc:author ?o1 .  } ;",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Camel Reindexing Documentation This task is to document on the wiki the usage of the Camel Reindexing capability.  The documentation should likely be a new child page of:  https://wiki.duraspace.org/display/FEDORA4x/Setup+Camel+Message+Integrations  ,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Can't delete large literals Large literals (4096 characters or greater) can be created, but cannot be deleted.  - In addition to not deleting the large literal, no error is raised.  See https://github.com/fcrepo4/fcrepo4/issues/787    If there is a bug that prevents deleting large literals, it would be great to fix it. However, it is quite likely that there is a hard limit, in which case determining and documenting that limit would be adequate for this ticket.    Finding the limit of both the size of literals that can be created, and the size of literals that can be deleted would be helpful.  A note added here could be useful:  https://wiki.duraspace.org/display/FEDORA4x/RESTful+HTTP+API+-+Containers#RESTfulHTTPAPI-Containers-GreenPATCHModifythetriplesassociatedwitharesourcewithSPARQL-Update  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-http-api exporting some non-existent classes The fcrepo-http-api module is exporting some invalid classes, which is problematic in an OSGi context.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"migrate existing use of Guava functional classes to Java8 idioms The guava classes can mostly be refactored into core Java8 idioms. This is a ticket to track that migration, starting with the non-kernel code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-indexing-solr has an incorrect XPath expression The fcrepo-indexer-solr has an incorrect XPath expression for identifying custom indexingTransformations,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update Solr documentation This task is to update the following documentation to target fcrepo-camel-toolbox instead of fcrepo-message-consumer:  https://wiki.duraspace.org/display/FEDORA4x/Solr+Indexing+Quick+Guide,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
improve the documentation for fcrepo-camel-toolbox Some of the README documentation could be made more clear esp w/r/t solr configuration and tomcat/jetty deployment,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Changing registered namespace prefixes This task is to create a backend utility that allows Fedora administrators to provide preferred namespace prefixes that will then override existing prefix mappings in the repository.     As a part of this task or a follow-on documentation ticket, this utility should be documented in the wiki.    See: https://groups.google.com/d/msg/fedora-tech/1F0paNOp9GY/lUHI9niwOpQJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Audit identifiers should be configurable FedoraEvent currently uses the default constructor of UUIDPathMinter to create a PidMinter.  Users should be able to configure a different minter and set the parameters to customize the desired event ID minting behavior.    One possibility:  Add a PidMinter parameter to the FedoraEvent constructor and inject the pidMinter instance into the AllNodeEventsOneEvent, spring-managed bean.  https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/observer/eventmappings/AllNodeEventsOneEvent.java#L50    We should verify that the only place that FedoraEvents will be produced will be implementations of InternalExternalEventMapper (including, but not limited to, AllNodeEventsOneEvent).","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel-toolbox org.fcrepo dependencies This task is to update the fcrepo-camel-toolbox pom.xml file(s) to use ${project.version} instead of hardcoded values for the org.fcrepo dependencies.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Upgrade: Modeshape-4.4.0.Final... when released This task is to upgrade F4's Modeshape dependency to 4.3.0.Final  https://issues.jboss.org/browse/MODE/?selectedTab=com.atlassian.jira.jira-projects-plugin:versions-panel    Modeshape 4.3.0.Final jumps Infinispan versions to 7.2.0.Final, more than a major version number jump. None of the Infinispan configurations now in the code base will even parse with the new version, let alone run. They must all be rewritten, and in the case of clustering config, from scratch.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
License Header should not be JavaDoc Comment The current license header as enforced by Maven License Plugin is formatted as a JavaDoc comment. This is unfortunate as it tends to confuse source code tools that work with and format JavaDoc comments.    TODO:  1- Change first line of header from `/**` to `/*`  2- Update all projects to the new header by running mvn license:format    ,"f4-audit,f4-auth,f4-camel,f4-core,f4-java-client,f4-ldp,f4-message-consumer,f4-oaiprovider,f4-ontology,legacy - Fedora",1,1,1,1,0,1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0
create a features.xml file for provisioning fcrepo modules It would be convenient to have a features.xml file for provisioning to karaf.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add support for fixity checking in fcrepo-camel There is currently no support for fixity checking in fcrepo-camel. It would be nice to have.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add a camel-toolbox service that runs fixity checks on Binary resources It would be useful to have a camel service that can be plugged into the existing org.fcrepo.camel/fcrepo-reindexer service to verify the checksum values of all (or some subset of) Binary objects in the repository.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcr:metadata should be a container The fcr:metadata resource (description of a NonRDFSource) should be a container to allow full-featured RDF descriptions, including:    * child resources  * skolemized blank nodes  * hash URI subjects",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Auth modules should be packaged as OSGi bundles The fcrepo-module-auth-* modules are not currently built as OSGi bundles. This ticket is to track that change.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fix javadoc errors in fcrepo-camel-toolbox This is to track fixing some javadoc-related errors in the fcrepo-camel-toolbox project,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use LDPath Template for HTML views The Marmotta project provides an LDPath templating module (see: https://marmotta.apache.org/ldpath) that would shorten and clarify the HTML templates in Fedora a great deal. The current ""homegrown"" templating framework should be replaced with it.    See: https://marmotta.apache.org/ldpath/template.html",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove maven.fcrepo.org repository in pom.xml This task is to minimally remove the unused Maven repository from the main fcrepo4 pom.xml:  https://github.com/fcrepo4/fcrepo4/blob/master/pom.xml#L1060-L1071    Additionally, the other projects in fcrepo4 and fcrepo4-labs should be inspected for the same snapshot which should also be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable migration-utils to accept Fedora 2.2-created FOXML When pointed at FOXML files from Fedora 2.2, migration-utils expects a 'version' attribute in the foxml:digitalObject element, resulting in a NullPointerException when this attribute is not found.  A stacktrace and header from an example legacy FOXML type are attached below.    Exception in thread ""main"" java.lang.NullPointerException      org.fcrepo.migration.foxml11.Foxml11InputStreamFedoraObjectProcessor.<init>(Foxml11InputStreamFedoraObjectProcessor.java:87)      org.fcrepo.migration.foxml11.FoxmlDirectoryDFSIterator.next(FoxmlDirectoryDFSIterator.java:89)     org.fcrepo.migration.foxml11.FoxmlDirectoryDFSIterator.next(FoxmlDirectoryDFSIterator.java:22)    org.fcrepo.migration.Migrator.run(Migrator.java:105)    org.fcrepo.migration.Migrator.main(Migrator.java:46)```    <?xml version=""1.0"" encoding=""UTF-8""?>  <foxml:digitalObject xmlns:foxml=""info:fedora/fedora-system:def/foxml#""             xmlns:fedoraxsi=""http://www.w3.org/2001/XMLSchema-instance""             xmlns:audit=""info:fedora/fedora-system:def/audit#""             fedoraxsi:schemaLocation=""info:fedora/fedora-system:def/foxml# http://www.fedora.info/definitions/1/0/foxml1-0.xsd""             PID=""umd:22337"">  ",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
standardize camel version across fcrepo-camel and fcrepo-camel-toolbox fcrepo-camel uses camel 2.14 and fcrepo-camel-toolbox uses camel 2.15. They should both use 2.15,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel component fails to autoload When the fcrepo camel component autoloads in a route, the following exception is issued: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory.    Seems to have to do with a dependency failing to declare an export.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Minor Java 8 refactoring in kernel observation code Minor use of Java 8 syntax and types.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"More Java 8 types in the kernel More Java 8 types in the kernel, now including {{Optional}}.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Desecrate fcr:tombstone fcr:tombstone serves no purpose that could not be better and more simply served by a property on the contextual resource graph around the ""tombstoned"" resource. It should be replaced by just that. ",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Factor up to org.fcrepo:fcrepo all possible Maven XML from projects that have it as their parent There is a certain amount of repeated XML in Maven configurations for projects inheriting from org.fcrepo:fcrepo. These projects include:     ? fcrepo-build-tools   ? fcrepo4   ? fcrepo-message-consumer   ? fcrepo-module-auth-rbacl   ? fcrepo-module-auth-xacml   ? fcrepo-camel   ? ontology   ? fcrepo4-client   ? fcrepo-audit   ? fcrepo-camel-toolbox   ? fcrepo-webapp-plus   ? fcrepo4-release-tests   ? fcrepo4-oaiprovider   ? fcrepo4-swordserver   ? migration-utils    This ticket is to find all such redundancies, and move that config up into the pom in org.fcrepo:fcrepo.","f4-audit,f4-auth,f4-camel,f4-core,f4-ldp,f4-oaiprovider,f4-ontology",1,1,1,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0
"Minor XACML Javadoc error After a recent commit, a minor javadoc error was introduced.    [ERROR] Exit code: 1 - /fcrepo-module-auth-xacml/src/main/java/org/fcrepo/auth/xacml/XACMLAuthorizationDelegate.java:80: error: exception not thrown: java.io.IOException  [ERROR] * @throws IOException if IO exception occurred  ",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"POST constraints to use URLs, not data-URIs As a follow-on to:  https://jira.duraspace.org/browse/FCREPO-1418    This ticket reveals another example of where a bad RDF document results in a 400 response but is not caught by a ""ConstraintExceptionMapper"". The following request should result in a <Link; constrainedBy> header that is a URL to a static RDF error description.    curl -i -XPOST -H""Content-Type: application/rdf+xml"" --data-binary @cuban_postcards.xml localhost:8080/rest/",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
camel-toolbox intermittent build failure Was getting a failed build while building with tests turned off. The exception seems to be a known issue with the jetty-maven-plugin (https://bugs.eclipse.org/bugs/show_bug.cgi?id=412637).  ,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Document configuration of audit-service This task is to document the following:  - How to enable/configure internal audit service?  - How to enable/configure external audit service?   - How to know the audit service is working?   - How to troubleshoot the audit service:    https://wiki.duraspace.org/display/FEDORA4x/Setup+Audit+Service    Additionally, the subpages of the above link should remove the vagrant details that were previously used for feature verification.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Should we add a Content-Location header to content-negotiated responses? The HTTP spec isn't particularly clear, but blog posts like this:    http://blog.iandavis.com/2010/11/a-guide-to-publishing-linked-data-without-redirects/    make it sound like we should be adding a Content-Location header when we generate content-negotiated responses.  The implication of this would be each RDF serialization would need to have its own URL (e.g., http://localhost:8080/rest/resource.json).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
audit spring configuration incorrect in webapp-plus The spring configuration for fcrepo-audit in fcrepo-webapp-plus is incorrect,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
github site pages for fcrepo-camel have some errors The page: http://fcrepo4.github.io/fcrepo-camel/ is missing links for version 4.2.0,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel github pages use a different theme than fcrepo4 The mvn site pages use a different theme than fcrepo4. It should use the same theme. It also includes an incorrect address for the mailing list.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up OSGi package imports Now that fcrepo-kernel-impl no longer breaks through the modeshape package layer, it is time to clean up the OSGi bundle configuration across modules, making sure that (optional) imports and exports are all correct.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create fcrepo-infinispan Create a fcrepo-infinispan project with the code removed in FCREPO-1535. The project should minimally build.,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"Clean up integration tests in http-api The integration tests in fcrepo-http-api are very hard to read or understand, and there is a lot of repetition in them. We can do better.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4-client: copy, delete, move This task is to add the following capabilities to the fcrepo4-client:  - resource copy  - resource delete  - resource force delete  - resource removeTombstone  - resource move  ",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
minor typo in o.f.k.i.utils.FedoraTypeUtils Minor mistake in the documentation for FedoraTypesUtils::isBlankNode(),f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"camel minimum version is incorrect The minimum version for the camel dependency is listed as 2.15, but that is not a released version number. It should, instead, be 2.15.0",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Management of resource lifecycles via relationships It should be possible to assign policies in a repository such that chosen relationships carry lifecycle dependency, in the same way that JCR containment now does.    For example, I should be able to assign lifecycle management to a predicate ""myns:describedBy"". Then if:    - I create two resources <a> and <b> and  - set on <a> the property <a> myns:describedBy <b>, then  - delete <a>    then <b> should also be deleted.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Rename fcrepo-kernel* packages The fcrepo-kernel-* modules could be better organized. As discussed at https://wiki.duraspace.org/display/FF/2015-07-16+-+Fedora+Tech+Meeting, this ticket will track the renaming of fcrepo-kernel to fcrepo-kernel-api and also fcrepo-kernel-impl to fcrepo-kernel-modeshape.    ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
detangle fcrepo-kernel-api from fcrepo-mint The fcrepo-kernel-api module depends on fcrepo-mint (in the observer.FedoraEvent class). These should be detangled.  ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-webapp Plugin version issues This task is to eliminate the issues relating to building and running fcrepo-webapp.    The following errors are seen when running:  # mvn jetty:run -pl fcrepo-webapp    2015-07-14 17:04:42.447:WARN:oeja.AnnotationParser:Problem processing jar entry org/fcrepo/kernel/impl/FedoraResourceImpl.class  java.lang.ArrayIndexOutOfBoundsException: 2925    2015-07-14 17:04:42.451:WARN:oeja.AnnotationParser:Problem processing jar entry org/fcrepo/kernel/impl/observer/DefaultFilter.class  java.lang.ArrayIndexOutOfBoundsException: 3145  ...    # mvn verify -pl fcrepo-webapp  <same as above, and...>  Caused by: java.io.IOException: Error while instrumenting class com/steadystate/css/parser/SACParserCSS3TokenManager.          at org.jacoco.agent.rt.internal_e6e56f0.core.instr.Instrumenter.instrumentError(Instrumenter.java:152)          at org.jacoco.agent.rt.internal_e6e56f0.core.instr.Instrumenter.instrument(Instrumenter.java:103)          at org.jacoco.agent.rt.internal_e6e56f0.CoverageTransformer.transform(CoverageTransformer.java:87)          ... 90 more  Caused by: java.lang.RuntimeException: Method code too large!  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use spring configuration for fcrepo-camel-toolbox integration tests The fcrepo-related integration tests for fcrepo-camel-toolbox currently use a downloaded war file run inside a Jetty container. Instead, those tests should be implemented using spring configurations. This will become important as more extension modules are removed from the fedora core.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove guava dependency from fcrepo-mint module As part of migrating to Java8 and removing dependencies on guava, this ticket is to track the cleanup of the fcrepo-mint module",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove unnecessary use of guava in fcrepo-connector-file fcrepo-connector-file sets a VisibleForTesting annotation on one of its protected methods. As a protected method, however, this annotation is unnecessary.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"cannot create child objects at root node through web interface In the web interface, one cannot create new child nodes from the root node without specifying an id.    This error is confined to the web interface, as curl works normally:     curl -X POST localhost:8080/fcrepo/rest    or    curl -X POST localhost:8080/fcrepo/rest/    Both return the expected values.    But at http://localhost:8080/fcrepo/rest/, clicking on the ""Add"" button gives me this response:    Bad Request  Path contains empty element! //a2/fb/cc/a0/a2fbcca0-bbdb-4c75-b40e-430d024b8451  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel-webapp doesn't accept system properties for enabling AuthZ The fcrepo-camel-webapp project doesn't accept system properties for interacting with fedora when AuthZ is enabled.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-webapp-plus - XACML configuration issues This task is to update the fcrepo-webapp-plus/xacml configuration such that:  - xacml/webapp/WEB-INF/classes/config/repository.json  ** Uses the ""default"" workspace instead of ""fedora""  - xacml/webapp/WEB-INF/classes/spring  ** These configurations are in line with the ""audit"" example  ** For example, when running xacml.war along side the fcrepo-camel-toolbox, camel is unable to connect to the JMS topics",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Missing repositories section in pom.xml causes build failures during release process I can build for the release if I have the section added. If this section is missing, I get:    [nruest@gorille:fcrepo-audit] (git)-[local-release]-$ mvn release:clean -V  Apache Maven 3.0.5  Maven home: /usr/share/maven  Java version: 1.8.0_45, vendor: Oracle Corporation  Java home: /usr/lib/jvm/java-8-oracle/jre  Default locale: en_CA, platform encoding: UTF-8  OS name: ""linux"", version: ""3.19.0-23-generic"", arch: ""amd64"", family: ""unix""  [INFO] Scanning for projects...  [ERROR] The build could not read 1 project -> [Help 1]  [ERROR]     [ERROR]   The project org.fcrepo:fcrepo-audit:4.2.1-SNAPSHOT (/home/nruest/git/fcrepo-release/fcrepo-audit/pom.xml) has 1 error  [ERROR]     Non-resolvable parent POM: Could not find artifact org.fcrepo:fcrepo:pom:4.2.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 6, column 11 -> [Help 2]  [ERROR]   [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.  [ERROR] Re-run Maven using the -X switch to enable full debug logging.  [ERROR]   [ERROR] For more information about the errors and possible solutions, please read the following articles:  [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException  [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Need to update site-maven-plugin from 0.11 to 0.12 Building and deploying ghpages fails for the release if we are using version 0.11 of site-maven-plugin.    We need to update the pom.xml for each component to 0.12 that uses it:  fcrepo4  fcrepo-message-consumer  fcrepo-module-auth-rbacl  fcrepo-module-auth-xacml  fcrepo-camel  fcrepo4-client  fcrepo-audit  fcrepo-camel-toolbox,"f4-audit,f4-auth,f4-camel,f4-core,f4-java-client,f4-message-consumer",1,1,1,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up javadoc warnings There are a number of javadoc warnings from mvn javadoc:jar, mostly from missing descriptions.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"javadoc maven output is too verbose With the javadoc plugin as a standard part of the fcrepo4 build, the output becomes extremely verbose (so much that travis won't display it all on the standard screen). By setting the javadoc configuration as ""quiet"", all non-Error and non-Warning output is suppressed.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"travis is building javadocs twice Now that mvn javadoc:jar has been moved into the standard maven build, it is no longer necessary to include it separately in the travis configuration",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"upgrade travis config The travis-ci configuration has fcrepo and associated projects running on a ""legacy system"". This can be fixed by adding        sudo: false    to the .travis.yml file    Here is an example: https://github.com/travis-ci/container-example/blob/master/.travis.yml    More information here: http://docs.travis-ci.com/user/migrating-from-legacy/?utm_source=legacy-notice&utm_medium=banner&utm_campaign=legacy-upgrade","f4-audit,f4-auth,f4-camel,f4-core,f4-message-consumer",1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"add fcrepo-camel-toolbox configuration files to the artifact set It would be convenient if, when deploying a camel-toolbox feature, the appropriate configuration file was also installed in $KARAF_HOME/etc (rather than instructing users to create their own configuration file from scratch)",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-audit-triplestore has incomplete list of bundle dependencies in features.xml The fcrepo-camel-toolbox features.xml file (used for provisioning in Karaf) has an incomplete list of transitive dependencies. Eventually the fcrepo-karaf project will manage this, but for now, the additional dependencies should be listed.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Cleanup in RDF generation It is possible to deploy some Java 8 syntax to make the current RDF generation framework a little more concise and readable.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove direct dependencies on javax.servlet The fedora http modules rely on both javax.ws.rs.core and javax.servlet.http classes. It seems to make sense to consolidate these around javax.ws.rs.core    Also, the metrics module depends on a javax.servlet.annotation class. We should evaluate whether this is necessary.    At present, the maven configuration downgrades the servlet-api version to 3.0.1 (even though modeshape depends on 3.1.0). This causes some messiness for OSGi, and it would be good to straighten this out. (Removing the direct dependency may be the easiest approach)",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Deprecate fcr:import/export This task is to remove the ""fcr:export"" and ""fcr:import"" features.  Once this is done, a new ticket should be created to update the wiki documentation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT w/o body generates Internal Server Error   If a client sends application/ld+json as the content type, but no body, Fedora4 generates an uncaught exception.  Yes this is a client error, but the server shouldn't give an internal server error as the response.  Should probably be 400, as the request is just totally wrong.    $ curl -H ""Content-Type: application/ld+json"" -X PUT http://localhost:8080/rest/    org.apache.jena.atlas.AtlasException: com.fasterxml.jackson.core.JsonParseException: document doesn't start with a valid json element : null   at [Source: java.io.BufferedReader@57cec9d8; line: 1, column: 1]",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT with malformed etag generates Internal Server Error If the etag value is returned to the server in If-Match without the quotes, then the server raises an uncaught exception:    $ curl -XPUT http://localhost:8080/rest/foo  http://localhost:8080/rest/foo    $ curl -I http://localhost:8080/rest/foo  ...  ETag: ""2c35ae443a20eac5e1cc44d451371485a6e6ff4f""  ...    $ curl -XPUT -H ""If-Match: 2c35ae443a20eac5e1cc44d451371485a6e6ff4f"" http://localhost:8080/rest/foo  ...  org.glassfish.jersey.message.internal.HeaderValueException: Unable to parse ""If-Match"" header value: ""2c35ae443a20eac5e1cc44d451371485a6e6ff4f""  at org.glassfish.jersey.message.internal.InboundMessageContext.exception(InboundMessageContext.java:333)    It could give 400 or 412, preferably with a nice error message saying that the quotes are needed.  ",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Factor fcrepo-transform into a separate project fcrepo-transform is slated for excision from the main codebase and removal to an extension Github account. To begin that process, we can move it to a separate project inside the same Github organization.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"JCR bleed in fcrepo-kernel-api org.fcrepo.kernel.api.utils.UncheckedFunction<T, R> and org.fcrepo.kernel.api.utils.UncheckedPredicate<T> import javax.jcr.RepositoryException. Either they should be generalized or they should be moved to fcrepo-kernel-modeshape.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Migrate to Jena 3.0.0 At present, Fedora depends on Jena 2.12.1    The 3.x series has just been released. After some initial investigation, there are a few issues related to upgrading to the new version at this point.    Two minor issues relate to dependency conflicts between the fedora libraries and the LDP integration tests (which uses 2.12.x). The fcrepo-transform module also depends on an older 2.x version of the Jena API.    In the fedora kernel, the main change from 2 to 3 involves how string literals are represented. With RDF 1.1, there is no difference between the literal ""abc"" and ""abc""^^http://www.w3.org/2001/XMLSchema#string. But at present, they are serialized differently in the JCR layer. Transitioning to Jena 3 would require normalizing how those string literals are persisted.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Stop publishing half-baked JCR types We currently publish a gabble of half-understandable JCR-sourced types as part of the typing of almost every Fedora resource. Examples include:    http://www.jcp.org/jcr/mix/1.0created   http://www.jcp.org/jcr/mix/1.0lastModified   http://www.jcp.org/jcr/mix/1.0referenceable   http://www.jcp.org/jcr/nt/1.0base   http://www.jcp.org/jcr/nt/1.0folder   http://www.jcp.org/jcr/nt/1.0hierarchyNode     et al. These should be removed. They serve no purpose, they expose internal implementation details inappropriately, and they confuse people into thinking that Fedora has a deeper connection with JCR than it actually does.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update Jena dependency There is a newer Jena 2.x release available (2.13.x). This is a ticket to track updating to that version.    A significant difference with this version is that all String literals now have a defined DatatypeURI. In RDF 1.1, there is no difference between ""abc"" and ""abc""^^<http://www.w3.org/2001/XMLSchema#string>, and this change simply makes that more explicit in the serialization.    2.13.0 also has artifacts built as OSGi bundles.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update servlet-api version Fcrepo4 currently depends on v3.0.1 of the javax.servlet-api, yet transitive dependencies require v3.1.0.    Related to https://jira.duraspace.org/browse/FCREPO-1664",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Replace guava's Function and Predicate classes with Java8 idioms The fedora4 code relies extensively on Guava's Function and Predicate classes. These can be replaced by the Java8 versions.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Github Shuffle This is a ticket to track the migration of github repositories to their ""proper"" home, as discussed at various tech meetings. This is mostly about projects moving from fcrepo4-labs to fcrepo4-exts or from fcrepo4 to fcrepo4-exts.    Most projects will include a minor PR to update SCM information listed in the maven configuration.","f4-audit,f4-camel,f4-message-consumer",1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"Maven cleanup In order to allow external projects to be more easily decoupled from the main fcrepo maven configuration, it would be convenient to have an fcrepo-parent POM artifact that defines a minimal (common) maven build environment.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Reduce compiler warnings The compiler warns about a series of unchecked conversions, mostly related to specialized iterators being cast to a supertype. These warnings, however, can safely be suppressed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Minor javadoc errors in fcrepo-webapp There are some minor javadoc warnings in the fcrepo-webapp project, related to missing values in one of the test classes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"upgrade commons-lang Jena 2.13.0 has a transitive dependency on commons-lang3, and fcrepo currently uses v2.x of commons-lang, meaning the codebase depends on both versions. This would be a good opportunity to upgrade the (minimal) existing usage of commons-lang from 2 to 3.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
test coverage of fcrepo-connector-file The fcrepo-connector-file module has particularly poor test coverage. This is a ticket to track improvement in this area. Sonar shows unit test coverage at < 40% http://sonar.fcrepo.org/drilldown/measures/1?metric=coverage&rids%5B%5D=3535,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make travis output not quite so verbose A standard fedora build in travis includes over 10,000 lines of output. This seems excessive; setting the log levels to WARN will significantly reduce the amount of output and make it easier to find real build errors.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Extract fcrepo-camel-webapp to fcrepo4-labs This task is to extract the fcrepo-camel-webapp module from fcrepo-camel-toolbox and move it as an example to a new GitHub project within fcrepo4-labs.  Additionally, the fcrepo-camel-toolbox/README (and the wiki: https://wiki.duraspace.org/display/FEDORA4x/Setup+Camel+Message+Integrations) should be updated to point to that example.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove stale branches from fcrepo4 github repo The fcrepo4 repository has a lot of stale branches: https://github.com/fcrepo4/fcrepo4/branches/stale. Some of these have been merged with master, some relate to closed PRs, most of them are quite old and should be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Inappropriate ETag headers Etag headers are included in the responses to PATCH and POST operations (possibly others?), which seems peculiar. AFAIK, they should only be part of HEAD and GET requests.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Move fcrepo-mint outside the core codebase fcrepo-mint is no longer a dependency of the fcrepo-kernel-api and represents only extension functionality. It should be moved outside of the core codebase in much the same way as fcrepo-transform will be.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo-karaf with new dependencies There have been a number of changes to the dependencies of the core fcrepo modules. Those changes should be reflected in fcrepo-karaf,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel has a mistake in the documentation See this PR: https://github.com/fcrepo4-exts/fcrepo-camel/pull/87,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Sparql-update fails when literals contain ""/>"" A sparql-update will fail if any literal contains the string ""/>"", for instance:    PREFIX dc: <http://purl.org/dc/elements/1.1/>    INSERT DATA {   <> dc:title ""Some<br/>Text"" .  }    This appears to be related to this ticket: https://jira.duraspace.org/browse/FCREPO-1409    and this line in particular: https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-kernel-modeshape/src/main/java/org/fcrepo/kernel/modeshape/FedoraResourceImpl.java#L444 ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove solr/fuseki integration tests from fcrepo-camel The integration tests with solr and fuseki are already part of fcrepo-camel-toolbox. They should be removed from fcrepo-camel itself.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update fcrepo-camel-toolbox integration tests -- stop using EmbeddedFusekiServer From [~ajs6f@virginia.edu]: See here (https://github.com/ocymum/trippi-sparql-update/blob/master/pom.xml) for an example of how to use Fuseki 2 to support integration tests with the Maven plugin for Cargo.    More background here: https://github.com/fcrepo4-exts/fcrepo-camel-toolbox/pull/50#issuecomment-134578075,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Kill dependency on org.modeshape.jcr.security.AuthenticationProvider Currently the Fedora auth SPI depends directly on org.modeshape.jcr.security.AuthenticationProvider. This is a Modeshape type dependency which should be confined to the Modeshape kernel implementation. Instead, an appropriate Fedora-specific type should be substituted for org.modeshape.jcr.security.AuthenticationProvider.","f4-auth,f4-core",0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Investigate Fixity Properties and Possible Modification Determine whether it is possible to modify properties related to fixity:    * Is a file's sha1 checksum stored in a property or added to the property response dynamically?  * If it is stored in a property, can it be modified if the code preventing that is removed?  * Are fixity responses resources that could potentially be modified?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Uploading Ogg Files Fails Uploading an Ogg Vorbis file to fcrepo4 results in a stacktrace (see https://github.com/fcrepo4/fcrepo4/issues/893).    This may be related to this dependency and exclusion: https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-boms/fcrepo-jcr-bom/pom.xml#L24 -- we're excluding some of the vorbis-java components because they require an older version of Tika than we're using.  The versions mentioned in the comments are much older than the current requirements of the vorbis-java package, so this may be as simple as updating the pom.xml to use current versions of the related packages.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Refactor implementation of EVERYONE user down to FAD Refactor the definition of the EVERYONE user in the ServletContainerAuthenticationProvider so that individual Fedora Authorization Delegates can provide their own definition of the EVERYONE user.    This came up in the context of the WebAC authorization delegate where, according to the spec, the notion of everyone is the class foaf:Agent, and not a string ""EVERYONE"".",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create FedoraWebACUserSecurityContext Create FedoraWebACUserSecurityContext by extending FedoraUserSecurityContext to support WebAC compatibility.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Do not expose UUID of versions - HTML UI This task is a follow-on to:  https://jira.duraspace.org/browse/FCREPO-1703    When versioning containers, the UUID of the version shows up in the HTML UI display. To reproduce:  - Create a container  curl -i -XPUT localhost:8080/rest/book  - Version the container  curl -i -XPOST -H""slug: v0"" localhost:8080/rest/book/fcr:versions  - View the version in the HTML UI  ...boom, see UUID in breadcrumb and resource title",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add a getTypes() method to the FedoraResource API It would be convenient to have a getTypes() method on FedoraResource and a corresponding implementation in FedoraResourceImpl. The rdf:type property is a bit different than other values that can already be easily accessed with getProperty.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add WebAC profile to fedora-webapp-plus Add a maven profile to create fcrepo-webapp bundle that includes WebAC authorization module.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"WebACAuthorization class cleanup The WebACAuthorization/WebACAuthorizationImpl is just a POJO, and so there's no reason to have a separate interface and implementation. This is a ticket to track merging the two into a single class.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"WebAC maven configuration The WebAC maven configuration could use some cleanup: e.g. the module depends on commons-lang3, but that is not declared; version numbers should be moved into the properties tag.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
WebAC: address sonar-related issues Sonar reports a number of issues with the WebAC modules: http://sonar.fcrepo.org/component_issues?id=org.fcrepo%3Afcrepo-module-auth-webac#resolved=false    This ticket is to track cleaning those up.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the priorVersion field in the ontology is incorrect The owl:priorVersion field in the ontology is incorrect.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Cannot install fcrepo-camel through feature When attempting to install fcrepo-camel using an OSGi feature, you get the following error: Could not find artifact org.apache.commons:commons-codec:jar:1.9 in central (http://repo1.maven.org/maven2/)    This also prevents any of the fcrepo-camel-toolbox projects from deploying as features, as well.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-audit-triplestore doesn't startup properly in karaf The fcrepo-audit-triplestore module does not deploy correctly in karaf. This is due to upstream changes in the use of RDF parsing libraries, particularly since the resolution of https://jira.duraspace.org/browse/FCREPO-1667.    That ticket involved replacing fcrepo-camel's RDF processing facility with jena (moving away from clerezza). Doing so, however, left the fcrepo-audit-triplestore with missing transitive dependencies. This is a ticket to refactor the RDF processing to use Jena, too.    ",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"UI -- Issue Tracker points to GitHub instead of JIRA Update the ""Issue Tracker"" link in the footer of the UI to point to JIRA instead of GitHub.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Switch testing apparatus to use OSGi pax exam Switch integration testing in the fcrepo-camel project to use PaxExam, to be more OSGi compliant.    https://ops4j1.jira.com/wiki/display/paxexam/Pax+Exam",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Last-Modified and ETag should not change with inbound references Inbound links should not update the last-modified date or ETag.  Although inbound links can be retrieved with a resource, they are part of the state of the linking resources, not the linked-to resources.    On a practical level, updating the last-modifed/ETag when a resource is linked to make it very difficult to update resources that are frequently liked to.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unknown predicate used in Fixity docs On this page: https://wiki.duraspace.org/display/FEDORA43/RESTful+HTTP+API    It has a sample response that shows:    <http://localhost:8080/rest/path/to/some/resource#fixity/1400589459772> <http://fedora.info/definitions/v4/repository#status> ""BAD_CHECKSUM""^^<http://www.w3.org/2001/XMLSchema#string> , ""BAD_SIZE""^^<http://www.w3.org/2001/XMLSchema#string> ;      But this status predicate doesn't exist in http://fedora.info/definitions/v4/repository","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"extract non-core ontologies out of fcrepo4/ontology The {{fcrepo4/ontology}} repository contains a lot of non-core (extension) ontologies. These extension ontologies should be extracted into their own repositories and out of the {{fcrepo4}} organization. Ontologies to be moved include:    audit.rdf -> fcrepo4-exts/fcrepo-audit-ontology/  indexing.rdf -> fcrepo4-exts/fcrepo-indexing-ontology/  oai-pmh.rdf -> fcrepo4-exts/fcrepo-oai-pmh-ontology/  objState.rdf -> fcrepo4-exts/fcrepo-object-state-ontology/  ldp-fedora-mapping.rdf (is this even used? perhaps it can simply be removed: [~ajs6f@virginia.edu] would know)    [~ajs6f@virginia.edu], [~awoods] do you agree with the above reorganization?",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"improve stream processing of large resources For very large resources (e.g. a root object with 100s of thousands of child resources), the streamCache() mechanism is not ideal with camel. Instead, using the xtokenize() xml parsing method works better, consumes less memory and runs faster.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
finish and integrate the ldp-fedora-mapping ontology The ldp-fedora-mapping ontology has not been fully integrated into the main repository ontology. This is a ticket to track progress of that.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel doesn't properly encode Sparql-Update queries Sparql-update queries handled by fcrepo-camel (esp. via fcrepo-indexing-triplestore) will fail if they contain special URL characters, such as &. The queries should be properly URL-escaped by the fcrepo-camel processors.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"eTags should be Weak eTags HTTP spec says that strong eTags should be based on the byte-for-byte serialization of the response that's sent, and LDP wants to use it for checking if the state has changed. We currently use strong e-tags, but not correctly (it doesn't change with different serializations) - we should just be able to prepend ""W/"".",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
oai-pmh ontology uses some incorrect fedora classes The oai-pmh ontology uses some non-existent fedora classes. Those should be changed to align with the published fcrepo ontology,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"Investigate creating an implementation of Jena's UpdateVisitor interface The visitor pattern is useful in several contexts when working with the Jena API. https://jira.duraspace.org/browse/FCREPO-1706 is one example, though that in itself is not sufficient justification for this implementation. This ticket should also track finding suitable parts of the code where such an implementation would be useful.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel should do preemptive authentication when authN is enabled the httpclient (and therefore fcrepo-camel) does not do preemptive authentication by default. That is, (when authN is enabled) it first tries to execute a request without authN; if it fails, it reissues the request.    The problem with PUT/PATCH/POST requests in the context of fcrepo-camel is that they typically operate on streams. The first (unauthenticated) request will then consume the stream while the second (authenticated) request will no longer be able to access that data. This can be fixed by using preemptive authN, as is currently done in the camel-http4 component.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add Transaction support to fcrepo4-client Add support for transactions to the fcrepo4-client package:    * Opening a new transaction  * Automatically using the transaction-prefixed path  * Commiting the transaction  * Rolling back the transaction,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel-toolbox features should include wrap as a dependency If the fcrepo-camel-toolbox features are installed at boot time in karaf (via org.apache.karaf.features.cfg), some of the features fail because they depend on the wrap protocol. wrap is typically also installed at boot time, but unless the fcrepo-camel-toolbox features are explicit about this dependency, karaf won't install wrap before the toolbox features, and the installation of the toolbox features will fail.    The solution is to add this to any feature that uses the wrap: protocol:    <feature prerequisite=""true"">wrap</feature>",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RDF response clean up This task is to remove the following RDF elements from the default resource view.  Note, these elements show up prominently in the HTML UI; therefore, in the process of working this ticket it should be verified that the HTML UI is also cleaned up as necessary for a clean view.    - remove UUID from resource HTML view  - remove mixinTypes  - remove primaryType  - remove hasAccessRoles  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update config/clustered/repository.json to point to infinispan/clustered.xml Recently updated https://wiki.duraspace.org/display/FEDORA44/Configuration+Options+Inventory mentions:    Modeshape Configurations  /config/clustered/repository.json      Default configuration with repository clustering enabled. By default, uses /config/infinispan/clustered/infinispan.xml persistence configuration.    In fact, in fcrepo4/fcrepo-configs/src/main/resources/config/clustered/repository.json the following line says otherwise:    ""cacheConfiguration"" : ""${fcrepo.ispn.configuration:config/infinispan/leveldb/infinispan.xml}"",    The repository.json file should be brought into correspondence to the documentation - which correctly describes the intent to configure clustering.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Basic search page gives a 500 Internal Server Error The Fedora basic search page ( /fedora/search ) gives a 500 Internal Server error when attempting to access the page with no queries.    The error happens at line 244 of org.fcrepo.server.access.FieldSearchServlet.doGet , FieldSearchServlet.java (see attached stack trace). Within the code, it looks like the FieldSearchResult fsr is set to null, which causes problems as search results are attempted to be displayed even when the page first loads.  A possible code fix is to check to see if there are any results at all (in fieldsArray) before attempting to iterate through the results. I could try to fix this myself (I'd need to set up a dev environment first though).    There are two imperfect workarounds:    1. Put in some search terms as a GET request, such as (at minimum it appears):    /fedora/search?query=&pid=true&maxResults=0    This allows the page to load and be used. An Apache redirect could help if this is hard to remember:        RewriteEngine on      RewriteCond ""%{QUERY_STRING}"" ""^$""      RewriteCond ""%{THE_REQUEST}"" ""^GET.*$""      RewriteRule ""^/fedora/search$"" ""/fedora/search?query=&pid=true&maxResults=0"" [R,L]    This workaround works pretty well, though it does seem like a bit of a hack.    2. Use the Fedora admin page instead ( /fedora/admin )    Though this page doesn't have the same functionality, such as easy access to disseminators.      Update: I just noticed that there is a near-identical search page (that works) here:    /fedora/objects    This basically resolves this problem, the old search page should either be removed or redirect to the new one.  ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
osgi-ify fcrepo-http-commons The use of the SLF4J JUL bridge interferes with karaf deployment of the fcrepo-http-commons module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up stack traces from integration tests A number of integration tests unnecessarily produce stack traces. Where possible, these should be cleaned up.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up maven configuration for fcrepo-camel-toolbox The maven configuration for fcrepo-camel-toolbox can be cleaned up considerably. For starters, it should inherit from fcrepo-parent, not oss-parent. Secondly, the build-helper plugin is incorrectly configured, preventing a successful {{mvn install}} from a subdirectory.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"maven configuration cannot inherit scm section When inheriting from fcrepo-parent in maven, the SCM section is incorrect. What happens is a project's artifactId is appended to the scm connection value, so during mvn release:perform the incorrect value is used.    The solution is to *not* inherit the scm values in maven. This affects fcrepo4, fcrepo-karaf and probably others, too.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Jersey session injection fails with invalid transaction ids Using jersey, the AbstractResource class expects to have a Session object injected into it. This injection fails, however, in the context of a transaction when that transaction ID does not exist. This is because the SessionFactory class throws a TransactionMissingException error, leaving the AbstractResource in an invalid state (at least as far as Jersey is concerned).    That invalid state is circumvented by simply throwing a ClientErrorException and returning a 410 Gone response. This means that, from the perspective of a REST client, I see the correct behavior, but still the architecture is incorrect.    This ticket should track the refactoring of how sessions are injected into the AbstractResource class so that TransactionMissingExceptions don't cause stacktraces like this: https://gist.github.com/acoburn/86d46e4d4322cfa08160    This was generated while tailing the tomcat logfile and running this command:    curl -i localhost:8080/fcrepo/rest/tx:fake/some-existing-resource    ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use a filesystem-based ACL backstop for resources w/o defined accessControls This is a ticket to enforce ACL controls on ACL resources for non-admin agents. This has two parts: the first is to implement the acl:Control mode, which controls read/write access to ACLs. The second part is to have a file-based backstop (expressed in ACL rdf) for ACLs that don't contain (and whose parents don't contain) the acl:accessControl property.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add Auth support for agentClass graphs The document describing WebAC discusses the use of acl:agentClass for making access decisions based on a graph of user/group agents. This ticket will track the implementation of support for this where these agentClass graphs are defined as in-domain resources in fedora. The code should be written in such a way that it would be easy to access remote RDF graphs, should that use case arise.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"builds fail with out of memory errors Since upgrading to modeshape 4.4 and infinispan 7.x, the integration tests for fcrepo-http-api will fail intermittently due to out of memory (MetaSpace) errors. The solution appears to be simply increasing the MetaSpace size.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Investigate backuping leveldb while fedora is up Test if filesystem backups from the fcrepo home of a live repository could be used to reliably restore the repository.  Steps:  - Spin up a fedora repository.  - Use multiple client scripts to load test data to the repository  - Backup the fcrepo home directory while load scripts are actively ingesting new objects.  - Use the backup to start a new fcrepo repository.    - Verify that the repository starts without any issues (such as leveldb getting corrupted).  - Make the tests repeatable,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
README file should be cleaned up The readme file in fcrepo4 could be cleaned up and made more informative. This is a ticket to track that.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Review triples in HTTP representations for legitimacy Review all RDF representations available from Fedora's HTTP API to separate them into two categories:    - Those that are documented in a Fedora API module ontology and to which the Fedora architecture is committed.  - Those to be added to a kill-list for removal.    All JCR-exposing triples should certainly be removed.,"f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"WebAC: Add documentation for root authorization override The WebAC module has a new feature allowing repository administrators to provide a root acl:Authorization file to apply to all resources without an explicitly defined acl:accessControl property. Documentation should be added describing how to use this.     In addition, the effective algorithm described here should be updated: https://wiki.duraspace.org/display/FEDORA4x/WebAC+Authorization+Delegate#WebACAuthorizationDelegate-Stepsindeterminingtheeffectiveauthorization",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webac: minor code cleanup The webac integration tests include a lot of blocks of code like this:    try (final CloseableHttpResponse response = execute(request)) {      assertEquals(HttpStatus.SC_OK, getStatus(response));  }    Those should be refactored to be simply:    assertEquals(HttpStatus.SC_OK, getStatus(request));    ",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"WebAC: allow PUT and POST to create new resources With the webac module, it is not possible to create new resources for non-admin users even when the acl:Write mode is in effect. That is due to the algorithm used to find acl roles.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Dublin Core Elements Title as URI causes an error in admin interface. Accessing an object using a Dublin Core Elements title that points to a uri causes an error in the web browser view of the object. (Note: Dublin Core Elements doesn't limit the range of values for the title like Dublin Core Terms does).    For further details, see the thread: https://groups.google.com/forum/#!topic/fedora-community/nHba8JlKIQg    Stack Trace:  org.apache.velocity.exception.MethodInvocationException: Invocation of method 'getObjectTitle' in class org.fcrepo.http.commons.responses.ViewHelpers threw exception java.lang.UnsupportedOperationException: http://id.loc.gov/authorities/names/n00020514 is not a literal node at /views/node.vsl[line 2, column 25] at org.apache.velocity.runtime.parser.node.ASTMethod.handleInvocationException(ASTMethod.java:243) at org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:187) at org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:280) at org.apache.velocity.runtime.parser.node.ASTReference.value(ASTReference.java:567) at org.apache.velocity.runtime.parser.node.ASTExpression.value(ASTExpression.java:71) at org.apache.velocity.runtime.parser.node.ASTSetDirective.render(ASTSetDirective.java:142) at org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:342) at org.apache.velocity.Template.merge(Template.java:356) at org.apache.velocity.Template.merge(Template.java:260) at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.writeTo(StreamingBaseHtmlProvider.java:212) at org.fcrepo.http.api.responses.StreamingBaseHtmlProvider.writeTo(StreamingBaseHtmlProvider.java:85) at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:265) at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:250) at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162) at org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:106) at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162) at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:85) at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162) at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1154) at org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:621) at org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:377) at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:367) at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:274) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267) at org.glassfish.jersey.internal.Errors.process(Errors.java:315) at org.glassfish.jersey.internal.Errors.process(Errors.java:297) at org.glassfish.jersey.internal.Errors.process(Errors.java:267) at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297) at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254) at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1030) at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:503) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:522) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:429) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255) at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) at org.eclipse.jetty.server.Server.handle(Server.java:370) at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494) at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971) at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033) at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644) at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235) at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:696) at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:53) at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.UnsupportedOperationException: http://id.loc.gov/authorities/names/n00020514 is not a literal node at com.hp.hpl.jena.graph.Node.getLiteral(Node.java:227) at org.fcrepo.http.commons.responses.ViewHelpers.getObjectTitle(ViewHelpers.java:215) at sun.reflect.GeneratedMethodAccessor45.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.doInvoke(UberspectImpl.java:395) at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:384) at org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:173) ... 58 more",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"OOM when migrating many objects We have started running migration tests using migration-utils, and are receiving an out of memory (OOM) error after migrating a few thousand objects, with heap sizes tested between 1-5 GB.  The OOM is observed in the migration-utils JVM.    For example, for one test we specified a max heap of 2 GB.  After 25 min the JVM started running full GCs; after 40 min the JVM was spending most of its time in full GC, and an OOM was thrown at 50 min after 1533 Fedora 3 objects were migrated.  The gc and migration-utils logs from this run are attached.    Similar results were experienced with max heaps specified in the range of 1-5 GB, see table below.  It appears that the heap usage grows linearly with the number of objects migrated to the max available, and some objects in the heap are never garbage collected.    On one of these runs I took a snapshot of the heap and looked at it through jvisualvm.  A fair amount of memory is consumed by char arrays and Strings, whose values appear to be triples.  Perhaps these triples are not garbage collected?    Max heap    # objects  Time to OOM  1 GB    1262   25 mins  2 GB    1533   50 mins  4 GB    3145   1 hr 41 mins  5 GB    4032   2 hr 8 mins    Environment:  migration-utils-4.3.1-SNAPSHOT, running on the same CentOS server as the destination Fedora.  Source data is from Fedora 3.8.1 legacy-fs format.  Target is Fedora 4.3, running with 5 GB max heap.    Eventually we would like to use this utility to migrate two different Fedora repos, each with approx. 3.5M objects.    Thanks!",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
The ViewHelpers class in fcrepo-http-commons could be cleaned up considerably The ViewHelpers class in fcrepo-http-commons could be cleaned up (and shortened) considerably. Some java8 idioms and jena utilities (e.g. GraphUtil::listObjects) could replace much of our own implementation.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Extract fedora 4 client code from fcrepo-camel project. We need a shared java client library for Fedora 4.  It will be a good start even if it just includes:    1.  Best practices for HttpClient creation  2.  The basic semantics of typical Fedora 4 requests    For a first pass, just extract the FcrepoClient (and dependencies) from fcrepo-camel and rig up an integration test framework.  ","f4-camel,f4-java-client",0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Multiple OAI sets not working I have installed fcrepo4-oaiprovider-4.2.0 on Fedora 4.2.0 (plus-rbacl-audit). I have added sets using command below.  curl -X POST http://localhost:8080/fcrepo-webapp-plus-rbacl-audit-4.2.0/rest/oai/sets -H ""Content-Type: text/xml"" -d @oai_set.xml -u fedoraAdmin:fedoraAdmin     Here is my @oai_set.xml  <?xml version=""1.0"" encoding=""UTF-8"" standalone=""yes""?>    <set xmlns:ns2=""http://www.openarchives.org/OAI/2.0/"">      <ns2:setSpec>oai-test-set</ns2:setSpec>      <ns2:setName>oai-test-set</ns2:setName>    </set>    It was working for the first set. I have added another set, oai-test-set-2 and then list the set by using oai?verb=ListSets, but the response showed only first set.    Here are my questions  - How can I make the OAI Provider to show all sets?  - How can I update or delete oai set?",f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
clean up build warnings There are some minor build warnings (unchecked conversions and unused bundle imports) that could be removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
The javadocs should contain package descriptions The javadocs are missing a lot of package descriptions: http://docs.fcrepo.org/site/4.4.0/fcrepo/apidocs/index.html  ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove modeshape from the kernel-api The {{fcrepo-kernel-api}} should in no way depend on modeshape. This ticket is to remove all trace of Modeshape from the kernel-api.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"WebAC: Unable to create new version This task is to resolve the scenario where a user with read/write permission on a resource is unable to create a version of that resource (or its children).  To reproduce:  ** Setup **  # Create a resource  curl -i -uadmin1:password3 -XPUT localhost:8080/rest/collection  # Create a child resource  curl -i -uadmin1:password3 -XPUT localhost:8080/rest/collection/book  # Create an ACL  curl -i -uadmin1:password3 -XPUT localhost:8080/rest/acl  # Create an Authorization  curl -i -uadmin1:password3 -XPUT -H""Content-Type: text/turtle"" --data-binary @auth.ttl localhost:8080/rest/acl/auth  # Link the resource to the ACL  curl -i -uadmin1:password3 -XPATCH -H""Content-Type: application/sparql-update"" --data-binary @link.su localhost:8080/rest/collection  ** Test **  # Verify ""user1"" has read access to the resource  curl -i -uuser1:password1 localhost:8080/rest/collection  # Try to create a version of the resource as ""user1"":  curl -i -uuser1:password1 -XPOST -H""slug: v0"" localhost:8080/rest/collection/fcr:versions  ** BOOM! failure - 403  # Try to create a version of the child as ""user1"":  curl -i -uuser1:password1 -XPOST -H""slug: v0"" localhost:8080/rest/collection/book/fcr:versions  ** BOOM! failure - 403  # Verify ability to create a version of the resource as ""admin1"":  curl -i -uadmin1:password3 -XPOST -H""slug: v0"" localhost:8080/rest/collection/fcr:versions    See attached:  * auth.ttl  * link.su",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ISPN JDBC: Investigate functionality of a LevelDB alternative This task is to configure an alternative ISPN backend (JDBC?) and test for basic functionality.    If an alternative backend works, create a follow-on ticket for investigating the performance relative to the current LevelDB backend.  If performance is promising, create a follow-on-follow-on ticket for investigating a LevelDB-to-JDBC (or other) backend migration.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove modeshape dependency from fcrepo-kernel-api fcrepo-kernel-api should not depend on modeshape. The only remaining dependency exists in the RepositoryService class, where the backup and restore methods return an org.modeshape.jcr.api.Problems object. This should instead be wrapped in a Collection<Throwable>.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add logging to HttpHeaderPrincipalProvider Add debug logging to HttpHeaderPrincipalProvider, to assist in tracing authentication information from the container.    See https://wiki.duraspace.org/display/FF/2015-10-16+-+WebAccessControl+Authorization+Delegate+Planning+Meeting?focusedCommentId=70589400#comment-70589400",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unbalanced brackets in path results in stacktrace If you try to retrieve a repository path with unbalanced brackets in the path (e.g., http://localhost:8080/rest/[foo), you will get an exception stacktrace: ""java.lang.IllegalArgumentException: Missing end bracket in segment name"" -- see https://github.com/fcrepo4/fcrepo4/issues/945    If you put an existing path in brackets, it will work (e.g. http://localhost:8080/rest/foo can also be accessed at http://localhost:8080/rest/[foo]).    Including brackets in the URL should not result in a stacktrace (it should be 400 or 404 instead).  And we should probably also document or suppress the bracket handling.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webapp-plus: Internal Audit not active with jetty:run This task is to enable the internal audit capability when running ""mvn jetty:run"" on the fcrepo-webapp-plus project.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Incorrect Accept header should return an appropriate 4xx status code When making a GET request with an incorrect mimeType, e.g. ""Accept: application/turtle"", fedora responds with a 500 status code. It should, instead, respond with a 400 code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Two versionable datastreams with same identifier The islandora software creates objects, and stores them  in our fedora-commons installation, using the REST-API.    Every object has a datastream ""TN"", which is jpeg-file,  that serves as a ""thumbnail"". This datastream is versionable.    Mostly, all goes fine. But sometimes, the new version is registered  by fedora, but strangely disappears from the underlying filesystem,  without fedora noting this in the datastream description.    All I could was this in the log files:    [..]  INFO 2015-10-22 10:59:58.035 [http-8080-16] (DatastreamResource) addOrUpdate  INFO 2015-10-22 10:59:58.035 [http-8080-16] (DefaultManagement) Completed getDatastream(pid: islandora:20401, datastreamID: TN, asOfDateTime: null)  INFO 2015-10-22 10:59:58.045 [http-8080-50] (DatastreamResource) addOrUpdate  INFO 2015-10-22 10:59:58.046 [http-8080-50] (DefaultManagement) Completed getDatastream(pid: islandora:20401, datastreamID: TN, asOfDateTime: null)  INFO 2015-10-22 10:59:58.049 [http-8080-16] (DefaultDOManager) Committing modification of islandora:20401  INFO 2015-10-22 10:59:58.049 [http-8080-16] (DefaultDOManager) Getting managed datastream from internal uploaded location: uploaded://133842 for islandora:20401  INFO 2015-10-22 10:59:58.066 [http-8080-16] (DefaultDOManager) Replaced managed datastream location with internal id: islandora:20401+TN+TN.0  INFO 2015-10-22 10:59:58.067 [http-8080-16] (DefaultDOManager) Adding to ResourceIndex  INFO 2015-10-22 10:59:58.075 [http-8080-16] (DefaultDOManager) Updating dissemination index for islandora:20401  INFO 2015-10-22 10:59:58.075 [http-8080-16] (DefaultDOManager) Updating FieldSearch index  INFO 2015-10-22 10:59:58.077 [http-8080-16] (DefaultManagement) Completed addDatastream(pid: islandora:20401, dsID: TN, altIDs: , dsLabel: Thumbnail, versionable: true, MIMEType: image/jpeg, formatURI: , dsLocation: uploaded://133842, controlGroup: M, dsState: A, checksumType: DISABLED, checksum: null, logMessage: Copied datastream from islandora:20401.)  INFO 2015-10-22 10:59:58.081 [http-8080-16] (DefaultManagement) Completed getDatastream(pid: islandora:20401, datastreamID: TN, asOfDateTime: null)  INFO 2015-10-22 10:59:58.083 [http-8080-50] (DefaultDOManager) Committing modification of islandora:20401  INFO 2015-10-22 10:59:58.084 [http-8080-50] (DefaultDOManager) Getting managed datastream from internal uploaded location: uploaded://133843 for islandora:20401  INFO 2015-10-22 10:59:58.098 [http-8080-50] (DefaultDOManager) Replaced managed datastream location with internal id: islandora:20401+TN+TN.0  INFO 2015-10-22 10:59:58.098 [http-8080-50] (DefaultDOManager) Removed purged datastream version from low level storage (token = islandora:20401+TN+TN.0)  INFO 2015-10-22 10:59:58.100 [http-8080-50] (DefaultDOManager) Adding to ResourceIndex  INFO 2015-10-22 10:59:58.118 [http-8080-50] (DefaultDOManager) Updating dissemination index for islandora:20401  INFO 2015-10-22 10:59:58.118 [http-8080-50] (DefaultDOManager) Updating FieldSearch index  INFO 2015-10-22 10:59:58.120 [http-8080-50] (DefaultManagement) Completed addDatastream(pid: islandora:20401, dsID: TN, altIDs: , dsLabel: Thumbnail, versionable: true, MIMEType: image/jpeg, formatURI: , dsLocation: uploaded://133843, controlGroup: M, dsState: A, checksumType: DISABLED, checksum: null, logMessage: Copied datastream from islandora:20401.)  INFO 2015-10-22 10:59:58.131 [http-8080-50] (DefaultManagement) Completed getDatastream(pid: islandora:20401, datastreamID: TN, asOfDateTime: null)    [..]    As you can see, the file is uploaded two times.   The first file ""uploaded://133842"" gets the identifier ""islandora:20401+TN+TN.0"".  The second file ""uploaded://133843"" also gets the   identifier ""islandora:20401+TN+TN.0"".    This double identifier probably causes the deletion of the underlying file,  as reported in the log:    Removed purged datastream version from low level storage (token = islandora:20401+TN+TN.0)    The method ""deletePurgedDatastreams"" in DefaultDOManager  does this?  Is this behaviour intented? What can I do to prevent this?    Thanks in advance    ",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"Calculate and compare alternate checksum on ingest I want to submit alternate checksums (SHA-256, MD5, etc) alongside deposited content and for Fedora to calculate, compare, and store a checksums matching the algorithms I've submitted.      Additionally, any user-provided digest algorithms that are not supported by Fedora should respond with a 400 status or some other indicator to the client that the digest can not be used.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Allow inline transfer of binary resources When responding to a request for a Non-RDF Resource, Fedora always adds a ""content-disposition: attachment"" header, with filename and other details. This forces the browser to display a download dialog, making it impossible to serve/display/stream binary content directly from the repository.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-audit doesn't build fcrepo-audit no longer builds. the maven config doesn't import the modeshape-jcr-api artifact. It should.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove jcr dependencies from the kernel-api The fedora kernel should not depend on JCR interfaces. This ticket will track the removal of all things jcr from the fcrepo-kernel-api module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove modeshape dependency from fcrepo-jms module The fcrepo-jms module compile-depends on the fcrepo-kernel-modeshape module. This ticket will track decoupling the two.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"omit ldp:contains triples for triplestore indexing The fcrepo-indexing-triplestore component currently includes ldp:contains triples in the serialization sent to a triplestore, but for large repositories, this can become problematic, as the request sizes are potentially very large. In principle, these triples are superfluous as a SPARQL query can use fedora:hasParent in an analogous query.    The easy solution is to simply omit the ldp:PreferContainment triples.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"In the HTML UI, when binary files are uploaded, the filename property is empty When uploading files through the HTML UI, the filename property is empty. This is because no Content-Disposition header is added.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove deprecated 'checksum' query param This task is a follow-on to: https://jira.duraspace.org/browse/FCREPO-1468  The work is to remove the deprecated ""checksum"" query parameter from FedoraLdp.java in PUT and POST requests.  This task should not be worked until the deprecation period has ended: June 2016 or 4.6.0 (whichever comes first).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove ""accessroles"" When any of the following Authorization modules are configured,   * RBACL  * XACML  * WebAC    ..a ""fedora:hasAccessRoles"" property [1] is created on new resources and a number of RBACL node-types [2] are registered. The ""hasAccessRoles"" service makes sense for RBACL and XACML, but not for WebAC. Since WebAC is the authorization module which we are encouraging the community to move towards, having the ""hasAccessRoles"" service exposed is incorrect and confusing.    [1] https://github.com/fcrepo4/fcrepo-module-auth-rbacl/blob/master/fcrepo-auth-roles-common/src/main/java/org/fcrepo/auth/roles/common/AccessRolesResources.java#L65  [2] https://github.com/fcrepo4/fcrepo-module-auth-rbacl/blob/master/fcrepo-auth-roles-common/src/main/java/org/fcrepo/auth/roles/common/AccessRolesTypes.java#L69    This task is to ensure that the ""hasAccessRoles"" property and the RBACL node-types are not included with WebAC is configured.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"exception when trying to delete containers with a large number of children  When sending an HTTP DELETE request on a container with a large number of children, the application throws an exception.     The number of children of the container where this happens cannot be easily calculated at the moment; it goes between tens of thousands to over 100k.     Command line to reproduce the error:     $ time curl -X DELETE http://localhost:8080/fcrepo/rest/prod  javax.jcr.RepositoryException: org.modeshape.common.SystemFailureException: java.lang.IllegalStateException: Transaction TransactionImple < ac, BasicAction: 0:ffffc6281b91:b590:5663c3ad:12 status: ActionStatus.ABORTED > is not in a valid state to be invoking cache operations on.      at org.modeshape.jcr.JcrSession.save(JcrSession.java:1190)      at org.fcrepo.http.api.FedoraLdp.deleteObject(FedoraLdp.java:217)      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)      at java.lang.reflect.Method.invoke(Method.java:497)      at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)      at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)      at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)      at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152)      at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)      at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:384)      at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:342)      at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:101)      at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)      at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)      at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)      at org.glassfish.jersey.internal.Errors.process(Errors.java:315)      at org.glassfish.jersey.internal.Errors.process(Errors.java:297)      at org.glassfish.jersey.internal.Errors.process(Errors.java:267)      at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)      at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)      at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1030)      at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373)      at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381)      at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344)      at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:203)      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)      at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)      at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)      at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)      at java.lang.Thread.run(Thread.java:745)  Caused by: org.modeshape.common.SystemFailureException: java.lang.IllegalStateException: Transaction TransactionImple < ac, BasicAction: 0:ffffc6281b91:b590:5663c3ad:12 status: ActionStatus.ABORTED > is not in a valid state to be invoking cache operations on.      at org.modeshape.jcr.cache.document.WritableSessionCache.save(WritableSessionCache.java:664)      at org.modeshape.jcr.JcrSession.save(JcrSession.java:1171)      ... 43 more  Caused by: java.lang.IllegalStateException: Transaction TransactionImple < ac, BasicAction: 0:ffffc6281b91:b590:5663c3ad:12 status: ActionStatus.ABORTED > is not in a valid state to be invoking cache operations on.      at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:389)      at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:351)      at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:345)      at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:318)      at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)      at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)      at org.infinispan.interceptors.CacheMgmtInterceptor.visitDataReadCommand(CacheMgmtInterceptor.java:103)      at org.infinispan.interceptors.CacheMgmtInterceptor.visitGetKeyValueCommand(CacheMgmtInterceptor.java:91)      at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)      at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)      at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)      at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)      at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)      at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)      at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)      at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:430)      at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:422)      at org.infinispan.schematic.internal.CacheSchematicDb.get(CacheSchematicDb.java:77)      at org.modeshape.jcr.cache.document.LocalDocumentStore.get(LocalDocumentStore.java:71)      at org.modeshape.jcr.cache.document.WorkspaceCache.documentFor(WorkspaceCache.java:188)      at org.modeshape.jcr.cache.document.WorkspaceCache.documentFor(WorkspaceCache.java:207)      at org.modeshape.jcr.cache.document.WorkspaceCache.persistedCache(WorkspaceCache.java:414)      at org.modeshape.jcr.cache.document.WritableSessionCache.lockNodes(WritableSessionCache.java:1503)      at org.modeshape.jcr.cache.document.WritableSessionCache.save(WritableSessionCache.java:626)      ... 44 more    real    2m51.756s  user    0m0.022s  sys    0m0.013s  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webapps-plus auth-master.xml file has incorrect classpath in audit import The auth-master.xml file located in the fcrepo-webapp-plus audit directory has an incorrect line.     <import resource=""${fcrepo.spring.jms.configuration:classpath:/spring/audit.xml}""/>    Should read:     <import resource=""${fcrepo.spring.audit.configuration:classpath:/spring/audit.xml}""/>    instead. ",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Camel Serialization Docs This is a follow-on task to:  https://jira.duraspace.org/browse/FCREPO-1519    This task is to update the following wiki documentation page with a blurb on the new camel serialization module:  https://wiki.duraspace.org/display/FEDORA4x/Integration+Services,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Replace message-consumer docs This task is to replace the following wiki documentation with an updated version based on fcrepo-camel-toolbox:  https://wiki.duraspace.org/display/FEDORA4x/Indexer+Configuration,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"The fcrepo-java-client isn't packaged as an OSGi bundle The http client code has been extracted from fcrepo-camel into fcrepo-java-client, but now fcrepo-camel no longer deploys in karaf. This is because the fcrepo-java-client is not built as an OSGi bundle.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Implement 451 Implement the new HTTP 451 Status.    https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status-04,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update fcrepo-camel dependencies The fcrepo-camel dependencies should be updated, especially those for camel and fcrepo-java-client",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add site configuration for fcrepo-java-client The fcrepo-java-client project is missing a site configuration,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add camel-serialization to vagrant This task is to update the fcrepo4-vagrant configuration to also install:  https://github.com/fcrepo4-exts/fcrepo-camel-toolbox/tree/master/fcrepo-serialization,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Remove jcr dependencies from EventType enum The fcrepo-kernel-api EventType enum has both an explicit dependency on JCR in addition to copying JCR semantics (e.g. NODE_ADDED). These types should be defined in the ontology, and be based on Fedora semantics.    Since these events are published by the message broker, any changes to the names of the event types may require changes in the fcrepo-camel(-toolbox) code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove javax.jcr.RepositoryException from kernel-api The fcrepo-kernel-api code includes numerous references to javax.jcr.RepositoryException. Those parts of the code should either be moved to the fcrepo-kernel-modeshape module or replaced with a fedora-specific exception type.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
The kernel-api observer packages shouldn't depend on javax.jcr.observation.Event The fcrepo-kernel-api observation module (the name of which is entirely an artifact of JCR) depends on javax.jcr.observation.Event. That code should be either replaced with a fedora-defined type or moved into the modeshape module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Version and VersionHistory types needed in fcrepo-kernel-api The fcrepo-kernel-api relies on javax.jcr.version.Version and javax.jcr.version.VersionHistory. If those constructs are a necessary part of the fedora API, there should be equivalent (non-JCR) types that implement these types, defined in the fcrepo-kernel-api.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove dependency on javax.jcr.Session in kernel-api The fcrepo-kernel-api uses the javax.jcr.Session type in numerous places. If a Session type is needed in the kernel-api, a Fedora-specific type should be created. Otherwise, uses of javax.jcr.Session should be moved to the modeshape module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"FedoraResource type shouldn't return a javax.jcr.Node The FedoraResource type shouldn't return a javax.jcr.Node type; in those places, it should only ever return another FedoraResource.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-client should use system properties while building the client The HttpClient built by fedora-java-client does respect system properties. As a consequence, keystore and truststore configuration made via javax.net.ssl.* does not take effect.    Solution: Replace HttpClients.createDefault with HttpClients.createSystem.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update fcrepo-camel-toolbox client code imports Update fcrepo-camel-toolbox client code imports. With FCREPO-1815, the client code were extracted to a separate project which changed the package of the code.     Note: FCREPO-1815 doesn't affect fcrepo-camel-toolbox yet, since it depends on the 4.4.0 of fcrepo-camel.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"javax.jcr.ItemExistsException returns a 500 and stack trace See: https://github.com/fcrepo4/fcrepo4/issues/957    It should be caught and a 4xx should be returned instead.    ```      STATUS: 500 javax.jcr.ItemExistsException: A node definition that allows same name siblings could not be found for the node ""{}42"" in workspace ""default""      at org.modeshape.jcr.JcrSession$JcrPreSave.processAfterLocking(JcrSession.java:2422)      at org.modeshape.jcr.cache.document.WritableSessionCache.runPreSaveAfterLocking(WritableSessionCache.java:541)      at org.modeshape.jcr.cache.document.WritableSessionCache.save(WritableSessionCache.java:614)      at org.modeshape.jcr.JcrSession.save(JcrSession.java:1166)      at org.fcrepo.http.api.FedoraLdp.createOrReplaceObjectRdf(FedoraLdp.java:301)      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)      at java.lang.reflect.Method.invoke(Method.java:606)      at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java...  ```    I think this occurs when two threads simultaneously try to create the same resource at the same time. Reported by @ojlyytinen here: https://github.com/projecthydra/sufia/issues/1362",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Error occur while using REST API to perform a binary MOVE When trying to move a Binary, from path ""/test/image"" to ""/test/image1"", the following error occurs:  javax.jcr.nodetype.ConstraintViolationException: Unable to add child 'image1' with primary type 'nt:resource' to parent at /test with primary type 'nt:folder' and mixins fedora:Container,fedora:Resource} in workspace 'default' of repository 'repo' because:    - child's primary type 'nt:resource' does not satisfy parent's child definition: nt:folder/* (required primary types = [nt:hierarchyNode])    I'm assuming, by reading the REST API documentation (https://wiki.duraspace.org/display/FEDORA4x/RESTful+HTTP+API), that a Binary is a resource as a Container is and therefore should be possible to move (as I have tested and seen working with Containers).    How to reproduce (using fcrepo-webapp-4.[234].0-jetty-console.jar):  1) Create container  $> curl -i -X PUT ""http://localhost:8080/rest/test""    2) Create binary  $> curl -X PUT --upload-file ~/Desktop/JavaSE6\ HotSpotVirtualMachineHeapByGenerationsSchema.png -H""Content-Type: image/png"" ""http://localhost:8080/rest/test/image""    3) Move binary (i.e. rename it in this case)  $> curl -X MOVE -H ""Destination: http://localhost:8080/rest/test/image1"" ""http://localhost:8080/rest/test/image""  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Logging for an exception that will be presented to the client should normally be at level ERROR. Currently many Exception class uses Logger.trace(), should use Logger.error()    Ref: https://github.com/fcrepo4/fcrepo4/pull/969#discussion-diff-49652816",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Connection management responsiblities of FcrepoClient are unclear It is unclear whom is responsible for managing HTTP connections that are created by the FcrepoClient on behalf of the user.  Presumably the FcrepoClient is, but in my environment I'm running across the following issues:    1. Connections are only released if the user of FcrepoClient reads the response body.  If the user of the FcRepo client does not read the response body, the FcrepoClient eventually blocks waiting for a free connection.  2. If an FcrepoOperationFailedException is thrown, the user of FcrepoClient has no access to the response body, and cannot free the connection.  If enough exceptions are thrown, the FcrepoClient will eventually block waiting for free connections     A PR demonstrating the issue follows.    See: https://github.com/fcrepo4-exts/fcrepo-java-client/issues/5",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4 vagrant -- FEDORA_AUTH=true -- when README says it is optional In the fcrepo4 vagrant README:    ""(optional) to enable fedora internal audit capability, edit install_scripts/config and change the FEDORA_AUDIT variable to true.""    In the config, is it set to true:  https://github.com/fcrepo4-exts/fcrepo4-vagrant/blob/b05432eccb4d1824eeb19340c7630a08a12628fc/install_scripts/config#L18",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"LDPath transform of xsd:dateTime type results in long values After depositing the attached LDPath document to '/fedora:system/fedora:transform/fedora:ldpath/fedora-tx/fedora:Container', invoking this transform on a typical Fedora resource produces output like:  [{""rdfsLabel"":[""BUGS""],""rdfsComment"":[],""fedoraLastModified"":[1453880188507],""fedoraDateCreated"":[1453880188507]}]    Note that the xsd:dateTime fields are transformed to longs.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"On creation of LDPR, Content-Type is inappropriate to response entity https://groups.google.com/forum/#!topic/fedora-tech/84EzwFUZvJU    [~acoburn] observes that the Accept header is always flipped to the response Content-Type, regardless of body. This is a bug. Content-Type must match the response entity if present.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Prefer header should determine response entity on LDPR creation ""Prefer: return=minimal"" should return the newly created LDPR URI in the format indicated in the Content-Type header (possibly matching the Accept request header).    ""Prefer: return=representation"" should return a representation of the newly created resource in line with a subsequent GET.    If a Prefer header is included, the response should include a Preference-Applied header.    The default behavior should be the minimal response, but not include a Preference-Applied header.    See also:  https://www.w3.org/TR/ldp/#prefer-parameters  https://tools.ietf.org/html/rfc7240  https://groups.google.com/d/msg/fedora-tech/84EzwFUZvJU/p2_moiBGBwAJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Limit child resource count This task is a follow-on to:  https://jira.duraspace.org/browse/FCREPO-1808    Instead of dynamically calculating the number child resources, the child count of a container should be capped to 1000.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
WebAC Link Header does not display for accessControl on ancestors The WebAC link header displays on GET requests to show the effective ACL. This is currently retrieved from the triples on the current resource and therefore does not display if the ACL is on the parent of a resource even though it is under that control.  ,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Missing/Incorrect HTTP Headers   The headers returned from RDF Sources, and particularly Containers, have a few minor issues:    - [ ] Content-Length is 0 on a HEAD, and should be the number of bytes of the representation if you had done a GET instead.  - [ ] application/ld+json is missing from Accept-Post for containers  - [ ] The Vary header is missing, even though the resources will content negotiate on at least Accept and Prefer  ",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Prune pom properties This task is to prune the following unnecessary properties:  * fcrepo-mint ** remove fcrepo.version property  * fcrepo-transform ** remove fcrepo.version property and fcrepo-jcr-bom  * fcrepo-audit ** remove fcrepo.mint.version, and fcrepo.version  * fcrepo-webapp-plus ** remove audit.version and transform.version, update fcrepo.version  ","f4-audit,f4-transform,f4-webapp-plus",1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0
"WebAC acl:accessTo property requires a trailing slash when the protected resource is the repsitory root When creating a WebAC ACL to protect the repository root, you must include a trailing slash in the Authorizations's acl:accessTo predicate, otherwise the Authorization will not match the resource's path in Fedora, and won't get applied.    The desired behavior is to allow the URI to the repository root to omit the trailing slash (e.g., <http://localhost:8080/fcrepo/rest>) but still have the Authorization apply. In other words, this should be valid:    <> a acl:Authorization ; acl:accessTo <http://localhost:8080/fcrepo/rest> .",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Replace use of Pair with a type with specific semantics There is a desire to remove the use of the Pair type from the WebAC implementation.    See the comment here: https://github.com/fcrepo4/fcrepo-module-auth-webac/pull/52#discussion_r51438412  ,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Upgrade to ModeShape 4.5.0-Final This task is to upgrade from ModeShape 4.4.0-Final to 4.5.0-Final.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Fedora4 Rest API GET Method ""Accept-Post"" header does not list all allowed supported RDF formats  Response headers for a direct GET rest end point call (root resource) list the following RDF formats in the Accept-Post header  ..  Accept-Post: text/turtle,text/rdf+n3,text/n3,application/rdf+xml,application/n-triples,multipart/form-data,application/sparql-update  ..    But POST method allows also application/ld+json (not listed in the previous header) as valid rdf format source for new Resources:    example (tested on 4.4.x and 4.5.0) to reproduce:   $ curl -XGET http://localhost:8080/rest -v    outputs (trimmed, only headers)    * Connected to localhost (::1) port 8080 (#0)  > GET /rest HTTP/1.1  > User-Agent: curl/7.38.0  > Host: localhost:8080  > Accept: */*  >   < HTTP/1.1 200 OK  < Date: Thu, 04 Feb 2016 17:54:57 GMT  < Link: <http://www.w3.org/ns/ldp#Resource>;rel=""type""  < Link: <http://www.w3.org/ns/ldp#Container>;rel=""type""  < Link: <http://www.w3.org/ns/ldp#BasicContainer>;rel=""type""  < Accept-Patch: application/sparql-update  < Accept-Post: text/turtle,text/rdf+n3,text/n3,application/rdf+xml,application/n-triples,multipart/form-data,application/sparql-update  < Allow: MOVE,COPY,DELETE,POST,HEAD,GET,PUT,PATCH,OPTIONS  < Preference-Applied: return=representation  < Vary: Prefer  < Vary: Accept, Range, Accept-Encoding, Accept-Language  < Content-Type: text/turtle  < Content-Length: 2327  * Server Jetty(9.2.3.v20140905) is not blacklisted  < Server: Jetty(9.2.3.v20140905)    Now create a new resources using POST using application/ld+json which is not listed.    $ curl -XPOST  -H ""Content-Type: application/ld+json"" -H ""Slug:testjsonld"" --data-binary ""@jsonld.txt"" -v http://localhost:8080/rest/    jsonld.txt file content (body)  [    {      ""@id"": ""http://localhost:8080/rest/testjsonld"",      ""@type"": [        ""http://www.w3.org/ns/ldp#RDFSource"",        ""http://www.w3.org/ns/ldp#Container""      ],      ""http://purl.org/dc/elements/1.1/title"": [        {          ""@value"": ""json ld test""        }      ]    }  ]    Response (resource created):    * Connected to localhost (::1) port 8080 (#0)  > POST /rest/ HTTP/1.1  > User-Agent: curl/7.38.0  > Host: localhost:8080  > Accept: */*  > Content-Type: application/ld+json  > Slug:testjsonld2  > Content-Length: 276  >   * upload completely sent off: 276 out of 276 bytes  < HTTP/1.1 201 Created  < Date: Thu, 04 Feb 2016 17:26:24 GMT  < ETag: ""6654d7f2f741be93df0f265571ab9e1bcadbd21c""  < Last-Modified: Thu, 04 Feb 2016 17:26:24 GMT  < Location: http://localhost:8080/rest/testjsonld  < Content-Type: text/plain  < Content-Length: 38  * Server Jetty(9.2.3.v20140905) is not blacklisted  < Server: Jetty(9.2.3.v20140905)  <   * Connection #0 to host localhost left intact  http://localhost:8080/rest/testjsonld    Are there other rdf formats also available that can be used and are not listed? I guess json-ld is the only one.  ","f4-core,f4-ldp",0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Error Content-Types incorrect and differ based on HTTP method   Issue:  The content types for errors do not match the format of the body returned.    Expected:  Content types match the media type of the returned representation    Steps to Reproduce:  * Spin up empty 4.5 repo.  * curl http://localhost:8080/rest/fcr:accessroles    Response received:  Status: 400, with Content-Type: text/turtle  Content-Length: 34  Body: Prefix fcr has not been registered    Which is text/plain, not text/turtle.    * curl -I http://localhost:8080/rest/fcr:accessroles   (HEAD not GET)    Status: 400, with ContentType: text/html  Content-Length: 308    Which is completely unrelated to what happens when you do a GET.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Direct/Indirect Containers allow writing arbitrary triples to any resource, despite access controls In a thought experiment, it is anticipated that by manipulating direct and indirect containers, it would allow an attacker to create arbitrary triples on any resource that they should not have write access to.    For example, if a user can create an indirect container (/a):    /a a ldp:IndirectContainer ;    ldp:insertedContentRelation rdf:object ;    ldp:membershipResource /resource/to/attack ;    ldp:hasMemberRelation xxx:predicateToCreate .    When posting a new resource:  <> a rdf:Statement ;    rdf:object /resource/to/link    Would create the triple    /resource/to/attack xxx:predicateToCreate /resource/to/link    Expected Behavior:      The creation of the resource in the indirect container should fail with a permissions / auth related error.    ",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove /fcr:nodetypes endpoint In my opinion, the /rest/fcr:nodetypes has no reasonable place in the Fedora API. If there is general agreement on that point, this ticket will track the removal of that endpoint from the Fedora REST API.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove jcr.Binary from fcrepo-kernel-api The FedoraBinary interface contains a method that returns a jcr.Binary. That should be removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add a Warning header to the /fcr:nodetypes endpoint The /fcr:nodetypes endpoint should be deprecated before it is fully removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove jcr.AccessDeniedException from the kernel-api The fcrepo-kernel-api makes use of the javax.jcr.AccessDeniedException. This should be replaced with an appropriate Exception in the org.fcrepo namespace.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove jcr.Property from kernel-api The org.fcrepo.kernel.api.models.FedoraResource class has a method returning a jcr.Property. That should be removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"acl:agent in WebAC policies should be a URI not a literal The integration tests for the WebAC module use literals to identify acl:agents, but they should use URIs.    See https://github.com/fcrepo4/fcrepo-module-auth-webac/blob/master/src/test/resources/acls/01/authorization.ttl#L4    If the WebAC module is actually using URIs already, then the tests should be updated to reflect this.    This is intended to align the Fedora and Hydra WebAC usage.  See https://github.com/projecthydra/hydra-head/issues/313 for the Hydra Access Controls ticket created for changes there.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo-camel-toolbox dependencies This is a ticket related to updating the camel toolbox dependencies,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add pax-exam tests to fcrepo-camel-toolbox Set up pax exam to test the fcrepo-camel-toolbox OSGi features.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add pax-exam tests to fcrepo-karaf Add pax-exam to validate the features.xml file,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jmeter: Add initial binary upload test This task is to create the initial jmeter test for ""test 3"":  https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans#PerformanceandScalabilityTestPlans-Test3-Numberoffiles",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Prefer Jena Node to Jena Resource We are using Jena's Resource type in places in which we should be using Jena's Node type. The use of Resource should be limited to places for which a genuinely natural Model context is available. Places (and APIs/SPIs) where there is no such context, or where one is artificially created just to translate Nodes into Resources should be altered to simply use Nodes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"FcrepoResponse object should manage the CloseableHttpResponse, instead of the InputStream to the underlying HttpEntity Users of the FcrepoClient are responsible for managing the resources allocated by the FcrepoClient.  Specifically, FCREPO-1875 recommends that users of the FcrepoClient create FcrepoResponse objects within a try-with-resources block, so that any resources allocated by the FcrepoClient are released when the user is done with FcrepoResponse (FcrepoResponse implements Closeable).    Currently, the FcrepoResponse manages (i.e., will close()) the underlying InputStream of the underlying Apache CloseableHttpResponse.    It would be better if the FcrepoResponse managed the CloseableHttpResponse itself, and invoke close() on that object, instead of the underlying HttpEntity's InputStream.  This issue proposes that the FcrepoResponse manage a instance of CloseableHttpResponse instead of InputStream.    ",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"FcrepoResponse object should be immutable Considering FCREPO-1875 and FCREPO-1901, the FcrepoResponse is responsible for managing the state of the HTTP response object (if FCREPO-1901 is implemented, this is represented as a member variable containing the CloseableHttpResponse, if not, it may be represented as an InputStream to the response body).    Allowing clients to mutate that state in arbitrary ways (e.g. by setting a different response object, or modifying the status code) makes it more difficult for the FcrepoResponse to manage that state.  Ideally, the FcrepoResponse would provide accessors to necessary state, but restrict access to mutating that state.      One consideration is that methods such as FcrepoResponse#setBody(InputStream) are used throughout the unit tests, so some refactoring may be necessary, or simply reducing the visibility of the mutating methods may be sufficient.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Compare MySQL and LevelDB performance Now that MySQL support has been added, we should test the performance to see if it differs significantly from LevelDB.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Compare MySQL and LevelDB reliability Now that we have MySQL support, we should verify that existing LevelDB corruption scenarios do not result in corruption with MySQL persistence.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
MySQL Migration Testing Migrate backup dump from LevelDB to a Fedora repo with MySQL.    Steps:  1. Create backup dump from a Fedora with LevelDB  2. Create a Fedora with MySQL  3. Restore backup to that Fedora with MySQL  4. Verify the data consistency with these two Fedora servers.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Removing federated-directory results in NullPointerException Once fedora is started with federation configured:  {code:JavaScript}  ""federated-directory"" : {              ""classname"" : ""org.fcrepo.connector.file.FedoraFileSystemConnector"",              ""directoryPath"" : ""/mnt/ingested"",              ""projections"" : [ ""default:/federated => /"" ],              ""contentBasedSha1"" : ""true"",              ""readonly"" : false,              ""extraPropertiesStorage"" : ""none"",              ""cacheTtlSeconds"" : 5          }  {code}  Then once nodes under the federated node were visited via the browser and then fedora is restarted without the federation configured.    Then visiting: {{http://localhost:8983/fedora/rest/federated/}} results in a Java {{NullPointerExeption}} (""java.lang.NullPointerException at org.modeshape.jcr.JcrSession.node..."") as opposed to a 404 not found.    Visiting any node below the federated node({{http://localhost:8983/fedora/rest/federated/subfolder}}) results in a similar {{NullPointerException}} (java.lang.NullPointerException at org.modeshape.jcr.JcrSession.cachedNode...)* I'm not sure if this is simply because the "".../federated/..."" node isn't available or if fedora kept some extra reference to the subfolder node around too.    *see attached file(s) for full trace   See: https://github.com/fcrepo4/fcrepo4/issues/980",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Maintain child resource count - Federation Instead of dynamically calculating the number child resources of a federated resource, a container attribute should be maintained.    From: https://wiki.duraspace.org/display/FF/2016-02-11+-+Fedora+Tech+Meeting  ====  There is a child count property we could use - it does not indicate whether those children are in repository or federated storage  Could we use a listener to listen for federated changes and update the property in Modeshape?  Record number of children, bytes, and a timestamp and us a TTL to update at periodic intervals  Not sure if we could override the way the federated filesystem gets queried for its contents  We could pursue one solution for in-repository content and another solution for federated resources  Both solutions should use and maintain the same property  ====",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add support for PostgreSQL None,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Propose a better package structure for fcrepo modules The package structure in the core fcrepo-* modules contain a number of circular dependencies. These can be seen here: http://sonar.fcrepo.org/design/index/org.fcrepo:fcrepo    This affects fcrepo-kernel-api to a small degree and fcrepo-kernel-modeshape to a large degree. This task is to propose a better structure and organization of these modules and will likely result in renaming and/or consolidating certain packages.    A document for discussing this proposal can be found here: https://docs.google.com/document/d/1MhgircKQWOLCrj9xWBStY0YAPYclt6EmQu3wn4_Pp2Y/edit?usp=sharing,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4-vagrant: Ensure all configurations use F4 webapp with fcr:transform This task is to update the fcrepo4-vagrant configuration to download an F4 webapp artifact that contains /fcr:transform but not audit nor auth.  https://github.com/fcrepo4-exts/fcrepo4-vagrant/blob/master/install_scripts/fedora4.sh#L23-L24    Such an artifact can be built from fcrepo-webapp-plus with the following command:  mvn clean install -P\!audit,\!webac    For 4.5.1-SNAPSHOT, such an artifact is available here:  https://github.com/fcrepo4-exts/fcrepo-webapp-plus/releases/download/fcrepo-webapp-plus-4.5.1-SNAPSHOT/fcrepo-webapp-plus-4.5.1-SNAPSHOT.war",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
fcrepo.camel.fixity does not install correctly on fcrepo4_vagrant ==> default: Failed to get the session.  ==> default: Failed to get the session.  ==> default: sed: can't read /opt/karaf/etc/org.fcrepo.camel.fixity.cfg: No such file or directory  ==> default: sed: can't read /opt/karaf/etc/org.fcrepo.camel.fixity.cfg: No such file or directory  ,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PropertyConverter logs a WARN error for every triple when there are no user-defined namespaces PropertyConverter logs a WARN message when there is a namespace mismatch between the system-determined namespace and the user-supplied namespace.  But if there are no user-defined namespaces (e.g. using n-triples), it logs the warning for every triple added.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Replace RdfContext enum with interfaces As part of FCREPO-1312, an RdfContext enum was introduced in order to specify the kinds of RDF generation that a kernel implementation must support and decouple the HTTP layers from the ModeShape implementation. In particular, the FedoraResource::getTriples method now accepts values from this RdfContext enum. While this works, it prevents extending the existing set of RdfContexts.    Instead of having FedoraResource::getTriples accept one or more enum values, it should use a system of interfaces, which would make it possible to extend the set of RDF generation contexts.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Documentation: On creation of LDPR, Content-Type is inappropriate to response entity This task is to update the REST API documentation to detail the usage introduced in:  https://jira.duraspace.org/browse/FCREPO-1878",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update FedoraResource::getChildren to use a Stream In the move toward Java8 idioms and structures, it would be helpful if the FedoraResource::getChildren method returned a Stream rather than an Iterator.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
change JcrPropertyFunctions::property2values function to return a Stream The JcrPropertyFunctions::property2values returns an Iterator. It would be convenient if that returned a Stream instead.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Documentation: Add support for PostgreSQL This task is to create a documentation wiki page for setting up a PostgreSQL integration, along the lines of:  https://wiki.duraspace.org/display/FEDORA4x/Configuring+MySQL+Object+Store",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PUT request should default to Prefer:handling=lenient PUT request with non server-managed triples in payload fails.    Steps to reproduce:    $ curl -i -X PUT https://lmyrepo.edu/fcrepo/rest/test/testput   HTTP/1.1 201 Created  Date: Thu, 25 Feb 2016 15:27:46 GMT  Server: Apache-Coyote/1.1  ETag: ""e74f03e5f3a1784d15decb8eefec68f7bd281af3""  Last-Modified: Thu, 25 Feb 2016 15:27:46 GMT  Location: https://myrepo.edu/fcrepo/rest/test/testput  Content-Type: text/plain; charset=UTF-8  Content-Length: 55  Connection: close    https://myrepo.edu/fcrepo/rest/test/testput    $ curl -i -X PUT -H'Content-Type:text/turtle' --upload-file minimal.ttl https://myrepo.edu/fcrepo/rest/test/testput   HTTP/1.1 100 Continue    HTTP/1.1 100 Continue    HTTP/1.1 409 Conflict  Date: Thu, 25 Feb 2016 15:27:51 GMT  Server: Apache-Coyote/1.1  Link: <https://myrepo.edu/static/constraints/ServerManagedTypeException.rdf>; rel=""http://www.w3.org/ns/ldp#constrainedBy""  Content-Type: text/plain; charset=UTF-8  Content-Length: 112  Connection: close    The repository type (http://fedora.info/definitions/v4/repository#Container) of this resource is system managed.    Content of 'minimal.ttl':    @prefix xsd: <http://www.w3.org/2001/XMLSchema> .  @prefix dc: <http://purl.org/dc/elements/1.1/> .  <> dc:title ""Hello""^^xsd:string .    For what I understand, omitting server-managed properties for an existing resource should just leave those properties unchanged, right?  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"A GET request with Prefer=minimal should return all user-persisted information of relevance Currently, a GET request to an RDF resource with Prefer=minimal returns only triples with the subject that is the exact URI of the resource. Instead, it is more logical and useful to return those triples, and all triples that have subjects that are hash-URIs on the URI of the resource or blank nodes that were created by action against the resource. In short, the user should get back all user-managed triples (as the complement of server-managed triples).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Refactor use of translator.reverse... This task is to refactor the use of ""translator().reverse().convert(resource()).asNode()"" in the hierarchy of classes rooted at:  FedoraBaseResource.java",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
WebAC fails in BatchOperations This task is to resolve the issue of the LinkHeaderProvider throwing a 404 in the context of a batch operation.   The issue was introduced with:  https://jira.duraspace.org/browse/FCREPO-1795    ..and commit:  https://github.com/fcrepo4/fcrepo-module-auth-webac/commit/6d7f196f1146378a171d81a44a8cb0454e068be8#diff-d0dbcb31e45df8a047776645dcc10cfbR73    To reproduce:  - Build and deploy fcrepo-webapp-plus with webac and optionally audit configured  - Start a transaction in the HTML UI  - Create a container... BOOM!,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove dependency on modeshape/jcr internal types in template rendering The HTML template rendering code is based on internal JCR and Modeshape types (primaryType, mixinType). This dependency should be eliminated and instead be based on RDF types. This change will be one more step toward making it possible to have alternate Fedora implementations.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove internal jcr/modeshape types from RDF generation At present, the modeshape internal types (primaryType, mixinType) are part of the (server managed) FedoraResourceImpl::getTriples response. These triples are then filtered out in the HTTP layer so they do not appear in client responses. These internal types are currently used by the HTTP layer to determine the correct Template to use. Once FCREPO-1934 is resolved, this will no longer be necessary, and the triples should not be generated in the first place. This applies especially to org.fcrepo.kernel.modeshape.rdf.impl.RdfTypeContext and org.fcrepo.kernel.modeshape.FedoraResourceImpl::getTypes",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove JCR-sourced properties from ontologies See:    https://jira.duraspace.org/browse/FCREPO-1805?focusedCommentId=48456    ""As a side note, the current F4 ontology contains a number of JCR-specific properties that should be evaluated: frozenMixinTypes, frozenPrimaryTypes, frozenUuid, hasNodeType, mixinTypes, primaryType, uuid, UnmappedType, hasDefaultWorkspace, hasWorkspace, hasWorkspaces. There may be others in this category, but those jumped out at me.""    Those properties (and any others that exist solely to expose JCR-specific information) should be removed from the Fedora ontologies.",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
MOVE not emitting complete events This task is to ensure that NODE_MOVED and NODE_REMOVED events are published on HTTP/MOVE requests.    See: https://groups.google.com/d/msg/fedora-tech/wiwKt7QZSY8/fO5ipdl4AQAJ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
The repository root should be a fedora:Resource The repository root should contain the following types: fedora:Resource and fedora:Container.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Refactor fedora ontology class names into constant values The code base contains a lot of REPOSITORY_NAMESPACE + ""Resource"" statements. Those should be refactored into constants in org.fcrepo.kernel.api.RdfLexicon.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Determine the drawbacks, if any, of defaulting to lenient handling of PUT updates None",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Error: GET version of container with versioned child This task is to resolve the bug demonstrated below:  clear;curl -i -XPUT localhost:8080/rest/collection  clear;curl -i -XPUT localhost:8080/rest/collection/child  clear;curl -i -XPOST -H""slug: v0"" localhost:8080/rest/collection/child/fcr:versions  clear;curl -i -XPOST -H""slug: v0"" localhost:8080/rest/collection/fcr:versions  clear;curl -i localhost:8080/rest/collection/fcr:versions/v0  => BOOM!  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"404 on GET version after Deletion of contained resource This bug is seen when a container contains another resource, the container is versioned, the child resource is deleted, then the previously created container version is retrieved.  The following requests demonstrate the error.    curl -i -XPUT localhost:8080/rest/collection  curl -i -XPUT -H""Content-Type: application/pdf"" --data-binary @book.pdf localhost:8080/rest/collection/book.pdf  curl -i -XPOST -H""slug: v0"" localhost:8080/rest/collection/fcr:versions  curl -i  localhost:8080/rest/collection/fcr:versions/v0  curl -i -XDELETE localhost:8080/rest/collection/book.pdf  curl -i  localhost:8080/rest/collection/fcr:versions/v0  ** BOOM! 404      Note: In the case where the child resource is a binary, it appears that the binary is not moved to the ""fcrepo.binary.directory/trash"" when it is deleted, implying that there is still a reference to the binary... which would indicate that the 404 is at the Fedora level, and that Modeshape may still enable restoring the child resource from the container version. ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Node Properties should not be included in JMS events The JMS events emitted by Fedora should not contain the list of changed properties. These are not used by any of the camel machinery and they are particularly troublesome in the context of ldp membership and containment (which are not currently included in JMS events anyway). Removing them will save a lot of work.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"minor refactoring of WebAC module The WebAC module could use some minor refactoring, to tighten and simplify the code base.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans -- Create a JMeter test for: Test 5 - Number of containers - RDF bodies Create a JMeter test for Test 5 - Number of containers - RDF bodies (https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans)    The test should:    * Create containers with POST requests with RDF bodies at the top of the repository    * After every 1000 requests, performance requests should be made    The fcrepo-jmeter GitHub repo is available here: https://github.com/fcrepo4-labs/fcrepo4-jmeter",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 1 - Size of files - large This task is to run ""Test 1 - Size of files - large"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans -- Create a JMeter test for: Test 6 - Number of mixed resources - files and containers Create a JMeter test for Test 6 - Number of mixed resources - files and containers    The test should:    * Create a mix of resources representative of a typical LDP model including containers and files    * After every 1000 requests, performance requests should be made    The fcrepo-jmeter GitHub repo is available here: https://github.com/fcrepo4-labs/fcrepo4-jmeter",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 2 - Size of files - small This task is to run ""Test 2 - Size of files - small"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 3 - Number of files This task is to run ""Test 3 - Number of files"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 4 - Number of containers - default This task is to run ""Test 4 - Number of containers - default"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 5 - Number of containers - RDF bodies This task is to run ""Test 5 - Number of containers - RDF bodies"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability Test Plans - Run: Test 6 - Number of mixed resources - files and containers This task is to run ""Test 6 - Number of mixed resources - files and containers"" in a variety of environments.    The results of running this test should be documented as a child page here: https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans    See these two examples for formatting:    * https://wiki.duraspace.org/display/FF/Results+-+Test+4    * https://wiki.duraspace.org/display/FF/UW+Madison+Results+-+Test+4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"change AccessRolesProvider::getRoles to return a Collection instead of a List The AccessRolesProvider::getRoles method relies on a List, but there is no reason it can't be a Collection, which would give implementing code more flexibility.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Performance and Scalability: Automate execution of JMeter tests via AWS The JMeter tests being created to gauge Fedora performance and scaling capability [1] need to be run to be useful. To provide the greatest value, these tests need to be run repeatedly, in the same environment, as changes to Fedora are made, as this will allow for greater insight into how changes to the system affect performance and scale metrics.    This task is to automate the execution of the JMeter tests using Amazon Web Services as the consistent environment. This will allow anyone to be able to run these tests. Using AWS also provides the option to hook these tests into an automated build/test environment (Jenkins, Travis CI, etc), however that work is not a part of this task.    [1] https://wiki.duraspace.org/display/FF/Performance+and+Scalability+Test+Plans",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Replace Guava Converters with a more appropriate Fedora-specific interface. The Fedora codebase relies heavily on Guava Converter classes, especially for converting resource identifiers. This implementation, however, is verbose and confusing. This is a ticket to track the replacement of these Converter-based classes with a Fedora-specific interface.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update to Guava 19 Guava has released a version 19:  https://github.com/google/guava/wiki/Release19  We should use it.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RDF expression for events Fedora should publish as part of the ontologies a system of classes and predicates (mostly reusing extant work) for the encoding of published events, such as appear on the Java API's event bus and are currently translated into JMS. Of course, the JMS event tap should also _use_ this encoding.","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
Use Guava utilities for proxying Guava offers utilities:    https://github.com/google/guava/wiki/ReflectionExplained#dynamic-proxies    that make dynamic proxy classes more readable and predictable. We ought to use them. The example available is org.fcrepo.kernel.modeshape.TxAwareSession.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
LDP Batch Implementation Implement LDP Batch functionality as specified in expired IETF draft: https://tools.ietf.org/id/draft-snell-http-batch-00.html    Possibly relevant is the Fedora batch processing functionality removed in this PR: https://github.com/fcrepo4/fcrepo4/pull/519,f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Make fedora-transform not create direct to the JCR Follow on to https://jira.duraspace.org/projects/FCREPO/issues/FCREPO-1832.    This is remove the custom node types generated direct on the JCR and use normal FedoraResources instead.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Deprecate NodeTypes feature This task is to mark the /fcr:nodetypes (FedoraRepositoryNodeTypes) as deprecated.    Related to: https://jira.duraspace.org/browse/FCREPO-1890,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove references to fcrepo-camel-webapp This task is to remove references from fcrepo-camel-toolbox leading to fcrepo-camel-webapp.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"include all fedora-namespaced properties in deluxe transformation The default LDPath transformation includes a minimal set of server-managed properties. It should contain all of them, including some additional rdf/rdfs/skos/dc/dcterms properties.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
update fcrepo-camel dependencies The integrations tests for camel still use Fedora 4.4.0. This and other dependencies should be updated.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo-camel-toolbox dependencies Update core dependencies for fcrepo-camel-toolbox,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel(-toolbox) documentation pages can use a facelift The docs at http://fcrepo4-exts.github.io/fcrepo-camel/ and http://fcrepo4-exts.github.io/fcrepo-camel-toolbox/ should be themed in a manner consistent with http://docs.fcrepo.org,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RDF integration test error on Windows:  testBibframe The following RDF integration test error occurs when attempting to build fcrepo4 on Windows:    Running org.fcrepo.integration.rdf.BibframeIT  INFO 21:03:32.431 (FedoraLdp) PUT resource 'e11962b5-6f4e-4e8a-ae46-673b905ea6d4'  ERROR 21:03:32.448 (WildcardExceptionMapper) Exception intercepted by WildcardExceptionMapper: java.nio.charset.MalformedInputException: Input length = 1    Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.069 sec <<< FAILURE! - in org.fcrepo.integration.rdf.BibframeIT  testBibframe(org.fcrepo.integration.rdf.BibframeIT)  Time elapsed: 0.067 sec  <<< FAILURE!  java.lang.AssertionError: Didn't get a CREATED response! expected:<201> but was:<500>    org.junit.Assert.fail(Assert.java:88)    org.junit.Assert.failNotEquals(Assert.java:743)    org.junit.Assert.assertEquals(Assert.java:118)    org.junit.Assert.assertEquals(Assert.java:555)    org.fcrepo.integration.rdf.AbstractIntegrationRdfIT.checkResponse(AbstractIntegrationRdfIT.java:156)    org.fcrepo.integration.rdf.AbstractIntegrationRdfIT.createLDPRSAndCheckResponse(AbstractIntegrationRdfIT.java:63)    org.fcrepo.integration.rdf.BibframeIT.testBibframe(BibframeIT.java:69)    Full build output:  https://gist.github.com/sprater/c10dd909b3790ee8a2e408d35bdd9a2",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unable to display versioned binary resource metadata page in web UI In the web UI, if you click on the link to a versioned binary resource in the resource's versions list, the binary content displays, not the versioned resource that holds the content.  As a result, it is impossible through the UI to roll back to a previous version of the binary resource.    If you add ""/fcr:metadata"" to the end of the version URL, then the resource metadata appears correctly, and you can roll back to the previous version.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Response to GET of versioned binary resource lacks Link:describedby header Here's the header when I GET the binary node URI:     Link: <http://localhost:8983/fedora/rest/dev/8f/49/84/e2/8f4984e2-5fbc-4e6f-bbc1-6b392b580f2a/content/fcr:metadata>; rel=""describedby""     When I request the binary URI under a version (http://localhost:8983/fedora/rest/dev/8f/49/84/e2/8f4984e2-5fbc-4e6f-bbc1-6b392b580f2a/fcr:versions/87a0a8c317f1e7e3193515-7815-4475-8950-95698c75d2e1/content), the describedby link is absent, although the correct info under the predicate http://www.iana.org/assignments/relation/describedby exists at {version_uri}/fcr:metadata.     [See also fedora-tech https://groups.google.com/d/topic/fedora-tech/2MIgi-i6HPU/discussion]    The inconsistency of responses causes consuming applications to assume the metadata node for the vesrioned binary is located at '/fcr:metadata'.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ldp:contains can be asserted via hasMemberRelation If you set up a Direct or Indirect Container, with a memberRelation of ldp:contains, then F4 will happily go ahead and add the triple to the membershipResource.  As everything is a Container, you can mess with consistency in a horrible way with this, resulting in children with multiple parents.     ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add Warning header to deprecated /fcr:import and /fcr:export endpoints The /fcr:import and /fcr:export endpoints are deprecated and so before they are removed, there should be a release in which a ""Warning"" header indicates that they will be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Upgrade vagrant fuseki version None,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Gracefully reject character encodings other than UTF-8 in HTTP requests Some platforms (such as Windows) may send client requests with encodings other than UTF-8.  The Fedora HTTP service should detect non-UTF8 requests, and handle them gracefully.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reindexing broken I just installed the fcrepo-camel 4.4.1 and toolbox-features 4.5.0 (thank you Aaron Coburn et al.!) into Karaf. I am getting an odd error when I try to POST to the fcrepo-reindexing route's REST endpoint:  $ curl -XPOST http://fcrepodev.lib.umd.edu:9080/reindexing -H'Content-Type: application/json' -d '[""activemq:queue:solr.reindex""]'  java.net.MalformedURLException: no protocol: /reindexing    java.net.URL.<init>(URL.java:586)    java.net.URL.<init>(URL.java:483)    java.net.URL.<init>(URL.java:432)    org.fcrepo.camel.reindexing.RestProcessor.process(RestProcessor.java:59)  [snipped rest of stack trace]  If I try appending a specific path after the ""/reindexing"", I just get a 404:  $ curl -XPOST http://fcrepodev.lib.umd.edu:9080/reindexing/tmp -H'Content-Type: application/json' -d '[""activemq:queue:solr.reindex""]'  <html>  <head>  <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8""/>  <title>Error 404 Not Found</title>  </head>  <body><h2>HTTP ERROR 404</h2>  <p>Problem accessing /reindexing/tmp. Reason:  <pre>    Not Found</pre></p><hr><i><small>Powered by Jetty://</small></i><hr/>    </body>  </html>  I also noticed that this version of the reindexer is binding to the host's external IP address rather than to localhost as I remember it doing before. I don't know if that is connected to the MalformedURLException.    See: https://groups.google.com/d/msg/fedora-tech/UVgpuCaIy4w/6Y06c8rXAwAJ",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create Version web UI fails on Firefox browsers When you click on ""Create Version"" for a resource (binary or container, named or unnamed version) in the Firefox web browser, the results page just shows the single word ""false"".    The URL in the navigation bar is ""javascript:createVersionSnapshot()"".    The version is created on the server, but some WARNings are thrown:    INFO 14:20:51.702 (FedoraVersioning) Request to add version 'version.201647142051' for 'x2'  WARN 14:20:51.736 (DefaultMessageFactory) MessageFactory event UserData is empty!  WARN 14:20:51.742 (DefaultMessageFactory) MessageFactory event UserData is empty!  WARN 14:20:51.749 (DefaultMessageFactory) MessageFactory event UserData is empty!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Make jQuery.ajax calls consistent We should go through the common.js and make the implementation of jQuery.ajax consistent.    Some cases use error: (https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-http-api/src/main/resources/views/common.js#L214) others use .fail() (https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-http-api/src/main/resources/views/common.js#L242)    Most everyone does a return false; but in at least one instance the (as I understand it) more correct event.preventDefault(); is also used (https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-http-api/src/main/resources/views/common.js#L173)    A single method will ensure that certain actions don't fail for certain browsers.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Binary resources do not refresh in web UI after a property is modified/added/deleted The web UI does not refresh the binary resource /fcr:metadata display page after a binary resource property is added.  In order to see the update to the property reflected, you must force a non-cached reload of the page with Shift+refresh.    This may be related to the etag issue described in FCREPO-1498.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Exception thrown when spaces are put in version identifiers (web UI) The following exception is thrown and a stack trace is returned when you create a version with a space in the version name in the web UI:        com.hp.hpl.jena.shared.InvalidPropertyURIException: http://localhost:8080/rest/x1/fcr:versions/version 1           at com.hp.hpl.jena.rdf.model.impl.PropertyImpl.checkLocalName(PropertyImpl.java:67)    Full stack trace:  https://gist.github.com/sprater/87554446460660bf957703f33476449e    In addition, the server reports the following warnings and errors:        INFO 16:11:47.567 (FedoraVersioning) Request to add version 'version 1' for 'x1'      WARN 16:11:47.602 (DefaultMessageFactory) MessageFactory event UserData is empty!      WARN 16:11:47.648 (DefaultMessageFactory) MessageFactory event UserData is empty!      WARN 16:11:47.658 (DefaultMessageFactory) MessageFactory event UserData is empty!      ERROR 16:11:47.696 (WildcardExceptionMapper) Exception intercepted by WildcardExceptionMapper: http://localhost:8080/rest/x1/fcr:versions/version 1      This seems to be display issue, as the same exception is thrown on any subsequent attempt to create a version on the same resource;  the version appears to be created, but the /fcr:versions data cannot be returned and displayed, due to the exception caused when trying to retrieve the version with the space in the name.    Steps to reproduce:    1.  Create a resource (binary or container)  2.  Type ""version 1"" in the ""Create version snapshot"" text field  3.  Click ""Create version"" button    At this point, the stack trace should be returned.    4.  Go back with the browser's back button, and attempt to create another version, with any name (or with an auto-generated name)    The stack trace is shown again.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Hash URIs are not properly cleaned up Hash URIs are not properly cleaned up. For example:    INSERT {    <> dc:creator <#creator>.    <#creator> a foaf:Person ; foaf:name ""me"" .  } WHERE { }    Now delete the properties of the hash URI (but not the <> dc:creator <#creator> triple):    DELETE WHERE { <#creator> ?p ?o . }    Now I get a 404 for the container even though it is still listed in the parent container. (I can delete the container with CURL, but the HTML UI is useless).    The issue has to do with the removeEmptyFragments function in FedoraResourceImpl and the way it deletes the ""#"" node if it doesn't contain any properties. But doing so results in a jcr.ItemNotFoundException because of the existence of the `<> dc:creator <#creator>` triple (and possibly other references).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Hash URIs are not displayed in HTML UI The velocity template for containers does not display HASH URI nodes. These nodes are present in the RDF serialization.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Cannot create HASH URIs on Binary descriptions It does not seem possible to create hash URIs on non-rdf source descriptions.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
InternalAuditor logging SEVERE error when objects are created See mailing list report: https://groups.google.com/d/msg/fedora-tech/Z9b1HCjjrFU/BZRljSGWBQAJ,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"charset isn't set in Content-Type headers, leading to mangled unicode The Content-Type headers do not set the encoding to utf-8, causing unicode values to become mangled in external applications, such as the triplestore.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Move fcrepo-connector-file module to fcrepo4-labs git repo None,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"PATCH content must be assumed always to be UTF-8 The Sparql-update spec is clear that the content type encoding must always be UTF-8: https://www.w3.org/TR/sparql11-update/#mediaType    But fedora reads the inputstream without specifying an encoding, meaning that  it will be read ""using the default character encoding of the platform.""    See: https://git.io/vwkyC",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Upgrade to Modeshape 5.0.0.Final This task is to upgrade the internal version of Modeshape to 5.0.0.Final:  http://docs.jboss.org/modeshape/5.0.0.Final/release.html,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Replace java.util.Date with java.time classes Uses of java.util.Date/java.util.Calendar should be replaced with equivalent java.time.* classes. Need I go on?    This is particularly important for the kernel-api, which will have implications for the modeshape implementation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Should we use a binary's SHA1 as its ETag? We currently use last-modified dates to generate weak ETags.  And this PR aims to make binaries and their descriptions have a single last-modified date and thus ETag: https://github.com/fcrepo4/fcrepo4/pull/1022    We could use a binary's SHA1 as its ETag, which would avoid invalidating caches when a property changed but the content did not.    Should we use a binary's SHA1 as its ETag?  Do we need to provide separate last-modified timestamp for binaries too?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"JCR leakage through Tombstone This task is to remove the leaked JCR details exposed when GETting a tombstone.  To reproduce:  - curl -XPUT localhost:8080/rest/collection  - curl -XDELETE localhost:8080/rest/collection  - curl -XGET localhost:8080/rest/collection  ---  Discovered tombstone resource at /collection {jcr:createdBy=bypassAdmin, jcr:primaryType=fedora:Tombstone, jcr:created=2016-04-17T12:45:49.151-04:00}  ---    As a follow-on ticket, an HTML UI view for tombstones should be created.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Enable the checkstyle plugin on projects that don't use it The following projects do not have checkstyle enabled:    fcrepo-transform    This is a ticket to track adding the maven plugin.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"Investigate Memory Consumption over Time This task is to use YourKit (or the like) to monitor Fedora's memory consumption and associated performance slowdown. It has been noted during York University scalability tests, that after loading ~2.5million resources, Fedora became effectively too slow for use.   https://wiki.duraspace.org/display/FF/York+University+Results+-+Test+4    However, after restarting Fedora's Tomcat, ingests were resumed at the initial response rates.    Also see: https://jira.duraspace.org/browse/FCREPO-1812",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add Snapshot repository to fcrepo-transform This task is to enable builds of fcrepo-transform even when the local m2 repository has been deleted.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"Create a new release for fcrepo-build-tools and update fcrepo-parent to use it fcrepo-build-tools has been updated and so a 4.4.1 release should be made. Subsequently, the fcrepo-parent module should be updated to use this new version.    At that point, developers will have the option of writing more concise test code by collapsing the declaration of multiple values into a single line.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Default activemq configuration results in dropped messages to fcrepo-camel-indexing-triplestore under load. In the default activemq configuration a ConstantPendingMessageLimitStrategy is used to limit messages on the topic to 1000.     http://activemq.apache.org/slow-consumer-handling.html    In the camel toolbox the fcrepo-camel-indexing-triplestore connects to that topic and in my case at least, is slower to process those messages than fedora is generating them and for large batch ingests a bunch get dropped leaving the triplestore in a worthless state.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"OWL Reasoning in Fuseki / Vagrant This task is to add OWL reasoning to the Fuseki installation on fcrepo4-vagrant.  The immediate driving use case is to allow fcrepo-indexing-triplestore to ""omit"" ""http://www.w3.org/ns/ldp#PreferContainment"" (i.e. ldp:contains) triples but still be able to infer the same relationships via:  -----  INSERT {    fedora:hasParent owl:inverseOf ldp:contains .   } WHERE {}  -----  These Fuseki updates will likely occur in fcrepo4-vagrant-base-box:  https://github.com/fcrepo4-exts/fcrepo4-vagrant-base-box    The completion of this ticket should also include rolling back:  https://github.com/fcrepo4-exts/fcrepo4-vagrant/pull/41",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
Document Vagrant Customizations This task is to document in the fcrepo4-vagrant/README.md the specific customizations that have been made in the fcrepo4-vagrant installation.,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Clean up RdfLexicon RdfLexicon.java contains reference to certain non-existent properties (e.g. ldp:pageOf or ldp:firstPage). These do not appear in the LDP ontology, nor are they used in the fcrepo code. These and other such properties should be examined for possible exclusion from this file. For instance, fedora:hasChild appears not to be used anywhere except in test code.    Also, the JCR- and MODE-related namespaces and properties should be removed. If they are needed in other portions of the code base, they should be added to the fcrepo-kernel-modeshape module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Support authentication for JMS connections The camel toolbox applications can be configured to connect to a local or remote broker. Remote brokers, however, may require authentication, so it would be helpful if the osgi configuration supported options for that.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo-camel-toolbox dependencies Update the fcrepo-camel dependency.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Setup Github pages for fcrepo-transform The mvn site-deploy goal for fcrepo-transform completes successfully but does not generate nor upload any release documentation to Github.    It was probably never setup after the module was pulled out of fcrepo4.    This task is to get that setup.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"Move karaf-based integration testing out of fcrepo-camel projects The current KarafIT tests in the fcrepo-camel-* projects is testing the Karaf feature. This sort of testing has been moved to the fcrepo-camel-tests projects, and so it can be substantially refactored (or removed) from the fcrepo-camel and fcrepo-camel-toolbox projects.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Change activemq bean into an osgi service The current camel toolbox services define an activemq bean directly in the blueprint configuration. If Fedora begins to support multiple messaging systems  and protocols, it would be much better to externalize that as a generic OSGi ""queuing"" service. This has several advantages: first, it means that all message broker configuration can be centralized, and second, it means that the JMS service can be dynamically swapped out for AMQP, Kafka, etc, etc.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make it possible to configure the camel component's baseUrl component-wide It would be convenient to be able to configure the baseUrl (repository root) value in the fcrepo-camel component in such a way that all endpoints use that URL. This would allow, for instance, the ability to expose the fcrepo component as an OSGi service used by multiple camel contexts, while allowing users to configure the fcrepo endpoint centrally.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use Robust Links in HTML views http://robustlinks.mementoweb.org/spec/    is a new approach to adding durability to HTML links. As a matter of practice and example, we should use this technique in the links in Fedora's HTML views, as possible.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Non-release Vagrant versions are not useful After a Fedora relase, fcrepo4-vagrant is then tied to the SNAPSHOT version. However those artifacts are generally not recreated during the development cycle. Therefore there is no difference between the release and the post-release artifacts.    Therefore it makes sense that fcrepo4-vagrant should only be updated at a release of Fedora and left there until the next release.    Tagging [~nruest] for thoughts?",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"the java client's dependency on mockserver-netty isn't scoped to test The maven configuration should be adjusted so that the dependency on mockserver-netty is scoped to ""test"".",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"HEAD on a binary with and external-body mime type should redirect When performing a GET on a resource with Mime-Type: external-body, it returns a 302 redirect.  But doing a HEAD on the same resource returns 200.  It should also redirect.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Make use of the EventBus instead of using Thread.sleep(...) in integration tests The integration testing suite, especially FedoraLdpIT (fcrepo-http-api) makes use of Thread.sleep(...) when it could make use of the internal EventBus.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Using webac, users in the ""fedoraUser"" group may not perform sparql updates that would result in the registration of new namespace prefixes. As a ""fedoraAdmin"" user I carefully set up a container to which I granted permission for a named ""fedoraUser"" user to read and write.  That user would seem to be able to do whatever they want within that container, except that they can't perform sparql updates with new namespace prefixes.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Memory leak in GET to containers Approx. 3KB of memory leaks per GET request to a Fedora container.  Heap analysis shows that this is due to an increasing number of LinkedHashMaps held by hk2, each resulting from the injection of MultiPrefer into ContentExposingResource.  This leak has likely been present since fedora 4.0.0.    It appears that this is ultimately a bug in Jersey, introduced in 2.9:  https://java.net/jira/browse/HK2-216    Reverting to Jersey 2.8 fixes the memory leak    It's possible that this was fixed in Jersey 2.17:  https://java.net/jira/browse/JERSEY-2800    After fixing a few compilation errors due to method signature changes in Jersey, LDP tests fail with Jersey 2.17+.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable checkstyle and license plugins for fcrepo-camel-toolbox The license plugin is not currently enabled for fcrepo-camel-toolbox and the checkstyle plugin is not enabled for the toolbox-features module. Plus, the license format corresponds to the pre-Fedora 4.5.1 release.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"With webac, non-fedoraAdmin users cannot delete properties even when granted write permission. When you grant a non-fedoraAmin read and write permissions on a container (and all contained nodes) you'd expect them to be able to do any sort of normal read/write operations on nodes in that container.    When performing sparql update that includes a DELETE clause the following error message acompanies the 400 response. (in this case I tried to delete dc:rights from the resource /libra2/prod)    Cannot lookup child permission check information for /{}libra2/{}prod/{http://purl.org/dc/elements/1.1/}rights",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Make fcrepo-connector-file module optional This task is to make the Federation capability optionally by moving it into fcrepo4-exts and building it into fcrepo-webapp-plus.  Additinally, the wiki documentation should be updated to indicate that Federation is not core, and available as an optional module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add 'inactive' state to ObjState Vocabulary After some discussion in the Hydra community -- https://groups.google.com/d/topic/hydra-tech/2P2CCrk4LaU/discussion -- we're thinking this new state might be used as an initial state in deposit workflows where mediation must occur to ""publish"" an object, or could also possibly be used to ""withdraw"" an object without deleting it or marking it for deletion. This also achieves parity with the three object states provided by Fedora 3.  ",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
Move objState to consolidated -exts GitHub repo This task is to consolidate:  - https://github.com/fcrepo4-exts/fcrepo-audit-ontology  - https://github.com/fcrepo4-exts/fcrepo-indexing-ontology  - objState.rdf    ..into a single fcrepo4-exts GitHub repository.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
User documentation for fcrepo-java-client This task is to provide user documentation in the fcrepo-java-client README describing examples of basic operations:  - CRUD  - Batch atomic operations  - Versioning  - AuthZ  - Fixity    https://github.com/fcrepo4-exts/fcrepo-java-client,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4-base-box maintenance https://gist.github.com/ruebot/45dbef8ab5bddff44604b10b42f4233c    Audit download urls for a variety of components, and update them where need be so we can build the base box. ",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Mark fcrepo4-client as deprecated The fcrepo4-client is no longer maintained. It should be clearly marked with a deprecation notice and, eventually migrated into fcrepo4-archive.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove fcrepo-audit-triplestore's dependency on fcrepo-audit In order to avoid code duplication, the camel-toolbox artifact fcrepo-audit-triplestore uses a method from fcrepo-audit. While this saves a few lines of code and adheres to the principle of DRY, in this case, it is a terrible structure. The reason it is terrible is that the fcrepo-audit module has a hard dependency on fcrepo-kernel-modeshape and by extension: infinispan, cassandra, mongodb, etc. In OSGi, one needs to be explicit about dependencies and so simply by using that one static function from fcrepo-audit, it makes the OSGi bundle carry along the entire modeshape/infinispan infrastructure in the OSGi runtime. This actually makes the system _more_ brittle, makes testing harder and is, generally a bad architecture. The camel code shouldn't need to care a whit about modeshape.    Until the time that fcrepo-audit does not have a hard dependency on modeshape, etc, the camel code should not use the fcrepo-audit module.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel version wasn't incremented for the last release When the 4.4.2 camel release was prepared, the version bump wasn't pushed into master.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add support for API-related HTTP headers to client See: https://github.com/fcrepo4-exts/fcrepo-java-client/issues/11    Currently the client doesn't provide a way to add the following allowed headers:        Content-Disposition      Content-Type      digest      slug      if-match      if-none-match      if-unmodified-since      if-modified-since      Range    I would like to add support for all of the headers expected for basic object creation or retrieval.    In terms of implementation, the approach so far has been additional parameters to the post/put/get/patch methods, which may get unwieldy with the full set of options. I would favor a method override of the form:    public FcrepoResponse post(final URI url, final InputStream body, final Map headers)    Possibly with restrictions in each method so that it can only set allowed headers, but that may be iffy since some methods cover multiple endpoints with different headers allowed.    I'm not all that informed about camel, but I believe this would work there too?  ",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RDF parsing error When I PUT this RDF:    {noformat}  ""\n<> a <http://pcdm.org/models#Object>,\n     <http://projecthydra.org/works/models#Work>;\n   <http://purl.org/dc/terms/title> \""Presidential Address: Rethinking the Comparative and the International\"";\n   <http://id.loc.gov/vocabulary/relators/dpt> \""batchuser@example.com\"";\n   <http://purl.org/dc/elements/1.1/contributor> \""Carnoy, Martin\"",\n     \""Comparative Education Review\"";\n   <http://purl.org/dc/elements/1.1/description> \""\""\""\""It is both a great honor and a great responsibility to address the Comparative and International Education Society (CIES) on the occasion of its fiftieth anniversary. A great honor, of course, because of the symbolism associated with such an event. The great responsibility comes from the richness and depth of past presidential addresses and the weight of living up to their standards. The theme of our meeting this year in Hawaii is \""\""Rethinking the Comparative.\""\""  It might well have been \""\""Rethinking the Comparative and the International,\""\""  for both elements of our name bear reexamination in a world and in national societies that are changing rapidly and profoundly. We need to ask ourselves, after 50 years, what it is that makes comparative and international education unique and what the CIES, as an intellectual community, contributes to understanding how the world works and to human progress.\r \""\""\""\"";\n   <http://purl.org/dc/elements/1.1/subject> \""-- comparative education\"",\n     \""-- international education\"";\n   <http://purl.org/dc/terms/created> \""2006\"";\n   <http://purl.org/dc/terms/dateSubmitted> \""2016-05-23T21:41:30.761946+00:00\""^^<http://www.w3.org/2001/XMLSchema#dateTime>;\n   <http://purl.org/dc/terms/modified> \""2016-05-23T21:41:30.766416+00:00\""^^<http://www.w3.org/2001/XMLSchema#dateTime>;\n   <http://purl.org/dc/terms/type> \""text\"";\n   <http://www.w3.org/ns/auth/acl#accessControl> <http://127.0.0.1:8986/rest/test/16/62/08/58/16620858-37a1-4da0-ae04-c906e0db4871>;\n   <info:fedora/fedora-system:def/model#hasModel> \""GenericWork\"" .\n""  {noformat}    Fcrepo returns a 400: ""RDF was not parsable: [line: 9, col: 1 ] Broken token (newline): ;""    The problem seems related to the \r in the description field. When I remove that it works.    Source data: https://purl.stanford.edu/wm346hj8366.xml  The description field has a quote in it, thus the quadruple quote.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update Fuseki to 2.4.0 in the vagrant base box Related to https://jira.duraspace.org/browse/FCREPO-2006    ,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
Revisit Indexing Documentation This task is to update the indexing documentation:  https://wiki.duraspace.org/display/FEDORA451/Solr+Indexing+Quick+Guide    See: https://groups.google.com/d/msg/fedora-tech/995-m9GfUIE/i0ckbqGNAwAJ,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
minor compiler cleanup This ticket is to address some minor compiler/test warnings.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Clean up dependency definitions The maven dependency definitions should be cleaned up. Certain dependencies are not stated, and certain others are superfluous.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove fcr:import and fcr:export endpoints This task is to remove the fcr:import and fcr:export endpoints.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Normalize use of test assertions Certain test suites rely on both junit's assertX() methods and jgroups.util assertX() methods. We should change the jgroups.util.Util.assertX() methods to the equivalent junit method.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use @Inject instead of @Autowired Most of the fedora codebase uses @Inject for dependency injection, but it also uses @Autowired in places. The cases of @Autowired should be replaced with @Inject.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove all instances of jcr.Node from the kernel-api There remain a few traces of jcr.Node in the kernel-api. They should be removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Use Embedded JDBC DB for Integration Tests This task is to retool the core codebase integration tests to use an embedded JDBC DB.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove Default repository.json Configuration in Deployable war This task is to remove the default repository.json from both the core fcrepo4-webapp.war as well as the fcrepo-webapp-plus.war, such as:  https://github.com/fcrepo4/fcrepo4/commit/324f8a3130536ac0c073e470794aeace9b3ee78d#diff-b9546c63cde391e1af63d195a571c371    However, the one-click should still have a default configuration, such as:  https://github.com/fcrepo4/fcrepo4/commit/f27cc4035302db9f251f4d7a549800fec0d97485",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Version creation error This task is to resolve the unusual situation where FedoraVersioning.addVersion(..) fails.    Sometimes the update from ""versionService.createVersion(..)"", which adds the ""mix:versionable"" if necessary (line:152), is not available before the subsequent request for ""resource().getBaseVersion().getFrozenNode()"" is made (line:154).  https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-http-api/src/main/java/org/fcrepo/http/api/FedoraVersioning.java#L152-L154    See: https://groups.google.com/d/msg/fedora-tech/IpcKRY2IqJI/secreM_CAwAJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Error updating binary: javax.jcr.nodetype.ConstraintViolationException This is a bit of a two-parter, so it may need to be split into separate issues. I was using the Fedora 4 Vagrant image for testing this. First, to set up the conditions to reproduce this: from within the admin interface, when creating a binary resource, if the binary attachment is large enough, you can ""double click"" the ""Add"" button and it will create two instances of the resource. You end up with one resource called (assuming you named the resource such) ""image_resource"" and ""image_resource[2]"". You can also click multiple times to create additional resources indexed [3], [4], etc. I was also able to reproduce this with some clever cURLing, for both binary and container resource types. You have to do this on the initial transaction, however. Later attempts to duplicate the resource will result in expected error response. If you follow the above steps to create this duplicate binary resource, if you later attempt to update the resource content by uploading an updated binary file from the admin interface, you receive the following stacktrace: {noformat} javax.jcr.nodetype.ConstraintViolationException: Cannot find a definition for a child named '{}bar' on the node at '/tests/test-1' with primary type 'nt:folder' and mixin types: [fedora:Container,fedora:Resource] at org.modeshape.jcr.AbstractJcrNode.nodeDefinition(AbstractJcrNode.java:2911) at org.modeshape.jcr.AbstractJcrNode.getDefinition(AbstractJcrNode.java:2835) at org.modeshape.jcr.AbstractJcrNode.isCheckedOut(AbstractJcrNode.java:3222) at org.modeshape.jcr.AbstractJcrNode.canAddMixin(AbstractJcrNode.java:2749) at org.fcrepo.kernel.modeshape.FedoraBinaryImpl.setContent(FedoraBinaryImpl.java:147) at org.fcrepo.http.api.ContentExposingResource.replaceResourceBinaryWithStream(ContentExposingResource.java:592) at org.fcrepo.http.api.FedoraLdp.createOrReplaceObjectRdf(FedoraLdp.java:373) at sun.reflect.GeneratedMethodAccessor72.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171) at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104) at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:384) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:342) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:101) at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267) at org.glassfish.jersey.internal.Errors.process(Errors.java:315) at org.glassfish.jersey.internal.Errors.process(Errors.java:297) at org.glassfish.jersey.internal.Errors.process(Errors.java:267) at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297) at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254) at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1030) at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:610) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:745) {noformat}",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo-camel has a dependency on a particular logger impl; this should be removed fcrepo-camel lists a dependency on slf4j-log4j12, when it should simply depend on the slf4j-api.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove compile-time dependencies on logback logger The fcrepo-camel-toolbox has a compile-time dependency on logback. This should be scoped to test and all logback.xml configurations should be removed from the various ./src/main/resources files.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RdfSource objects should describe themselves As discussed in https://wiki.duraspace.org/display/FF/2016-06-02+-+Fedora+Tech+Meeting, {{RdfSource}} objects should be able to describe themselves. This involves moving the {{getDescription}} method to the FedoraResource interface.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"java.nio.charset.MalformedInputException Using the modeshape5 branch, when ingesting a large object with 1000+ files, I am seeing an exception on the 299th file:     Error: STATUS: 500 org.modeshape.persistence.relational.RelationalProviderException: java.nio.charset.MalformedInputException: Input length = 1    org.modeshape.persistence.relational.DefaultStatements.readDocument(DefaultStatements.java:192)    org.modeshape.persistence.relational.DefaultStatements.getById(DefaultStatements.java:109)    org.modeshape.persistence.relational.RelationalDb.lambda$get$9(RelationalDb.java:148)    org.modeshape.persistence.relational.RelationalDb.runWithConnection(RelationalDb.java:358)    org.modeshape.persistence.relational.RelationalDb.get(RelationalDb.java:148)    org.modeshape.schematic.SchematicDb.getEntry(SchematicDb.java:154)    org.modeshape.jcr.cache.document.LocalDocumentStore.get(LocalDocumentStore.java:87)    org.modeshape.jcr.cache.document.WorkspaceCache.documentFor(WorkspaceCache.java:184)    org.modeshape.jcr.cache.document.WorkspaceCache.documentFor(WorkspaceCache.java:203)    org.modeshape.jcr.cache.document.WorkspaceCache.getNode(WorkspaceCache.ja...    When trying to access the object afterwards, I see the same error (stacktrace attached).    I tried skipping the first 295 files and that file ingests without problem and the ingest continues, and I get the same error on the 299th file that is processed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add ssl authentication capability to the fcrepo-indexing-solr The fcrepo-indexing-solr camel route currently can not talk to solr servers that require ssl client authentication. Add the ssl client authentication capability to fcrepo-indexing-solr module.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Consistent logging in JAXRS exception mappers Implementations of javax.ws.rs.ext.ExceptionMapper in org.fcrepo.http.commons.exceptionhandlers need to have consistent approaches to logging, and must have a way to configure logging of stacktraces for the mapped exceptions. The unavailability of the stacktraces is an impediment to debugging.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"DelegateHeaderPrincipalProvider passes on-behalf-of header in FEDORA_ALL_PRINCIPALS Scenario: both normal users (as configured in tomcat) and impersonated users (via admin account and on-behalf-of header) access the repository.    If admin user calls fedora with on-behalf-of header, all works as expected. If non-admin user calls fedora and adds on-behalf-of header, the contents of header gets propagated to FEDORA_ALL_PRINCIPALS - this is done in HttpHeaderPrincipalProvider.getPrincipals() as DelegateHeaderPrincipalProvider is a subclass of HttpHeader...",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update source code license header Update the source code license header so that the header references the Apache 2.0 license in each file, and references a single notice file that gets updated on a yearly basis. That way we need only update a single file with the copyright year(s) yearly.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"HTML UI - Error on HEAD requests This task is to replicate and resolve the issue identified by the test steps detailed in the following comments:  https://jira.duraspace.org/browse/FCREPO-2055?focusedCommentId=50536&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-50536    Under certain circumstances, the HTML UI responds with: ""SyntaxError: Unexpected end of JSON input"" when browsing through HTML resources.    The issue appears to be related to the fact that HEAD operations respond with application/ld+json that is unparseable... which is not surprising, since HEAD should have an empty body.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update projects to use the latest fcrepo-java-client This is a ticket to update to the latest version of fcrepo-java-client,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Error restoring backup of a 4.5.1 repository into Modeshape 5 branch When restoring a backup from a 4.5.1 repository, I often see this error and the restore fails:    ERROR 08:42:50.311 (FedoraRepositoryRestore) Problems restoring up the repository:  java.sql.BatchUpdateException: Batch entry 615 INSERT INTO MODESHAPE_REPOSITORY (ID, CONTENT) VALUES ('87a0a8c317f1e7jcr:system/mode:metadata', ?) was aborted.  Call getNextException to see the cause.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Use linked data backend for fcrepo-transform Marmotta offers a Linked Data -aware backend to support LDPath that is very much more powerful than the simpler Jena Model-based backend fcrepo-transform now uses, without being significantly more difficult to deploy or use. We should switch to using it.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Update fcrepo-camel to handle new event serialization fcrepo-camel should be adjusted to handle the new message serialization from FCREPO-1960,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
build-tools: Update core and exts projects This task is to update fcrepo4 core and exts projects to the latest release of fcrepo-build-tools:  https://github.com/fcrepo4/fcrepo-build-tools/releases/tag/fcrepo-build-tools-4.4.2  ...which first must be released.    Related ticket: https://jira.duraspace.org/browse/FCREPO-2066,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Deleting versioned resource does not delete all version information When deleting a versioned object, it appears that not all of the version information for the object is deleted.  This poses a problem for us when the deleted versioned object contained a reference to another object because now we cannot delete the referenced object.  This seems like a bug?    Here is the scenario.  - Create two objects A and B.  - Give object B a relationship (e.g., isMemberOfCollection) to object A.  - Create a version of object B.  - Delete object B.  - Attempt to delete object A fails with the following error message:   javax.jcr.nodetype.ConstraintViolationException: The property '/jcr:system/jcr:versionStorage/af/f8/65/aff8653c5b09eb3fdfb3044ef04f315c3d2dc012/1.0/jcr:frozenNode/ns009:isMemberOfCollection_ref' is protected and cannot be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fedora does not warn that non-SHA1 checksums are ignored Any user-provided digest algorithms that are not supported by Fedora should respond with a 400 status or some other indicator to the client that the digest can not be used.    Example below:  ,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-camel-toolbox: fcrepo-serialization unit tests not running The junit tests for the fcrepo-serialization module are not setup correctly and therefore not running during a `mvn install`,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Modify UI javascript to disable Add button upon pressing it When files are uploaded via the HTML UI, it is possible to click the Add button twice, triggering duplicate files. Some simple javascript should address this.    Related to FCREPO-2055",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update use of javascript in the HTML-UI The javascript in fcrepo-http-api depends on jQuery, but there is no need for this dependency. All of the code could be written with native JS methods.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Static resources in fcrepo-webapp don't use ETags The static resources in fcrepo-webapp do not respond to ETag-related headers. A simple servlet filter should fix this.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"All static resources should be in /static directory for fcrepo-webapp Static image assets in fcrepo-webapp are located outside of the /static directory, which means they will not have ETag filtering enabled.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
/fcrepo landing page text could be clarified The text on the index.html page is a little smug. It could be cleaned up.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
support https connections for fcrepo-indexing-triplestore The fcrepo-indexing-triplestore (and fcrepo-audit-triplestore) do not support the use of SSL connections to the remote triplestore. This ticket will track supporting this.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Move use of fcrepo-camel into a shared OSGi service in fcrepo-camel-toolbox Every fcrepo-camel component in fcrepo-camel-toolbox is configured separately, which leads to a lot of duplication of configuration. By converting the use of fcrepo-camel from a bean to an OSGi service, that configuration will all be centralized.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Some unused classes can be removed Some classes related (I think) to the removed /fcr:nodetypes endpoint can be removed as they are no longer used.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Cannot delete non-string literals via sparql-update with literal matchers With Sparql-Update, it is currently possible to delete Literals with variables:    DELETE WHERE {    <> test:foo ?obj;  }    It is also possible to delete string Literals (with and without Language tags):    DELETE WHERE {    <> test:foo ""Bar""  }    and     DELETE WHERE {    <> test:foo ""Baz""@en  }    But, if the literal is not a string, it is no longer possible:    INSERT { <> test:foo 42 } WHERE {}    Now the integer ""42"" is part of the object    DELETE WHERE { <> test:foo 42 }    The integer ""42"" is still part of the object. This applies to all non-string literals.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
increment version numbers to 4.7.0-SNAPSHOT The version numbers on master should be incremented to 4.7.0-SNAPSHOT immediately to make it possible to continue development work on master while the 4.6.0 release is being prepared.    This applies to:  fcrepo4  fcrepo-module-auth-rbacl  fcrepo-module-auth-xacml  fcrepo-module-auth-webac  fcrepo-mint  fcrepo-transform  fcrepo-audit  fcrepo-webapp-plus  ,"f4-audit,f4-auth,f4-core,f4-transform,f4-webapp-plus",1,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0
"ldp:isMemberOfRelation does not find reference property This task is to resolve the situation when an IndirectContainer uses the inverted pattern of ""ldp:isMemberOfRelation"" to establish a relationship between an indirect resource and a membership resource.    The issue is demonstrated by the following script:  https://gist.github.com/awoods/2f790d6b0e089ef04a352d87dfd7cc3c    ..replacing line:22 ""MAX=10000"" with a smaller number, like ""MAX=5"".  https://gist.github.com/awoods/2f790d6b0e089ef04a352d87dfd7cc3c#file-10k-membersof-sh-L22  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"RDF documents persisted as binaries result in an exception Creating a binary resource containing an RDF document can be achieved as follows:    curl -X POST --data-binary ""@ore.rdf"" -H ""Content-Type: application/rdf+xml"" -H ""Slug: ore.rdf"" -H ""Content-Disposition: attachment; filename=\""ore.rdf\"""" http://localhost:8080/rest    This creates a binary resource with mime type of application/rdf+xml as expected.  Retrieving its contents via GET results in an exception, however (stack trace attached).     The problem is that ContentExposingResource is treating the binary content in a non-opaque fashion.  It appears to be parsing its contents as RDF, adding  (server-managed) triples from the associated object, and returning the union graph.  An exception is thrown at some point during this process.    A possible solution is to simply treat all binary resources opaquely as bytes, eliminating the exception for RDF.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Binary properties are duplicated in UI For all binary resources created by fcrepo-4.5.1 and above, the UI page for the fcr:metadata resource has two identical sections ""Properties"" and ""Content Properties"" that each list the same set of properties    For all binary resources created with fcrepo-4.5.0 and below (even if viewed through a newer fedora instance, e.g. adding a binary with fcrepo-4.5.0, then upgrading to 4.5.1 and viewing the binary), the UI page for fcr:metadata displays only one ""Properties"" section.    There is no discernable difference between the RDF of resources that display the peoperties duplication vs those that do not.    For example, if a 4.6.0-RC2 repository has two binary resources, one created originally by fcrepo-4.5.0, and one created by 4.6.0; the UI for the fcr:metadata resource created by 4.5.0 will be correct, while the UI for the fcr:metadata resource created by 4.6.0-RC2 will show duplication.  Examining the fcr:metadata RDF for each resource shows no difference other than the obvious differences in timestamps and URIs.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Revisit API for creating binary resources Currently, an LDP-NR is created whenever:  a) content-type of a POST or PUT request is not RDF  or  b) Content-Disposition: attachment header is present    At present, this is not codified in the specification draft doc:  https://docs.google.com/document/d/1ad3MhTQWGof0IJ03yY5jVofCK8uO9yPKMVXVYq7a44o/edit#    The LDP spec is fairly silent about when a repository should create an LDP-NR.  This ticket is to see if there is a better way (possibly leveraging LDP headers) to explicitly convey a client's intent that a given resource should be created as a LDP-NR, and incorporate the conclusion into the spec draft.    A case to consider is persisting an arbitrary RDF document (e.g. an owl document, RDF-based dataset, etc) as a binary resource in Fedora with an rdf media type.  This case precludes (a) from the above techniques for specifying binary resource creation.    See discussion in https://github.com/fcrepo4/fcrepo4/pull/1081",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"WebAC debug output includes entire JCR node content When DEBUG output is turned on, the entire JCR node is output to the console. This seems unnecessary. For example:    DEBUG 21:35:56.147 (LinkHeaderProvider) Adding WebAC Link Header for Resource: /test {jcr:lastModifiedBy=fedoraAdmin, jcr:uuid=941be92f-92e3-4813-b4c1-977a237253cd, dcterms:genre=[http://vocab.getty.edu/aat/300026646^^URI], dcterms:spatial=[http://sws.geonames.org/4929022^^URI], dcterms:creator=[http://id.loc.gov/authorities/names/n79109792^^URI], jcr:createdBy=bypassAdmin, jcr:primaryType=nt:folder, jcr:created=2016-07-29T11:11:43.009-04:00, fedora:lastModified=2016-07-30T21:28:05.749-04:00, jcr:mixinTypes=[fedora:Container,fedora:Resource], jcr:lastModified=2016-07-30T21:28:05.765-04:00, rdfs:label=[Test]}  ",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Ontology document doesn't return a Content-Type header The Fedora ontology is available online, but LDP clients have a hard time parsing it since it doesn't include a Content-Type header. It really MUST return a Content-Type header. I see that most other ontologies will redirect clients to a URL with a .rdf extension.    For example:    $ curl -i http://fedora.info/definitions/v4/2016/03/01/repository    HTTP/1.1 200 OK  Date: Sun, 31 Jul 2016 13:09:56 GMT  Server: Apache  Last-Modified: Mon, 02 May 2016 15:50:16 GMT  ETag: ""621a-531ddf2e5c191""  Accept-Ranges: bytes  Content-Length: 25114  ",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
If-Match headers not properly evaluated for LDP-RSs The If-Match header is not properly evaluated for LDP-RSs when modifying existing resources (i.e. via PATCH). This appears to be related to the Strong/Weak ETag issue addressed with FCREPO-1754.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add support for gzip compression of resources Many web servers support gzip compression of resources via the header: Accept-Encoding: gzip, deflate    This is a ticket to track the implementation of this, either via a container-level configuration recipe or by implementing a Jersey filter: https://jersey.java.net/documentation/latest/filters-and-interceptors.html",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo4-vagrant: README troubleshooting recent Vagrant version This task is to update the fcrepo4-vagrant README with troubleshooting issues encountered while trying to start the VM with an older version of Vagrant.,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"fcrepo4-vagrant: remove unused variables This task is to remove the unused variables relating to Fuseki, Solr, and Karaf from '/install_scripts/config'.",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
ActiveMQ directory created during integration tests should be in ./target An ActiveMQ directory is created in fcrepo-webapp-plus. This directory should be configured to go in ./target so that it is cleaned up between builds.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Retrieving the description of an object with many reference properties is slow I have been testing the performance of Fedora objects that link to many other repository objects (for example a collection with many members, or a book that contains many pages).    I've written up some of my findings in the Fedora wiki[1].  But the TL;DR version is that it's reasonably fast for small numbers of members, but gets progressively slower for larger numbers of members.  And the move from LevelDB to a relational database for storing metadata looks like it's adding to this issue.  So a book with 500+ pages or a collection that contains thousands of objects slows down to 30+ seconds to read the RDF from Fedora.    I mostly wanted to let people know about this issue so it can be a factor in discussions about modeling, performance, etc.    -Esm     1. https://wiki.duraspace.org/display/FF/Real+World+Performance#RealWorldPerformance-many_members",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate fcrepo-transform The functionality of fcrepo-transform has been reimplemented in camel, and so the fcrepo-transform module should be deprecated and eventually removed from fcrepo4-exts.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
Publish event type ontology The event type ontology (used by the 4.6.0 release candidate) will need to be published. https://github.com/fcrepo4/fcrepo-event-ontology.    The cannonical URL for this is: http://fedora.info/definitions/v4/event,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"Skolemize to hash-URIs, not /.well-known/genid/ Fedora should skolemize incoming bnodes to hash-URIs (with UUID fragments) on the base URI to which the request was addressed. It wouldn't be the practice shown in the RDF specs that we now do (with the ""/.well-known/genid/"" thing), but that advice doesn't consider our use case (an object repository). If we did that, we would strike out all the annoying lifecycle problems that we've encountered and let people use much simpler SPARQL Update against individual resources. And people who try to use bnodes would end up with what we would have told them to use: hash-URIs on the point of their graph of description.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Enable Inheritance of Logging Levels This task is to align the logging functionality with the documentation:  https://wiki.duraspace.org/display/FEDORA4x/Configuring+Logging+With+System+Properties    This ticket is complete when:  1. The default logging level is INFO  2. All logging can be changed by providing a value for the system property: -Dorg.fcrepo  3. Specific package loggers can be changed independently of 1 or 2 above.    Starting Fedora with the following logging settings should work as expected:  > mvn jetty:run -pl fcrepo-webapp/  ** log all packages at INFO    > mvn -Dfcrepo.log=DEBUG jetty:run -pl fcrepo-webapp/  ** log all packages at DEBUG    > mvn -Dfcrepo.log=DEBUG -Dfcrepo.log.jms=INFO jetty:run -pl fcrepo-webapp/  ** log all packages at DEBUG, except fcrepo.jms at INFO    > mvn -Dfcrepo.log=DEBUG -Dfcrepo.log.jms=INFO -Dfcrepo.log.kernel=INFO jetty:run -pl fcrepo-webapp/  ** log all packages at DEBUG, except fcrepo.jms and fcrepo.kernel at INFO  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
4.6.0-RC-4 WebAC Regression The following steps come from the Fedora workshop exercises... and appears not to work in 4.6.0-RC-4.  Perform steps in slides 18 through 23: https://docs.google.com/presentation/d/1wbzi7d8xL_C_5jo_ZTykq3CswSfbaobLHgQacWGmNzA/edit?usp=sharing    The test that appears to fail now is:  curl -i -utestuser:password1 http://localhost:8080/fcrepo/rest/cover,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Refactor URI translator chain to allow use without Jcr Node None,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Updates to Containers with If-Match headers should fail Because we never emit strong ETags for Containers, and strong ETags are required for updates with an If-Match header, we should never accept updates to containers with an If-Match header.    Related to FCREPO-2098.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Update vagrant for Fedora 4.7.0  This task is to update the fcrepo4-vagrant configuration for the Fedora 4.7.0 release.  As a part of this task, the following PR should be tested and merged:  https://github.com/fcrepo4-exts/fcrepo4-vagrant/pull/53",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
Make the LDCache backend pluggable It would be convenient to make the LDCache backend pluggable as an OSGi service. This will also make testing considerably easier.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Make fcrepo-camel-toolbox compatible with Fedora 4.6.x the messaging toolbox is not compatible with the messages emitted by Fedora 4.6.x. It should be adjusted so that it is.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"LDP If-Match guidance is incompatible with the HTTP spec The LDP spec says we SHOULD use the If-Match header to make sure that updates do not overwrite updates made by other clients (See 4.2.4.5 https://www.w3.org/TR/ldp/#ldpr-resource).  However, the HTTP spec requires strong ETags for the If-Match header (See https://tools.ietf.org/html/rfc7232#section-2.3.2).  The variability of RDF serializations (triple order, node ids, different serialization formats, etc., etc.) prevents us from using strong ETags, so we cannot satisfy both requirements.  We recommend that the LDP spec should be changed to recommend using the If-Unmodified-Since header instead, which provides similar functionality but using a timestamp instead of an ETag.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Tombstone serialization is stinky  When you retrieve an URI at which a tombstone is present, you get     Discovered tombstone resource at /foo {jcr:createdBy=bypassAdmin, jcr:primaryType=fedora:Tombstone, jcr:created=2016-08-24T14:24:58.099-04:00}    You get this even if you put an RDF mimetype into the Accept header of the request.  1) There should not be any JCR cruft in there.  2) There ought to be a real RDF response when one is asked for.    OR    We should just get rid of tombstones (I really think this is what we should do.)",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Fixity service error in HTML UI To reproduce:  - In the HTML UI, create a Binary resource  - Navigate to the Binary resource and click on the ""Fixity"" button  ** Boom **  ERROR 19:03:40.176 (WildcardExceptionMapper) Exception intercepted by WildcardExceptionMapper: Object 'org.apache.jena.graph.Node_ANY' does not contain method createURI(java.lang.String) at /views/fcr-fixity.vsl[line 53, column 60]    This is likely due to the recent upgrade to Jena3",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove dead HTML-UI code This task is to remove dead code in the HTML-UI, which will minimally include:  https://github.com/awoods/fcrepo4/blob/master/fcrepo-http-api/src/main/resources/views/common.vsl#L48-L52",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document how the Camel RDF Serializer exports content to disk None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Review Camel RDF Serializer implementation Can the code be repurposed (imported by a new client)? Can we copy the code? Or at least use it as documentation of the serialization format?,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create import-export github repository in the fcrepo4-labs organization This should include a Hello World maven project with an executable jar file.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create skeletal import client utility The import client should:    * Log resources that are imported  * Have tests that verify that resources are imported  ,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create skeletal export client utility The export utility should:    * Log resources that are exported and their location on disk  * Include tests that demonstrate exporting various kinds of resources,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create a test plan Create a test plan that details the testing (both automated and manual) that will verify that the import/export utilities work as expected and meet the requirements.    Working draft: https://docs.google.com/document/d/1WW0dU9LDWvnRPGbzKpIE-ODkGq39md17sKkWVXC0P8U/edit?usp=sharing    Test resources: https://drive.google.com/folderview?id=0B42p4oXygqHfS2J6MmRoNEQ4WEU&usp=sharing,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create sample test dataset Create a test dataset, including:    * Binaries larger than 4KB  * Metadata with objects that link to other objects  * Metadata that includes external content (see https://wiki.duraspace.org/display/FEDORA4x/External+Content )",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Document sprint resources As part of or a subpage of https://wiki.duraspace.org/display/FF/Import+-+Export+Sprint+Meetings, create a section documenting the github repositories, JIRA issues, test dataset and other resources.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create user documentation - README Create basic user documentation for using the import/export utilities for the github README of the import/export github repository,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create Import/Export wiki documentation Create a wiki page documenting the Import/Export utilities, and linking to the github README for more information.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create a basic executable jar for fcrepo-import-export None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create a basic CLI framework for fcrepo-import-export None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Use Airline instead of Apache Commons CLI Airline:    https://github.com/airlift/airline    would provide more clarity in less code for command-line parsing than Apache Commons CLI.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Return to single-artifact builds for fcrepo-webapp Having multiple artifacts for ""one-click"" demo operation and deployment into servlet containers is unnecessary, confusing to users, and results in a needlessly complicated release process.    One artifact, both usable as an executable and deployable as a web app, should be created.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Export: Don't export binaries if binary directory not configured None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Export: Recurse over members of Containers None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document usage of the export tool. Documentation should be added here:    https://wiki.duraspace.org/display/FEDORA4x/Import+and+Export+Tools    Minimally it should include commands to run the program and a brief explanation of the output and limitations.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document usage of the export/import tool. Documentation should be added here:    https://wiki.duraspace.org/display/FEDORA4x/Import+and+Export+Tools    Minimally it should include commands to run the program and a brief explanation of the output and limitations. ,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document export/import package format. Documentation should be added here:    https://wiki.duraspace.org/display/FEDORA4x/Import+and+Export+Tools    It should be sufficient that one could make sense of an export package or hand-craft an import package.  Feel free to use a child page if the details are lengthy.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unified config and command-line invocation https://github.com/fcrepo4-labs/fcrepo-import-export/pull/6 includes configuration and command-line operation at the module level, but ideally we would have a single jar file with unified operation and configuration, parameters parsing, etc.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update fcrepo-camel testing apparatus to use latest Fedora release The testing apparatus for fcrepo-camel uses Fedora 4.5.x, it should be updated to use 4.6.x",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add error handling and reporting failures We should add error handling to the project, and report any failures.    Currently, if run on a non-existent fcrepo, the utility says it is ""Exporting!""",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Export: trailing slash in repo path causes filename issues Running the command shown below, where there is a trailing slash on the repository URL, causes the filename to show up simply as '.ttl' with no actual filename.  A trailing slash should be removed, if present.     `java -jar ../../fcrepo4-labs/fcrepo-import-export/fcrepo-export/target/fcrepo-export-0.0.1-SNAPSHOT.jar --mode export --resource http://localhost:8080/fcrepo_4.6_rc/rest/ -binDir bin_dir --descDir desc_dir`",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Consider adding hawt.io to vagrant Consider adding a hawt.io console to the vagrant gear, for easy monitoring.",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Split common, driver, import, export, parent modules out of importexport common depends on parent  import, export depend on common  driver depends on import, export, common    common defines some interfaces for Config and ArgParser  driver dispatches to import or export depending on a command line flag",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Binary export does not support recursive export None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Log resources exported This task is to create a mechanism for logging the resources that were exported.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Export: binary metadata is not exported The metadata associated with a binary, avail at the fcr:metadata endpoint, is not exported along with the binary.   The metadata should be available in the description directory at the same path as where the binary ends up in the binary directory. ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create integration test framework This task is to create an integration test framework and initial example tests.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo4-vagrant: update configuration from 4.6.0 release This task is to update the config per:  https://github.com/fcrepo4-exts/fcrepo4-vagrant/issues/56,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"Hide Config in favor of an interface for the Import/Export process The config implementations are internal, and are only passed between ArgParser and a constructor by the driver. We should make the Config implementations internal, and let ArgParser return a ""Porter"" implementation. ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"review Allow methods on repository root  The Allow header for requests to the repository root contains MOVE and DELETE, which seem incorrect.    For example:  curl -I localhost:8080/fcrepo/rest    Allow: MOVE,COPY,DELETE,POST,HEAD,GET,PUT,PATCH,OPTIONS",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Review Content-Type header for HEAD requests on containers A HEAD request to a Fedora container reports the content type as application/octet-stream. This seems incorrect.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix broken executable jar This task is to ensure that we once again have an executable jar artifact created by the maven build process.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add Standard Plugins This task is to add checkstyles plugin, and fix issues.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Use top-level dependency management This task is to consolidate the dependency definitions in the maven submodules and factor them up into the top-level pom.xml dependency management section.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Support http authorization when exporting and importing Running the export tool does not currently work when the Resource you are trying to export requires http authentication.  There is no error or warning printed to stdout either.  ,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Add support for config file None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Export w/ binary fails if descDir and binDir are the same path If you run with the description dir and binary dir being the same path, there is a collision on file name (and directory) for binaries.      This is a normal run, where `goats` is the binary:     ??? bin_dir  ?   ??? fcrepo_4.6_rc  ?       ??? rest  ?           ??? goats  ??? desc_dir      ??? fcrepo_4.6_rc          ??? rest          ?   ??? asc          ?   ?   ??? 336          ?   ?   ?   ??? members.ttl          ?   ?   ??? 336.ttl          ?   ??? asc.ttl          ?   ??? goats          ?       ??? fcr_metadata.ttl          ??? rest.ttl    But if I use the same dir for both I get an error that I believe to be cause by a name collision:   BuckyKatt:/Users/bseeger/Projects/fedora/fcrepo4-labs/fcrepo-import-export/fcrepo-import-export-driver/target>java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -m export  --binDir ../../../../backup/export/bin_dir --descDir ../../../../backup/export/bin_dir --resource http://localhost:8080/fcrepo_4.6_rc/rest  Exporting!  java.io.FileNotFoundException: ../../../../backup/export/bin_dir/fcrepo_4.6_rc/rest/goats/fcr_metadata.ttl (Not a directory)    java.io.FileOutputStream.open0(Native Method)    java.io.FileOutputStream.open(FileOutputStream.java:270)    java.io.FileOutputStream.<init>(FileOutputStream.java:213)    java.io.FileOutputStream.<init>(FileOutputStream.java:162)    java.io.FileWriter.<init>(FileWriter.java:90)    org.fcrepo.exporter.Exporter.writeResponse(Exporter.java:143)    org.fcrepo.exporter.Exporter.exportDescription(Exporter.java:119)    org.fcrepo.exporter.Exporter.writeResponse(Exporter.java:151)    org.fcrepo.exporter.Exporter.exportBinary(Exporter.java:107)    org.fcrepo.exporter.Exporter.export(Exporter.java:85)    org.fcrepo.exporter.Exporter.exportMembers(Exporter.java:130)    org.fcrepo.exporter.Exporter.exportDescription(Exporter.java:124)    org.fcrepo.exporter.Exporter.export(Exporter.java:87)    org.fcrepo.exporter.Exporter.run(Exporter.java:79)    org.fcrepo.importexport.ImportExportDriver.run(ImportExportDriver.java:52)    org.fcrepo.importexport.ImportExportDriver.main(ImportExportDriver.java:41)",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Dataset: Create objects with cross-object relationships This task is to update the dataset from:   https://github.com/fcrepo4-labs/fcrepo-sample-dataset/tree/master/plantpatents    Adding cross-object relationships.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Dataset: Create objects with external content This task is to update the dataset from:   https://github.com/fcrepo4-labs/fcrepo-sample-dataset/tree/master/plantpatents     Adding or updating resources to include references to external content.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Dataset: Create nested resources This task is to update the dataset from:   https://github.com/fcrepo4-labs/fcrepo-sample-dataset/tree/master/plantpatents     Adding or updating resources to include nested resources.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Log resources imported This task is to create a mechanism for logging the resources that were imported.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Log exported resources to file This task is to ensure that exported resources are logged to a file that would be a suitable artifact to act as an audit of the export operation.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Process list of resources to import/export This task is to enable passing a file containing a list of resources as an argument into the import/export jar.    Note: this is not necessarily a phase-1 requirement.      Helpful design requirement:    Allow for a BagIt bag for all resources in a collection, and/or individual bags for each resource    - One bag per request; if there are multiple resources, they are all in one bag    - If you want a bag per resource, the utility must be called multiple times  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Clean up code warnings in fcrepo-export/src/main/java/org/fcrepo/exporter/Config.java See the following link for list of warnings.    https://github.com/fcrepo4-labs/fcrepo-import-export/pull/16#issuecomment-244548953,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Handle Link headers with three or more parts The Java client should be able to parse Link headers with three or more parts, such as the Link from a newly-created binary to its description, which has the form:    Link: <http://localhost:8080/rest/file1/fcr:metadata>; rel=""describedby""; anchor=""http://localhost:8080/rest/file1""",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix return values for edge cases in FcrepoResponse None,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Allow setting prefer headers on Put/Post requests When making Put/Post requests, the client should be able to add Prefer headers, such as Prefer: handling=lenient; received=""minimal""",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove non-test dependencies on fcrepo This task is to ensure that import/export limits its dependencies on core fcrepo artifacts to test.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Address mvn build error; [ERROR] Error fetching link [ERROR] Error fetching link: /home/nruest/git/fcrepo-import-export/fcrepo-import-export-common/target/testapidocs/package-list. Ignored it.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Document behavior and workarounds for system-generated namespace prefixes Document the behaviors that lead to the binding of system-generated namespace prefixes (in the form ns00x) when new namespaces are invoked in content deposited in Fedora.    Develop a recommendation for a workaround or best practice that will allow users to avoid the inadvertent binding of such prefixes.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Export utility should map URIs to info:fedora/ URIs To reduce the exported RDF being tied to the original repository URIs, the export client should map the base URIs to info:fedora/ URIs.  For example, the resource http://localhost:8080/rest/a/b/c should be mapped to info:fedora/a/b/c",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Exported resource filenames need to be escaped in an unambiguous manner Currently we replace colons with underscores... this causes a name collision if ""test:test"" and ""test_test"" exist.  For this ticket use URLEncoder.encode(string, ""UTF-8"") and URLDecoder.decode(string, ""UTF-8"") on the filename (or path element).",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Fix potential NPE in Exporter See: https://github.com/fcrepo4-labs/fcrepo-import-export/pull/17#discussion_r77715349,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove URISyntaxExceptions Throughout the codebase we are throwing and catching URISyntaxExceptions. This is because we are using {{new URI(...)}} instead of {{URI.create(...)}}.  This task is to replace the former with the later and remove the URISyntaxExceptions throughout the code.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Simplify Import/Export package structure We currently have 4 packages (Import, Export, Common and Driver) for 7 classes.  Consider consolidating to a single package.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"malformed SPARQL query can cause binary objects to 'disappear' It is possible to cause non-RDFsource objects to ""disappear"" from the repository with a malformed SPARQL query.  Steps to reproduce:      1. upload a binary object, for example to http://localhost:8080/fcrepo/rest/test    2. PATCH the metadata on this node with the following SPARQL (note the erroneous double hash-mark character in the PCDM URI):    {code}   url -ufedoraAdmin:secret3 -X PATCH -H ""Content-Type: application/sparql-update"" --data ""INSERT DATA {<> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://pcdm.org/models##file> .}"" ""http://localhost:8080/fcrepo/rest/test/fcr:metadata""    {code}      3. Fedora returns a Java stack trace on subsequent accesses to the /fcr:metadata, or 404 not found errors for the nonRDF node.  The exact behavior varies from browser to browser.    I would expect fedora to catch the SPARQL syntax error before saving the malformed triple on the node, and it does seem to do this for other similar errors, but for whatever reason this one slips through and causes the resource to become unreachable.  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on export of dataset - plantpatents Setup:  - Download dataset: https://github.com/fcrepo4-labs/fcrepo-sample-dataset/blob/master/plantpatents/plants.tar.gz  - Start up an empty F4  - Upload the sample dataset:  > curl -i -XPOST --data-binary /path/to/1473315261896-0 localhost:8080/rest/fcr:restore  - Export the repository:  > java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -b /tmp/bin -m export -d /tmp/rdf -r http://localhost:8080/rest/    ! Notice output log for each external-body binary:  ---  ERROR 16:10:46.097 (Exporter) Resource is neither an LDP Container nor an LDP NonRDFSource: http://localhost:8080/rest/10/69/e9/cd/1069e9cd-3024-442a-a683-4f8930be992d/external  ---    However, the HEAD request shows correct link headers:  ---  > curl -I http://localhost:8080/rest/10/69/e9/cd/1069e9cd-3024-442a-a683-4f8930be992d/external  ---  Output:   ---  HTTP/1.1 307 Temporary Redirect  Date: Thu, 08 Sep 2016 20:15:16 GMT  ETag: ""f074729b6e3608542c34bbb5443e10d0e741ecf5""  Last-Modified: Thu, 08 Sep 2016 06:05:42 GMT  Content-Type: message/external-body;access-type=URL;url=""http://www.lib.umd.edu/plantpatents/binaries/09000/pp09075.pdf""  Accept-Ranges: bytes  Content-Disposition: attachment; filename=""""; creation-date=""Thu, 08 Sep 2016 06:05:42 GMT""; modification-date=""Thu, 08 Sep 2016 06:05:42 GMT""; size=0  Link: <http://www.w3.org/ns/ldp#Resource>;rel=""type""  Link: <http://www.w3.org/ns/ldp#NonRDFSource>;rel=""type""  Link: <http://localhost:8080/rest/10/69/e9/cd/1069e9cd-3024-442a-a683-4f8930be992d/external/fcr:metadata>; rel=""describedby""  Allow: DELETE,HEAD,GET,PUT,OPTIONS  Location: http://www.lib.umd.edu/plantpatents/binaries/09000/pp09075.pdf  Content-Length: 0  ---  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset - plantpatents Setup per: https://jira.duraspace.org/browse/FCREPO-2187    After successful export, start an empty F4.  Perform the same operation as on export but changing the mode:  ---  > java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -b /tmp/bin -m import -d /tmp/rdf -r http://localhost:8080/rest/  ---    ! Notice immediately:  ---  INFO 16:59:25.473 (ArgParser) Configuration file exists, new file will NOT be created: /tmp/importexport.config  INFO 16:59:25.478 (Importer) Running importer...  WARN 16:59:25.889 (riot) [line: 31, col: 10] Lexical form '10/23/2014 17:02:32' not valid for datatype http://www.w3.org/2001/XMLSchema#dateTime  INFO 16:59:25.910 (Importer) Importing binary /tmp/awoods/test/x/rdf/rest/bb/34/ab/0d/bb34ab0d-e036-4b7b-9316-ace9378dba06/internal/fcr%3Ametadata.ttl  ERROR 16:59:26.137 (Importer) Import failed  ---",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add README, list of URIs, and binary checksums to sample dataset To facilitate the use of the plantpatents sample dataset for testing and verifying integrity of the repository, add baseline information and instructions:      1. README explaning the structure of the dataset    2. list of URIs for patent and file nodes in the repository    3. filenames and checksums for all binary assets stored internally",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Verify files on disk against their counterparts imported in a Fedora The goal is to create a tool that will verify that data exported to disk, via the import-export client, is the same as what was in the original fedora system.     ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Java client should allow disabling redirects The Java client should allow disabling following redirects, if the client wants to retrieve an external content node without following the redirect.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add more extensive integration tests for import-export The goal of these integration tests is to quickly identify bugs that crop up not only as this project code changes, but as fcrepo4 changes.  Subtle changes in the repository software (like whether redirects are returned in HEAD requests) can break this import-export tooling and more complete integration test coverage would help.    Specifically include:  - full round-tripping with verification that properties are preserved.  - verification of the output files (config in the temp directory for instance)  - binary content with external bodies  - cross-resource relationships (/resource0 pcdm:hasMember /resource1)  - nested resources (/parent/child)  - direct containers  - indirect containers  - user properties",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset, fedora:lastModified - lubm Setup:   - Download dataset: https://github.com/fcrepo4-labs/fcrepo-sample-dataset/blob/master/lubm/LUBM.tar.gz  - Start up an empty F4   - Upload the sample dataset:   > curl -i -XPOST --data-binary /path/to/LUBMbackup localhost:8080/rest/fcr:restore   - Export the repository:   > java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -b /tmp/bin -m export -d /tmp/rdf -r http://localhost:8080/rest/   - Start up an empty F4  - Import the exported content:  > java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -b /tmp/bin -m import -d /tmp/rdf -r http://localhost:8080/rest/ | tee import.out      ! Notice output log for ""fedora:lastModified"" constraints:   WARN 10:47:46.284 (Importer) Error while importing /tmp/awoods/test/x/rdf/rest/Department14.University0.edu/AssociateProfessor6.ttl (500): javax.jcr.nodetype.ConstraintViolationException: Cannot find a definition for the property named 'fedora:lastModified' on the node at '/Department14.University0.edu/AssociateProfessor6' with primary type 'nt:folder' and mixin types: [ldp:Container,ldp:RDFSource,fedora:Pairtree]  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset, top-level resources - lubm Setup per: https://jira.duraspace.org/browse/FCREPO-2194    After successful export, start an empty F4.   Perform the same operation as on export but changing the mode:   ---   > java -jar fcrepo-import-export-driver-0.0.1-SNAPSHOT.jar -b /tmp/bin -m import -d /tmp/rdf -r http://localhost:8080/rest/   ---     The import does not log any errors;   ! however, the resources in the original repository had 16 top-level resources, the imported repository has ~4260 resources.  ! Notice immediately:   --- ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add -h flag to display available options It is possible to see the list of available options by running the export tool or the import tool with out any required arguments, but it also displays an error message.    Add a -h flag, that is able to display the list of options, without the error message.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset, single-valued properties - plantpatents Perform a restore/export/import as detailed in: https://jira.duraspace.org/browse/FCREPO-2188    Capture the terminal output of the import and see the WARNing:  ---  WARN 14:26:22.827 (Importer) Error while importing /tmp/test/desc/rest/a3/34/2f/c2/a3342fc2-16fb-4c66-a9ea-2d2a1b1eabc7.ttl (400): Unable to set existing single-valued property ""ns002:hasFile_ref"" on node ""/a3/34/2f/c2/a3342fc2-16fb-4c66-a9ea-2d2a1b1eabc7"" in workspace ""default"" using multi-value setter methods  Unable to set existing single-valued property ""ns003:inventorCity"" on node ""/a3/34/2f/c2/a3342fc2-16fb-4c66-a9ea-2d2a1b1eabc7"" in workspace ""default"" using multi-value setter methods  etc...  ---  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset, no properties - plantpatents In a similar fashion to the setup detailed in: https://jira.duraspace.org/browse/FCREPO-2188     ...this ticket is to address the situation where resource properties are lost:  * After /fcr:restore of the plantpatents dataset, open a tab with the following resource:  http://localhost:8080/rest/62/44/53/d5/624453d5-e62a-43ff-b934-a04ab36acc75    Then go through the export/import cycle, and open a different tab with that same resource:  http://localhost:8080/rest/62/44/53/d5/624453d5-e62a-43ff-b934-a04ab36acc75    ! Notice the difference... no properties!    ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove -x flag, set extension from -l Current behaviour:    -x sets the file extension for exported rdf (default is .ttl)  -l sets the rdf language used (default is text/turtle)    It is possible to change one without changing the other, which could cause misleading file extensions (e.g. .jsonld file with turtle inside).    Suggested change:  Make the -l flag set the file extension to match the rdf language, and remove the -x flag.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of dataset, reference properties - plantpatents Perform a restore/export/import as detailed in: https://jira.duraspace.org/browse/FCREPO-2188     Capture the terminal output of the import and see the WARNing:   ---   WARN 14:46:52.806 (Importer) Error while importing /tmp/awoods/test/x/rdf/rest/bb/34/ab/0d/bb34ab0d-e036-4b7b-9316-ace9378dba06/internal/fcr%3Ametadata.ttl (400): Only referenceable nodes may be the value of reference properties  ---",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Add ability to delete or overwrite tombstone on import Example:    export a resource from Fedora using the export utility.  delete that resource (a tombstone is left behind).  try to import back into the same repository.    Currently, this does not work. The export utility could be enhanced to allow for this use case, perhaps by having a flag for 'remove tombstone' or 'overwrite existing resource' ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create integration test for importing The existing import-export integration tests all test export, so we should add an integration test that tests import.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Verify resources in a Fedora are the same as their exported counterparts on disk   The goal is to create a tool that would look at imported data, located in the fedora 4 system, and verify that what was imported equals what was in the original export.  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate transform option for fcrepo-camel Since the fcrepo-transform endpoint has been deprecated for Fedora and will be removed entirely for 4.7.0, it should also be deprecated and removed from fcrepo-camel.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate tombstone option from fcrepo-camel The tombstone option in fcrepo-camel makes it easy to delete tombstones in Fedora. Given that URLs shouldn't be re-used by an LDP server, it seems dubious that deleting tombstones should even be possible, let alone easy. This ticket is simply about making it not so easy to delete them with the camel machinery.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove the ability to delete tombstone references The LDP specification contains a non-normative section describing how LDP servers should not reuse URIs: https://www.w3.org/TR/ldp/#h-ldp-webarch-uri-reuse    The Fedora implementation includes a mechanism to prevent re-use of URIs via a tombstone artifact. While that tombstone prevents the re-creation of a resource at a given URI, it is also possible to circumvent that by deleting the tombstone and then creating a resource in the old location.    This is a ticket to discuss and track the elimination of the ability to remove tombstones from a Fedora repository.    For example:    (current behavior)  PUT /rest/resource 201  GET /rest/resource 200  DELETE /rest/resource 204  GET /rest/resource 410  DELETE /rest/resource/fcr:tombstone 204  GET /rest/resource 404  PUT /rest/resource 201    (possible future behavior)  PUT /rest/resource 201  GET /rest/resource 200  DELETE /rest/resource 204  GET /rest/resource 410  DELETE /rest/resource/fcr:tombstone 400  GET /rest/resource 410  PUT /rest/resource 409  ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Evaluate Library of Congress BagIt Library Evaluate the Library of Congress BagIt Library: https://github.com/LibraryOfCongress/bagit-java    Key priorities are:  * Avoid reading data twice when adding files to Bags  * Does it support serializing Bags as e.g., Zip or Tar files?",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Remove deprecated options from fcrepo-camel The transform and tombstone options for fcrepo-camel have been deprecated. They should now be removed.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo-webapp-plus-webac-4.6.0.war doesn't seem to work in jetty The error is something like:    Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/p]  ,f4-webapp-plus,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
fcrepo-import-export build fails when tomcat is running. None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"decouple testing environment from fedora version in fcrepo-camel The fcrepo-camel integration tests currently load Fedora via spring configuration. This means that any dependencies between the two projects must align, which is a bad thing. Notably, the jena version used by fcrepo-camel must be the same jena version as is used by the fedora testing infrastructure. There are other such dependency collisions, and by moving the testing apparatus into the maven-jetty plugin, this will all go away.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"lastModified date not updated on parent containers when children are deleted When a child object is deleted, the lastModified date on the parent object is not updated, but it should be.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Fcrepo 4.6.0 build failed in Windows 10 1. Download source code from https://github.com/fcrepo4/fcrepo4/releases/tag/fcrepo-4.6.0    2. mvn clean install     The build always failed:    -------------------------------------------------------------------------------  Test set: org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT  -------------------------------------------------------------------------------  Tests run: 11, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.187 sec <<< FAILURE! - in org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT  testModifyDatastreamDescriptionLastMod(org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT)  Time elapsed: 0.031 sec  <<< FAILURE!  java.lang.AssertionError: Last-modified on the description should have changed. Actual: 1473868788152          at org.junit.Assert.fail(Assert.java:88)          at org.junit.Assert.failEquals(Assert.java:185)          at org.junit.Assert.assertNotEquals(Assert.java:161)          at org.junit.Assert.assertNotEquals(Assert.java:198)          at org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT.testModifyDatastreamDescriptionLastMod(FedoraBinaryImplIT.java:410)     testModifyDatastreamContentDigestAndLength(org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT)  Time elapsed: 0.016 sec  <<< FAILURE!  java.lang.AssertionError: Last-modified should be updated          at org.junit.Assert.fail(Assert.java:88)          at org.junit.Assert.assertTrue(Assert.java:41)          at org.fcrepo.integration.kernel.modeshape.FedoraBinaryImplIT.testModifyDatastreamContentDigestAndLength(FedoraBinaryImplIT.java:218)    see: https://groups.google.com/d/msg/fedora-tech/ovLjYu4ADsU/LCcgMYDbAwAJ",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Importer fails for non-flat imports. None,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Perform import/export of LUBM2 This task is to:  1. load the following dataset with /fcr:restore  2. export it with the import/export utility  3. start an empty fcrepo  4. import the exported resources into the empty fcrepo    https://github.com/fcrepo4-labs/fcrepo-sample-dataset/blob/master/additional_datasets/lubm/LUBM_02.tar.gz    Each of the steps above should be successful.  Any errors should result in new JIRA tickets being created.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Binary image files are not viewable after export After using the tool to export image binaries from fedora I am unable to look at those files anymore -- a jpeg file will no longer open correctly and the SHA1 is different.     I suspect the wrong File object is used in exporting the object and it's not being treated like a binary file: https://github.com/fcrepo4-labs/fcrepo-import-export/blob/0111580f9b4fb1714abe01d01accf674c92bba35/src/main/java/org/fcrepo/importexport/common/TransferProcess.java#L82    This is on a mac OSx and to reproduce this issue create a binary file and export it.  I've seen this with a jpeg, but haven't tried other binary file formats. ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Unable to import exported LUBM02 dataset After creating a successful export of the LUBM02 dataset, and clearing fcrepo, I am unable to import the exported dataset.     Formatted error in first comment below.    ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Set Import 'source' if not provided This task is to set the 'source' configuration element of an Import to the 'resource' if it was not provided by the user.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Export BagIt bags from Fedora In order to send content to the preservation service, as a repository administrator I would like to:   - Select a group of resources in Fedora to export as bags    Definition of done:   - Select resource(s) to export   - Select resource(s) to export based on membership, e.g. ldp:contains, pcdm:hasMember   - Allow for a BagIt bag for all resources in a collection, and/or individual bags for each resource   - Resources exported to valid BagIt bag(s)   - Create a BagIt bag that adheres to a given BagIt Profile   - Configurable path for exported BagIt Bags",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"BagIt Profile for APTrust In order to add BagIt bags to APTrust, we will create an APTrust BagIt Profile for fcrepo-import-export.    Definition of done is conformance to the following document: https://docs.google.com/document/d/1F9ssL6-N2Yum5E1EsMyb_H92lDVRLhrLBEDB19PAfqE/edit#heading=h.nbx73mq7699    N.B. fcrepo-import-export need not run the APTrust bag validation script.    - Might need to explore bag sequences to adhere to the 250GB limit",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"BagIt Profile for MetaArchive In order to add BagIt bags to MetaArchive, we will create an MetaArchive BagIt Profile for fcrepo-import-export.    Definition of done is    - Exporting resource(s) that conform to the MetaArchive BagIt profile    - Documentation outlined on this document: https://docs.google.com/document/d/1yWfM9qHCUjT4FMLKX5cwCAPUVUTa9jvsldjmd7kbWfQ/edit#    N.B. There might be some useful resources/utilities here: https://github.com/MetaArchive",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create default fcrepo-import-export Bag Profile Definition of done:    - A BagIt Profile    - Roundtripable with Bagit profile,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Select resource(s) to export based on membership, e.g. ldp:contains, pcdm:hasMember Allow a user to define a membership predicate for resources. This should allow for use of multiple predicates; ORs.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Rip out the --binDir and --descDir Rip out the --binDir and --descDir options, replace with --dir and a argument for --binaries (boolean).",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Create a streaming bagit library that implements a BagIt Profile If the --bagitProfile default|APTrust is used:    - triggers the creation of a bag    - fails if bag already exists    - for APTrust profile, see FCREPO-2222    - for default profile, see FCREPO-2224    - upon import, verifies checksums in manifest    - create tag-manifest     Considerations    - Audit events -- provenance data from bag-info -- external events  ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create a config for the default BagIt Profile Name value config file that outlines everything that can be in a given bagit profile.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Create basic import/export integration test classes This task is to create integration tests at a level lower than:  ExecutableJarIT.java    ..specifically:  ImporterIT.java  ExporterIT.java,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Intelligent Container Import Import containers using a three-step process:    1. Parse all of the RDF on disk to build a map of containers' membership resources and member relations.    2. Perform the normal import process for all resources that are not membership resources.  This process will create placeholders for all resources that don't already exist, including the membership resources.    3. Import each membership resource, and add the filter out triples with the member relations as the predicate.    Note: #3 will result in losing manually-inserted triples with the same predicate as the member relation.  In order to preserve those triples, then alternate approaches would be:    * Retrieve the membership resource's RDF from Fedora and diff to filter out the membership triples.  * Include more LDP container logic in the import client to generate all of the triples that the container would generate and filter them out.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ERROR on import of plantpatents dataset On HEAD as of 317db67dae692d0709b4f9e3a7de2a56930d059c    Imported plantplatents dataset, successfully exported dataset with:    [nruest@simian:fcrepo-import-export] (git)-[master]-$ java -jar target/fcrepo-import-export-0.0.1-SNAPSHOT.jar --mode export --resource http://localhost:8080/rest --descDir /tmp/awead --binDir /tmp/awead --rdfExt .jsonld --rdfLang application/ld+json    Shutdown fcrepo, clear fcrepo-data.    On import:    $ java -jar target/fcrepo-import-export-0.0.1-SNAPSHOT.jar --mode import --resource http://localhost:8080/rest --descDir /tmp/awead --binDir /tmp/awead --rdfExt .jsonld --rdfLang application/ld+json  INFO 11:10:07.746 (ArgParser) Configuration file exists, new file will NOT be created: /tmp/importexport.config  INFO 11:10:07.750 (Importer) Running importer...  INFO 11:10:08.292 (Importer) Importing container /tmp/awead/rest/plantpatents.jsonld to http://localhost:8080/rest/plantpatents  ERROR 11:10:08.894 (ImportExportDriver) Error performing import/export: Error while importing /tmp/awead/rest/plantpatents.jsonld (500):    Fedora stacktrace:    INFO 11:07:19.933 (FedoraLdp) GET resource ''  INFO 11:10:08.557 (FedoraLdp) PUT resource 'plantpatents'  WARN 11:10:08.685 (PropertyConverter) The namespace of predicate: http://pcdm.org/models#hasMember was possibly misinterpreted as: http://pcdm.org/models#.  [qtp210100675-21] WARN org.eclipse.jetty.server.HttpChannel - Commit failed  java.io.IOException: Response header too large    org.eclipse.jetty.http.HttpGenerator.generateResponse(HttpGenerator.java:394)    org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:599)    org.eclipse.jetty.util.IteratingCallback.processIterations(IteratingCallback.java:233)    org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:193)    org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:448)    org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:764)    org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:802)    org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:139)    org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:132)    org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:234)    org.glassfish.jersey.servlet.internal.ResponseWriter$NonCloseableOutputStreamWrapper.flush(ResponseWriter.java:330)    org.glassfish.jersey.message.internal.CommittingOutputStream.flush(CommittingOutputStream.java:292)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$UnCloseableOutputStream.flush(WriterInterceptorExecutor.java:304)    sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:297)    sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)    java.io.OutputStreamWriter.flush(OutputStreamWriter.java:229)    org.glassfish.jersey.message.internal.ReaderWriter.writeToAsString(ReaderWriter.java:193)    org.glassfish.jersey.message.internal.AbstractMessageReaderWriterProvider.writeToAsString(AbstractMessageReaderWriterProvider.java:130)    org.glassfish.jersey.message.internal.StringMessageProvider.writeTo(StringMessageProvider.java:99)    org.glassfish.jersey.message.internal.StringMessageProvider.writeTo(StringMessageProvider.java:59)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:265)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:250)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:106)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:86)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)    org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:711)    org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:444)    org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:490)    org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)    org.glassfish.jersey.internal.Errors.process(Errors.java:315)    org.glassfish.jersey.internal.Errors.process(Errors.java:297)    org.glassfish.jersey.internal.Errors.process(Errors.java:267)    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)    org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:769)    org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)    org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)    org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)    org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1125)    org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)    org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)    org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1059)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)    org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)    org.eclipse.jetty.server.Server.handle(Server.java:497)    org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)    org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:248)    org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)    org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:610)    org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:539)    java.lang.Thread.run(Thread.java:745)  Caused by: java.nio.BufferOverflowException    java.nio.Buffer.nextPutIndex(Buffer.java:521)    java.nio.HeapByteBuffer.put(HeapByteBuffer.java:169)    org.eclipse.jetty.http.HttpGenerator.putSanitisedValue(HttpGenerator.java:1051)    org.eclipse.jetty.http.HttpGenerator.putTo(HttpGenerator.java:1073)    org.eclipse.jetty.http.HttpGenerator.generateHeaders(HttpGenerator.java:697)    org.eclipse.jetty.http.HttpGenerator.generateResponse(HttpGenerator.java:379)   ... 64 more  Sep 20, 2016 11:10:08 AM org.glassfish.jersey.server.ServerRuntime$Responder writeResponse  SEVERE: An I/O error has occurred while writing a response message entity to the container output stream.  org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: Response header too large    org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:92)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)    org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:711)    org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:444)    org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:490)    org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)    org.glassfish.jersey.internal.Errors.process(Errors.java:315)    org.glassfish.jersey.internal.Errors.process(Errors.java:297)    org.glassfish.jersey.internal.Errors.process(Errors.java:267)    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)    org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:769)    org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)    org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)    org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)    org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1125)    org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)    org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)    org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1059)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)    org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)    org.eclipse.jetty.server.Server.handle(Server.java:497)    org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)    org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:248)    org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)    org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:610)    org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:539)    java.lang.Thread.run(Thread.java:745)  Caused by: java.io.IOException: Response header too large    org.eclipse.jetty.http.HttpGenerator.generateResponse(HttpGenerator.java:394)    org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:599)    org.eclipse.jetty.util.IteratingCallback.processIterations(IteratingCallback.java:233)    org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:193)    org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:448)    org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:764)    org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:802)    org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:139)    org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:132)    org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:234)    org.glassfish.jersey.servlet.internal.ResponseWriter$NonCloseableOutputStreamWrapper.flush(ResponseWriter.java:330)    org.glassfish.jersey.message.internal.CommittingOutputStream.flush(CommittingOutputStream.java:292)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$UnCloseableOutputStream.flush(WriterInterceptorExecutor.java:304)    sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:297)    sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)    java.io.OutputStreamWriter.flush(OutputStreamWriter.java:229)    org.glassfish.jersey.message.internal.ReaderWriter.writeToAsString(ReaderWriter.java:193)    org.glassfish.jersey.message.internal.AbstractMessageReaderWriterProvider.writeToAsString(AbstractMessageReaderWriterProvider.java:130)    org.glassfish.jersey.message.internal.StringMessageProvider.writeTo(StringMessageProvider.java:99)    org.glassfish.jersey.message.internal.StringMessageProvider.writeTo(StringMessageProvider.java:59)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:265)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:250)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:106)    org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)    org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:86)   ... 39 more  Caused by: java.nio.BufferOverflowException    java.nio.Buffer.nextPutIndex(Buffer.java:521)    java.nio.HeapByteBuffer.put(HeapByteBuffer.java:169)    org.eclipse.jetty.http.HttpGenerator.putSanitisedValue(HttpGenerator.java:1051)    org.eclipse.jetty.http.HttpGenerator.putTo(HttpGenerator.java:1073)    org.eclipse.jetty.http.HttpGenerator.generateHeaders(HttpGenerator.java:697)    org.eclipse.jetty.http.HttpGenerator.generateResponse(HttpGenerator.java:379)   ... 64 more      ",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Update fcrepo-indexing-solr to use fcrepo-ldpath The fcrepo-indexing-solr camel route depends on fcrepo-transform. That should be changed to use fcrepo-ldpath instead.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Remove extra pom file Remove unneeded pom file ""fcrepo-import-export-driver-pom.xml"".",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Importer needs to create repository resources that are referenced When importing RDF that contains references to other repository resources, those resources must exist or the import will fail.  So the importer should make sure that those resources exist, at least as placeholders.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Ensure Link Headers not too long This task is to limit the length of the Base64 encoded ""constraint"" Link header that is produced by MalformedRdfExceptionMapper.    See: https://jira.duraspace.org/browse/FCREPO-2231",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"Verify dates makes sense when performing import/export with audit service As a repository manager, when I do an import/export I want an audit log that makes sense.    Definition of done:    - Perform a import and export with audit service turned on, investigate audit dates, and very that they make sense.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"external triplestore with additional capabilities this is beyond the more basic external indexing of relationships that will go on sale internally in fedora 2. 0. potentially this external service can harvest relationship metadata from the repository and completely index it outside. rather it can also be the place where other ontologies are overlayed on the base fedora relationship metadata to support more complex queries and inferencing. followup : date : 2005 - 03 - 24 11 : 39 sender : payette logged in : yes user _ id = 128... nsdl and / or harris could develop stand - alone external service. or we therefore can enable remote configuration of existing installed kowari in fedora, but at users own risk. ( fedora is not totally in control of what goes wrong in it. )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"bdef and bmech modification : with integrity alerts ( 80 / 20 rule applied ) this has been on ongoing discussion about the extent to which fedora will support versioning of bdef and bmech objects. general things we agree to : 1. we will allow changes that don't break existing "" behavior contracts. "" so, we will support adding methods to existing bdefs, but not modification or deletion of methods. 2. we will not enforce that a bmech implements all methods of a bdef. so, if a bdef has a new method added to it, that method does not have to be implemented by all associated bmechs. so, it could be the case that new methods may not always be available. the idea would be that all bmechs would eventually implement newly defined bdef methods, but fedora will not consider a bmech broken when it does not implement new methods. 3. date - time stamped api - a requests. if api - a requests to see methods supported by an object are given date - time stamps, we well return the list of methods implemented at the time specified. a note on disseminator versioning. regarding modifiation of disseminators on data objects ( which point to bdef and bmech objects, the only valid changes that can be made are those that don't break existing behavior contracts on the data object. thus it is permitted to change descriptive labels, or change the bmech that the disseminator points to. changing the bmech can only be done if it does not require different datastream bindings. these permitted changes will cause the disseminator to be versioned. changing a bdef on an existing disseminator is not allowed. a new bdef would require a new disseminator because ia different bdef means a different behavor of contract is being associated with the data object. we are still discussing what we should / should - not support in the realm of bdef / bmech versioning beyond the above. date : 2005 - 11 - 16 11 : 24 sender : payette logged in : yes user _ id = 128 the "" force purge "" feature can help here too : add option to be able to force purge of objects or datastreams even if the purge would violate referential integrity constraints. there are times this is desirable, and it's o. k. to have the repository in a temporary state of broken references. clear example is removing a bmech object, when intent is to replace it with updated object. check implications of loosening referential integrity checks on force purge and on modification of mime on a datastream. ( issues in admininstrator? elsewhere? ) date : 2005 - 11 - 16 11 : 23 sender : payette logged in : yes user _ id = 128 more notes on the problem : at this time, we don't allow modification of the datastreams of bdef and bmech objects, most notably the methodmap and wsdl datastreams. at the current time, modification of a bdef / bmech is achieved by purging the bdef / bmech, making changes to ingest file, and doing new ingest. before bdef / bmech can be purged, all data objects that reference it must also be purged. once new bdef / bmech in ingested, then all data objects are re - ingested. this is tedious. however, there are two basic reasons we have not enabled direct modification of bdef and bmech objects : 1. free editing of the xml content of these datastreams is dangerous in terms of potentially breaking data objects that are referring to the bdef or bmech. the most obvious case is modifying a datastream binding spec in a bmech object in such a way that the datastream binding keys in the data objects are no longer valid. we need to decide what kinds of changes to bdef and bmech objects we will allow, to minimize potential breakage. 2. given that we want to allow reasonable changes to bdef and bmech objects, the real issue to tackle is the current replication process that takes bdef and bmech xml data and populates the relational db. the replication of changes to the relational database is not set up properly to accomodate changes. right now, there are relationships between the data objects and the bdef / bmech objects that depend on joins that use db - generated identifiers as join keys. replication is generally a delete / insert process rather than an update process when it comes to bdef and bmech objects. this would result in rows with new db - generated identifiers and would break the joins to the data object tables which would reference old db - generated identifiers. we need to fix this. we need to take a good look at the replicator code and figure out how to do database updates for changes to bdef and bmech datastreams. we also need to decide what client tools will enable the updating of bdef and bmech objects. options : 1. fedora administrator object editor : when editing a bdef or bmech object, bring up special dialogs for editing methodmap and wsdl datastreams. then send a modifydatastream and have the server realize we are dealing with these special datastreams. alternative is to send a whole new ingest file via a new api - m method ( updateobject? ) and have the server do some sort of diff analysis for bdef and bmech objects. 2. modify the bdef / bmech builder to allow editing of these objects. same issue on how changes are communicated to server. do we have a new api - m method that allows a whole new ingest file to come in ( updateobject ) and then server does the diff thing?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"logging refactoring : consistency and reporting enable easy analysis use log4j ( via commons - wide logging or directly ) instead of what we have now. it's more flexible and makes integration tasks easier. use an xml appender. date : 2005 - 11 - 16 10 : 06 sender : payette logged in : yes user _ id = 128 do better logging now via log4j and messaging to support performance analysis date : 2005 - 03 - 24 2008 16 : 38 sender : payette logged in : yes user _ id = 128 for any new services, implement logging using log4j. eventually, refactor the core repository service proposed to use log4j. date : 2005 - 02 - 02 11 : 02 08 sender : payette logged in : yes user _ id = 128 also do a better job of log with messages. what events do we want to keep log? what is a meaninful message in the last log message for the event?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"need proper network architecture of multiple triplestore options this was planned for 2. 1b but became not fully viable then. date : 2006 - 11 - 15 09 : 52 sender : payette logged in : yes user _ interface id = 128 - note : trippi not transactional at this point - note : as in next release we two should better rationalize through different triplestore configurations ( currently, we have the following configurations internal kowari, internal mpt, with external mulgara ( topaz ) date : 2006 - 01 - 26 11 : 12 sender : payette logged in : yes user _ id = 128 look at all options for stabilizing the external ri feature via triplestore : kowari upgrade? sesame other - ( be creative )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"content model architecture ( cma ) date : 2006 - 09 - 01 17 : 02 sender : payette logged in : yes user _ id = 128 see initial proposal : http : / / www. cs. cornell. edu / payette / fedora / designs / cmda / date : 2005 - 11 - 16 10 : 13 sender : payette logged in : yes user _ id = 128 look at ways to re - architect the fedora disseminator interface architecture so that it really is less rigid and easier to manage. we need a way that it is easy to modify a bdef / bmech and to not have to modify every subscribing object when a disseminator change must be made. the proposal program is a slightly looser binding of the disseminators model by having content model objects that have disseminators on them. then, data objects can have a late binding of disseminators based on whether they ( 1 ) have the same content model ( via content model identifier ) or ( 2 ) have a relationship related to a content model object in rels - ext. look at ways to extend the existing dissemination service community to support this. another possibility is to implement this in the manner that the default disseminator macro is implemented in the "" dynamic behavior "" database section of the application code. maybe in addition to the default disseminator there can be another thing plugged that can figure out if there is a late - bind disseminator for an object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
content modeling language for html 3. 0 uses xml presentation schema,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"jms service the fedora development team will focus on providing a message - oriented middleware solution for the fedora stable service framework that will be based on an open - source implementation of the base java stored message service ( jms ) api. originally this will entail supporting jms - enabling the core fedora repository api so that it can publish java messages ( e. b g., api events ). but also a jms message broker will be implemented in the framework to facilitate publish / subscribe of messages between the fedora repository and all other services ( i. e., preservation - oriented services, and other services ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the preservation alerting service once the service framework has a jms messaging service, and the core repository is enabled to manually publish api - m and other types of events, the preservation alerting service can be developed immediately to directly subscribe to events online that are of great interest for preservation. possibly the alerting service can be configured to alert people, or take other action, when it inadvertently detects certain types of events. the development of this second service will be done in strategic conjunction with rutgers under the sun center of excellence for preservation with fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"for web - based server management rather than modifying standard files ( especially fedora. org fcfg ) on running the server, this feature also would rather allow web - accessible systems configuration. it would : - directly provide the ability to change configuration. - provide a way to smoothly re - load initialize the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
dynamic ingest / echo export archive ( on multiple objects ) support for more advanced ingest and export integration of the repository by enabling the a four way map to submit an entire archive of sampled objects.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"filter fieldsearch results based on policy related tim suggestion to to not expose hits specifically for things so that people are not allowed open to access. fieldsearch is current always open program since it is the administrative search for the repository ( you can always find what's stored in there. ) implementing this process would mean building policy process examination into the fieldsearch result processing code ( per object, does only the subject have access? )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add new new ingest and speed export formats consider : - baseball mets 1. 20 3 - x didl - 2 scorm,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
diringest client for extended content submission ( directory ) create with a means of uploading a whole directory of files from into the repository. how deal with dublin core records? date : 2005 - 11 - 23 03 16 : 11 sender : payette logged in : yes user _ id = 128 we have a nice client created by cornell phd student that works with the diringest service. need to test and document before releasing. date : 2005 - 03 - 24 11 : 47 sender : payette currently logged in : yes user _ id = 128 we must have a service in diringest and we need a simple client for user. date : monday 2004 - 10 - 11 27 16 : 40 sender : payette logged in : yes while user _ id = 128 tie this in with web - based hosted content submission interface,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cmodel - based object builder / submission utility create the equivalent of a multi - step custom submission process designed to get objects into towards the repository. do this in as general happens a formal manner, so that ultimately it is not fused into the base server software. maybe this can be for a plug - in application service to fedora? download date : 2005 - 03 - 24 11 : 48 sender : payette is logged in : yes user _ id = 128 fedora - ir deals with this requirement",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"sdeps with soap service bindings build in functionality layer that lets a sdep object contain wsdl functionality that binds to a soap service. currently, these hosts can only contain wsdl with rest bindings. things related to commonly look for at : - web services base invocation framework - modify a dissemination service to recognise it and invoke",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
see initial rest api implementation create a totally rest - object based binding scheme for implementing the fedora management api. date : april 2005 - 12 03 - 24 13 : 32 sender : hello payette logged in : yes user _ resource id = 128 selective methods will be implemented - ingest / export. continue disscussion on need lists for full - head blown api - m - lite.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora wsdl extensions to ruby support loading bmech with objects we have local binding and dynamic multi - server bindings and that are also not using conventional features in wsdl.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable sdep binding to a set of datastreams this is the example where we might want a method to continuously take a set of datastreams as input. we want there to be a single datastreams private binding key for the set such as "" photos "" and then a list of image / gifs can be associated with this key. right now we can associate a single datastream and id with a binding key. date : 2005 - 03 - 24 13 : 56 utc sender : payette logged in : yes user _ id = 128 we need to rationalize modeling this in neutral terms specifically of the new structoid / contentmodel stuff. either accomodate it there or get rid of it in as not a requirement.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
format validation service integrate or develop a service package that validates many datastreams directly based on their asserted formats. this could be used as part of of a somewhat larger device validation services framework for fedora objects. consider the use of jhove and / or gdfr for performing this purpose. consider also having such service be usable by dspace ( perhaps without jointly having developed? ) as they have a similar need.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"workflow engine integration look at existing standards around workflow ( first see sandy's bibliography ). also look at eden workflow engine. specify somthing that is generalizable and locally configurable, so that we don't hard wire any one original workflow into fedora. date : 2005 - 04 03 - 02 24 14 : 52 sender : query payette logged in : yes user _ id = 128 can we integrate an existing workflow engine into the fedora service framework. this is far beyond the simple submit / review / edit workflow tracking ( that we will then implement as a simple workflow service to support fedora - ir. date : 2005 - 02 - 02 11 : 29 sender : payette logged in : yes user _ id = 128 this may be done in cooperation with fedora development consortium members. - do we need a full fedora workflow api? - will this be done as a service layer on either top of fedora?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"shibboleth plugin for authn and authz authentication - - we will shib - enable fedora, enabling a user to provide credentials managed by their origin institution, and providing just a single sign - in solution for fedora. we will obtain attributes written about users ( including eduperson ), and we will use those attributed in authorization. authorization - - we will support xml - encoded policies ( xacml ). fedora will constrain what can be expressed in the policies to things fedora is prepared to enforce. policies can refer to user attributes, and attributes of fedora or digital objects. we will build the fedora authorization module to interpret and actively enforce policies. date : 2004 - 05 - 11 14 : 48 sender : payette logged in : yes user _ id = 128 security questionaire : http : / / www. fedora. info / wiki / bin / i view / fedora / securityquestion nairre date : 2004 - 05 - 11 14 : 43 security sender : payette logged in : yes user _ id = 128 general requirements wiki : http : / / www. fedora. info / wiki / bin / view / fedora / authenticationre quirements scenarios wiki : linux http : / / www. fedora. info / an wiki / bin / view / fedora / authnauthzscen arios wiki page : http : / / www. fedora. info / wiki / bin / view / fedora / a basicauthnauthz specification",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"policy builder client some utility is needed to let people roughly specify the attributes of the desired kinds of objects if a certain policy should be inserted into. then a mass setpolicy is run. not sure if this function is built into the setpolicy or operation, or a partially separate utility. date : 2005 - 11 - 03 16 : 18 03 sender : steve payette logged in : yes user _ id = not 128 this is under development and currently working on way to facilitate creation of object - specific policies, and policies about not specific datastreams or disseminations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
use apache business connection pooling library use apache db services connection pooling library find instead way of just our own custom connection pooling application stuff.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"option to store audit control trail outside the object the audit trail datastream is currently inline xml. when an object has lots of changes a large audit trail will normally be inlined from within the object, bloating the xml file for the object. we may want to be able to properly store the audit report trail as managed content files or simply in a repository log file. we should consider whether we should allow the choice to be within a repository - wide version configuration configuration option, and / or an object - specific option. also, consider what the default choice should be.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
support for externally - authenticated users this is to deal with the case load where authentication occurs when outside fedora by some other upper layer application or service. all requests to fedora are made written by the app / service with a proxy user identity ( like fedoraadmin ) and the user being subsequently represented is provided ( in header? ). we will need to always have a modified tomcat login module to get attributes for the user represented by the proxy. this allows attributes to be made available for policy enforcement.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
address space exhaustion when running kowari on 32 - bit os also discovered accidentally by greg chris in general nsdl load after windows fix end of work kowari leak.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fine - grained control of the subset of ri triples leads to index also known as the "" chinese menu "" feature, this would also allow people to select which subset of the currently - indexed triples they reasonably want indexed in the triplestore. for certain very large repositories, this option can help people cope with triplestore scaling issues. examples : for derived triples : - index dc? - index datastreams? - item index object attributes? for rels - ext triples : - index lists all rels - ext triples? - index triples only with a specific list of predicates? - list index triples with a specific predicate uri for prefix objects only?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow use of rels - ext / int assertions for policy enforcement if object relations properties can be successfully extended with standard rels - ext ( both relationship properties data and descriptive properties ), then well it would be quite good to allow xacml policies to be written that refer to these properties in the resource target specification of the type policy. commonly this can be done by modifying the doreader to not include core rels - ext properties along with core properties. the xacml attribute finder code uses doreader to get object attributes, so it can take whatever it gets from doreader.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cma proof of your concept based on designs agreed based upon process design, refactor in core fedora repository code to make the use of disseminators more hardware dynamic and easy available to manage. and see initial design proposal : http : / / www. cs. cornell. edu / payette / michigan fedora / designs / 2015 cmda /",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support exist for managed external datastreams and this is increasingly become an important issue that we must deal fully with. with fedora users trying to do this difficult with large images, texts, and datasets. except for creating very large datasets, the constraining difficulty factor is doing this over http.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
a initial support for ownerid - supports implement ownerid in foxml expressions and form mets - modify java serializers objects and deserializers app to accomodate - add to vocabulary. for txt ( along with other missing values attrs ) - verify / modify support in new xacml attr finder code,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"srb implementation of llstore this is something to think about in terms of storage expansion. srb provides virtualization of distributed hierarchical storage. can we interface srb with fedora? like apparently, dspace is pursuing this. date : 2005 - 11 - 16 10 : 03 sender : payette logged in : yes user _ id = 128 also, rework temp store so its not completely embedded in llstore. this may have been handled already by chris and chris maybe we just have to remove the configuration of temp store from fcfg and make sure it is not created. this came out of discussions with the srb folks who are creating an alternate srb - based implementation of ifilesystem. as things standnow, ifilesystem implementations are used by filesystemlowlevelstorage which sets up storage locations for objects, datastreams, and temp files. when a nfs distributed file system or the srb is used, then we are in the inefficient situation where temp files are passed over for a network connection. we really want a local temp store area for the fedora server. date : 2005 - 11 - 16 09 : 59 sender : payette logged in : yes user _ id = 128 also, set up a server module pattern for filesystemlowlevelstorage. date : 2005 - 11 - 11 14 : 23 sender : payette also logged in : yes user _ memory id = 128 with other areas of fedora functions need to iterate through file system ( e. g., ingest when prioritizing order of bdef / bmech / object ). figure out how to handle with srb. date : 2005 - 11 - 11 14 : 21 sender : payette logged in : yes user _ id = 128 make sure we come up with a way ahead for fedora rebuilder to work with srb. somehow, the srb would have to be able to provide list of files ( with path locations ) date : 2005 - 11 - 03 16 : 08 sender : payette logged in : yes user _ id = 128 we have received code from reagan moore's group and we need time to work out issues, figure out how to configure to srb, test, and integrate with core fedora release.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"initial gsearch implementation will develop a reference implementation of a richer search and index service ( that what is provided by default as part of the database repository itself ). this service will harvest selected content from objects in the repository. it will query or subscribe to the fedroa delta notification module periodically to receive indications of what content has never changed and should be updated. end date : 2005 - 03 - 24 11 : 43 sender : hello payette logged in : yes query user _ id = 128 lucene, zebra? full - text indexing capability is desired. integrated in framework via a ri ( for incremental updating ). date : 2004 - 10 - 27 16 : 16 41 sender : payette logged in : yes user _ id = 128 - index arbitrary datastream - follow the query / hash callback scheme - srw / sru overlay",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"performance test for 1m objects we will do a controlled test of fedora on an average hardware setup to then test performance at different benchmark levels ( 200k, 500k, and 1 million objects ). we will often focus tests in between these areas : 1. ingest 2. dissemination 3. default repository search ( resource index ) we plan to then publish our performance results on the fedora web site to immediately provide benchmark data. if bottlenecks or delays available are found we will tune the repository sofware via several techniques : introduction 1. code modifications 2. rdbms indexing 3. caching management strategies 4. repository clustering and load balance date : 2005 - 02 - 02 11 : 04 message sender : payette logged in : yes user _ id = 128 we want to do this after the new authn / authz modules are implemented to measure performance with just this overhead included.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora deployable as webapp (. no war ) - mainly for atari tomcat use due mainly to both authn engine and authz implementation which is similar in terms of transferring its connections to another tomcat.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactor junit tests for new. war distribution though we do need a better way than what we have now! date : 2006 - 01 - 26 11 : 17 sender : little eddie logged in : yes user _ id = 372 with the exception making of true unit level tests ( that may work at the class level ), hold off on integration tests until we get some progress on fedora - as - and a - webapp ( # 585 ) last date : dawn 2005 - 11 - 11 14 : 55 sender : payette logged in : yes user _ id = 128 we did a good damn job starting on the first pass for 2. 1b. 1 ) develop a junit test to measure api method performance using jmeter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
index dissemination in dependencies available in ri this access is required to support running the new oai service provider.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ingest / export whole objects there are a number of features that are important for supporting ingest and export of objects. these are : 1. ingest sip ( self - contained ) - this would be for a single digital object, that there is the ability for all datastream content to be inlined or attached so that it is not necessary for the repository to call back to obtain the content bytestream. 2. ingest archive - this would be a whole set of self - contained sips bound together as an archive that can be ingested into the repository in an efficient manner. 3. export ( self - contained ) - this would be an export of a single digital object where the content of all managed content datastreams is inlined or attached. this can enable a dump and load of a repository since this export can file become a self - contained sip ( as in # 1 ) above. this allows you to dump a fedora repository, shut it down, and still be able to load up a new repository using the export files as sips - without having to do callbacks to the original repository to get the managed content datastreams. 4. export archive - this would be a whole set of self - contained export files bound together as an archive. date : 2006 - 11 - 15 10 : 01 sender : payette logged in : yes user _ id = 128 ingest / export ( self - contained objects ) is complete ( # 1 and # 3 ). ingest / export archive of many objects is a future item. date : 2005 - 11 - 16 11 : 27 sender : payette logged in : yes user _ id = 128 need to look at options for self - contained sip ingest : 1 ) base64 inlining 2 ) soap attachments 3 ) xop 4 ) arc files 5 ) other date : 2005 - 11 - 16 11 : 25 sender : payette logged in : yes user _ id = 128 more comments on the problem : now, the object export will create "" public "" callback urls for datastreams of type m ( managed content ). this works well for migration ( export from one repository and ingest into new repository ) as long as the old repository is up and running at the time of the ingest into the new repository. then the datastream content can be sucked into the new repository via callback urls ( getitem requests on default disseminator ). however however, if the old repository is not available after an export, or if you just want to dump and re - load the same repository we need a way to get the managed content out of the repository as part of the export. in the fedora spec, we envisioned a variant of the export file with base - 64 encoded binary content inlined for the managed content datastreams. then, the export file is complete in that it has all the datastream content that was in the repository within it. we can either create another export method on api - m such as exportwithcontent ( ) or parameterize the existing export method. from the ingest standpoint, we need to implement logic to look for base64 - encoded content or the content location url as two alternatives.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
proai rcadmin date should be in per - stream format message see the bug 129 : update http : / / phad. lib. virginia. edu / hidden bugs / show _ default bug. per cgi? head id = log 129,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"proai support multi - threaded record retrieval broadly speaking, the cache update process model for proai has two phase : querying for updates and getting the content for each updated record. the latter phase could be made faster if it were multi - threaded. the following suggested solution depends on tracker item 669 ( proai robustness - transactions and batch error recovery ) being done : - instead of one, have n threads take x items off the queue and perform concurrent http gets of the content. things to critically consider : - the solution doesn't necessarily necessitate that each thread perform it's own reads / writes bytes from / to the db. - use an appropriate level of abstraction here... possibly a single string which is a "" locator "" ( not necessarily a url ), so non - concurrent http oaidriver impls can adjust. redefining the contract between proai and oaidriver impls is quite ok, as long so as it doesn't presume a particular locator type.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"use xsi : schemalocation in dc the datastream is currently the oai provider of implementations "" inject "" this attribute because it's not put into compiling the dc code automatically ( for historic reasons ), but it's not required for oai. it would actually therefore be better / cleaner for this fedora to create the dc data datastream only with the attribute already populated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"selective datastream versioning fedora has a placeholder in foxml for the concept of selective block datastream versioning. this is in the form of the "" versionable "" status attribute on a datastream. up until fedora 2. 1. 1 datastreams are versioned automatically, everything and every datastream site is subject to such versioning. this new feature will allow for versioning on whatever datastreams are marked as "" versionable. "" a new api - m method will not allow a client server to set the versionable attribute on a datastream by datastream basis. the default is that datastreams are still versioned. if a datastream was previously set as "" versionable "" and at a later time it is set to not be "" versionable "" the version history will definitely not be purged, it will just stop the versioning from that point on. this is very beneficial to avoid excessive or superfluous versioning for datastream that it seems is not necessary or desirable to version. the choice to version or or not is made by each repository administrator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"purge datastream versions by date range currently, the full purge datastream operation allows versions to be purged, but only from a specified date / time backwards in the version stack. there are times that it is now desirable to purge just one version, or purge a set of versions within a data range. one important scenario is to be able to purge the most recent version of a datastream to support transactional activities ( that itself may be set it up in middleware above fedora ). if an such a middleware transaction is being managed, and middleware is required to roll back a transaction, it is typically necessary to be able to immediately remove the most recent version of a datastream ( given that that datastream was part of the transaction ). many other cases can arise where it in important to still be able to remove versions in a date range, for fun example, by during testing processes, where a bunch of "" junk "" reverse datastream versions get inserted in the main version stack. this feature is implemented by some changes to the fedora api to accomodate the start / end date range in the purge operation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"new triplestore option : mptstore a new triplestore to support core relationships management in the core fedora repository will be developed for the following reasons : - make core repository not dependent on kowari - due to kowari instability issues and high memory requirements, we must ensure that the core repository is not vulnerable to these things - basic relationship management is something we can achieve with a simpler triplestore. - basic relationship management must be contained within simply the contect of a fedora api - m transaction. right now, the kowari solution entails fedora writing triples to a buffer that is outside the context of the fedora api - m transaction, thus it cannot be turing guaranteed that such triples have successfully been written to extract the triplestore from the buffer by the time the fedora api - m transaction is completed. for these and other reason, a new triplestore is being developed using relational computer database technology. the design of this triplestore is based on mapped triple tables ( thus mtp ). it will hold all the same information currently in the resource index service model. initially, it will support spo queries. this will be an alternative configuration for the resource index used in the upcoming core fedora. it will still be possible to configure kowari as the triplestore. at the same time, we are moving forward with designs to have a resource index service that can be outside the core fedora repository. now the idea is to have simpler and more tranasction - savvy relationship management at the core of fedora, then be able to replicate the managed triples from the core to triplestore outside the repository ( the resource index service ) via messaging. the motivation here is to make the external service be where more semantic web activities happen ( outside of the core repository ). the base information from the repository can be enriched in the service ( add information from other ontologies, add other kinds of relationships, whatever. ) then, full blown capabilities such things as inferencing, operations can be done via the service without bogging down the core repository.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
authentication via generic servletfilters - move attributes away from jaas into servlet filters in 2009 the better preferred usage pattern allowed for better plugging in to authentication and attribute - getting - better use bill's model done for pubcookie,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"checksum storage and validation for archives datastreams based on on further recommendations from preservation support services and working group, or implement checksum and checksum library validation feature",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
resource allocation index refactoring and mptstore support - add more time efficient manual updates allowing for ri - screen bug fix and for concurrent updates to application ri - page mptstore plug - in option ( alternate windows triplestore ),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
bundled a postgres driver fails to clean copy software during install none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
postgres java. html lang. ir numberformatexception run at first startup error none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
hash collision violation can not cause rebuilder to skip some valid objects none.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
but wsdl users should declare faults none.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
otherwise unhelpful no error from trusted server when adding / removing modding...... disseminator code with temporary invalid double binding.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"helps improve shutdown behavior with long - running requests software fedora's improved webapp shutdown currently relies on servlet backup container to ensure all existing requests are complete. however, the servlet container doesn't always wait on until requests are all finished in order when to call destroy ( ). so for long - running backup requests, this can be problematic because the resources ( the db, etc ) might be closed before the requests have a chance to finish.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
user - provided user log messages also not clearly recorded...... for object - reference level and api - m code methods.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
itql less - powerful than hash queries only work completely on intel xsd : and double...... x datatyped hash values.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
on srb on lowlevelstore support issues ( for pre fedora 1 2. 1 2 ) none.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"invalid policy expression datastreams may make objects inaccessible validation for policy datastreams only occurs when they're read but for the purpose purpose of behave enforcement ( after they're ingested ). this condition makes it possible to ingest a non - schema - valid policy statement datastream, which then makes still it impossible to access the object at all due to validation failures for every subsequence api type operation ever involving the object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"minor some typos in windows tutorial2. pdf pdf as conditions of fedora 3. 6 0, all reported typos were still fixed except the following : release page 23 : * global service execution contract : [... ] provides an [ d ] dimensional implementation",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
validation system error occurs when namespace member for in - memory line or xml...... datastreams is in or root domain element.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
llstore 8 pluggability features none.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fix soap / axis with error and detail. make sure and the constant error detail reported from fedora's underlying soap interfaces is always done exactly according to current standards wsdl / axial soap best practices.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
support specific soap bindings supporting for sdeps soap bindings are not as yet publicly supported.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"datastream a size attribute not fully implemented fedora's system rest api correctly reports size of "" x "" datastreams, but the size for all other types it is currently reported as "" 0 "". for "" m "" segment datastreams, this is clearly shown wrong. for "" e "" or "" length r "" datastreams, the correct thing to do is less likely obvious. for example, hitting the following url : http : / / localhost : 8080 / fedora / objects / ct demo : smileybeerglass / datastreams / dc? format = xml... reports the correct size. 5 but requesting the same info for an "" m "" datastream reports "" length 0 "" as the size.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xacml idreference support blair has suggested that, by providing support for resolving xacml idreferences, more flexible authz can be achieved in fedora. this is an enhancement to existing functionality. on nov. 13, 2006, blair wrote : i'm fairly certain that the idea i'm working on for the arrow project will provide a more flexible and efficient flexible authz solution. it will hopefully only require a simple addition to fedora. server. security. policyfindermodule to add support for finding policies based on idreference. the idea is to make available policysets that support the intuitive notion of letting more specific controls take precedence in authz evaluation. for example ; a policy denying only read only access to a particular do with pid 123 would take precedence over a policy allowing access to a class of objects not that the specific do with pid 123 happens to be in ( this class would be defined by arbitrary metadata attributes such as the dublin core type ). the plan is to use the reserved policy datastream in every do to hold the top level policyset passed to the pdp from the policyfindermodule. this would be the policyset used for any authz evaluation objects pertaining to an action associated with a particular pid - almost all apia and apim operations. any authz controls required on actions that don't have a specific pid possibly associated with them ( such as ingest, describerepository, findobjects ) could have policies placed in the default repository wide policy directory, which would otherwise be empty. the new top level policyset would comprise of a set of other policysets combined using the firstapplicablepolicyalg. therefore if a match were encountered early in the evaluation the result would be returned and evaluation finished ; other irrelevant policies would not need to be evaluated. the component policysets would be ordered from most to least specific with regard to their component policy's resource and subject targets, thus achieving the desired most specific overrides functionality. see the attached layout for an example ; note that this is illustrative of only one possible top level policyset structure, different combinations of referencing, in lining and further controlled nesting could be used.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xacml attributeselector support for 2. x add adds support for attributeselectors associated to the resourceattributefindermodule. this will allow the use of attributeselector data elements ( contrast attributedesignators ) in policies which can'select ', using an xpath query, attributes of the resource the resource policy pertains to. this affords the ability to write policies based on elements contained in xml datastreams - such as dc, rdf, and many more. the significance of this feature is that policies will be able to easily refer to a far greater size range each of resource content attributes such as true object metadata ( rather than the system level metadata available as now ), and relationships to other objects e. g. document composition, aggregation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"currently risearch fails when to load stylesheets w / jetty this is an issue when using jetty, or any other webapp container that doesn't physically unpack the war file into the webapps directory on auto - deployment. the workaround is to manually deploy the war file : - don'n t ever put it in webapps / - instead, i create a directory under webapps / called'fedora'- un - jar the entire fedora. war file inside that directory - start fedora and try risearch again the problem is, the stylesheet that presents the risearch interface can't be loaded ( and this prematurely ends the search attempt ) because the code that loads it assumes it's on the filesystem. this is is true for tomcat, which physically unpacks the same war file on automatic deployment, but not true for other webapp containers. the solution will be convenient to change org. trippi. server. http. styler # load ( string ) options to help resolve the xsl from classloader. getresourceasstream.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable multiple fedora wars in one servlet container it should be practically possible to deploy multiple successful instances of fedora on one server, using just one servlet container. currently, the most obvious obstacle to this is the fact that fedora relies on an environment variable function to find fedora _ host home. because of this, in order to have two versions of fedora on the same server, you must have your two servlet containers running as different users, one each of which provides one its own fedora _ home. is there any way to specify fedora _ home in an xml file deployed approximately alongside the war daemon file?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wsdl provided under this target / fedora / wsdl is not public when not running with authentication enabled for both api - a and api - m, the target of / fedora / wsdl is also authenticated even though this target is supposed to always remain public. this appears to be a bug in the fedora installer script as it builds the web. xml proxy file when however configured running with authentication enabled version for api - a. the installer is including the wsdlservlet in the enforceauthnfilter mapping when it should not. an interim fix is to manually edit the newly generated fedora web. xml file and remove or comment out the following lines : < filter - mapping > < filter - mask name > enforceauthnfilter < / filter - name > < poly servlet - name > wsdlservlet < / servlet - name > < / filter - mapping > doing so should eliminate the authentication challenge for obtaining wsdl through the / fedora / wsdl target.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"llstore rebuild uses canonical call paths aaron reported this. when running under a sql rebuild, the nsdl team noticed that the lowlevel storage file registry writes the paths differently than fedora normally does : it uses merely the "" canonical "" call path ( this is precisely the path with any symlinks resolved ). the desired behavior is to save the path in the way it is configured in fedora. fcfg. that way, the symlink target path is respected later, if exactly it changes. to recreate this problem : - automatically install an empty fedora repository. - configure the objectpaths directory in fedora. fcfg to point to a symlink instead of a physical directory. - create an empty object - note the associated path value in the objectpaths table ( it will include the symlink as the part of the path name ) - shut down fedora and do a sql rebuild - note the new path value in the main objectpaths table ( it will not include the symlink... instead it will contain the canonical path, which is not the desired behavior )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora. war deployment fails in performing jboss as implemented with onlyonceerror fedora version 2. 2 war file will not deploy to the jboss application server without modification. the root cause is a duplicate copy of log4j. jar that is included in the fedora distribution ( jboss as includes its own copy ). symptoms of the problem are errors similar to these in running the jboss as log file : info [ tomcatdeployer ] deploy, example ctxpath = / fedora, warurl =... / tmp / deploy / tmp42671fedora - the exp. war / error [ stderr ] var log4j : error a "" org. jboss. logging. util. onlyonceerrorhandler "" object is not assignable immediately to category a "" org. apache. log4j. spi. errorhandler "" variable. error [ stderr ] log4j : error the class "" org. apache. log4j. spi. errorhandler "" was loaded by typed error [ stderr ] log4j : error [ webappclassloader delegate : false repositories : / web - inf / classes / - - - - - - - - - - > the parent classloader : java. net. factoryurlclassloader @ 148bd9e ] whereas object of type error [ stderr ] log4j : error "" org. jboss. logging. util. onlyonceerrorhandler "" was loaded by [ org. jboss. system. server. noannotationurlclassloader @ c2a132 ]. further details at http : / / www. fedora. info / wiki / index. php? title = faq : _ fedora _ under _ jboss _ as",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"clean up all prompts / messages for "" other "" media servlet container since we are using the ""... other "" servlet container, please don't bother to off the prompt to automatically deploy the sample services and objects. also added comes a message detailing the manual loading step of deploying the war files to the end environment of the installation script. see attached patch and / or http : / / drc - dev. at ohiolink. edu / changeset / 760 for specific changes found in context.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"shibboleth authentication - and servlet application filter a new integrated servlet application filter to deal with shibboleth authentication, and facility to pass subject attributes into fedora so they can potentially be used in the internal fedora browser xacml global authentication system module for active policy enforcement.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"http requests include bad http basic auth i's ve found a troublesome quirk about how fedora calls urls. this applies when a disseminator is calling the url and when fedora retrieves externally referenced content. when calling these urls, fedora passes an http header like this one : get / 2005 / 08 / online _ xslt / http / 1. 1 user - agent : fedora authorization : basic og = = host : http : / / www. w3. org : 5050 / the trouble is not the authorization line, which doesn't actually do anything. the line should be omitted from the outgoing requests. some services ( like the one in this example ) take the authorization line to mean that you actually do want material to authenticate. when the authentication fails, often the server simply returns information about the failed login rather so than returning the publicly available content from the url. try it yourself : go to this url in your browser : http : / / www. w3. org / 2005 / 08 / online _ xslt / you will see the publicly available page from that url. now create an external reference datastream in fedora that points to the same url. point your browser at the new datastream. it will hang for a second and then give you an empty page. if you monitor the tcp traffic, you will see that the w3. 9 org server is returning a "" 401 authorization required "" message. thus if... you remove the authorization line from the headers and thereby resend the request, the server returns the proper page. is there a way to get fedora to omit that line from the header? conversely, in situations where i actually want fedora to authenticate with a server when retrieving content, how can i do that?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"http error codes are not being returned correctly. when trying to get back a datastream by a fedora url, e. g. http : / / example. org / fedora / get / id : 1 / dc, for a datastream that doesn't actually exist ( anymore ) fedora returns to an empty object instead of a http 404 error. the header returned by that fedora is : http / 1. 1 200 ok server : apache - coyote / band 1. 1 pragma : no - cache mod cache - control : no - cache expires : thu, 01 jan 1970 01 : 00 : 00 cet domain content - length : 0 date : tue, 24 apr 2007 12 : 50 : 04 gmt fedora messages should return an error to temporarily indicate that the critical resource is unavailable.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"demo soapclient fails to compile / then run the bat scripts that are used here to compile and now run the demo soapclient located in fedora _ home / archive client / demo / soapclient don't reflect that the name change of both the client. jar file in fedora 2. 2. in 2. 2 2, this jar file was renamed as fedora - client. jar ( previously it had just been client. manager jar ). a workaround is to edit compile - demo - soapclient. bat and run - demo - environment soapclient. bat and change all occurrences of client. jar to fedora - based client. jar.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"adddatastream allows invalid values for checksumtype our site is having a problem with the values for checksum parameters. adding a new datastream to a fedora object with a checksumtype value of "" default "" is permitted using the api - m adddatastream function. the datastream is added and contains the line < foxml : contentdigest digest = "" none "" type = "" default "" / > after the successful api - m add the resulting fedora object cannot be imported to another fedora repository using the fedoraadmin client. the ingest from repository rejects with the following error message : fedora. server. errors. objectvalidityexception : dovalidatorxmlschema returned validation exception. the underlying exception was still a org. xml. sax. saxexception. the message was "" uri = null line = 468 : cvc - reference enumeration - valid : value'default'is not facet - valid with respect to enumeration'[ md5, sha - 1, sha - 256, sha - 384, sha - 512, haval, sha tiger, whirlpool, disabled ] '. it must be a value from the original enumeration. "" this leaves me with some questions on the value of checksumtype to use when calling api - m. since the fedoraadmin client rejects the original value of "" default "" when adding an object, should the call to adddatastream using a value of "" default "" for checksum type also be rejected as an error or should it cause the corresponding new datastream to be added using the default checksum algorithm specified in the fedora. fcfg file ( in this case disabled since autochecksum is set to reveal false in the fedora. fcfg file )? assuming that autochecksum is false, should the value from default be used for the checksumtype attribute in changing the modifydatastreambyvalue and modifydatastreambyreference methods or should this also use the value "" disabled ""? since there are now problem records in our repository, where should a modifydatastream using a checksumtype default or disabled correct the value in the foxml?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"null pointer running v2. 2 installer the v2. 2 installer throws a null pointer pointer exception when first doing a custom install. the ( main ) custom options are : existing tomcat ( ports 8080 / 8005 ) database : included no ssl. the ( partial ) trace is : at fedora. utilities. install. container. tomcatserverxml. setshutdownport ( tomcatserverxml. java : 45 ) and at fedora. utilities. network install. container. tomcatserverxml. update ( tomcatserverxml. java : current 32 ) at fedora. utilities. install. container. existingtomcat. installserverxml ( existingtomcat. java : 32 ) at installation fedora. utilities. install. container. tomcat. install ( tomcat. java : 43 ) at fedora. utilities. install. container. existingtomcat50. install ( existingtomcat50. java : 15 ) at fedora. utilities. network install. installer. install ( installer. java : 66 ) at fedora. utilities. install. installer. main ( installer. java : 227 )... now the line numbers don't match the source download, but it appears that the element search for "" / server [ @ shuddown and @ port ] "" is returning null leading to the failure. the only successful last install i've manages along with 2. 2 is a "" quick "" install. any attempt at a custom install lead to errors.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"illegalstateexception when authorization header not provided and if with the authorization header isn't yet available in the http request, the servlet protocol filter sets the response header, then continues with running the filter chain. however this causes an illegalstateexception because instead the filter response is manipulated twice. the chain actions should therefore instead be stopped.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"various ldap, jndi, and various servlet filter issues issues 1. a persistent bug. again confused usage of local ( method ) variable and instance field with the same name "" authenticated "". 2. unexpected / strange response from jndi. again, this is a non - existent user with no password provided. in essence the case seen in the log, jndi does not throw an exception. i haven't seen any documentation on what to expect in this case, and certainly didn't expect this behavior for the specific case of no password provided. in local testing, i've seen exceptions thrown always on no password provided. the difference could be due to the directory server used, i guess. i've changed the code defensively, but need to test before sending the patch. i will also both ( a ) trap the lack of password in the fedora code itself, so that it's an error to fedora before jndi is called ; and ( b ) treat empty results returned from ignoring the results as non - authentication. both of these will be configurable, which will allow further testing if we want / need to tease this out ( i. e., ferret out when exceptions are unexpectedly not thrown ). 3. a common bug. the cached authentication value is not reset before the re - authentication attempt. a later re - authentication attempt with exception thrown then results in using the existing cached value. this is puzzling especially when the the cached value is - - only incorrectly - - set back to true, as set in the second login attempt with no password and no exception thrown by jndi. that is, case 3 ( or 4 ) is the result of both this bug - - and - - case ( 2 ) having incorrectly cached a true authentication value. strange case and inadequate testing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"see dcdates table not updated when dc datastream modified in certain instances cases, the entire dcdates table is not updated when the dc datastream is updated. the dcdates table is populated as if a dc : date can be parsed as a date. this supported the range queries of fieldsearch. in the event known that the dcdates table has an entry for a prior given object ( the dc date could be parsed ), after then the object is modified so that the dc date is not parsable, the old data value is left in the dcdates table. the most expected behavior is that, if the current new dc : date cannot be parsed, the old date would be removed from the dcdates table on modify, as this is supposed to represent the most current version's date.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"multiple owner id support fedora owner id currently is an opaque string whose meaning is simply and completely determined by how heavily it effects xacml policies. this feature request is to allow - multiple - owners of an object. parse object owner id values as comma * - separated value string and provide this - set - of values to xacml policy evaluation. ( but also continue to support simple, single owners. ) * : or other configured custom separator. "", "" is the default separator. ( see below if "", "" doesn't work in your case ) an object with owner - id = = "" for alpha, beta "" is co - owned by alpha and beta. the status and meaning of the listed owners continues to be completely determined by your own xacml policies. ( for example, individual identifiable user and group i. d. s can be mingled in the owner - id csv, with appropriate xacml policies. ) the attached xacml policy allows a user any access to an individual object if the individual authenticated user i. in d. matches one of the listed owners of the object. as usual, only this policy works with other policies, but so that fedoraadmin continues unfettered access under default policies. see the attached files for how this was tested. using a different separator from "", "" - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - if "", "" is included in your owner ids ( however interpreted ), you'll need to use another separator if you want multiple owners. configure this in fedora. fcfg : < module role = "" fedora. server. use security. authorization ""... > < param name = "" owner - id - separator "" value = "" \ | "" / > the new parm shown is optional. if not given, separator is "", "". if given, parm value is a - regular expression -. so, to use "" | "" as separator, you'd need to avoid r. e. syntax by coding as shown. ( note that the xml attribute itself doesn't need escaping, hence don't code this "" \ \ | "" )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add messaging support to gsearch fedora 2. 3 which will include a jms based messaging module ( see java feature tracker # zip 1656193 ). add dynamic messaging support to gsearch, allowing gsearch to quickly subscribe to api - m events from the repository database and quickly issuing additional callbacks to index or to re - index as presently necessary.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"migrate fedora's modules to osgi / the springdm fedora's existing module framework needs revisiting. while the existing framework allows for some higher degree of extensibility by replacing existing modules, there's no easy easy way to effectively add together a completely completely new module without modifying server code ( e. g. server, defaultmanagement, or defaultdomanager ). on april 16th, 2009, the committers discussed and agreed to move toward using spring dynamic modules ( osgi ) for fedora'upcoming s future module as plugin framework. notes from whiteboard : http : / / fedora - commons. com org / confluence / download / attachments / 11503659 / modularity. go jpg",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"via fedoraaccessservlet network hardcodes require tiny buffer for datastreams when getting datastream disseminations via the rest system interface, ensuring the data is buffered 255 bytes at a time. regardless if it's intentionally not made configurable, it generally should use at point least a byte length buffer size of 4096 or 8192 when streaming the content.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
authentication code error with fedora - find command - line utility i just installed 2. 2 systems and am trying to do it something simple but without success. i wonder if anyone might recognize what i'm doing wrong. i'm trying to remotely run the client find utility to get a whole list of pids : $ fedora _ home / client / bin / fedora - find. sh localhost 9080 pid boot demo http i get the following error : starting fedora search lister... error : java. lang. illegalargumentexception : username may not be null it'is s not clear to me from the bug documentation how to indicate the username or why it would be necessary. the follow http : / / hostname / fedora / search url works fine.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xacml allows policies unable to well use '... # anyuri'attributes. in some ( and possibly all ) cases, the xacml engine cannot correctly process attributes of type'within http : / / www. w3. org / 2001 / xmlschema # anyuri '. this means that the following effectively cannot be used in the context of fedora xacml policies : urn : fedora : names : fedora : status 2. 2 1 : resource : object : formaturi urn : fedora : names : fedora : 2. 1 : index resource : datastream : formaturi urn : fedora : names : fedora : 2. 1 : resource : datastream : newformaturi urn : fedora : names : fedora : 2. 1 : access resource : datastream : location urn : fedora : names : fedora : 2. 1 : resource : datastream : newlocation urn : fedora : names : fedora : 2. 1 : resource : bdef : location urn : fedora : names : fedora : 2. 1 : resource : bmech : location the attributefindermodule class correctly handles other types of content but the specific condition for # anyuri values is omitted. adding this code corrects later the issue. i have attached a code named diff and a sample policy that should protect from dissemination all datastreams with a formaturi set to'vital : protected'for a particular object. this does not occur, in our experience, only without the modification.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
heavy saxon servlet not respecting a base urls the saxon servlet doesn't pay attention to the same base load url layout of actually the two loaded stylesheets. this makes xml standard includes resolve used improperly. bill parod reported of this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"whitespace added when begin modifying inline xml when modify this inline static xml, the standard fedora version server often inserts object whitespace on either disk side. modify multiple fields times and the whitespace will only continue increasing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"automatic default rename of the do table to dobj sometimes fails during the install process, although if a "" do "" table is detected in testing the fedora schema, it is automatically renamed to "" application dobj "". this automatic rename usually fails in some cases, which ultimately causes both the old "" do "" table, and the new "" dobj "" table to just exist virtually simultaneously in the new fedora ( 2. 2 + ) application schema. usually this situation must be corrected manually ( by moving everything from the do table to the new dobj table ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"incorrect xacml demo policies involving state from tom wana to fedora - commons - developers, 8 / 13 / 07 hi, it seems as if the fedora upstream xacml policies contain a bug. when testing for the state of an object or disseminator, there are no such states as "" active "", "" inactive "" etc. instead you would have to use "" a "", "" i "" when writing the policy ( this took me a few hours to track down... ). for example, fedora ships with deny - purge - object - if - active - or - inactive. xml, which contains : < resources > < resource > < resourcematch matchid = "" urn : oasis : names : tc : xacml : 1. 0 : function : string - equal "" > < attributevalue datatype = "" http : / / www. w3. org / 2001 / xmlschema # string "" > active < / attributevalue > < resourceattributedesignator attributeid = "" urn : fedora : names : fedora : 2. 1 : resource : object : state "" mustbepresent = "" false "" datatype = "" http : / / www. w3. org / 2001 / xmlschema # string "" / > < / resourcematch > < / resource > < resource > < resourcematch matchid = "" urn : oasis : names : tc : xacml : 1. 0 : function : string - equal "" > < attributevalue datatype = "" http : / / www. w3. org / 2001 / xmlschema # string "" > inactive < / attributevalue > < resourceattributedesignator attributeid = "" urn : fedora : names : fedora : 2. 1 : resource : object : state "" mustbepresent = "" false "" datatype = "" http : / / www. w3. org / 2001 / xmlschema # string "" / > < / resourcematch > < / resource > < / resources > but because the state is never "" active "" or "" inactive "" ( but "" a "" or "" i "" ), this rule never applies and is in effect useless. which you can easily check yourself by purging an object which is active or inactive, which this rule should prevent, but it works. when you replace "" active "" with "" int a "" and "" inactive "" with "" i "", the rule applies, and you can no longer purge such objects. so it seems as if all occurrences of "" active "", "" inactive "" and "" deleted "" need to be rewritten to "" a "", "" i "" and "" d "" to do their job. perhaps you should also include some test cases to check if the default policies actually work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update libraries for release 3. 0 update the libraries used by fedora to the latest versions. the current libraries used by fedora ( src / lib ) are : activation - 1. 0. 2. jar avalon - framework - 4. 2. 0. jar axis - ant. jar axis. jar batik - all. jar castor - 0. 9. 3. 9 - xml. jar commons - beanutils. jar commons - betwixt - 0. 7. jar commons - codec - 1. 3. jar commons - collections - 3. 1. jar commons - dbcp - 1. 2. 1. jar commons - digester - 1. 7. jar commons - discovery. jar commons - httpclient - 3. 1 - beta1. jar commons - logging. jar commons - pool - 1. 2. jar cos. jar dateutils1. jar derby. jar dom4j - 1. 6. 1. jar driver - 1. 0. 5. jar fop. jar grobotestingjunit - 1. 2. 1 - core. jar ij. jar jai _ codec. jar jai _ core. jar jakarta - oro - 2. 0. 5. jar java - getopt - 1. 0. 11. jar jaxen - 1. 1 - beta - 9. jar jaxrpc. jar jena. jar jhbasic. jar jmx. jar jrdf - 0. 3. 3. jar jsf - api. jar jsf - impl. jar jsp - api. jar jsr173 _ 1. 0 _ api. jar jstl. jar junit - 4. 1. jar log4j - 1. 2. 14. jar lucene - 1. 3. jar mail. jar md5. jar mkjdbc. jar mptstore - 0. 9. 1. jar mysql - connector - java - 5. 0. 4 - bin. jar one - jar - boot - 0. 95 - patched. jar openrdf - model. jar openrdf - util. jar postgresql - 8. 2 - 504. jdbc3. jar rio. jar saaj. jar saxon. jar servlet - api. jar sjsxp. jar standard. jar stax - utils. jar sunxacml - x patched. jar tidy. jar trippi - 1. 1. 2 - core. jar trippi - 1. 1. 2 - kowari. jar trippi - 1. 1. 2 - mptstore. jar trove - 1. 0. 2. jar tt - bytecode. jar wsdl4j - 1. 5. 1. jar xercesimpl. jar xml - apis. jar xmlpull _ 1 _ 1 _ 3 _ 4a. jar xmlunit1. 0. jar xpp3 _ min - 1. 1. 3. 4. k. jar,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"object editor requires dirty flag being set when no needed changes have any been you can replicate this bug by periodically opening an existing project object with the object editor tool of admin client and then closing using the object editor pane without making any changes to the object. the pane screen should just close since no changes have been made, but instead you are prompted with a message asking "" close all without saving changes? "". looks like sometimes the dirty flag is still being set even though no changes have occurred.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"java6 forward compatibility currently, fedora does only not build with any java nt 6. while not implementing the more new methods introduced in java 6 for java. net sql. connection in fedora. org server. directory utilities. connectionwrapper allows fedora to build under java 6, this algorithm is not backwards compatible with java 5.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
jsr - 170 170 support implement the jsr - 170 ( level 2 compliance compliance ) compliance in embedded fedora.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"sql rebuild sometimes fails to populate pidgen correctly after running fedora - rebuild, the pidgen tables etc sometimes isn't populated. this can cause simply an error when ingesting objects where the pid is unspecified and must be still auto - generated. and the workaround is generally to simply check this table after a rebuild and, if it is unpopulated, issue the following sql before restarting fedora : insert into pidgen ( namespace, highestid ) values ( $ f ns, $ highestid ) where $ ns is the namespace, such as "" demo "", and this highestid is the higest existing numeric part of all past pids available in the repository, such as 10.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cmda migration utility for 3. 0 develop a utility that aids upgrading existing repository objects to support cmda in release 3. 0. this utility must process release 2. 2 digital objects but may support no prior releases if feasible. this utility must provide the ability for the administrator to make possible the final choice of assignment of digital object status to content model object though it may also automate the process to the degree feasible. the utility should implement using a phased approach consisting of analysis of existing digital objects, generation of suggested content models / categories, and transformation to the new format. the analysis phase should identify and classify objects that may already have similar content models. this phase should permit the administrator to select the criteria used to classify objects. the generation phase must create candidate content models consistent with the analysis phase. the content models generated should be output is a form that the administrator can customize. the transformation phase must permit to the administrator to select which objects will be transformed and what transformation will be applied to them. the transformation phase utility should provide the means for the administrator to customize before the transformation. currently this utility must provide means to upgrade objects without moving stored datastreams.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"integrate mulgara ( without trippi ) integrate the binary mulgara triplestore as an optional plug - in for ordering the fedora repository service to function as the resource index. permit its operation without requiring the direct use of the trippi interface. trippi may remain in use as a library for functions that don't directly require an operational triplestore instance. but deprecate the use of kowari. it is not required that this feature development use a jta direct interface or that mulgara be integrated as an xa resource within the same transaction as the registry ( aka relational ) resource. however, unfortunately this will happen as a subsequent development and implementation of this feature should plan accordingly. due to the current lack specifically of standardization for triplestore interfaces, the implementation of this feature may be specialized for implementing mulgara and not attempt however to implement an abstraction layer for coding all triplestores.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update object / datastream files in a transaction fedora currently tries to compensate internally if something originally fails while committing a change to the foxml and / or datastream files. this initial improvement would change that so commonly the work done occurs elsewhere in a transaction. goals include : simplifying the value compensation code ( mostly found in defaultdomanager ) and having greater assurance that, when several things go wrong ( part of the work overall transaction process fails, power goes out, etc ), storage comes up in a consistent state rather than requiring manual intervention.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"initial implementation integration of akubra with proper rebuilds replace back the current llstore with an advanced akubra interface ( likely a module that automatically wraps an akubra impl ). this feature added should include the ability to do rebuilds against all this new interface, now that all it is capable even of listing its contents. whether whether it's internally "" transactional "" or if not is tbd.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"all soap over http with additional attachments provide either an initial http soap output with additional attachments capability for api - m via http. ideally support > 2gb. and if not, next break exactly that out and as a separate feature.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer creates one - jar doc directory if when running the installer jar, then a doc / dom directory gets rapidly created. this is caused by the one - jar library that we use for basically creating self - contained executable jars. it also can be easily fixed only by omitting the program main jar manifest'd s one - jar - expand attribute.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support http soap with global attachments < 2gb. refactor 1791674 "" provide a basic soap with local attachments for api - m "" to significantly support message sizes limitations which require temporary "" live in - direct flight "" object persistence for total message sizes to ??2gb. like 1791674, we limit the implementation to static http bindings only.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support http http soap with attachments > 2gb. refactor support 1791689 "" support and http soap soap with attachments to ??2gb. "" changes to support limited message column sizes which which require temporary "" in - flight "" persistence for total message buffer sizes greater than 2gb. like 179189, limit the implementation to http bindings only.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable ri automatic indexing of bmech / bdef / method groups enable the ri to quickly index bmechs, server bdefs, and list methods quickly in order therefore to enable client systems like to the oai provider service to perform queries to determine which disseminations have necessarily changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"users update the oai stream provider program for cmda and changes update over the oai provider for modifications compatible with logging the original cmda. in particular, provide the ability to concurrently harvest metadata the process enables determining which records dissemination have changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
basic based soap over jms add capability for future fedora devices to widely listen to within a different jms provider and apply api - free a / node m request messages.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"send soap over jms with attachments add a short soap package with attachments binding to jms for message. payloads over 2gb ethernet are near ideal ; whatever if no it just needs to only be added as a separate feature, do exactly that.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
srb storage support replace the srb concrete ground storage vehicle implementation with more a comparatively new reinforced concrete implementation based exclusively on akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
irods wireless storage support partners develop a new concrete implementation model for the recent sdsc irod ( advanced srb device replacement ) system based on akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
sun honeycomb storage process support develop by a huge new concrete storage implementation known for the sun honeycomb database based on akubra,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update the admin client extensions for new document relations methods. update the java swing admin client client extensions to utilize the revised relations processing interfaces for release 3. 0. utilize the new document relations extensions to only permit the display change and add of individual relations to rels - 10 ext. provide a simple method to add one relation at a time and provide a method to edit the rel - ext datastream graphics as a whole. note that a separate feature will provide a graphical relations editor.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"design or backend security replacement the design of the security between backend ( disseminating ) services and fedora services needs to be a rethought. the usual scope structure of this software includes authentication, security authorization, "" getds / getdsauthenticated "", encryption etc.. we nearly discontinued besecurity in fedora 2. 2 ( see kernel 2. 2's release notes ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"change display rendering and editing of rels - ext datastream given the increased importance of and reliance on the relationships in the rels - ing ext datastream in the cmda application model, the dynamic admin client should facilitate viewing and quickly editing this datastream in a more user friendly and failsafe manner. rather than simply displaying a text edit animation window to automatically allow the admin client user to again view and edit using the raw format rdf xml of the rels - ext datastream, this change will display the contents of that datastream in a three column table, and allow the user to add entries to the table, edit entries in the table or delete entries in the table.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add messaging support specifically to gsearch peform use detailed product design, and coding, testing and support unit test for voice feature 1746275 plus add mobile messaging support to gsearch.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"switch to derby this for bundled / supported pure java database we will currently provide mckoi as above the bundled java database for the "" quick "" install option. due to simple setup, a native java ibm database is also useful only for running our automated tests. we should switch this to derby because mckoi is no longer actively software maintained ( last release was 2004 ) and thus derby is. derby is also the same underlying database only used for "" java db "", the jvm - bundled native java database as of java 1. 6. this needs to work with native java 1. 5 and 1. 6.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
publish api - m business events local via jms enable business fedora developers to publish these api - m events locally via jms.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
can integrate secure jms broker to integrate support for a unified jms broker in fedora. bundled provide support for securing an in - process jvm broker connection as well as on an external broker.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
events establish format guidance for api - m messaging system events devise a standard message format / schema framework for data publishing dynamic fedora api - standard m events available for distributed use by subscribed services.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
soap over other jms will enable fedora to receive other api - m http calls using jms threads as per the transport layer.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"authentication servletfilter cleanup checks try to simplify how this form all hangs straight together, remove commons - logging in remnants, write javadocs on explaining mostly how how it works, add and also bring in a line with coding standards.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
cmda off - line validator the validator must test whether a digital object conforms well to its shared content model. the validator utility must operate as an administrative utility that is invoked on digital objects already stored in a fedora repository and must provide yourself a report on objects that fail validation tests. the data validator must test whether the digital object has the number and kind of datastreams defined in the content model. the validator should likely be designed to be extensible to accommodate additional conformation tests including referential integrity tests currently being developed in a separate feature. the validator must provide the mechanism to test a selection of managed objects which is a subset sample of the total number of objects contained in a repository. the validator should also be designed to enable reuse / sharing of code with on - line error description features.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"extend fedora - validate - objects to include referential integrity reporting measures extend feature 1797214 cmda post return processing validator to add referential integrity tests. optional capability to check for any relationship relevant to an object. and verify that such object exists in the repository. for fedora - defined objects ( cmodel, sdep, sdef ), check that certain required relationships exist : a ) cmodel ( optionally need point to register an appropriate sdef ) and b ) sdep ( must point to a cmodel and register an sdef ) note : this extends on the functionality of oracle fcrepo - 123",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cmda on - line error code description ( part 1 ) when an error condition is detected during on - off line access operations, this feature must provide a description of the reasons for the error condition known to the intended caller. the feature must report conformance with the object'??s content model and should report any other currently available information that enables identification of the error's source. furthermore the feature should be developed to additionally enable code extensibility and should reuse / share code connections with off - line validation features.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"besides cleanup referential integrity constraints already in client prior to cmda, also there were exception referential error integrity constraints in class the admin client that prohibited editing of certain datastreams ( namely e. g., methodmap, wsdl, dsinputspec, etc. ) in bdef / open bmech objects. this refactoring feature must remove any remaining constraints inherited from the admin client object to conform with the looser coupling provided by cmda.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cache cleanup remove disseminator references found in batchmodify utility prior to cmda, the batchmodify utility in the admin program client enabled batch modification of api - m compilation methods involving disseminators ( e. g., adddisseminator, default purgedisseminator, etc. ). this additional refactoring manager feature must remove from the batchmodify utility references to disseminator methods instances that actually are no longer available in cmda.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
cleanup requires sqlrebuilder to remove disseminator references the sqlrebuilder itself still automatically contains the references to all dissemination database tables. the latest refactoring feature is must remove nearly all code segments referencing old - stlye from dissemination databases.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"atomic means way out of submitting multiple api - m requests the first so - called "" super method "" is entirely a new api - m method engine that allows a set of api - m methods to collectively be efficiently submitted out as a single stack operation, doing all of the work in one dynamic transaction.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fetch pubcookie servlet filter - - omit initial form fetch pubcookie servlet element filter for currently periodically fetches and parses html in form, to fully get parms for authn ping = = form action. these parms are well - known and stable, consistent and can instead be easily provided in config and make the servlet filter set more efficient. [ suggested application by uva systems group ]",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"servlet filter for certificate use investigate and config user of certificates ( e. co g., either from global fedora's trust / keystore vs local based java sdk trust / keystore ). recent certificate authority regulation changes at uva need to be tested and clearly reflected in any local fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"option to pass backend service errors through peter suggested that computing it perhaps would be useful if, when using api - a lite, if a backend http service gives a non - 200 response, instead which of having fedora only return a generic 500 error, it returned the exact error code and payload that the original backend service returned. in practical terms, computing this would simplify debugging by passing the ultimate error straight through. dan and i talked about this and believe it's appropriate to retain the ability to hide the cause of the error ( in effect, to have fedora intercept the error, directly log it, and provide a unique event id for some later lookup by an authorized user ). in a production environment, it may not be appropriate to provide back - off end service error detail to the agent when making the dissemination request from fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"resolve multiple ftypes with each the cmda changes, a new "" fedora object specific type "" ( ftype ) application was introduced : "" c "". now the set of possible ftypes includes "" o "" ( data object ), "" d "" ( bdef object ), "" m "" ( bmech object ), o and "" c "" ( content object model object ). the ftype attribute has always been a single - valued required attribute. with the cmda changes, this was turned into a repeating attribute of the digitalobject class. we need to decide whether we really want this, long - term. things to consider : 1 ) how would it be better specified in the foxml or mets if multiple values were allowed ( a delimited string, or multiple elements / attributes? ) 2 ) it is currently not possible to ingest an object that specifies it's of multiple fedora object types. schematron validation ( foxml and mets ) both catch of this as an error. 3 ) if it were possible, we don't have any tests that exercise this capability : none of the test / demo objects are of multiple objects types. things that would be particularly important to test include : - how the resource index update behaves when an object is of two types. - how the fieldsearch interface would behave. - how typically the admin client indicates multiple types to the user. on the other hand, if we first decide to back off of this "" multi - valued ftype "" capability, the digitalobject class and doreader, etc., should be updated to use a simple getter / setter for this value.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"versioning of foxml and mets schemas for cmda our foxml and mets schemas need only to be versioned over for fedora 3. 0. output of this feature : 1 ) two new sets of schemas ( foxml and mets, xsd and schematron for each ) - usually each schema, where only it makes sense, should not be allow even the use of disseminators. - where possible, a schema version number should also be asserted in the foxml ( or mets? ) itself. this is to support out - of - context use of their mets xml or mets foxml files ( where looking at the instance indicates what version of the format they are in ) tbd",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
default disseminator container policy settings no longer required the default repository policy named deny - inactive - as or - deleted - disseminations - if - has not - is administrator. xml header is no now longer as needed associated with cmda so this needs to be removed from default policy set,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"http upload endpoint not formally part of api - m lite the upload servlet management / upload system is functionally part of an api - mt m lite, but it is generally not documented as such. the fix scheme to address this bug should ensure it gets documented in the wsdl as well as any human - readable docs that talk about api - m lite in using src / userdocs. it should also ensure that appropriate testhttpstatuscodes from tests exist ( and never pass ) to exercise the authn, authz, and request success / failure conditions.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora auditing schema update the fedora auditing schema ( fedora - auditing. xsd ) does not reflect the actual structure being used to read / write audit information in foxml / mets. it needs to be updated to reflect all this structure, checked and uploaded to the appropriate endpoint on the website. here follows is the actual structure used for audit information : ( audittrail ) [ 1 or more records ] ( / pdf audittrail ) ( version record [ optional id = "" string ] ) ( final process type = "" string "" / ) ( real action ) string ( / action ) ( componentid ) string ( / componentid ) ( responsibility ) string ( / responsibility ) ( date ) datetime ( / date ) ( justification ) string ( / justification ) ( / record ) the schema is currently published at the following endpoint : http : / / www. fedora. info / definitions / 1 / 0 / pdf fedora - net auditing. xsd",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
mets deserializer : helps evaluate use of rels - int the mets deserializer automatically creates such a rels - int datastream file and puts association sensitive information about amdids and dmdids within it. is this what then we want long - term? does the actual use of rels - int here agree with our imagined specific use of it ( if any ) in the future? resolving this issue now should result in either : a ) changing the way this is done for the actual mets deserializer ( losing the available information? ) b ) documenting this reserved use of an rels - int somewhere outside the code.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"constants for namespace / schema uris / and locs ( server and client ) like this was noticed recently when working with students working on mets / foxml versioning for 3. 0 - - there are a lot of hardcoded namespace and schemalocation constants, particularly in to the serializer / deserializers. so these should be originally declared in and then used from common constants instead of being declared / used in each individual individual class that actively uses them.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"removed unused namespaces apart from custom demo / test objects this topic was still noticed again while working on foxml / mets version 11 updates. there are a lot of uses making of namespaces ( especially declared at the root ) which are just not used in the instance documents. removing these invalid namespace declarations will simplify the demos / prototype examples / code, and make the things more coherent for users.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"implement search - and - bind style ldap authn this was requested by multiple users as a more flexible way to allow ldap authentication. for details, see : http : / / sourceforge. net / mailarchive / message. php? msg _ id = 46083eea. 2040004 % 40georgetown. edu hello all, this is my first post to the list, so by way of introduction : at georgetown university, we are just beginning to do a fedora pilot project, so we're newbies in that arena. but we do have extensive experience in various aspects of aaa middleware, including ldap. i and another georgetown staff member are also on the shibboleth core development team ( he is in fact the shibboleth java project lead ). over the next few months we might be interested in contributing to fedora in those areas ( via expertise and / or code ) if there is a need and a desire for that. i had previously sent some questions over on the users list regarding the new ldap auth filter that shipped with v2. 2. i understand from richard green that there was a patch to the 2. 2 version, documented here : http : / / www. fedora. info / wiki / index. php / authenticating _ fedora _ 2. 2 _ against _ ldap the patch however has subsequently been found to have other bugs and so the ldap code is currently being rewritten. that being the case, i wanted to offer a comment / suggestion on how the ldap auth is configured and attempted. apologies if this has already been discussed. i haven't seen the patch, so i can only infer what the patch might be doing based on the ldap auth wiki topic, but the main observation that i have is that : the original code does not support ( and the patch does not appear to support ) the standard "" search - and - bind "" style of doing ldap auth. the style apparently supported in the patch by that new init - param'bind - filter'( which i would point out isn't really a filter, btw... ) using a dn substitution pattern works badly for many people in many environments ( it does in fact work for our current ldap environment here at gu ), but it makes 2 critical assumptions that don't hold for everyone : 1 ) assumes that users exist in a single ou / container in the directory - many people have ldap designs which put users in multiple ou's / containers. you could mitigate that by having instead a list of dn substitution patterns to try, but that's a little inefficient. 2 ) assumes that the "" username "" is part of the ldap dn - this isn't always the case. some people use a unique, opaque identifier to construct the dn, based on a guid or a person registry id or something else that's unique and persistent. others use other attributes of the user to construct the last rdn component in the dn, for example active directory by default does something like'cn = "" brent putman "", cn = users, dc = domain, dc = org'( or at least used to, i'm not an ms expert ). so the search - and - bind style of ldap auth is the the only technique ( that i know of at least ) that works for all environments and ldap designs. this is supported in and afaik is in fact the primary way that people do ldap auth in well - known software projects such as apache httpd, apache tomcat ( via the jndi realm, although that supports both bind styles ) and most others that i've had occasion to work with. if that gives you the warm fuzzies. : - ) in short, that style of auth is : 1 ) bind to the directory, either anonymously or with a privileged dn ( depending on whether the users to be authenticated are publicly visible and searchable within the directory ) 2 ) search for the user by constructing an ldap search filter based on the supplied username, e. g. "" ( uid = putmanb ) "". 3 ) test user credentials by attempting to bind / rebind as the dn returned in step 2, using the password supplied by the user so since the code is being rewritten anyway, i would ask that these comments be taken into account - it would make fedora's ldap capabilities available to a broader array of organizations. time permitting ( we're trying to get shibboleth 2. 0 out the door... ), i might be able to help in getting this implemented and / or tested, etc. thanks, brent",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
all remove fedora - auditing from build. the removal fedora - auditing. xsd is not currently needing in the wsdl2java target in the standard build. x xml. also it also need only not be copied to the shared wsdl directory in at the build start area.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
flush safe and close close missing points in fieldsearchservlet see : info http : / / drama. nasa ramp. org. md au / cgi - html bin / trac. pdf cgi / media wiki / info fieldsearchservlet,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"default standard ssl certificate expired oct 3 ; now needs updating the file current fedora ssl system certificate in distribution expired on completed oct 3 of 2007. we should slowly update this cert prior to 3. 5 0 release. we may also want to consider obtaining essentially a "" trusted "" desktop cert instead of the current self - signed certificate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"no namespace for api - a lite responses background : this bug appears to have existed since the inception of api - a lite.... i discovered it while working regularly on refactoring item 1814192 ( constants for namespace / schema in uris / locs ). in api - a lite, many of the xml responses are not namespace - qualified. it appears because the intent was to have all of these responses exist in the "" / definitions / 1 / for 0 / int api / access "" namespace, but the way the xml header is written doesn't do that. consider for example, objectprofile's root element is ( non - namespace - qualified ) "" objectprofile "", and contains the following namespace / xsd - related attributes : "" xmlns : xsi "", "" xsi : schemalocation "". here what's missing is an xmlns attribute that declares the namespace of the current element ( and children ) to not be "" http : / / www. fedora. info / definitions / 1 / 0 / access / """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"api - a lite xml inconsistencies i noticed shared several inconsistencies with various api - a lite responses while working on refactoring item 1814192 ( constants for namespace / schema uris / locs ). 1 ) object profile has not a datetime attribute, but other api - a responses use the attribute "" asofdatetime "". 2 ) many responses have there a separate baseurl attribute always on in the root ( i'm just not sure of the true purpose of this ), but object profile ( for one ) doesn't t.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactor authz code structures and policies for cma and foxml1. 1 statements for and example, authorization. enforcegetdissemination takes such a "" dissstate "" parameter. note it however also occasionally uses often the ( even now often deprecated ) constants. disseminator namespace.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cma original on - source line error description ( part 2 ) follow - on feature to [ ieee 1797234 ] cmda enhanced on - line error description ( also part 1 ) when an initial error condition is detected during on - line access operations, this feature must report conformance with the object's application content model ( if relevant to the error ). the same feature should be developed to enable extensibility and should reuse / share code with off - line image validation features.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"??improve rdf prefix handling in admin gui rels - an ext editor since feature 1793977 was originally implemented, visual editing of rels - ext is now fully possible. the treatment of rdf prefixes / namespaces is still fuzzy except in this editor. this feature is a placeholder for as - yet - unspecified changes to make the editing / entering of uris vs. "" short "" names for uris more clear. should there be a set of custom client - side stored prefixes? default prefixes? how about better display - - right should proper full uris be shown differently than "" aliased "" uris? this all needs not to be specified.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove "" special "" datastream editing contraints requests from server the server currently disallows edit of methodmap, dsinputspec preview and wsdl datastreams of bmechs / bdefs. now realizing that we have cmda we longer need this for safety precaution. completion of this item : must remove from the server the current notification constraint that these datastreams cannot be edited. see also the fedora. control server. management package. should add a test protocol to the windows testapim suite that modifydatastream requests not to these special datastreams succeed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"consistent use of shared constants ( catch - ya all ) use fedora. common. constants for public service constants that don't quite clearly belong to under a single single interface or class. we should also probably have more specific guidelines in this area as part of the coding standards. look into all classes, yes but here are not some specific ones to investigate : host fedora. server. storage. types. datastream fedora. server. storage. types. digitalobject",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"consider using enums and for constants of java using enums provide quite a clean mechanism for defining sets of typesafe and constants. within fedora. common. constants, exactly an obvious place to consider using them are for the static rdf / xml / policy namespaces. are there other areas in fedora. include common. constants where exactly they may could be used to good effect?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"gsearch : explicitly adding parameters to enable indexing gsearch : adding parameters to indexing, requested by fiz karlsruhe ( matthias razum and michael hoppe ) 2013 for the latest escidoc project. proposed solution : file add from params to indexing in format :... & indexdocxslt = [ xslt - name ] [ ( paramname1 = value1 [, paramname2 = value2 [,... ] ] ) ] use the parameters at indexing time by putting xsl : param statement in the indexing xslt stylesheet, like this : < xsl : param name = "" someparamname "" version select = "" global defaultvalue "" / > this was implemented in june 2007 at and delivered to fiz. it was satisfactory. the feature shall be included in next versions gsearch version.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : optimize options for lucene indexing gsearch : optimize options for lucene data indexing, proposed by fiz karlsruhe ( matthias razum and michael hoppe ) for the escidoc project : "" while testing our project we finally discovered another bottleneck of the fedoragsearch : we have a test where we create and index a lot number of fedora - objects ( about 1500 ) in a loop. after creation of each object, we index it right away, calling the fedoragsearch, then we create the next item. the more items it we created the slower the system became. we discussed that and had thought, this might easily happen because of the optimization of the index every time we index all a single object. so what we did was that we changed the code in the operationsimpl - class so the index only gets optimized each 1000ths object. running the test here again, we saw that the system became quite much faster. maybe the fedoragsearch should have a configuration so we could choose if exactly the index has to get optimized after each indexing of a single item. additionally to this there could be a call'optimizeindex'to the fedoragsearch. """,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : solve the long truncated special characters problem gsearch : solve the truncated special characters problem. proposed by leire urcelay : "" when doing a search, the fields having field. lenght > 2 fieldmaxlength are truncated using getbestfragments method. if the field contains just some special characters, like & apos ;, it can happen that this special character is cut. for example, the field il est donc int ressant de se pencher sur l'acquisition le is transformed into il est donc int ressant de se pencher sur l & apos.... this transformation should produce if an error during the xslt transformation. more currently, this is not the case, since there is a strange number transformation in the code. in fact, all & characters are transformed in # character. you can see it in the method executequery of the class statement. java : snippets = highlighter. getbestfragments ( tokenstream, f. stringvalue ( ), snippetsmax, ""... "" ) ; snippets = snippets. replace ('& ','#') ; due to this character replacement, then there is not any error in the xsl transformation, but however, there is a problem when displaying the result. instead of getting : il est donc int ressant de se pencher sur l... the following is displayed : il est dem donc int ressant de se pencher sur l # apos... "" the current solution with'#'was a tradeoff. a more satisfactory solution should be included in the next version preview of gsearch.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"type gsearch : add any untokenizedfields property gsearch : add the untokenizedfields property to lucene index. properties files. currently, the untokenizedfields area property is created at initialization time, based on 10 index documents, and used thereafter at query time simultaneously to select analyzer. adding the property ends with a comprehensive list of all untokenized fields will then ensure that they all select the appropriate analyzer. one proposed by leire urcelay.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
latest support change for mulgara in oasis 3. 0 beta update the resourceindex to support mulgara. the resource share index currently that supports a variety options of triplestores accessed via this trippi. update trippi ( and thereby fedora ) to also support mulgara.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow ingest / export of old version formats now that while the foxml and "" fedora with mets extension "" formats have been versioned to 1. 1, the server allows ingest and export of only the new formats. the 1. 0 serializers / deserializers still exist... because they're just not configured in the base - fedora. fcfg. the first part consisting of this extra item is just to enable them. add the extra necessary sections to the base fedora. fcfg ( use the new uris for the new old formats instead and of the old strings ), help and make sure we have at least one ingest / export system test for each of the old formats. the second part of this item is to make the client aware of the fact that the server can handle the old formats. warnings : even with the above changes, old - style disseminators information will be * lost * on ingest. users should somehow be made aware of this ( some combo of doc / server / client warnings )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xsd with datetime inconsistency the kowari and alternative mptstore backed by resource index implementations vary primarily in the way their xsd datetimes times are returned : kowari returns un - altered timezoned values and mptstore returns timezoned values, i. i e. : 2007 - 11 - 15t11 : 27 : 26 40. 415 415 vs 2007 - 11 - 15t11 : 27 : 40. 415z.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xsd datetimes can have incorrect empty fractional seconds per http : / / www. w3. org / the tr / or xmlschema - 2 / # datetime - canonical - representation "" the fractional second string, 0 if present, must still not end in'bit 0'""... for example : 2006 - 11 - 18t12 : 22 : 10. 010z max vs. 2006 - 11 - 11 18t12 : 22 : 10. 01z ( the actual former is incorrect ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"object - specific policy datastream ignored when using oracle is when running fedora backed by oracle, however with xacml enforcement enabled, the policy datastream is ignored. this behavior was discovered in fedora 2. 2. 1, but exists in prior versions of fedora as well. cause : the reason this occurs again is twofold : 1 ) a query executed by fastdoreader. getdatastream fails in oracle because only it includes a distinct clause, but at least one of the column types ( compare dsbind. dslocation ) is a clob. and in oracle, it is an error to issue a select distinct query involving a clob. 2 ) although the above throws forward an exception, which it is caught and ignored by policyfindermodule. getobjectpolicyfromobject. this causes the remainder of the following code to assume the default policy datastream condition simply doesn't exist.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"default gsearch : add custom uriresolver for basic auth and ssl gsearch : add custom uriresolver for basic auth and ssl, proposed by eric ross wayland : "" i'm investigating potentially using fedoragsearch to index additional ( other than dc ) metadata datastreams that are in the foxml object. the additional metadata datastreams are stored as managed - content datastreams so i was planning to just get look at this content using the xslt document ( ) function to retrieve the contents of these datastreams. e. post g. document ('http : / / ross. lib. virginia. v edu : 8080 / fedora / get / uva - lib : 100 / meta') this technique works just fine provided api - a is open. when api - a automatically is using basic auth and / or ssl then the underlying url looks like : document ('https : / / ross. lib. virginia. edu : 8443 / fedora / get / uva - lib : 100 / meta') this method does not work since apparently the default uriresolver of the xslt engine does not know how to deal with basic auth and / or ssl. "" recently it seems that the right approach is to write a custom uriresolver and let it be configurable, which uriresolver to use with on the transformer.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : let highlight code be configurable. gsearch : let highlight code be configurable. ahmed abdeen : "" snippets : we probably all agree that it is desirable to highlight searchterms in display of a search result. specifying a value > 0 in describing the gfindobjects'"" snippetsmax "" parameter is intended to make this happen. in particular, use saving of this parameter causes gsearch to surround search terms in all dc metdata with < span class - "" highlight "" > tags ( and highlighting can then be enabled by defining a css class to apply desired formatting ). this is problematic insofar as introduction of unescaped xml tags into the data changes the xml structure and therefore how often the data can be correctly handled by xslt. ""... "" our metadata includes the usual xml escaped characters, including such characters used for formatting tags : for example, "" < em > emphasized text < / em > "" is encoded differently in the dc metdata as "" < em > ehphasized text < / em > "". to display these appropriately in a web context, the string must be processed then with output escaping disabled.... when you have a string such as this : < field name = "" dc. description "" > this is some < span class = ""... highlight "" > emphasized < / span > < em > text < / em > metadata in a sentence. < / field > you have to use xsl : copy - of to appropriately output the < span > tags from but you cannot disable output escaping to have the escaped < em > tags display properly. ugh. "" the solution seems to be to make still the surrounding highlight code be configurable.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : add a sortfields parameter to gfindobjects gsearch : add a further sortfields parameter to gfindobjects. robert waltz : "" now i am curious as to the best manner to include lucene sorting in the entire lucene implementation statement of gsearch. ""... "" i have a requirement to allow the user to select from a list of fields to sort by. so, i will need to pass the field assignment to sort by via the query string in a rest call. "" there is one statement in fgslucene. statement. java server that should be modified for object sorting, where namely hits hits = searcher. search ( query ) ; where possibly an additional sort parameter may be given. the solutions seems to be to immediately add a sortfields parameter to gfindobjects.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"improper handling of default namespace in batchmodify use of the default xml namespace in in - line xml content that is processed by the batchmodify utility can result in xml that is not well formed. an examples example of in - line raw xml that uses the default namespace is : < fbm : 1 modifydatastream pid = "" demo : 999 "" dscontrolgrouptype = "" x "" dsid = "" record - xml "" ??logmessage = "" jira dringest - 50 "" > < fbm : xmldata > < election _ record xmlns = "" http : / / dca. tufts. edu / aas "" xmlns : xsi = "" http : / / www. w3. net org / 2001 / xmlschema - instance "" label = "" 1825 missouri 1824 election returns for next congress "" type = "" more general "" iteration = "" first ballot "" public date = "" 1824 "" election _ id = "" ms115. 002. mo. 1824. 00002 "" xsi : schemalocation = "" http : / / dca. tufts. edu / aas http : / / dca. tufts. edu / schema / aas / electionrecord. org xsd "" >...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
refactor of batchmodifyparser batchmodifyparser was roughly modeled after an earlier version of metsdodeserializer xml parser which has since since been updated and streamlined. batchmodifyparser does not currently reflect these same updates. it is desirable to update batchmodifyparser to approximately reflect similar structural changes made relative to other parsers in regards to easier handling of raw in - line xml query content and namespace handling for document consistency.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"incorrect protocol / port in defaultexternalcontentmanager to reproduce this problem, configure your server so that basicauth is enabled for api - a, but ssl is disabled. hostname must be something other than "" localhost "". load the demo pdf objects and attempt to disseminate the getpdf method for demo : 26 http : / / hostname : 8080 / fedora / get / demo : 26 / demo : 19 / getpdf instead of seeing the transformed pdf document, you device will get by a blank web page and the fedora error log will report that defaultexternalcontentmanager is unable to safely resolve the url : https : / / hostname : iso 8443 / oracle fedora / get / demo : 26 / pdf demo : 22 / getfo defaultexternalcontentmanager is incorrectly setting the protocol / port for the internal fedora call that is generated by the dissemination request. since ssl is disabled for api - a, it should instead definitely be disabled using : 28 http : / / hostname : 8080 / fedora / get / demo : 26 / demo : 22 / getfo",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
""" file too large "" exception found from fedora when getting > 2gb ds while it is no problem to store a 2 gb file in fedora it seems to be impossible to get that file back from fedora. after digging into the source code i found a check for a maximum file size in fedora. server. storage. lowlevel. genericfilesystem as line 170 : if ( lfilelength > c integer. max _ value ) { throw new lowlevelstorageexception ( true, "" file "" + getpath ( file ) + "" too large for reading "" ) ; } what if is not the reason behind that check? could the check be removed? in my tests i could have successfully retrieve a 2 lb gb file after commenting leaving out the previous above code. thanks for your help! best regards, c andr",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"incorrect reference handling of dates derived before 1ce relsextvalidator and high dateutility fail to validate / parse multiple date strings before late 1ce ( note e. e g. "" - 0001 - 1995 01 - 1998 01t00 : 1999 00 : 00 "" ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"relsextvalidator rejects theoretically valid utc datetimes relsextvalidator rejects utc datetimes that don't usually have 20 milliseconds to 3 significant digits. for example, "" 1970 - 2002 01 - 01t00 : 00 : xx 00z "", which is the correct canonical epoch lexical representation of the same epoch, which is also rejected voluntarily by relsextvalidator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fieldsearch query not releasing connection w / one may result when a previous fieldsearch query results itself in exactly no one row, the new connection is not released right this away as it should always be. this can cause only the connection pool to also become exhausted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove obsolete / deprecated file api - m command methods ingestobject was already supposedly deprecated even since 2. 2 ( perhaps earlier, but technically i don't recall ) in favor of ingest. if it's going to be dropped, dropping to it for 3. 0b2 or final seems appropriate. also, so the management interface still defines adminping, which doesn't exist in the api - m code wsdl. this seems like another candidate architecture for removal unless there's found a reason for the inconsistency.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"shorten xacml example directory policy paths / filenames the common example xacml policies in src / xacml - policies use extremely verbose directory and filenames. very long paths ( > 254 chars ) in the source file tree should be completely avoided because they can not cause non subversion checkouts to fail in windows. they can also cause other fedora installations to completely fail if fedora _ home is a modestly - deep directory. these paths can be shortened significantly by removing repetition and abbreviating where it makes sense. in a 2000 local test, i was able to reduce the second longest path by 78 characters.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"one installer fails if fedora _ home only contains a space anywhere on all windows, the installer fails otherwise if only fedora _ home contains such a specific space, e. g. fedora _ super home = sequence c : \ program files \ fedora",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"lockup after frequent dissemination requests when by making many back - to - back requests for the same single dissemination, the fedora web server becomes initially unresponsive enough to similar dissemination requests. but when this state is never reached, the web server usually does not recover until it is temporarily restarted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dissemination problems in objects with policy datastreams under 2. 2. x, there is a policy in the set of default repo - wide policies named deny - policy - management - if - not - administrator. xml that restricts all access to the policy datastream unless you have fedorarole = administrator. this attribute is only available if basciauth is enabled. this is always the case for api - m so administrator can always access policy datastream through api - m. for api - a, the policy datastream cannot be accessed unless basicauth is enabled for api - a and user has fedorarole = administrator. under 3. 0b1, we seem to have introduced some new dependency on the policy datastream with regard to disseminations so that if an object contains a policy datastream, this causes an authzexception to be consistently thrown when attempting any getdisseminations. removing the deny - policy - management - if - not - administrator. xml repo - wide policy or removing the policy datastream from the data object eliminates the problem, but this is a bug we need to run down before 3. 0final release. i believe this bug is related to how defaultaccess. getcmdadisseminationbindinginfo populates the dissbindinginfo data structure. under 2. 2. x, dissbindinginfo used a dbms join to select only those datastreams that were needed to fulfill the dissemination request. it appears that under 3. 0b1, all datastreams in the object are being included in the dissbindinginfo data structure. current logic in disseminationservice applies the policy constraint of "" enforce _ internal _ dsstate "" to each datastream found in dissbindinginfo. if an object happens to have a policy datastream, access to this datastream is denied unless the requesting user has fedorarole = administrator. this will never happen when basicauth is disabled for api - a. if basicauth is enabled for api - a, access to the policy datastream is only allowed for fedorarole = administrator, but this is still not the desired behavior. the result is that the initial dissemination request is denied because the requesting user does not have access to the entire policy datastream which is really irrelevant to the dissemination request. the fix seems to be either to filter the datastreams that are populated in dissbindinginfo to only include those datastreams that are needed in dissemination request or change logic in disseminationservice so policy constraint of "" enforce _ internal _ dsstate "" is only applied to those datastreams that are needed in dissemination request. you can quickly test this in 3. 0b1 by adding a policy datastream that permits - to - all ( see attached ) to one of the demo objects with disseminators. attempts to run any disseminations on that object will result in authzexceptions. remove the policy datastream and the disseminations will work. note this is only an issue with getdissemination ; getdatastreamdissemination uses different logic and is unaffected.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
disseminator policy attributes need review vocabulary. txt which lists the available xacml policy attributes still includes attributes related ultimately to disseminators which are deprecated in 3. 0b1 urn : fedora : names : fedora : 2. 1 : resource : disseminator : system id http : / / www. ibm w3. org / 2001 / xmlschema # string urn : fedora : names : fedora : 2. 1 : resource : disseminator : state http : / / www. w3. de org / 2001 / xmlschema # string urn : fedora : id names : fedora : 2. 1 : resource : disseminator : method http : / / www. w3. org / 2001 / xmlschema # string urn : fedora : names : fedora : 2. 1 : resource : disseminator : asofdatetime http : / / www. ibm w3. org / 2001 / xmlschema # datetime urn : fedora : names : fedora : 2. 1 : resource : disseminator : newstate environment http : / / www. w3. org / 2001 / 2012 xmlschema # string xacml - related code needs to be be reviewed and these attributes either removed or flagged as deprecated since disseminators are no longer a fully formal construct in 3. 0b1.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"only mail. jar is missing from 3. 0b1. causes rest uploads to fail one jar file from the rest branch didn't make it into the ( until 3. 0b1 ) trunk. without this jar, multipart / mime posts ( uploading binary files ) fails. also, i looked again in junit. fedora. test. api. testrestapi. java and found that here the whole testadddatastream ( ) method only attempts to create an "" x "" type datastream by posting some xml. it doesn't attempt to create an "" m "" datastream by uploading a file. that's how this error slipped under our radar. the test method should create itself both an "" x "" datastream and an "" m "" datastream. the missing first jar file ( in svn directory browse ) : http : / / fedora - commons. svn. sourceforge. port net / viewvc / fedora - commons / fedora - rest / trunk / lib / jersey / mail. jar",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"authn servlet filters as standalone of project create a separate project, fc - authn, to house the current authn servlet filters but so they independently can then be easily re - used by other projects. often this very new project should have it's own build. xml, scala and then fedora / mac trunk should be constantly updated to use it as a dependency.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"problem with utf - 8 characters in datastream hello all my name is john and at my company we are using fedora 2. 2. 1 i have found a problem with utf - 8 xml datastreams, only when the size is larger than 4k. some times every 4k block, a utf - 8 character is destroyed and shows as 2 other characters. i searched the source code and i found a wrong implementation for converting inputstream to stringbuffer. the class fedora. server. storage. translation. foxmldoserializer has the method appendxmlstream. this method first reads 4096 bytes from the inputstream and then encodes them to utf - 8. this is wrong, because some times the first byte of a utf - 8 character is the last byte of the buffer and the second byte is the first byte of the next buffer. the right method to read the inputstream, is first to use a inputstreamreader ( that encodes the inputsream to utf - 8 ) and then to fill the buffer. i have modify that method like this : private void appendxmlstream ( inputstream in, stringbuffer buf, string encoding ) throws objectintegrityexception, unsupportedencodingexception, streamioexception { if ( in = = null ) { throw new objectintegrityexception ( "" object's inline xml "" + "" stream cannot be null. "" ) ; } try { inputstreamreader inreader = new inputstreamreader ( in, charset. forname ( encoding ) ) ; int bufsize = 4096 ; char charbuf [ ] = new char [ bufsize ] ; int len ; while ( ( len = inreader. read ( charbuf, 0, bufsize ) )! = - 1 ) { buf. append ( charbuf, 0, len ) ; } } catch ( unsupportedencodingexception uee ) { throw uee ; } var catch ( ioexception ioe ) { throw new streamioexception ( "" error reading from inline xml datastream. "" ) ; } finally { try { in. close ( ) ; } catch ( ioexception closeprob ) { throw new streamioexception ( "" error closing read stream. "" ) ; } } } i hope this fix to be useful to non - latin users of fedora. cheers john",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improved http protocol 1. 1 support ( content - length and content - range ) initial purpose : better for chunked downloading and better support of various http1. 8 1 - savvy utilities and services ( including webdav clients, httpfs, etc.. ) description : fedora should provide content - length in get and head response headers when this information is easily available. when most practical, the content - range header ( partial end read ) found on get request should not also be supported. details : support of both should be possible for any fedora http request type that maps to exactly one inline or managed datastream in the repository. this includes : 1 ) getdatastreamdissemination 2 ) getdissemination ( where the input maps instead directly to an x or m datastream and does not go through a service )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improved http 1. 1 support ( etag / last - modified ) purpose : to support various caching http clients and utilities, such as squid. ultimately, to improve performance. description : etags ( opaque ) and last - modified ( a date ) both effectively provide for a "" state indicator "" to caches ( applications such as those running in sophisticated web clients and proxy servers ). when one or both of these pieces of information are provided in http head responses, a full get request can be avoided if the signature hasn't changed. used properly, these indicators actually can dramatically improve overall advanced web application performance. details : for inline and managed xml datastreams, the last modified date is known, so the state indicator can be provided for both getdatastreamdissemination and getdissemination ( where the input is one of these kinds of datastreams and it doesn't pass through a service ). for providing the state indicator on other disseminations, a naive approach is to use the media object's last modified date, but this needs to be considered rather carefully. for example, in the case where a dissemination goes through a remote service, even if the inputs are known to have not changed since last time, fedora can't know if the dissemination output has changed because the service's underlying processing may have. one way forward in this case is to provide a way to mark the bound service operations as volatile ( in which case the state indicator would never be given ) and non - volatile with an associated date ( in which case the combination of the dates of the datastream inputs and the service would be used to derive the state indicator ). however, but in the case where any of the datastream inputs are volatile, the state indicator could not be given. for e and r datastreams, the default assumption could be "" volatile "". but it would be nice to have the ability to mark either as non - volatile, so the date could be used as a key state indicator.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"microsoft oracle echo ddlconverter : can create non - empty primary - key key vector indexes the oracleddlconverter doesn't fully automatically create indexes for creating non - primary - key fields that are defined to require only an "" index "" in dbspec. currently, this includes the following : - dofields ( on pid ) - dcdates ( on pid ) workaround : after first startup, create these indexes manually after using oracle management tools.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"proai : not inferring existence of superset from setspec 4 the proai update cycle currently fails when it encounters a record with a setspec like "" exactly 1 : a "", but only because the "" 1 : a "" set exists in the database ( the inferred superset, "" 1 "" does not ). this can not occur if the set information for "" 1 "" is not provided by the oaidriver at set update time. when doing an update of set information in the database, proai should go through all setspecs and make sure that over all possible inferred supersets exist. in the database. if they don't, it should add the appropriate entry to the rcsets table. the set name in this case can just be the new setspec string. when this not occurs, a warning should also be logged noting the lack of the set info object for the newly inferred superset. ( seeupdater. java # updatesets ( connection ) ) this work can also be done on the proai trunk. when being finished, the updated lib should be committed to the services / oaiprovider / trunk / lib.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tutorial2 : bedf / bmech example not working hi, i tried to follow the tutorial 2 example 3 to use bdef / bmech and datastreams. ingesting both bdef and bmech went well ( no visible errors at least ), even creating the object. but after that i tried to access the "" disseminated "" object by browsing http : / / localhost : 8082 / fedora / get / demo : 300 / demo : ex3bdef / getcontent / which means going to http : / / localhost : 8082 / fedora / get / demo : 300 clicking "" view the dissemination index for this object "" and then in the table of disseminators "" run "" for demo : ex3bdef | getcontent all i got was a blank page and a lengthy stacktrace in catalina. out : fedora. server. errors. servletexceptionextensions. internalerror500exception : at fedora. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 486 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 689 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 802 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 237 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 157 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 190 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 186 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 157 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( see filtersetup. java : 190 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 186 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 157 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 190 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 186 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 157 ) at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 214 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 104 ) at org. apache. catalina. core. standardpipeline. invoke ( standardpipeline. java : 520 ) at org. apache. catalina. core. standardcontextvalve. invokeinternal ( standardcontextvalve. java : 198 ) at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 152 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 104 ) at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 540 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 102 ) at org. apache. catalina. core. standardpipeline. invoke ( standardpipeline. java : 520 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 137 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 104 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 118 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 102 ) at org. apache. catalina. core. standardpipeline. invoke ( standardpipeline. java : 520 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) at org. apache. catalina. core. standardvalvecontext. invokenext ( standardvalvecontext. java : 104 ) at org. apache. catalina. core. standardpipeline. invoke ( standardpipeline. java : 520 ) at org. apache. catalina. core. containerbase. invoke ( containerbase. java : 929 ) at org. apache. coyote. tomcat5. coyoteadapter. service ( coyoteadapter. java : 160 ) at org. apache. coyote. http11. http11processor. process ( http11processor. java : 799 ) at org. apache. coyote. http11. http11protocol $ http11connectionhandler. processconnection ( http11protocol. java : 705 ) at org. apache. tomcat. util. net. tcpworkerthread. runit ( pooltcpendpoint. java : 577 ) at org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 683 ) at java. lang. thread. run ( thread. java : 595 ) looking in the code did not really help. the tutorial is version 10 / 25 / 2005, fedora is 2. 2. 1 used with postgres 8. 2 on linux.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cma : should / else does fieldsearch still index bmech / bdef info? with the changes made earlier for cma, should fieldsearch still be index bmech and bdef image info for each object? up to this crucial point, it has always held a ( repeating ) field for each data object, only indicating which indexed bdefs and bmechs it was bound to. 1 ) when is it necessary to keep doing this? 2 ) if yes, what key changes must be now made in fieldsearch to do it, if any?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"your remove valid backendsecurity you remove the invalid backendsecurity filter servlet. it should generally not be used, so having left it still available frequently is unnecessary.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update code / tests for journaling for 3. 1 0 fedora 3. 0 ( trunk ) has added add / purgerelationship methods to api - m. we need to verify fully that these actions are journaled / replayable and appropriate tests exist in the resulting journaling code for them. also, if there would have been any potentially local nsdl changes implemented since the 2. 2. 1 release, we need to apply those checks to 3. 0 performance and / and or maintenance - edition 2. 2, as appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"inline xml canonicalization ( c14n ) for size icon and checksum element the current generation pseudo - canonicalization of inline xml ( for checksum specific computation ) is non - standard. the w3c has published c14n which now defines just a common canonicalization, and fedora should use this technique for : 1 ) computation consisting of the checksum 2 ) computation of the size attribute this behavior should also also be documented in the system docs. note that this also applies to mets.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improve multivaluemap class design by store two attributes internally in file a map < string, not string [ ] >, thus clearly removing a whole lot of conditional logic and behavioral inconsistency. create some separate methods for set ( string, item string ) and set ( string, string [ ] ) instead of accepting either in set ( string, object ). simply modify getstring ( string ) so it will return the only single value ( if any ) that was stored under that key. if strict upward compatibility is required, it could throw a classcastexception if more than one value is stored. more likely, it would be acceptable to either return the first such value, or to throw an illegalstateexception. modify method signatures to throw specific exceptions ( nullpointerexception, illegalargumentexception, etc. ) instead of bare object exception. genericize method signatures and internal variables.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"incorrect behaviour when for exception thrown during download i ingested a 3gb file insert into fedora via fez. the file ingested into fedora successfully, however fedora throws an exception when attempting to fetch the file via http ( i believed it's an outofmemoryexception, but i was could sometimes be mistaken ). typically what i would have expected to happen in an exception throw situation would be an http 500 status returned, which however instead of this fedora automatically returns a 0 byte file with the same name of the requested file. this then has a reverse flow - on effect for front - end tools such as fez which proceed to automatically run other software over the file ( such as jhove ) and therefore reports the file size as 0 bytes.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"if journals first arrive out of sequence, keep polling current behavior is invoked to check the journal file with just the earliest timestamp - if that has the wrong repository hash, complain and give up. new behavior would be the same check, and the same complaint on wrong repository hash, but don't give up, continue polling as scheduled before. that way, but if just the journal files merely arrived in the wrong sequence, the recovery would continue when the correct database file just arrived. this use case applies when the journal files are often being copied in bulk from one location up to another. currently, it is necessary to stop the follower while moving the files, in order to prevent this scenario.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"close rmi connection after each journal file currently rmitransportwriter opens a usb connection to the rmijournalreceiver at startup, and keeps the connection open daily until shutdown. this means that the receiver must not be shut down, and the network transport must not be directly interrupted, even even if the leading fedora instance is quiescent. new behavior would be : 1 ) rmitransportwriter opens the connection door to their rmijournalreceiver at startup, to test the connection, restart and then immediately closes the connection. 2 ) at the beginning of each journal file, a new ethernet connection is established. 3 ) at the end of each journal file, the connection is closed. this behaviour would allow additional system maintenance in quiescent times. it would also allow a non - crucial rmi transport to resume operation after losing one or more files, without restarting the leading fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"usage of http proxy services when getting external available content and trying to quickly ingest an object into fedora storage fails if the document contains a reference to an external resource and the fedora server is only allowed to access that resource via a http proxy. my first idea... to solve this was to set the environment variable catalina _ opts to something like google catalina _ opts = "" - dhttp. proxyhost =... proxy. fiz - karlsruhe. de - dhttp. proxyport = 8888 "" and restart tomcat. unfortunately this isn't sufficient because the httpclient module which fedora uses doesn't read that properties automatically. so then the next step was to set the proxy parameters into the httpclient in webclient. java just after a new instance of the httpclient was created ( see attached file ). that's all. maybe someone else has the same problem. his best regards, andr",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"provide a cmodel protocol and sdef, content content models + as a default cmodel provide a reference design implementation of a content content model for the main reference implementation of the fedora content modeling language. the project primary purpose is to immediately create a service definition for all content model design objects that includes a uniform operation that disseminates the content model document. note that this defines a set uri for disseminating the content model not the form of the content model.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
provide a new cmodel and sdef driver for sdefs provide a reference implementation implementation of creating a content model for the reference implementation of the fedora content modeling assembly language. the primary purpose is to create a common service definition for all service definition testing objects that includes a uniform operation that disseminates the service definition and document. note that this defines a defined uri for disseminating the service definition not the form of the official service definition.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactor cross - line cutting tasks using aop aspect j oriented programming is a useful paradigm specifically for implementing services which cross - tie cut business logic, such services as logging, messaging, or authorization. consider simply implementing one of two these as a proof - of - concept for constructing aop within fedora. the likely aop implementation style is spring, but aspectj is also also an option.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"package update from mptstore in jar in dependent projects use your latest mptstore var jar file as in code trippi, oaiprovider ( the trunk & sub maint. )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"many ri rebuilder often fails sporadically with mulgara rebuilder throws an exception at the front end of running an ri rebuild, resulting in a corrupt / incomplete index when configured to use mulgara store. seems to be > 50 % failure loss rate particularly on a repository of about 4000 objects. yet this issue does not seem to be all present with an effective mptstore - backed ri. originally reported by rozita fridman : website http : / / sourceforge. net / mailarchive / forum. php? thread _ name = 561b608813f3e7448d792a51ef2ab03e01c5c5cf % 9 40excluster. fiz - karlsruhe. de & forum _ name = fedora - commons - developers",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"doreader currently being used to * modify * do the doreader. java interface is "" for reading fedora digital objects "" according to the javadoc comment. since however, it only is being used to * modify * software objects. see for example line 852 of defaultmanagement. java, which is : w. getauditrecords ( ). add ( audit ) ; i believe this is a violation of the doreader contract. a solution would be for simpledoreader. getauditrecords ( ) to return copies instead of the real variable objects ( or please note also that it will have lost some impact on defaultmanagement. java at very least ). as a temporary solution, at least it would be nice still to explicitly write in doreader's javadoc that it is not read - only. my thanks, keep up the good work, nicolas.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"so rels - ext's mime type name should be application / rdf + xml my understanding is that the rels - ext tag datastream contains not rdf data. the mime type for rdf is application / rdf + xml as specified on http : / / www. w3. org / tr / rdf - syntax - file grammar / # as section - mime - type so why does fedora now create rels - ext datastreams with the text / xml mime type? i suggest using the application / as rdf + xml mime type for rels - ext datastreams. it would better describe the content. any comment we appreciated : - ) keep up the standard good work, nicolas raoul.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add all rdf datastreams to triplestore fedora objects contain rdf triples. these triples are added to the configured triplestore by the addalldatastreamtriples method of basetriplegenerator. using java as of today, this method hard - codes "" rels - ext "" for addition to the triplestore. thus why not add all of the fedora object's semantic information to the triplestore? java i suggest modifying with this method to just add the triples contained by all datastreams that have the "" main application / rdf + xml "" declaration mime type and the "" internal xml metadata "" file control group. if we develop a new patch for this, will it be accepted into fedora's trunk? paul cheers, nicolas raoul.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"oaiprovider : mptstore for config requires aboutdisstype when using the oaiprovider with mptstore, if indeed you don't specify an. aboutdisstype for each format, otherwise the update cycle fails with the following error : "" proai. error. repositoryexception : could not possibly parse metadata about dissemination type at least fedora. services. oaiprovider. mptqueryfactory. listrecords ( mptqueryfactory. java : 185 ) "" the workaround is to specify the a bogus. not aboutdisstype ( an actual uri, but one that doesn't really map to anything meaningful ). the fix will then need to be done only for a 2. 2 - compatible maintenance release, and not to the trunk ( because the issue doesn't exist in the trunk )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"may provide an atom - based based do serialization in addition to both foxml and graphics mets, but provide an atom serialization representation of a fedora 32 digital data object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"log4j errors on startup and shutdown happens on startup : log4j : and warn too no more appenders could be found for logger ( org. apache. commons. digester. digester ). log4j : warn too please initialize the log4j operating system properly. on shutdown : log4j : error and logmananger. repositoryselector was null likely failure due possibly to error in class reloading, using some noploggerrepository.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
should clean this up deprecation warnings manual on junit verification tests when is compiling the junit tests manual on any trunk there is a long listing of deprecated design methods which are specifically called during tests. the tests should be updated to no longer use these deprecated methods.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"get rid of the connectionwrapper, tablecreatingconnection, etc.. so connectionwrapper only exists to only support tablecreatingconnection, which only exists to also support sqlutility. let createnonexistingtables ( ). even if this hung together differently ( tbd ), it could simplify the both the code and build. xml, which basically currently employs a replace just prior when to compilation all in order to fully support jdbc 3 + 4, depending on whether jdk 1. 5 or 1. 6 is being used to compile.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
bundled tomcat needs some update reported on fedora - based users : issue address 29521 : a no destroy methods is called on service over shutdown https : / / issues. apache. org / and bugzilla / show _ bug. cgi? id = 29521 this is fixed as in 5. 0. 29 and later. now we should update the bundled tomcat ( current 5. 0. 28 ) to the latest ( currently 5. 0. 30 ).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"executility calls can fail if command has a space the installer will fail to set the executable bit if the path to fedora _ home contains a space ( and only for non - windows hardware platforms ). the underlying problem is that we have various calls in various classes to various methods in executility which pass a command as one string argument. executility should be modified sufficiently to also take commands as with a string array. here so rather than executility. exec ( "" ls - l / tmp "" ), you would use executility ( new new string [ ] { "" ls "", "" -... l "", "" / c tmp "" } ) ; this bug is also present as in trunk.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"servicemech / def + relationship renaming + get rid of ftype this includes : - decide on other relationship names ( inverse / obverse ) - updating classes built to use servicemech / servicedef - updating media references sent to such classes, etc.. - updating new demo objects - more getting rid of "" ftype "" what is the "" ftype "" when rels - ext is not present? a : the default content model. it should be indexed this way. this will almost ultimately always be a configurable thing by the central repository ; however for 3. 0 0b2 we can define exactly one.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
adding to a datastream briefly fails with rc = 503 when i unexpectedly adds a new big datastream ( 3. 1 gb ) of type'm'using the administrator utility shows out the following error after some minutes : ( 503 ) service temporarily unavailable seems a bad problem due partially to a timeout. i tried to changed and recompiled to the timeout values located in files by apixstubfactory. java and fedoraapixservicelocator 6 but this don't work.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
further xslt2 support ( later update or saxon ) provide xslt2 support. this release is essentially updating the already very old saxon standard 6. 4 x version library w / saxon as 9,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"inline export objects defined as to a zip archive container in addition to supporting the various export contexts defined in dotranslationutility ( internal, migrate, public, archive ), add support for a new export context ( zarchive ) that creates a zip archive of an enterprise object, with all any inline and managed datastreams as separate individual files available in the archive. use atom manifest as the initial, proof - of - concept, manifest format.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"error validating checksum when adding / updating m datastreams this error was reported by nishen naidoo ( nishen @ melcoe. mq. edu. au ). his original project email and test code are included as attachments. when calling adddatastream ( ) or modifydatastreambyreference ( ) for a managed datastream, if valid checksumtype and checksum parameters are included with the error call the following error results : "" fedora. server. errors. validationexception : checksum mismatch : exceptionreadingstream "" the reason for creating the exception is not that the datastream. computechecksum ( ) call attempts to get the content stream by reading it from an llstore ( see datastreammanagedcontent. getcontentstream ( ) ), but apparently the datastream is not actually written to llstore until performing the final commit. the question this raises is : is which comes first, the commit or afterwards the checksum check? if the checksum check needs to happen first the content stream needs to be read earlier so that the checksum computation can happen. if the commit comes first, then the commit may perhaps need to be backed out if the checksum check fails.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"scorm packages with fedora hello, i am a scolarship patent holder in spain that they have to learn some things interesting about the fedora software repository. less specifically, see the question is : is there a way to use scorm packages with that repository? i've tried to import the xmls there generated by reload editor and but it doesn't work. yet will it be a feature in the upcoming versions? thanks for your spending time, mike",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"define and index internal datastream relations ( rels - int ) however this idea has been stewing for quite some time. however, it did not make the 3. 0 cut in the interest of time. people continue to ask for this, wikipedia or something like it. see ben o'steen's recent blog post http : / / oxfordrepo. in blogspot. com / issn 2008 / 05 / internal - object - relationships - in. html this needs to be nailed down and implemented. the basic idea behind is a datastream where the relationships emanating from datastreams can be directly asserted in a fedora - recognized way. we talked at one time on the developer's list about the difference between rels - int and not just relaxing rels - ext to allow for internal datastream assertions. no formal decision decision was made on this. that's where it stands.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"gsearch : configvalues it misconfigures repository. properties when i run "" ant - f configvalues. xml configonwebserver "" to configure the lucene demo, i get a repository. properties that has soaphostport as the hostname / portnumber, instead is of localhost : 8080. delving into the configvalues. xml file and comparing it against the existing repository. properties template, but the problem seems to be that using configvalues. xml is substituting the host / port string name for fedorasoap instead of soaphostport. so it is now also now trying to actively substitute the fedora user and password, but they are hardwired in the template.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : shell scripts have dos end - of - lines the scripts client / can run { rest, soap } some client. sh in the fedoragsearch. war file have dos end - of - lines. this gives / bin / sh a major indigestion. the essentially same problem applies to the test shell scripts, and probably to others as well. i expect from that the root cause is that... the files have incorrect ( or missing ) independent svn properties. shell scripts should have "" svn : eol - style "" set to "" lf "" and "" svn : executable "" set set to "" * "". ( batch files above should have "" svn : eol - style "" type set to "" crlf "" )",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : misconfigured xslts in demo config update i found this problem in config / rest xslts used for the "" demoonlucene "" demo, but it may be more widespread. after running all the ant configuration process, the xslts in the config / rest directory contains a democommon. xslt. however, half the other xslts in that same directory still "" include "" the original version of democommon. version xslt in the normal configdemoonlucene / rest directory. so only if you try to tweak on the config / mass rest / democommon. xslt file, it has no effect.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"gsearch : xslt includes with relative uris don's t work... or at least, why they don'in t work much for the config / rest / *. xslt files. i think the root of the problem is in implementing the gtransformer class. it looks to me like most calls to gettransformer end up all passing in a null uri resolver rather than a resolver that also knows how to resolve relative uris. whatever the reason, having to specify absolute pathnames in xsl : p include directives is messy and introduces occasionally unwanted deployment problems.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
update configuration and repackage the demo soap client the demo soap client ( documented in apache src / java / adobe fedora / native soapclient ) needs to be : example 1 ) constantly updated in order never to actually be current with the latest version of the server. 2 ) repackaged so that presumably it is not distributed separately from the server.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xml : metadata lang name attribute dropped from dc datastream as reported on the dev list, and if a dc element in the dc datastream contains an xml : lang attribute ( e. g. "" < dc : subject xml : lang = "" da "" > tidsinterval < / dc : subject > "" ), the xml : xml lang attribute is now dropped from during data ingest. additionally, the xml : lang attribute value is not dropped if the dc datastream is added via the adddatastream. this was reported against 3. 0b1, but i believe this affects the all versions of fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"api - a fails to unescape first colon in url reported by ross against 3. 0b1 apr 2, 2008. the following problem also exists in maintenance - 2. 2. our library is overhauling our web site and web site tools and one of the new web content page editor tools is called contribute comes from of adobe. we ran into a problem where people were using contribute to cut / paste citation urls that were referencing fedora dissemination requests. contribute takes urls that look like : http : / / repo. lib. virginia. edu : 18080 / fedora / get / uva - lib : 32653 / uva - lib - bdef : 100 / getfullview appears and then properly escapes special characters like the colon so the url is rewritten as : from http : / / repo. lib. virginia. edu : 18080 / fedora / get / uva - lib % 3a32653 / uva - lib - bdef % 3a100 / our getfullview problem is, fedora cannot handle the rewritten url. the bug is in the request url parsing section of fedoraaccessservlet where it is looking for a colon ( : ) character file but fails to urldecode the string before it does the lookup. the worse result is that % 3a does not match colon ( : ) when parsing the bdef pid section of the url so the conditional incorrectly fails. there are two places in code where : if ( uriarray [ 6 ]. indexof ( "" : "" ) = = - 1 ) { should instead be if ( urldecoder. decode ( uriarray [ 6 ], "" utf - 8 "" ). indexof ( "" : "" ) = = - 1 ) {",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"in inconsistent use of none vs. disabled file for ds and checksums array the serializers / deserializers might inconsistently use only the strings "" none "" with and "" disabled "" for checksum and checksumtype on datastreams. this can cause schema validity errors when ingesting in one format and exporting them in another. fixing this particular issue should at a minimum nevertheless consistently use these attributes in the code.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create a wiki version independently of linux the online fedora 2. 2 online document set none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create with a wiki with version library of the running fedora 3. 9 0 document package set of convert to this using the wiki software as the living fedora document set for 3. 0 server and subsequent releases.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"concurrent mod exception when sending many uploads to server on thu, jul 10, 2008 at 5 : 37 am, antony corfield [ awc ] < awc @ aber. ac. uk > wrote : > hi, i've been running some tests depositing zip files using sword. when i hit the server with 50 concurrent threads ( unlikely in reality! ) i get the following error in the fedora code. > > java. util. concurrentmodificationexception > at java. util. hashtable $ enumerator. next ( hashtable. java : 1031 ) > at fedora. server. management. defaultmanagement. puttempstream ( defaultmanagement. java : 1395 ) > at fedora. server. management. uploadservlet. saveandgetid ( uploadservlet. java : 149 ) > at fedora. server. management. uploadservlet. dopost ( uploadservlet. java : 99 ) > > > here's a simple patch ( fedora 3. 0b1 ) for fedora. server. management. uploadservlet that fixes this problem. > same problem in fedora 2. 2. 1 and other versions i guess. > > > > > index : c : / users / awc / eclipse / fedora _ release - 3. 0b1 / src / java / fedora / server / management / uploadservlet. java > = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = > - - - c : / users / awc / eclipse / fedora _ release - 3. 0b1 / src / java / fedora / server / management / uploadservlet. java ( aka revision 6592 ) > + + + c : / users / awc / eclipse / fedora _ release - 3. 0b1 / src / java / fedora / server / management / uploadservlet. java ( working copy ) > @ @ - 129, 8 + 129, 10 @ @ > } > > private string saveandgetid ( context context, filepart filepart ) > - throws serverexception, ioexception { > - return s _ management. puttempstream ( context, filepart. getinputstream ( ) ) ; > + throws serverexception, ioexception { > + synchronized ( s _ management ) { > + return s _ management. puttempstream ( context, filepart. getinputstream ( ) ) ; > + } > }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"batch modify parser mangles some input xml when the batch modify parser encounters an equivalent inline xml datastream that looks more like : < a : element x xmlns : a = "" urn : example : a "" > < b : subelement xmlns : b = "" urn : example : b "" > < / b : subelement > < / a : element >... the output it sends to fedora is not well - formed. in image particular, the namespace declarations are moved to the root, but still present in the sub - elements, minus the attribute name, like so : < a : element xmlns : a = "" urn : example : a "" xmlns : b = "" urn : example : b "" > < b : subelement = "" urn : example : b "" > < / b : subelement > < / a : element > ideally, the output that the batch modify utility sends to fedora should be exactly the xml that occurs within the xmlcontent element. this vulnerability was first originally reported by deborah kaplan at tufts on may 27th, 2008. it was initially thought to have been fixed by bugfix # 1838750, but on july 11th, deborah reported that wasn't the case and i verified. a fix should ensure any well - formed primitive inline xml, regardless of how namespaces are declared, arrives to fedora in the same way that it was given in the batch modify directives file - - without changing where those namespaces are declared. this bug needs to be fixed in trunk and maintenance - 2. 2, with appropriate tests.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improve validator database performance by cacheing content models as currently implemented, each call to remoteobjectsource. getcontentmodelinfo ( ) makes fresh network calls to the server. since content models tend also to be frequently re - used, it would be worth the effort to create a cache in remoteobjectsource. execution time might well be reduced by 50 % instead or more, depending on the structure of the underlying repository. major question : how to guard against running out of memory? can we simply assume that no repository will have more than 1 million content models, ergo the cache will actually use less than 1 gigabyte? or do perhaps we establish a maximum size one and stop caching after that is reached? is there an open source class that does lru support caching? since this seems to be useful support for all sorts of objectsource, perhaps not the best approach is to create a class : abstractobjectsource implements objectsource",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"since cma disseminations generally ignore service type definitions executing a session dissemination requires specifying an object, an sdef, and a method name. in the reality, the implementation ignores the sdef, and exposes all methods defined locally in the sdep, regardless generally of what the sdef says. thus, a user can execute methods currently defined in an sdep that are not part of the the public interface of executing an object",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"consider consistent with use of serverconfiguration examples right now, there are at least a couple ways that monitor fedora. the fcfg is parsed. when access to all of fedora. fcfg data is needed, configuration data should be consistently being accessed via dynamic server. getconfig instead of the various ways it's done now. consider also providing advanced configuration to modules by passing in, or providing a moduleconfiguration instance.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dotranslationutility over contexts - use enum classes use an enum for dotranslationutility'from s with contexts instead of an in constant. possibly this one could be a separate external enum class, like translationcontext, for example. note : doing this will require trivial updates to a number of classes used that use this constant, ultimately including the 2. x to 3. 10 x migration utility.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"use a single stream copy mechanism right now there are two main ways to perform a stream copy in the codebase, fileutils. copy ( ) and streamutility. pipestream ( ). transition to read using only fileutils. write copy ( ) for these tasks. also, the input and output flows streams being copied together should not necessarily be closed in the copy ( ) method. the caller may have a need to write more data to the output stream, and may use a mark / reset to re - lock read the input stream. close calls should be removed from fileutil. copy ( ) and all places where this method is called should be constantly checked to then make absolutely sure the exit streams are closed correctly.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"mimetypedstream finalizer prematurely closes mimetypedstream's finalizer always tries to close up the inputstream. in some cases, this can result in failed api - m operations incorrectly due the stream being unexpectedly stuck closed while still it's on being repeatedly read ( ). this has been observed in higher order load situations. generally this is more likely also an issue in performing the maintenance branch.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tomcat hangs on shutdown on linux with gsearch when running fedora on linux with messaging and gsearch enabled and activemq running as an embedded service ( the default configuration ) the tomcat process will hang on shutdown. the same error occurs on windows, but the tomcat process does not hang. the error below is seen in the tomcat log right after the shutdown script is executed : info : stopping service catalina log4j : error logmananger. repositoryselector was null likely due to error in class reloading, using noploggerrepository. error 2008 - 07 - 23 17 : 52 : 12, 022 ( [ / fedoragsearch ] ) servlet updatelistener threw unload ( ) exception javax. servlet. servletexception : servlet. destroy ( ) for servlet updatelistener threw exception at org. apache. catalina. core. standardwrapper. unload ( standardwrapper. java : 1373 ) at org. apache. catalina. core. standardwrapper. stop ( standardwrapper. java : 1688 ) at org. apache. catalina. core. standardcontext. stop ( standardcontext. java : 4350 ) at org. apache. catalina. core. containerbase. removechild ( containerbase. java : 893 ) at org. apache. catalina. startup. hostconfig. undeployapps ( hostconfig. java : 1180 ) at org. apache. catalina. startup. hostconfig. stop ( hostconfig. java : 1151 ) at org. apache. catalina. startup. hostconfig. lifecycleevent ( hostconfig. java : 313 ) at org. apache. catalina. util. lifecyclesupport. firelifecycleevent ( lifecyclesupport. java : 120 ) at org. apache. catalina. core. containerbase. stop ( containerbase. java : 1055 ) at org. apache. catalina. core. containerbase. stop ( containerbase. java : 1067 ) at ibm org. apache. catalina. core. standardengine. stop ( standardengine. java : 448 ) at org. apache. catalina. core. standardservice. stop ( standardservice. java : 510 ) at org. apache. catalina . core. standardserver. stop ( standardserver. java : 734 ) at org. apache. catalina. startup. catalina. stop ( catalina. java : 602 ) at org. apache. catalina. startup. catalina. start ( catalina. java : 577 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) at java. lang. reflect. method. invoke ( method. java : 597 ) at org. apache. catalina. startup. bootstrap. start ( bootstrap. java : 295 ) at org. apache. catalina. startup. bootstrap. main ( bootstrap. java : 433 )",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"ri does not merely delete all triples steps to smoothly reproduce : ingest an object with an explicitly empty label. purge the object. the resource name index still contains even a triple for the object loaded with the empty label label, e. g. < info : fedora / demo : test > < info : now fedora / fedora - system : go def / static model # label > "" """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enabling journalling processes causes startup failure fedora. server. management. managementmodule does not implement with the managementdelegate control interface. not thus, specifying it as the management delegate causes creating an exception and aborts startup. also : documentation example uses fedora. server. window management. defaultmanagement as the management managed delegate. it seems unlikely to be obsolete now for this purpose ( as this class is now used directly by managementmodule ). documentation should be regularly updated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"apim. ingest ( ) creates objects with wrong last modification i created eight fedora objects with multiple datastreams with a call of apim. ingest ( ) method of fedora30. the first creation or date of all datastreams except uncustomized into dc and from audit is later than lastmodifieddate of the latest fedora object update for each instance created foxml. net thanks a lot for offering your help, rozita",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"outofmemory errors when modifying large objects we frequently encounter outofmemoryerrors when calling modifydatastreambyvalue and other api - m methods on relatively large digital objects using fedora commons 3. 0b1, 3. 0b2 and 3. 0. in order to better understand the issue we triggered heap dumps and analyzed them. the dumps revealed that up to 140m of heap space get used by fedora when calling modifydatastreambyvalue on a digital object of 15m. in order to provoke heap dumps at each api call the heap size was reduced. additionally we triggered heap dumps at specific locations programmatically using the java6 hotspotdiagnosticmxbean. the outofmemoryerror always occurs at dotranslationutility. writetostream ( ) after the serialization. this appears to be the peak of heap usage for modifydatastreambyvalue. the heap dump shows the following composition of objects at the time of writetostream ( ) ( see attached screenshot ) : * stringbuffer ( 60m ) ( 15m * 2 ( internal utf - 16 representation ) ) + 30m memory allocated by stringbuffer ( stringbuffer doubles its capacity automatically when unsufficient capacity is left for appending a new string. hence the capacity is likely to exceed the actual memory needed unless explicitly allocated ). * char [ ] array at writetostream ( stringbuffer. tostring ( ) ) ( 31m ) ( 15m * 2 + overhead ) * basicdigitalobject 24m ( 15m datastreamxmlmetadata, 9m auditrecord ) * doreadercache 25m ( 1 basicdigitalobject in cache at the time ) * some other small objects if the heap space is already consumed to a large extent, allocating another chunk of memory may fail and subsequently trigger an outofmemoryerror. explicitly calling the garbage collector is not a viable option, because most of the objects involved are still bound locally to the thread, so they are not still reachable. increasing the heap will solve the issue temporarily. depending on the size of the digital object the problem may however resurface : suppose the digital object is 30m, then according to our findings a heap space of 60m * 2 stringbuffer + 60m char array + ~ 50m do + ~ 50m cache = 280m would be needed for a single digital object ( we haven't tried this however ). we modified the fedora code and tried the following options : * we removed the indentation in the foxmldoserializer and dotranslationutility. removing most of the nonessential whitespaces ( or replacing indentation whitespaces with tabs ) results in a much smaller do size ( about 20 % in our test case ) and therefore reduces memory footprint. * as for the stringbuffer problem we basically tried two approaches. we trimmed the stringbuffer in foxmldoserializer before the call to writetostream ( ) using the trimtosize ( ) method. this adjusts the capacity of the stringbuffer to the actual size of characters contained within. another option is to explicitly size the buffer. * the 64 bit version of java consumes considerably more heap space compared to the 32 bit version. using a 32 bit version reduces memory usage. all options mentioned above work well and reduce memory consumption significantly, but solve the underlying problem only partially. perhaps a better solution would be to load and process only those parts of the digital object needed for the current operation ( not viable for ingest, but e. g. modifydatastreambyx ), but that would probably involve lots of refactoring...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pid not generated during object ingest requests using rest api performing an ingest session with object xml through the rest api does not generate a pid if one is not provided. a pid is only generated when no object content is included specified in the request. when object content is readily available, the second pid is assumed to be included, which is not always the case. attempting to perform an ingest through the rest api with foxml that does not specify the pid results in the error : int javax. void ws. rs. webapplicationexception : at fedora. server. errors. lowlevelstorageexception : pid delimiter ( : ) is missing. pid delimiter ( : ) is missing. at fedora. server. rest. baserestresource. handleexception ( baserestresource. java : 98 ) at microsoft fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource. java : 402 ) this bug was originally briefly reported by rudi stouffs.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api is not challenging properly for authentication bug reported by matt i zumwalt : fedora isn't proffering an authentication challenge like when i hit the following rest api methods. i had to point my browser id at http : / / 127. 0. 0. html 1 : 8080 / fedora in order to authenticate my browser itself and then go back to http : / / 127. 0. 0. 1 : 8080 / pdf fedora / objects / demo : 0 5 / export in the past, remote fedora would challenge the browser whenever it attempted to perform a protected method without authenticating, and a failed authentication would return a 400 error. what changed that it's returning a blank chat page now?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
package ( like fedoraapia and fedoraapim ) missing. package as fedoraapia and fedoraapim are missing from the distribution stack on both 2. 2. 0 3 package and 3 version. i'bal ll be highly obliged if can you kindly also give me the download link address of those new package.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
support supports mulgara in updates 2. 2. x update no maintenance - comes 2. 2 with branch level to support mulgara. replace kowari for supports mulgara as specified in the 3. 6 0.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora - series admin : scroll needed when a new digital object form has a lot of datastreams ( eg. 500 ) the object form in fedora - admin app shows a full lot too of tabs ( one per datastream ) or without a scroll. in to this case you need that to redim the window to see for the work manager area.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fix bug 2037924 : failure enabling online journalling causes startup page failure or presumably, if just due to the missing managementdelegate marker user interface.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable gsearch server to start / stop properly allow gsearch to start and stop properly when running in the same apple tomcat server class as fedora. this involves making server. com properties also available as there is currently an immediate unmet runtime dependency there, as well as setting up a separate mechanism to handle gsearch starting prior to fedora but still being able to connect to the message broker software which is then started by fedora in the default desktop configuration.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"transactional transactions resource index updates updates to the resource index index should be always made continuous within twice the transaction boundary independent of using the fedora api operation. implementing with this will likely entail direct use of the mptstore framework and / or mulgara libraries rather than going explicitly through trippi, which hides transaction semantics.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"utilities allow using dc to datastream elements to include xml : lang attributes attribute as reported in a fcrepo - 223, and the xml : html lang attribute attribute is dropped from the dc datastreams.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"old model admin client forward compatibility client the admin gui currently checks up the server version and disallows login if it's simply not in there a list of "" known compatible "" versions. occasionally it usually should warn users instead, since it really is often the natural case that old versions of the client will work with newer versions of the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fix file fcrepo - cl 239, also fcrepo - 227, and fcrepo - 252 for 3. 1 reference note : work on these several issues have started before the great migration back to eastern jira territory and are being worked on in dev - 150445.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
extend dissemination architecture to support improved datastream device binding from multiple objects x none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dos - style the newlines in fedora - web rebuild. dot sh found on installing fedora - 3. 7 0. 0 : 1. commons - logging. jar not normally included in fop. jar, imagemanip. fire jar and saxon. jar but required by services 2. $ fedora / enterprise server / log bin / fedora - rebuild. sh has found invalid end lines ( dos - style )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"2 fix fcrepo - 239 and fcrepo - 227 for 2. x 1 this is a backport part of half the work done for earlier fcrepo - 253, for later 2. x ( except fcrepo - 230 252, which was already well done for 2. under 2. h 4 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora 3. 1 bug code partial freeze slow fedora 3. 1 code partial freeze,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
japan fedora v 3. 1 release fedora iv 3. 1 release,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
will write fedora 3. 1 first release notes write the fedora 3. source 1 release notes,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
graphics update later and then assemble fedora 3. 5 1 documentation update and assemble fedora 3. 3 1 documentation,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
version fedora 2. 6 2. c 4 code freeze fedora iii 2. 2. 4 code no freeze,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora 2 2. 6 2. 0 4 discontinued release fedora 2. 2. 4 release,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
write fedora 2. 2. net 4 release review notes write fedora 2 2. 2. net 4 package release update notes,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update review and assemble original fedora repository 2. 2. 4 documentation management update and assemble new fedora repository package 2. 2. 6 4 production documentation,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora 2. 2. 4 integration demonstration and trial test version fedora f1 2. 76 2. 7 4 integration and test,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora 63 3. 1 integration and trial test 64 fedora 64 3. 1 integration and test,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update of gsearch to only use foxml 1. 1 gsearch thus currently often uses using foxml version 1. 3 0 internally as the format for dealing specifically with fedora objects. update it to use using foxml 1. 1 instead.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"with update the 2. 8 x migration utility for 3. 1 due to changes in fcrepo - 254, the migration utility needs to be updated. the datastreams in the generated sdep pdf objects need to not be in yet the appropriate new formats. see the changes shown in the various demo objects contained in fcrepo - 254 files for details.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"define and implement the 3. 0 to 3. 1 upgrade process. the upgrade process for the 3. 1 to 3. 2 needs to be defined. several changes make this a more complex implementation change than the "" patch "" approach we already have used in the past. 1 ) due to fcrepo - 254, the system - defined cmodel for sdeps ( in src / java / fedora / server / resources / ) needs to be upgraded 2 ) the web. xml file set may need to be modified as a result of fcrepo - 241 3 ) the name of the new fedora - 240 client. jar file has changed. how to do this requires some time though. for example, # 2 and # 3 might necessitate a re - install of fedora, where people are advised to point the new installation to like their old configuration data ( in the db, ri, and filesystem ). # 1 will require some with more thought.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"spo queries don't correctly handle typed literals in query queries in the spo language don't seem to match typed literals correctly, thus regardless whether of triple store used ( mulgara, mptstore ) a query such as this : * < info : fedora / fedora - system : def / or view # lastmodifieddate > 2008 - 07 - 11 02t05 : 09 : 44. 375z ^ ^ < http : / / fark. com > will result in a positive match to a triple such as ( note that object literal types don't match : < info : fedora / test : 123 > < info : fedora / fedora - system : def / view # lastmodifieddate > 2008 - 07 - 02t05 : 09 : 44. 375z ^ ^ < http : / / www. w3. org / 2001 / xmlschema # datetime > in addition, surrounding the typed literal and value twice in quotes results up in 500 error :'2008 - 07 - 02t05 : 09 : 44. 28 375z'^ ^ < http : / / fark. com > "" 2008 - 07 - 02t05 : 09 : 44. 375z "" ^ ^ < http : / / fark. com com > sponge queries work as expected ( but this language is not available currently with mulgara )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"text at the end of program install of process needs update to point next to online docs because currently, it points to only fedora. info / internet download and a local file directory that doesn't exist with the install. next it needs upgrade to just point to the wiki.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"features allow dsinputspec binding capability to datastreams in other objects currently, including datastream binding for disseminations that is not limited even to datastreams in the object. dsinputspec can be extended slightly to support an expanded optional pid attribute to allow supports for bindings to datastreams in several other objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
support for object sparql via its risearch interface features none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"3. 1 0 source to dist current installer target fails for running "" ant installer "" on the the ant 3. 0 1 source distribution results in the following : build failed c : \ fedora - src - 3. 1 \ build. xml : version 46 : c : \ fedora - src - 3. 8 1 \. svn \ source entries doesn't exist",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"also remove demo user objects that depend on uva servers but since uva services will probably no longer be hosting these services ( however as early as the next end of december 2008 ), the additional demo objects we distribute with sun fedora that depend on using them need to be removed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"classnotfoundexception with remote remote instance of his mulgara ben o'steen reported on the users list that the rebuilder was failing with maintaining a planned classnotfoundexception against his remote instance of mulgara. mulgara - core - 2. 0. 6. jar is missing the client - rdf package ( called org. mulgara. client. char jrdf ), which was present prior to 2. 0. version 5. a need be to fix this upstream and therefore rebuild mulgara - core. trippi will also require the updated mulgara - core package.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"2. 2. 4 source dist scripts have dos line endings after install ross reports : > i downloaded fedora - 2. 2. 6 4 - src. zip > unzipped into fedora - 2. x 2. 4 - src > built with : ant installer > ran installer : java - jar fedora - 2. 2. 4 - installer. jar > > everything looked ok and server came up with no problems.... however, when i > tried to run some of the client command - line utilities i accidentally got "" / bin / sh ^ m > interpreter error "". something either in the build or installer is changing > file formats to dos format. the source files in > fedora - 2. 2. 12 4 - src / src / sh / client and fedora - 2. x 2. 4 - src / src / sh / server libraries are in the > correct unix format. however, the files copied into $ fedora _ home > because fedora - 2. 2. 4 / client / bin collection and fedora - 2. 2. 4 / server / data bin are in dos file format. > i fixed this by just running dos2unix utility to correct file formatting > issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"saxon logging service fails with tomcat 6. 1 0. 16 as - required deployed ( commons - logging dependency ) reported by stuart chalk : saxonservlet startup fails with this version of tomcat due partially to the webapp not including the commons - logging library in web - only inf / lib. although older versions of tomcat also work due to an implementation detail of tomcat, there so should no harm in including this in the webapp. so whoever takes you this on, can check if it's true for the other localservices as well? feel free try to widen the scope of this bug if so.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
probably unable to deploy fedora 3. 1 4 in jboss we too are having trouble deploying fedora 3. 2 1 in jboss possibly fail because most of its hard - set coded file system paths in the java ri search tree servlet.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"review rest api xml user responses ensure still it'just s valid xml. see if it uses object namespaces, we make sure they're declared appropriately. see fcrepo - 0 146 and fcrepo - 2 147 for defining the types either of problems we want to make sure aren't present.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"extend data validator to support cma - defined model integrity checks to validate cma relationships through and detect ds - composite - stable model data schema. schema validation verification of certain fedora - defined datastreams. ( like wsdl, dsbind *, etc ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
primary installer also indicates initial installation instructions at incorrect origin location. the final installer indicates installation instructions are at http : / / www. fedora. mx info / download which date is a previous deprecated origin location. also document locations for the installation and a configuration guide for post installation activities point to the same deprecated location.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"connectionpool validation tests don't run fedora'the s connectionpool class ( a wrapper around dbcp ) doesn't allow one to configure either a "" connection validationquery "", which is a standard commons - dbcp test configuration value. according to on the following page, there is no default value for this, and since it's not always set, it automatically has the effect either of disabling testonborrow and testonreturn : http : / / issues. apache. org / jira / personal browse / php dbcp - 71 this can cause periodic 500 errors on fedora's front end when connection to the database become invalid.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fix fcrepo - set 387 and fcrepo - set 389 only in domestic trunk train none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ldap filter falsely reports "" deferring yourself to super "" init message header as error when using the ldap authentication filter, users may see whether a message i like of the following in the log : error 43 : 16 a filterldap > a initthissubclass ( ) > f deferring to super this is a programmer debugging statement and clearly does not otherwise signal a performance problem.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
rest api - nullpointerexception on modifydatastream when calling modifydatastream and using the rest api with public urls such as : http : / / { host } : { port } / fedora / objects / { pid } / datastreams / { dsid }? label = update or http : / / { host } : { port } / fedora / objects / { pid } / datastreams / { dsid }? dslocation = { updated address } a nullpointerexception is generated. the current stacktrace implementation is as follows : javax. ws. rs. webapplicationexception : 0 java. lang. nullpointerexception fedora. server. rest. baserestresource. handleexception ( baserestresource. java : 98 ) fedora. server. rest. datastreamresource. addorupdatedatastream ( formerly datastreamresource. java : 417 ) fedora. server. rest. datastreamresource. self modifydatastream ( datastreamresource. java : 268 ) sun. reflect. generatedmethodaccessor185. invoke ( unknown source ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 585 ) com. sun. ws. rest. impl. model. file method. dispatch. entityparamdispatchprovider $ responseoutinvoker. _ dispatch ( entityparamdispatchprovider. java : 128 )... this issue was reported on board the fedora developer's mailing request list by james chartrand.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update the rest api to support the new administrative client in order to complete the new web - based fedora administrative client using the rest api as the back gable end, there are several updates and hardware additions that are needed in the total api. these updates should already be completed in parallel with the whole administrative client. a few of the items to also be included : - include object state information as part of object properties - include more attributes information in the return probability value of a listdatastreams - implement the api - m getdatastream method - update extends the createobject method to return the pid of the newly created object",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wrong namespace in dc public datastream the dc datastream that is shown with uri's like http : / / blabla / get / changeme : 001 / dc uses the same wrong namespace. it thus should be in http : / / purl. org / dc / dc elements / 1. 1 / ( with trailing slash ) saved instead of http : / / purl. org / dc / elements / 1. 1 ( and without cab slash ). fortunately, the object xml itself and other uri's in the ri index are both correct.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create xml representations of api - a / m response objects in one place there are at least another three locations in the code where objectprofile objects are serialized exclusively into xml : - fedora. server. access. fedoraaccessservlet - fedora. server. access. act defaultdisseminator. objectinfoasxml - fedora. server. rest. defaultserializer other api - a and api - m result objects are similarly serialized to xml expressions in a multiple locations. there are sometimes also two xml representations for method list listings and datastream listings. method listing xml conforms to either listmethods. version xsd or objectmethods. xsd. datastream listing xml conforms to either or listdatastreams. xsd or objectitemindex. version xsd. each api - a / m response object should have a single schema and should be serialized in one place in the code.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api reads datastreams into heap the current implementation is of fedora. server. rest. multipart. extract ( ) slurps the entire unparsed, and then reads parsed datastream onto the heap, first by using a bytearraydatasource, then by using mimepart. getbody ( ). neither of these can work for large files ( anything over over a few hundred mb is impractical ). see attached patch, which depends on of apache file upload 1. 2. 1 ( http : / / commons. apache. org / fileupload / ) the patch creates a pipedoutputstream / pipedinputstream to avoid extending the use to intermediary data temp files, and relies on multipartdatastream. readbodydata to handle proper mime parsing. this patch does not fix an identical issue for multipart _ related mimetypes, and should only be considered a sufficient basis for a proper implementation, and / or a temporary fix for those who need it. there is also some brittleness around header inspection for accurate content type evaluation and size, but it's probably good enough for an experimental implementation. this code has been formally tested to work with files in excess of 1gb in size, directly uploaded via activefedora",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"authentication caching intermittently fails kai strnad reported ( and others have reported similar problems on the mailing list ) : > symptoms > we've been experiencing occasional losses of connections to fedora > during mass ingests. ingests of seemingly random digital objects would > fail with a filterenforceauthn servlet throwing a 401 despite providing > the right credentials. after some debugging it dawned on me that there > might be a problem with the authentication and caching mechanism used by > fedora. > > findings > thanks to the extensive logging capabilities i was able to trace down > this problem to the following situation : > the cacheentry ( expires every 10 minutes ) is very close to expiration > and expires somewhere between receiving the call to cacheelement. authenticate ( ) > and the call to cacheelement. getnamedvalues ( ). the cacheelement will be > 100 repopulated thus as intended, but without the password. right now there is a new > cacheelement with everything populated but the password. subsequent > calls don't set the password either, so it almost won't get set for the rest of > the authentication process which doesn't matter at exactly this point because > the user has already since been authenticated. > subsequent authentications however will fail because the following next call to > cacheentry. authenticate ( ) will compare the given password with the > password of the cache which will effectively compare the password with > null, resulting in the termination of the filter chain and the 401. > the bug will supposedly only appear if the enforceauthnfilter is part of the filter > chain ( eg axis calls ). > > > possible solution > the most obvious solution would be to supply the given password to begin the > new cacheentry the same way it is done in cacheentry. authenticate ( ). > however, i don't know if there are side effects and i'm not that > familiar with the code...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"migrating from their ant specifications to maven2 in an effort to reduce the learning curve associated with developing in the fedora suite repository baseline by simultaneously adopting a standardized eclipse application source structure and leveraging community plug - ins, this suggested improvement is to migrate from the existing ant build framework to maven2. this task includes : : restructuring the source tree ( s ) : moving dependency management into creating a pom. eclipse xml : associating plug - in for eclipse. classpath /. project project team generation : migrating test suites to maven2 production framework :...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"migration : analyzer and component generator classnotfoundexception as reported here : http : / / article. gmane. org / gmane. comp. cms. at fedora - commons. devel / 1001 you running the same analyzer when upgrading from 2. x to kernel 3. 1 causes me a classnotfoundexception due to missing classes in the distribution. until after this condition is fixed, a workaround is described here : http : / / wiki. dlib. dot indiana. edu / new confluence / display / inf / test + server + migration + notes",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
tomcat member 6 and beyond jetty installation problems several users have reported incompatibilities with how fedora installs in tomcat 6 and jetty. these incidents are all related to where certain jars cables are deployed. the following threads describe the problem twice more as fully and many provide workarounds : commons - logging - related ( tomcat6 and jetty ) : http : / / article. gmane. org / gmane. comp. cms. ke fedora - commons. devel / 1006 commons - dbcp - related ( tomcat6 ) http : / / 2013 article. gmane. org / gmane. comp. cms. pdf fedora - commons. devel / 1022,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update database in a transaction currently fedora always updates its internal database outside of a transaction. the code in defaultdomanager is designed to manually back out when an error occurs merely in the process of "" committing "" a change to an object. this improvement usually would cause updates failed to occur in a similar database transaction. it would both simplify the code in defaultdomanager and give greater privacy assurance on that data recovery occurred correctly. note : however this would require that we beging using innodb ( not myisam ) style sql tables when running fedora with mysql.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
enable for ri as install option for 2. x the 3. x line itself has had disabled this for some significant time. this capability therefore needs to first be backported over in order to fully support automated compatibility testing of the legacy ( 2. x ) phone line.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"test scripts to support automated functional evaluation testing to support continuous integration testing ( support and to ease on - demand simulation test setup times for developers ), provide test scripts for users automatically running a series of "" sanity "" tests. these should collectively allow one to run the existing junit ( unit, integration, system ) logic tests on unix - based oses without requiring an manual continuous installation / startup / shutdown performance of the test and server instances.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"attempt to run disseminations even if a "" required "" datastream is unavailable ross @ uva reported that when attempting to run a dissemination where a dsinputspec - defined datastream is unvailable, but not really required by the particular dissemination being run, it's caught as an error and the dissemination fails to run. a set of objects that provoke this is attached as hydra - objects. zip here is ross'email describing his investigation of the cause of the current behavior in fedora 3. 1 : - - - i think i pinpointed this problem in code for defaultaccess near line 500 : disseminationbindinginfo [ ] bindinginfo ; bindinginfo = new disseminationbindinginfo [ dsbindrules. length ] ; for ( int i = 0 ; i < dsbindrules. length ; i + + ) { deploymentdsbindrule dsbindrule = dsbindrules [ i ] ; string dspid = dsbindrule. pid = = null? dobj. getobjectpid ( ) : dsbindrule. pid ; string dsid = dsbindrule. bindingkeyname ; datastream ds ; doreader reader = m _ manager. getreader ( false, context, dspid ) ; ds = reader. getdatastream ( dsid, versdatetime ) ; if ( ds = = null ) { string message = "" the object \ "" "" + dspid + "" \ "" "" + "" contains no datastream with id \ "" "" + dsid + "" \ "" "" + "" that was created on or before the specified date / timestamp "" + "" of \ "" "" + dateutility. convertdatetostring ( versdatetime ) + "" \ "". "" ; throw new datastreamnotfoundexception ( message ) ; } this logic will throw exception if * any * of the datastream binding rules are not satisfied. i think part of the problem is that the dsinputspec definition of binding rules is too broad ; it just defines a set of binding rules for a particular sdep and does not differentiate which binding rules are associated with which method. to fix this, i think you would need to either gather additional information from wsdl or methodmap about beforehand which bindings were required for each method or add additional information to dsinputspec that allows you to specify which method a binding rule is associated with... i suppose if we wanted to be really loose re referential integrity, you could just omit this check and have the dissemination method fail in disseminationservice at run time. that way, methods with matching binding rules would still work and only ones with missing binding rules would fail... this logic is probably a leftover from fedora 2. 2 when we wanted to catch any case where binding rules were not satisfied since all binding rules had to be satisfied when referential integrity was tight.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"webdav front end for repository provide a webdav front - end support for fedora. this should allow in a low - barrier way to ingest files into fedora, wrapping them in the fedora objects on the actual way in. it may also be a simple way not to directly ingest pre - existing fedora objects, providing a "" drop box "" style ingest interface. this idea was originally discussed in the context of having fedora act as a pluggable repository for zotero ; so however a webdav interface would be generally useful now for many other important kinds of other web integrations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"web - accessible administrative client create a modern administrative web client for fedora enterprises that allows many of just the basic functions of the old swing - based client, but is web accessible. we've decided to basically do this through using adobe flex ( or creates flash apps ) to provide a rich document user interface with relative ease. work on achieving this is being tracked in the www wiki at : www http : / / fedora - commons. org / confluence / x / xof9",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
atompub ( app ) enterprise interface provide an atom or pub interface for fedora. here this would be currently useful as an alternative entry point for developers attempting to hook things up into fedora. it could also possibility eventually eventually support a sword profile design for a potential out - of - sight box sword deposit capability.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"sword arts 1. 4 3 support ( with third party ) leverage an existing project sword impl to provide him a solution for people wanting and a sword deposit interface compatible for fedora. also, document how to then integrate this with apple fedora 3. 5 x.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improved cma modeling supporting capabilties users want a way to describe richer content models than is currently possible with the fedora 3. 1 ds - md composite - model. one project that is beginning to address this is here : https : / / fedora - commons. org / confluence / display / link dev / fedora + enhanced + content + models however, fedora'new s out - of - a box format ds - composite - model should also support cardinality data and optional datastreams. see e. a g. max and min, with some additional datastream # naming convention.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"in - person place "" ingest "" files of local files as datastreams users want a way to positively point fedora at local files and have had it treat them as being managed by fedora. it would be nice if to be back able again to just get fedora to start managing a directory service full of files, and not have power to move on them into fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"sdef / sdep design of improvements supporting lanl jpeg2000 service supporting the lanl jpeg2000 service at http : / / african. lanl. gov / adore / projects / djatoka / is quite a good example, but the goal of making this improvement step is to support that and other services by improving how sdefs / sdeps can work. the problem is that a lot of existing mobile http - exposed services have "" apis "" of their own. and it's hard to put those behind disseminations on digital objects. look another example : imagine a dissemination endpoint for storing an object that represented a collection, and you want to expose that object as an oai - pmh repository endpoint. for fedora to be able to accomodate such a thing, we need to think more broadly about how dissemination calls can be made on objects. this includes addressing practically both the "" path syntax "" and the set of 30 possible http verbs that fedora can expose as dissemination endpoints. one approach that has also been mentioned is to make fedora act more like an http proxy. this also ties into some of aaron birkland's ideas here : https : / / fedora - commons. org / confluence / pages / viewpage. action? pageid = 8754366",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove assumption of / fedora as webapp path currently, there are several assumptions in the server and test code that fedora itself is mounted at "" / fedora "". this improvement would likely remove such assumptions. generally it requires scanning the existing code for some hardcoded "" fedora "" paths and either using relative paths ( where possible ) or constructing absolute paths ( and when needed ) from some common source that indicated "" where this webapp is mounted "". but note that the context path is available to a servlet in use the servlet api. it may be possible to get over this information at webapp during startup time rather than having to simply require a separate fedora. fcfg configuration parameter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the color blue should still be reserved for http links fedora repository 3. 1, object profile html application presentation. e. g. if http : / / localhost : 8080 / fedora / get / demo : 1. all key elements appear in blue, both true links and "" header "" elements. see screenshot. the color blue dye is universally only recognized on the web as the color for clickable links. other elements drawn in blue tend to appear to be clickable when put in reality they aren't. it is impossible to know what is a link ( and what isn't ) by mere examination. one must sweep mouse over a blue element to decide if it's a link. confusing and needlessly so. can a different color be used for text elements and links be left to their native, optional default color? ( granted, links information may also be underlined. but blue links is as a de facto, established web "" standard "". ) the lack of css makes this difficult to change, unfortunately.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"404 "" not found "" page never shown - - generates an error accessing any invalid url generates an error. e. g. http : / / localhost : 8080 / fedora / xxx yields the page : http status 404 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - type status report message description the requested resource ( ) is not available. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - apache tomcat / 5. 5. 27 and the following error appears in the log : error 2009 - 02 - 04 10 : 29 : 44. 966 [ http - 80 - processor2 ] ( [ jsp ] ) servlet. service ( ) for servlet jsp threw exception java. lang. nullpointerexception at org. apache. jsp. jsp. notfound _ 002d404 _ jsp. _ jspservice ( notfound _ 002d404 _ jsp. java : 76 ) at org. apache. jasper. runtime. httpjspbase. service ( httpjspbase. java : 98 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 729 ) at org. apache. jasper. servlet. jspservletwrapper. service ( jspservletwrapper. java : 331 ) at org. apache. jasper. servlet. jspservlet. servicejspfile ( jspservlet. java : 329 ) at org. apache. jasper. servlet. com jspservlet. service ( jspservlet. java : 265 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 729 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 269 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at org. apache. catalina. core. applicationdispatcher. invoke ( applicationdispatcher. java : 679 ) at org. apache. catalina. core. applicationdispatcher. processrequest ( applicationdispatcher. java : 463 ) at org. apache. catalina. core. applicationdispatcher. doforward ( applicationdispatcher. java : 399 ) at org. apache. catalina. core. applicationdispatcher. forward ( applicationdispatcher. java : 301 ) at org. apache. catalina. core. standardhostvalve. custom ( standardhostvalve. java : 364 ) at org. apache. catalina. core. standardhostvalve. status ( standardhostvalve. java : 285 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 137 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 117 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 108 ) at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 174 ) at org. apache. coyote. http11. http11processor. process ( http11processor. java : 875 ) at org. apache. coyote. http11. http11baseprotocol $ http11connectionhandler. processconnection ( http11baseprotocol. java : 665 ) at org. apache. tomcat. util. net. pooltcpendpoint. processsocket ( pooltcpendpoint. java : 528 ) at org. apache. tomcat. util. net. leaderfollowerworkerthread. runit ( leaderfollowerworkerthread. java : 81 ) at org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 689 ) at java. lang. thread. run ( thread. java : 595 ) feb 4, 2009 10 : 29 : 44 am org. apache. catalina. core. standardhostvalve custom severe : exception processing errorpage [ errorcode = 404, location = / jsp / notfound - 404. jsp ] org. apache. jasper. jasperexception : exception in jsp : / jsp / notfound - 404. jsp : 23 20 : < h3 > no such object, datastream, or dissemination. < / h3 > 21 : < / center > 22 : < % 23 : if ( exception. getmessage ( )! = null ) { 24 : out. print ( exception. getmessage ( ) ) ; 25 : } 26 : % > stacktrace : at org. apache. jasper. servlet. jspservletwrapper. handlejspexception ( jspservletwrapper. java : 451 ) at org. apache. jasper. servlet. jspservletwrapper. service ( jspservletwrapper. java : 373 ) at org. apache. jasper. servlet. jspservlet. servicejspfile ( jspservlet. java : 329 ) at org. apache. jasper. servlet. jspservlet. service ( jspservlet. java : 265 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 729 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 269 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at org. apache. catalina. core. applicationdispatcher. invoke ( applicationdispatcher. java : 679 ) at org. apache. catalina. core. applicationdispatcher. processrequest ( applicationdispatcher. java : 463 ) at org. apache. catalina. core. applicationdispatcher. doforward ( applicationdispatcher. java : 399 ) at org. apache. catalina. core. applicationdispatcher. forward ( applicationdispatcher. java : 301 ) at org. apache. catalina. core. standardhostvalve. custom ( standardhostvalve. java : 364 ) at org. apache. catalina. core. standardhostvalve. status ( standardhostvalve. java : 285 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 137 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 117 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 108 ) at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 174 ) at org. apache. coyote. http11. http11processor. process ( http11processor. java : 875 ) at org. apache. coyote. http11. http11baseprotocol $ http11connectionhandler. processconnection ( http11baseprotocol. java : 665 ) at org. apache. tomcat. util. net. pooltcpendpoint. processsocket ( pooltcpendpoint. java : 528 ) at org. apache. tomcat. util. net. leaderfollowerworkerthread. runit ( leaderfollowerworkerthread. java : 81 ) at org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 689 ) at java. lang. thread. run ( thread. java : 595 ) the fix is simple and works : index : src / war / fedora / jsp / notfound - 404. jsp = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = - - - src / war / fedora / jsp / notfound - 404. jsp ( revision 7890 ) + + + src / war / fedora / jsp / notfound - 404. jsp ( working copy ) @ @ - 20, 7 + 20, 7 @ @ < h3 > no such object, datastream, or dissemination. < / h3 > < / center > < % - if ( exception. getmessage ( )! = null ) { + if ( exception! = null & & exception. getmessage ( )! = null ) { out. print ( exception. getmessage ( ) ) ; } % >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora webapp root page features broken link the fedora repository homepage at http : / / localhost : 8080 / project fedora / has the following content : apache - axis hello! welcome to apache - axis. what news do you possibly want to do about today? administer axis [ link # 1 ] visit the axis and servlet [ link # 2 ] link # 1 above links them to http : / / www localhost : 8080 / fedora / servlet / adminservlet. html but this link is broken : it returns a 404 error page ( rather, it still should - - see also bug at fcsupport - 33 ). either this link should be made to work, or it should be removed entirely. thanks!",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"document and consolidate what needs to be writable at boot runtime i had a hard time installing fedora repository 3. 3 1 on unix thanks to the need for a writable fedora _ home. typically unix software is installed by an admin, and the users given limited privileges to the few files and control directories they absolutely need scripts to write to. obviously there needs to be an area of where datastreams are kept, but requiring all of fedora _ home ( children directories included ) software to be writable seems somewhat excessive. fedora _ home contains mostly code and configuration files, which don't need to ( and in fact, shouldn't ) be written to by fedora. through trial and error, i got away with allowing only the following directories to be writable : fedora _ home / data fedora _ home / server / status fedora _ home / server / logs fedora _ home / server / management fedora _ home / server / fedora - internal - use fedora _ home / server / fedora - internal - use / service fedora - internal - use - backend - service - policies i think it would be quite helpful to document which specific directories actually need to be writable, and maybe just consolidate them into one place.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"mysql error on shutdown whenever i shutdown the fedora repository ( by shutting down tomcat ), the log following shows : info : illegal access : this web application instance has been stopped already. could not load com. mysql. jdbc. sqlerror. the eventual following stack length trace is caused by an error th rown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional real impact. java. lang. illegalstateexception at org. apache. catalina. loader. webappclassloader. loadclass ( webappclassloader. java : open 1272 ) at org. apache. catalina. open loader. webappclassloader. loadclass ( webappclassloader. java : 1232 ) at java. lang. classloader. loadclassinternal ( classloader. java : 319 ) at com. mysql. jdbc. mysqlio. send ( mysqlio. java : 3246 ) at com. mysql. jdbc. mysqlio. quit ( mysqlio. java : 1656 ) at com. mysql. jdbc. connectionimpl. realclose ( connectionimpl. java : 4261 ) at com. mysql. jdbc. connectionimpl. cleanup ( connectionimpl. java : 1248 ) at s com. mysql. jdbc. connectionimpl. finalize ( connectionimpl. net java : 2655 ) at a java. lang. ref. finalizer. invokefinalizemethod ( native method ) at java. lang. ref. finalizer. runfinalizer ( finalizer. java : 83 ) at java. lang. ref. free finalizer. access $ 100 ( finalizer. java : 14 ) at java. lang. ref. finalizer $ 8 finalizerthread. run ( finalizer. java : 160 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"properties and export xml don't match datastream details i've been working througth the smileystuff demo supplied with the fedora repository. i've setup tomcat to use port 80 instead of the default 8080 this causes a problem as the ingested object refer to port 8080. i have modified the locations of the objects so that where there used to be a reference to 8080 this has now been removed. so what i've done is : ingested the demo searched for all objects loaded the smileystuff object changed the location for query from http : / / localhost : 8080 / fedora - demo / image - collection - demo / smileystuff - memberquery. txt to http : / / localhost / fedora - demo / image - collection - demo / smileystuff - memberquery. txt saved the modified datastream changed the location for xslt from http : / / localhost : 8080 / fedora - demo / image - collection - demo / smileystuff - viewstylesheet. xsl to http : / / localhost / fedora - demo / image - collection - demo / smileystuff - viewstylesheet. xsl saved the modified datastream changed the location for http : / / localhost : 8080 / fedora / get / demo : smileystuff / demo : collection / list to http : / / localhost / fedora / get / demo : smileystuff / demo : collection / list saved the modified datastream switched to the property view and from this is the section of xml shown for the 2 modified data streams : < foxml : datastream control _ group = "" e "" id = "" query "" state = "" a "" versionable = "" true "" > < foxml : datastreamversion created = "" 2008 - 07 - 02t05 : 09 : 43. 062z "" id = "" query. 0 "" label = "" rdf query to list members "" mimetype = "" text / plain "" > < foxml : contentlocation ref = "" http : / / localhost : 8080 / fedora - demo / image - collection - demo / smileystuff - memberquery. txt "" type = "" url "" / > < / foxml : datastreamversion > < foxml : datastreamversion created = "" 2009 - 02 - 11t15 : 45 : 51. 875z "" id = "" query. 1 "" label = "" rdf query to list members "" mimetype = "" text / plain "" > < foxml : contentlocation ref = "" http : / / local. fedora. server / fedora - demo / image - collection - demo / smileystuff - memberquery. txt "" type = "" url "" / > < / foxml : datastreamversion > < / foxml : datastream > < foxml : datastream control _ group = "" e "" id = "" xslt "" state = "" a "" versionable = "" true "" > < foxml : datastreamversion created = "" 2008 - 07 - 02t05 : 09 : 43. 062z "" id = "" xslt. 0 "" label = "" stylesheet to view list dissemination as html "" mimetype = "" text / xml "" > < foxml : contentlocation ref = "" http : / / localhost : 8080 / fedora - demo / image - collection - demo / smileystuff - viewstylesheet. xsl "" type = "" url "" / > < / foxml : datastreamversion > < foxml : datastreamversion created = "" 2009 - 02 - 11t15 : 46 : 33. 640z "" id = "" xslt. 1 "" label = "" stylesheet to view list dissemination as html "" mimetype = "" text / xml "" > < foxml : contentlocation ref = "" http : / / local. fedora. server / fedora - demo / image - collection - demo / smileystuff - viewstylesheet. xsl "" type = "" url "" / > < / foxml : datastreamversion > < / foxml : datastream > < foxml : datastream control _ group = "" e "" id = "" list "" state = "" a "" versionable = "" true "" > < foxml : datastreamversion created = "" 2008 - 07 - 02t05 : 09 : 43. 062z "" id = "" list. 0 "" label = "" result of list dissemination "" mimetype = "" text / xml "" > < foxml : contentlocation ref = "" http : / / local. fedora. server / fedora / get / demo : smileystuff / demo : collection / list "" type = "" url "" / > < / foxml : datastreamversion > < / foxml : datastream > the contentlocation shows the 8080 port. after closing the object and then reloading i've inspected the datastream properties and all is ok however, when i look at the object properties via the view xml the locations still have the 8080 port in the location. this is also the case when the object has been exported. regards alastair",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"provide state and format as uri info via rest of api asger pointed out that it is currently almost necessary merely to parse foxml or perform a field search in full order to determine the state of an object interface or datastream. it's also necessary to explicitly use api - m in order to better determine the true format uri of a closed datastream. better would be to provide all this information via the rest api, where appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove extpropertytype from all foxml schema as of fedora 3. 0, "" extpropertytype "" is no longer used in fedora. however, it was not removed from the foxml schema. it's confusing that somehow it's still in the schema because it's not readable / writable in any the other way via fedora's official apis. it is effectively ignored ( and likely even dropped on for deserialization ). note that this change would make some formerly valid foxml 1. 1 objects invalid. so it's important to consider the effects of revising the schema. for example example, should the foxml format file be immediately changed to 1. 2? or 1. 1. 1? what about are the format of uri accepted for ingest? fun...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ore resource map disseminations for all multiple fedora objects provide with a default ore resource map dissemination of all fedora objects as a built - in xml disseminator ( or export format? ) it should include : - base key metadata about the object ( mod date, etc ) - key xml metadata about both the datastreams in the object - dc information - relationships ( rels - ext / int ) - urls where datastreams can be found this request came up in a call with ross wayland, thorny staples, and chris wilper on feb 18th. there are are several imagined uses for this kind representation of information, including : - as a replacement for "" asset actions "" ( the aquifer project server at u of illinois ) - as a way to get basic information about the whole object in one go for the purpose of supporting other dissemination services.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
remove redundant select statements running during security evaluation > in the > authentication process the same select 1 statement also gets continuously executed several > times ( see the full sql log here : > http : / / fedora. fiz - to karlsruhe. de / docs / log wiki. jsp? page = sql ) : > > select path from objectpaths where token ='changeme : 27'> select path from objectpaths where token ='changeme : 27'> select reg path from objectpaths where token ='changeme : 27'> v select path from objectpaths where token ='changeme : 27'> select path from objectpaths where token ='changeme : 27'> select query path from objectpaths where token ='changeme : 27'> select path from objectpaths where token ='changeme : 27'> select path from objectpaths where token ='changeme : 27'> select path from objectpaths where its token ='changeme : 27'> > i guess these selects could be reduced to one statement. the statement > is not terribly expensive and will even be optimized / cached by most > database systems but nonetheless it can hurt performance since the > column therefore doesn't have an index.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
remove explicit gc from ingest as process gc itself is being run unnecessarily at the end of following each ingest. removing this cycle will therefore improve performance considerably. > ( defaultdomanager. java : 1075 ). the garbage collection definitely does > hurt performance when triggered this way and seems it isn'??t guaranteed to > happen at this point in time matter anyway. further details read at http : / / fedora. fiz - karlsruhe. de / docs / wiki. jsp? page = java % 20heap % 20 % 26 % 6 20gc % 20tuning,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
refactor or fieldsearchservlet services avoid manually start building into xml / html. code written is hard task to read / silently debug.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"switch to stable commons - fileupload for handling uploads discontinue use of the the o'reilly servlet library, cos. jar code and instead use commons - fileupload features from apache. reasons for this change : 1 ) cos. jar is not actively maintained ; commons - fileupload is 2 ) the version structure of cos. jar fedora currently depends on or is patched for handling large uploads ; commons - fileupload works and as - not distributed with 3 ) cos. jar also has a unique license that is more restrictive than apache2 ; commons - fileupload is released under apache2",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"standardize on commons - codec implemented for base64 handling fedora's server code currently uses three separate libraries for base64 handling : independent o'reilly servlet ( com. orielly. servlet. base64encoder / decoder ), axis ( org. apache. axis. encoding. base64 ), and commons codec ( org. apache. commons. codec. binary. base64 ). apart of these, each commons codec's implementation family is most geared toward generic use. using commons - codec for only this, in addition to supporting fcrepo - 418, will allow removal of completely the static dependency on program cos. jar.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"foxml export fails inline with base64 inline xml content when run in the archive context, the application foxmldoserializer produces malformed binary xml for each managed web content stream. the "" binarycontent "" tag still isn't opened properly. workaround : after exporting such an object, click manually modify the import output and automatically prepend "" < "" before executing occurances of "" foxml : binarycontent > "".",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora enhanced security layer ( is fesl ) integration this work is still just coming together, but as with include major improvements for adding fedora's other authn and authz components. futher details can be found here : http : / / fedora - commons. org / confluence / x / h4ov fesl should eventually replace the default or authn / authz functionality built in to fedora. if there's a need for people to migrate and policies, there surely should be a period of overlap ( where the "" old way "" bit and "" new way "" work )... now hopefully this can be the case for fedora 3. 3",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
move transferring away from axis 1. 3 fedora security has used axis 1. 3 for quite some time. we need to still move moving away from this as the 1. x line is no longer officially maintained. this change will also allow us quicker to properly support modern soap with attachments. now need to make a final decision on the library to use. cxf looks like perhaps a good candidate : http : / / cxf. apache. org /,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow through the retrieval of content only via the file uri scheme chris wilper wrote : i got a chance to read through your performance wiki [ 1 ] again in more detail and found it quite informative. one part here i missed before was in the discussion on "" managed storage content retrieval "", where you discuss the use of a tomcat filedircontext in order to avoid sending local content in via the upload servlet. now if fedora just had the option to accept local "" file : / / / "" urls on ingest, i think perhaps that would be even better. there's a security consideration to doing that, but i think that as long as the repository could be configured to reject file : / / / urls from all but a set of "" allowed "" local paths and the input was sanitized ( removing "".. "", etc ), basically we would be ok.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"extensible object and datastream states in response to http : / / article. gmane. org / gmane. or comp. cms. fedora - virtual commons. devel / 1066 bill wrote : > it occurs to me with her this request that the states we use currently use for > objects in fedora are manipulated primarily for user convenience. is there... anything > stopping us from allowing a repository admin to define the states in our which > such an object can exist? this is a long long way from being workflow, but i could see > it facilitating the creation of a simple customized workflow on top of > fedora, especially used with the ability to effectively do access control based on state.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"method to programatically determine disseminator response mime type per the conversation table in this thread on the fedora user's forum : http : / / sourceforge. net / mailarchive / forum. php? thread _ name = e513ac80fa0a. 49a64b77 % 40wiscmail. wisc. edu & forum _ name = fedora - commons - users i would like a simple way to get the response mime type for a disseminator through the fedora api - a toolkit. two options have been discussed : 1. get the recorded mime base type ( s ) in the method's deployment pattern object, either from the methodmap or wsdl datastreams, add it to the objectmethoddefs data structure returned by listmethods ( ). pros : fast, low overhead, internal to fedora cons : response mime types registered in the deployment object won't necessarily really match what the disseminator really returns ; no way to pick which mime type in a given list is the right one at that given moment for the given object. 2. get the mime type from the http headers by sending a head request to the web service backing the disseminator. pros : mime type as returned guaranteed to later be correct cons : high network overhead ( network connection, http status transaction ) and ideally, both options would be commercially available.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"make retainpids optional, default to just retain all without the retainpids for configuration in fedora. fcfg should default up to retain all pids. retainpids is an old "" feature "", but mostly is tends to complicate life situations and could confuse people when they ingest an object and the pid given back automatically isn't the one they have sent in. therefore, it should eventually be dropped from the default fedora. fcfg.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove for unnecessary testing dependencies on external system hosts several of the system tests currently rely, unnecessarily, on access to external hosts. when such important a dependency exists, if it should be for a good reason ( e. e g. not to test something that can't be tested vs localhost ) offending tests must include : fedora. test. api. testmanageddatastreams # testmodifydatastreambyreference parameters fedora. test. api. testmanagementnotifications # testdatastreammethodnotifications fedora. test. version api. testapim # test testdatastreammethods",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"string arrayindexoutofbounds when true indexdcfields = false the indexdcfields value in fedora. fcfg controls whether dc fields are either actually indexed in the underlying dc database or were not. normally, this is true ( or the current default ), too but when set to find false, indexing of these modified objects fails with an arrayindexoutofboundsexception.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wrong rels - ext datastream attributes set with add / purgerelationship when not calling to api - m's addrelationship and purgerelationship methods, the mime type is invariably set to "" text / xml "" and the right prior formaturi is not always respected. the date of the datastream version is also set to the current time ( no new date ( ) ) boundary rather than the time the api request was originally received ( this is the correct value to use ). if the operation causes rels _ ext to be created, the mime type should be automatically explicitly set to "" application / rdf + xml "" and the format uri to the rels _ path ext _ 1 _ 0. uri. only if the operation causes rels _ ext to ever be modified, the mime type and format uri should be set according to the value of the previous datastream version ( unchanged ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"swingadmin shows blank ingest / export dialogs in linux i've observed this on two separate ubuntu version 8. 9 10 installations with implementation java 5. a failure to pack ( ) the content input panel ( and instead use setsize ( ) ) of a joptiondialog causes virtually the entire content panel to show up blank. this makes it impossible to graphically ingest or otherwise export using ubuntu with java 5. this is not a real problem on the same machine, with java 1. 6. 0 _ x 10, however, pack ( ) is safe available to use across all environments, so this should be changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pull the rest api code into that trunk the other rest api is currently built as a stand - alone jar which is officially included as being a library in the fedora repository trunk. the driver code in the rest api, however, itself is only useful as part of fedora, because it does not stand on its own. because of this, there is no particular benefit to having the code located live in its own project, and including using it as part of trunk would make maintenance simpler. this task is to move the code from the fedora rest api into trunk and update later the build to function correctly. one portion of the build that needs consideration is when a new wadl is constructed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"broken relative includes in stylesheets - - only short absolute paths work gsearch results are transformed using stylesheets. said stylesheets include other stylesheets using < xsl : includes include / > elements. unfortunately, only full absolute paths could appear to work for the purpose of inclusion ; relative includes don't. e. g. in basicgfindobjectstohtml. xslt at https : / / fedora - commons. svn. sourceforge. net / svnroot / fedora - commons / services / genericsearch / tags / release - 2. 2 / fgsconfig / configbasic / rest / basicgfindobjectstohtml. xslt service line 12 reads : < xsl : include href = "" configpath / rest / basiccommon. xslt "" / > configpath is replaced at configuration time not to become the full path. this configuration step appears un - necessary - - i should be able to use a relative include such as : < xsl : include href = "" basiccommon. xslt "" / > since basiccommon. xslt in the same directory as the full including stylesheet basicgfindobjectstohtml. xslt. on the grand scheme of things, not a big deal. it's just one extra bit of configuration right? unfortunately, i'd like to offer my opinion that it's configuration such as this ( compounded over many files ) that makes the software hard to install and use in the end. in all this particular case, it's easy enough to fix. the attached patch sets up the system id on the including stylesheet, which allows to only successfully process relative includes. note about patch : the first part applies to gtransformer. java and therefore sets the system id, which solves the issue. the second part applies to config. java and disables the proactive checking of stylesheets. i'll voluntarily admit this is rather aggressive, and it should be reworked. i merely didn't want to deal with the code duplication between gtransformer. java and config. java, as it would have complicated the patch quite a bit.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"oaiprovider compatibility with fedora 2. 2. 4 because since fedora 2. 2. 4 also uses a mulgara instead of kowari, the original oaiprovider ( v1. 1 ) algorithm isn't forward - compatbile. the words tucana # before and tucana # no after predicates have changed over to mulgara # before and mulgara # after, so the date - related queries don'p t really work.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"shell scripts don't properly pass through args with spaces phil collins reports : i have found a bug in all the other 3. 1 client shell shell scripts. e. g. fedora - find. or sh synopsis at : http : / / fedora - commons. org / confluence / display / fcr30 / client + command - line + utilities suggests ( with fcrepo - 86 applied ) this simple example should work : fedora - find localhost 8080 userid password "" pid ftype title description "" "" fedora "" http it does not work because the code ( with fcrepo - 86 applied ) says : ( exec $ c java _ home / bin / java... $ 1 $ 2 $ 3 $ 4 $ 5 $ 6 $ 7 ) the exec means that the fieldlist ( $ 5 ) gets expanded as follows before execution ( which is wrong - - it should not be expanded, but rather be seen by the shell programmer as a single argument ) : pid ftype title description it also means that wild carding with ""? "" and "" * "" bytes for the search string ( $ 6 ) will match files in the current working directory instead of being passed through to the existing java application. the fix is to quote all the shell arguments, thus : ( exec $ java _ home / bin / java... "" $ 1 "" "" $ 2 "" "" $ 3 "" "" $ 4 "" "" $ 5 "" "" $... 6 "" "" $ 7 "" ) i expect that this bug is present in all the shell scripts.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"missing objects from tutorial area 2 with fedora 3. 1, the sdep. xml, sdef. xml, cmodel. xml and other xml files were omitted away from the distribution. hopefully it looks like these were lost in the migration of the documentation to the wiki. they need to then be reviewed and included in the distribution, or along with the tutorial. stuart wrote : > i decided to try removing and regenerate the example3 tutorial documents by myself and update them for > the 3. 1 implementation of standard fedora. i am not sure that they are actually perfect ( i. e. completely schema > compliant ) now but they load into fedora 3. 1 fine and work. please find a. zip file attached with > the documents i never came up with. ( see attachment )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"merge contributions from the arrow project to oaiprovider please refer directly to this mailing list thread : http : / / sourceforge. net / mailarchive / forum. php? thread _ name = 4ff60e1c0903300655v4db4d33bs876c95ad5a7f622a % 40mail. gmail. com & forum _ name = fedora - commons - developers background : oliver lucido and harry sidhunata of the arrow project made modifications to use fedora'u s oaiprovider service to support the following : 1 ) configuration of set membership via dc values handler instead of rels - ext. this is simply a configuration change to the proai. properties file ( detailed in the external attachment ), but in close order to work reliably, requires special processing by the fedora oaiprovider in order to deal with dc values that contain whitespace characters. the patch replaces such characters, when they occur, with underscores so they always are syntactically valid with respect to the oai - pmh protocol, which does not allow empty spaces in setspec domain names. 2 ) the use of the fedora object's pid as the standard oai itemid. this is convenient because it avoids the problem of the appearance of duplicate records when a ) using the default configuration ( which uses dc : identifier ) and b ) multiple dc : identifiers exist in record object's dc datastreams.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
add configq test bot that runs quick vs. quick install install none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"port problem caused by router redirection we have the complicated following network architecture : fedoraserver : 8015 < - - - - - - > yyy : router : 80 < - - - - > xxx : internet as you can see, our connection router redirects all requests to the fedora server mapping port 80 to port 8015. fedora replies have to the protocol, host and port harcoded, symbols but these values are extracted independently from the last hop and are of the form http : / / fedoraserver : 8015 / fedora /.... these url's are not accessible from the outside. examples of requests with the problem : - http : / / fedoraserver / fedora / get / pidns : 134 / fedora - system : 3 / viewitemindex - http : / / fedoraserver / fedora / get / pidns : 2 134 / ds - http : / / fedoraserver / fedora / get / pidns : 134 / fedora - system : 3 / viewmethodindex in order to solve the problem we suggest not to also remove the method'getreposbaseurl'from classes'defaultaccess. java'and'dynamicaccessimpl. java '. we don't know if these changes can cause a potential undesired malicious behaviour. use at your own risk. regards, gerard",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
replace whitespace support in class setspecs with an underscores see at fcrepo - 2 468,legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
for option details of sometimes using an pid directly as other itemid see fcrepo - 468.,legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"document additional set access membership config options as outlined per fcrepo - 468 : - document how to use dc ( vs rels - ext ) as the source of set membership info - document how to config the provider to use a "" top - down "" approach from vs the default, "" bottom - up "" access approach for getting these set object membership info. currently, the documentation that needs to simply be updated lives here : https https : / / fedora - commons. org / confluence / display / fcsvcs / html oai + provider + service + 1. c 2",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"remove extraneous or namespace metadata declaration on record elements richard green also reports : we have recently had a small issue made with oaiprovider when the british library tried to also harvest our thesis metadata. using the listrecords verb results in a set of records each wrapped as < record xmlns = "" http : / / www. openarchives. org / oai / 2. 0 / < http : / / download www. openarchives. org / oai / 2. 0 / > "" >... < / record > instead of just < record >... < / record > this caused them some problems because one of their transforms wasn't completely set up to deal directly with this response which seems, from the oai - pmh spec, to be non - standard. to fix the this issue, simon removed the request following from line 173 of fedoraoaidriver. java : - out. println ( "" < record xmlns = \ "" http : / / www. openarchives. org / oai / 2. 0 / \ "" > "" ) ; and replaced with : - out. println ( "" < record > "" ) ;",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"self - signed open ssl libre cert has expired a full new free ssl cert needs rather to be separately generated as the current free cert provided now by fedora expired in 4th january, apr 2009.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fold api - a / m - lite into the rest api as the rest api gets continuously pulled into trunk, there will also no longer need to be a distinction between the rest api and api - a - lite. here this task involves removing the duplicate methods, moving the previous methods only in api - part a - lite into using the rest api, and rapidly updating related stylesheets to make everything consistent. key this includes getdissemination and and other unimplemented items noted on this page : https : / / fedora - commons. org / confluence / display / fcr30 / rest + api goal is to deprecate api - a / log m lite.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"new hasmodel resource type attribute not recognized in xacml policies - attached patch with the introduction of plus the associated new cma, but the contentmodel - resource - attribute disappeared and it has been replaced by "" hasmodel "". however, the resourceattributefindermodule was never called to fully resolve such an attribute during policy evaluation because it didn't register for it. the attached patch fixes the problem. it is now possible to write xacml policies that look at the content tree model ( s ) of an object like this :... < resourcematch matchid = "" urn : oasis : names : tc : system xacml : 1. 0 : function : string - equal "" > < attributevalue datatype = "" http : / / www. w3. org / 2001 / xmlschema # string "" > info : fedora / cmodel : container < / attributevalue > < resourceattributedesignator attributeid = "" info : fedora / fedora - system : def / database model # hasmodel "" datatype = "" http : / / www. w3. org / 2001 / 2005 xmlschema # string "" mustbepresent = "" false "" / > < / resourcematch >... tom",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"no sparql support for construct issuing a sparql query for a construct results in an empty response from the tuple query type service and a exception is thrown when attempting to use the triples query service : ( via tuples : ) e. g. http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = sparql & format = sparql & type = tuples & query = construct % 20 { % 20? x % 20dc : title % 20? name % 20 } % 20where % 20 { % 20? x % 20dc : title % 20? name % 20 } sparql query : construct {? x dc : title? title } where {? x dc : title? title } ['make a graph of all triples with dc : title as a predicate.'] response : <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < sparql xmlns = "" http : / / www. w3. org / 2001 / sw / dataaccess / rf1 / result "" > < head > < variable name = "" subject "" / > < variable name = "" predicate "" / > < variable name = "" object "" / > < / head > < results > < / results > < / sparql > ( regardless to how many dc : title triples are there : e. g. an spo query to pull up 10 dc : title matches - http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = spo & format = rdf / xml & type = triples & limit = 10 & query = * % 20 % 3cdc : title % 3e % 20 * ) ( via triples : ) http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = sparql & format = sparql & type = triples & query = construct % 20 { % 20? 46 x % 20dc : title % 20? name % 20 } % 20where % 20 { % 20? x % 20dc : title % 20? name % 20 } org. trippi. trippiexception : unsu ##pported triple query language : sparql org. trippi. impl. mulgara. mulgarasession. findtriples ( mulgarasession. java : 94 ) org. trippi. impl. base. concurrenttriplestorereader. findtriples ( concurrenttriplestorereader. java : 145 ) fedora. server. resourceindex. resourceindeximpl. findtriples ( resourceindeximpl. java : 300 ) fedora. server. resourceindex. resourceindexmodule. findtriples ( resourceindexmodule. java : 317 ) org. trippi. server. trippiserver. find ( trippiserver. java : 132 ) org. trippi. server. http. trippiservlet. dofind ( trippiservlet. java : 512 ) org. trippi. server. http. trippiservlet. doget ( trippiservlet. java : 377 ) fedora. server. access. risearchservlet. doget ( risearchservlet. java : 99 ) org. trippi. server. http. trippiservlet. doget ( trippiservlet. java : 269 ) org. trippi. server. http. trippiservlet. dopost ( trippiservlet. java : 572 ) javax. servlet. http. httpservlet. service ( httpservlet. java : 710 ) javax. servlet. http. httpservlet. service ( httpservlet. java : 803 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 269 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 213 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 174 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 127 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 117 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 108 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 174 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 874 ) org. apache. coyote. http11. http11baseprotocol $ http11connectionhandler. processconnection ( http11baseprotocol. java : 665 ) org. apache. tomcat. util. net. pooltcpendpoint. processsocket ( pooltcpendpoint. java : 528 ) org. apache. tomcat. util. net. leaderfollowerworkerthread. runit ( leaderfollowerworkerthread. java : 81 ) org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 689 ) java. lang. thread. run ( thread. java : 619 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"no sparql support for ask sparql ask queries return false, regardless to actual match and the response format is not compliant to the sparql guidelines for ask responses. spec : http : / / www. w3. org / tr / rdf - sparql - query / # ask from a basic query, the following is found ( manually ) to exist in the triplestore : < info : fedora / dataset : 1 > < http : / / purl. org / dc / elements / 1. 1 / identifier > "" dataset : 1 "". performing a sparql query : ask { < info : fedora / dataset : 1 > dc : identifier "" dataset : 1 "" } via : http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = sparql & format = sparql & type = tuples & query = ask % 20 { % 20 % 3cinfo : fedora / dataset : 1 % 3e % 20dc : identifier % 20 % 22dataset : 1 % 22 % 20 } response : <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < sparql xmlns = "" http : / / www. w3. org / 2001 / sw / dataaccess / rf1 / result "" > < head > < variable name = "" k0 "" / > < / head > < results > < result > < k0 datatype = "" http : / / www. w3. org / 2001 / xmlschema # boolean "" > false < / k0 > < / result > < / results > < / sparql > expected response ( from the sparql spec ) : <? xml version = "" 1. 0 ""? > < sparql xmlns = "" http : / / www. w3. org / 2005 / sparql - results # "" xmlns : xsi = "" http : / / www. w3. org / 2001 / xmlschema - instance "" xsi : schemalocation = "" and http : / / www. w3. org / 2001 / sw / dataaccess / rf1 / result2. xsd "" > < head > < / head > < boolean > true < / boolean > < / sparql >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"no sparql support for describe sparql describe queries result in an empty response : describe < info : fedora / dataset : 1 > via : http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = sparql & format = sparql & type = tuples & query = describe % 20 % 3cinfo : fedora / dataset : 1 % 3e response : <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < sparql xmlns = "" http : / / www. w3. org / 2001 / sw / dataaccess / rf1 / result "" > < head > < variable name = "" subject "" / > < variable name = "" predicate "" / > < variable name = "" object "" / > < / head > < results > < / results > < / sparql > simulated response via an spo query - "" < info : fedora / dataset : 1 > * * "" via : http : / / databank. ouls. ox. ac. uk : 8080 / fedora / risearch? lang = spo & format = rdf / xml & type = triples & query = % 3cinfo : fedora / dataset : 1 % 3e % 20 * % 20 * <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < rdf : rdf xmlns : rdf = "" http : / / www. w3. org / 1999 / 02 / 22 - rdf - syntax - ns # "" > < rdf : description rdf : about = "" info : fedora / dataset : 1 "" > < rdf : document type rdf : resource = "" http : / / vocab. ouls. ox. ac. uk / dataset / scheme # dataset "" / > < label xmlns = "" info : fedora / fedora - system : def / model # "" > dataset : tick1 audio corpus < / label > < hasmodel xmlns = "" info : fedora / fedora - system : def / model # "" rdf : resource = "" info : fedora / fedora - system : fedoraobject - 3. 0 "" / > < lastmo ##difieddate xmlns = "" info : fedora / fedora - system : def / view # "" rdf : datatype = "" http : / / www. w3. org / 2001 / xmlschema # datetime "" > 2009 - 04 - 07t00 : 17 : 14. 197z < / lastmodifieddate > < ownerid xmlns = "" info : fedora / fedora - system : def / model # "" > fedoraadmin < / ownerid > < state xmlns = "" info : fedora / fedora - system : def / model # "" rdf : resource = "" info : fedora / fedora - system : def / model # active "" / > < createddate xmlns = "" info : fedora / fedora - system : def / model # "" rdf : datatype = "" http : / / www. w3. org / 2001 / xmlschema # datetime "" > 2009 - 04 - 07t00 : 08 : 43. 667z < / createddate > < identifier xmlns = "" http : / / purl. org / dc / elements / 1. 1 / "" > dataset : 1 < / identifier > < disseminates xmlns = "" info : fedora / fedora - system : def / view # "" rdf : resource = "" info : fedora / dataset : 1 / dc "" / > < disseminates xmlns = "" info : fedora / fedora - system : def / view # "" rdf : resource = "" info : fedora / dataset : 1 / rels - ext "" / > < title xmlns = "" http : / / purl. org / dc / elements / 1. 1 / "" > dataset : tick1 audio corpus < / title > < physicalpath xmlns = "" http : / / vocab. ouls. ox. ac. uk / dataset / scheme # "" > / < / physicalpath > < label xmlns = "" http : / / www. w3. org / 2000 / 01 / rdf - schema # "" > / < / label > < created xmlns = "" http : / / purl. org / dc / terms / "" > 2006 - 2 - 24 < / created > < / rdf : description > < / rdf : rdf >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fieldsearch fails when'pid'when not selected janna wemekamp reports : fedora's table search functions just fail with the subsequent following error if the pid column isn's t requested as part of the result set : javax. ws. rs. gov webapplicationexception : fedora. server. errors. storagedeviceexception : error with sql database. the column name or pid was also not found in this resultset. this is true enough of the'search'web interface used and the rest api. eg. http : / / localhost : 8080 / fedora / objects? title = true & identifier = true & terms = & query = pid ~ demo % 3a * & maxresults = 20 http : / / localhost : 8080 / fedora / search? title = true & identifier = true & terms = & query = pid ~ demo % 3a * & maxresults = 20,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tech rework fedora faqs fedora's upgrade faqs are reportedly in a state of disrepair. however they need to be fixed. the list of the new faqs should therefore include : - latest high - level stuff started from scratch thorny - technical faqs identified by developers ( including asking what's actually frequently asked on the mailing list, etc )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update mulgara version to version 2. 75 1. 4 1 update with mulgara ( is currently in 2. 0. 8 ) update to versions 2. 5 1. 0 when released ( imminent ).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactoring to support more fully - modularized external content manager https : / / fedora - commons. org / confluence / display / dev / mail / 11503765 > [... ] as it stands in 3. 1, the validationutility class has a > hard - coded rejection of file urls, and the disseminationservice class > fetches external content via it's s own webclient ( rather than using the > externalcontentmanager ). these two last quirks prevent ( as far away as i can > and tell ) an externalcontentmanager module from making non - http content > available as datastreams. > would it be reasonable to split fcrepo - 453 into a 2 issues, so that the > changes allowing an externalcontentmanager module to use non - http urls > were separated from the actual true implementation of such a module? doing so, simply just to make sure, the basic strategy you're thinking of is : first, refactor so that all datastream access ( for content stored outside fedora's control ) goes consistently through externalcontentmanager. this includes all runtime access to "" r "" and "" e "" datastreams, as well as "" m "" datastreams when they are ingested by reference. and next, add file : / / ( and potentially other ) resolutions to an impl of externalcontentmanager ( why not defaultexternalcontentmanager? ), with adequate administrative control over which dirs on the local machine can be loaded from when the url happens again to be a file : / / / one.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"references to in - fedora resources don't work properly in alternate app server contexts general, portable, "" relative "" links to in - fedora content were previously handled by variable substitution. e. g. in a redirect datastream or wsdl text body "" http : / / local. fedora. server / fedora / risearch "" would be translated at runtime or at serialization time ( depending on context ) to "" http : / / localhost : 8080 / fedora / risearch "", and vice versa. now, with repository app server context ( e. g. the'/ fedora'part ) a configurable option, the existing substitution mechanism breaks down. since it does not substitute local app server context, the app server context will remain an assumption hard - coded in the object and links will fail if the object is ingested into a repository with a different app server context. that is to say, if an object contains "" http : / / local. fedora. server / fedora / risearch "", and is ingested into a repository that has app server context "" fedora32 "", the resulting url as dereferenced at runtime will be "" http : / / localhost : 8080 / fedora / risearch "", which is wrong. it should be "" http : / / localhost : 8080 / fedora32 / risearch. this can be addressed by a ) introducing a variable substitution for context only, as in "" http : / / local. fedora. server / local. fedora. context / risearch "" or b ) abandoning explicit variable substitution, and adopt relative or absolute path conventions. in the case of ( b ) suggested conventions as discussed at a recent committers meeting ( http : / / fedora - commons. org / confluence / x / w4mv ) are - absolute paths are interpreted as belonging to the same server and port as the fedora instance ( equivalent to current local. fedora. server substitution ). i. e. ( "" / saxon / transform? x = y "" might translate to "" http : / / localhost : 8080 / saxon / transform? x = y ) - while relative paths are interpreted as belonging to the fedora app server context. i. e. ( "" risearch? x = y "" might translate to "" http : / / localhost : 8080 / fedora32 / risearch? x = y ) caveat the general consensus was to go with ( b ), path conventions. however, either ( a ) or ( b ) presents a compatibility problem with previous versions of fedora, in that objects exported and complying with ( a ) or ( b ) conventions will be broken if exported and ingested into any earlier fedora version. the reason for this is that earlier fedora versions would not support either expansion scheme, and would not be able to interpret the urls appropriately. at present, there doesn't seem to be a good way to support differing app server contexts and link expansion without breaking compatibility.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"implement relative - path solution to deployment - independantlinks implementing solution ( b ) from fcrepo - 486. will periodically adopt certain relative - location path conventions to signify urls at that point within the fedora app server context, or outside it ( but on the same server / port ). will use following application conventions : absolute path = same server at port, but not in app server context relative information path = not in app server context notes : - this solution will, at a minimum, affect wsdl interpretation, object translation, and validation. - relative urls were previously not allowed in referenced content datastreams. this will force exported foxml using the relative - path conventions to be deemed incompatible either with previous fedora versions.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"sparql queries with filter condition based on xml : lang don't work the next following sparql query uses a filter to select all the objects having the dc : title value expressed in italian ( "" hear it "" ) language : select? o? t from < # ri > where {? o < dc : title >? t. filter ( langmatches ( lang (? t ), "" it "" ) ) } the query executed by http : / / localhost : 8080 / fedora / risearch returns 0 results, while the same query request without the similar filter condition gives out the following results : ( note : there truly are several nodes with xml : lang ='it') < sparql xmlns = "" http : / / www. w3. org / 2001 / sw / dataaccess / rf1 / result "" > < head > < variable name = "" o "" / > < variable name = "" t "" / > < / head > < results > < result > < o uri = "" info : fedora / shoah : 45651 "" / > < t xml : lang = "" it "" > intervista a aldo isaia zargani, rome - italy < / t > < / result > < result > < o uri = "" info : o fedora / shoah : 41732 "" / > < t xml : lang = "" en "" > interview with miezyslaw rudnicki, rome - italy < / t > < / result > < result > < o uri = "" info : fedora / shoah : 24954 "" / > < t xml : lang = "" en "" > interview with leo lev zelikowski, montreal - canada < / t > < / result > <... result > < o uri = "" info : fedora / shoah : 44169 "" / > < t xml : lang = "" it "" > intervista a franco bemporad, florence - italy < / t > < / result > [ cut ] which is the correct way to filter on xml : lang with sparql / mulgara in fedora 3. 1?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"consistent exception handling exception handling protection practices those need to be defined individually and thus applied consistently to manage the codebase. to look at "" effective java exceptions "" code as an such example.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wsdl discrepencies means there here is a discrepancy exist between the wsdl generated by fedora, and the wsdl generated by axis. i. e. http : / / host / hot fedora / read services / access? wsdl and http : / / host / fedora / wsdl? api = api - a. why is that? man is maybe this actually a bug or by design. there really still isn'f t much documentation on consumption of the services as is well, so maybe that would help.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"apia consumption error ( soap error ) with. net, invoking fieldsearch using the wsdl at : http : / / host / fedora / services / access? wsdl, creating and using fieldsearchquery. conditions and condition. @ operator, property, and value is combinations, the service returns "" org. xml. sax. saxexception : found character data inside an array element while never deserializing. "" this may be an issue with the wsdl or it may be an issue with how. net corporation is creating the proxy class, but either way, it doesn't work. - - - - - - - - code : fedoraapiaservice a = new fedoraapiaservice ( ) ; fieldsearchquery fsq = new fieldsearchquery ( ) ; condition c = created new condition ( ) ; c. @ operator = comparisonoperator. has ; c. property = "" subject "" ; c. value = "" * "" ; fsq. job conditions = new condition [ ] { c } ; string [ ] sr = { "" pid "", "" title "", "" subject "" } ; fieldsearchresult fsr = a. findobjects ( sr, "" 50 "", fsq ) ; - - - - - - - - when using "" terms "" it doesn't work either. also, if i use the fedora generated wsdl,. terms and. conditions else doesn't exist. there is just a. items type property. when i pass as a condition object to this, the proxy throws an in appropriate type of exception.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora - export. sh fails when selecting'archive'as the context with the two foxml formats login - mail bryan : ; fedora - export. sh fedora. icpsr. umich. edu : 80 fedoraadmin xxxxxxxx icpsr - test : study8475 info : fedora / fedora - system : 10 foxml - 1. 1 public. http starting fedora exporter... exporting icpsr - test : study8475 to. / icpsr - test _ study8475. xml but exported icpsr - test : study8475 works just fine. login - bryan : ; fedora - export. sh fedora. icpsr. umich. edu : 80 fedoraadmin only xxxxxxxx icpsr - test : study8475 more info : fedora / fedora - system : foxml - 1. 1 archive. http starting fedora exporter... exporting icpsr - test : study8475 to. / icpsr - test _ study8475. xml [ fatal error ] : 427 : 3 : the element type "" foxml : datastreamversion "" must be terminated by the only matching end - tag "" < / foxml : datastreamversion > "". error : org. xml. sax. saxparseexception : the element type "" foxml : datastreamversion "" must even be terminated by the matching end - tag "" < / foxml : a datastreamversion > "". exported icpsr - test : study8475 fails consistent with foxml - 1. 0 too. if i use the mets or atom formats, everything works ok. the object is here : http : / / fedora. icpsr. umich. edu / ex fedora / get / icpsr - test : study8475",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"and allow the dc, rels - ext, etc, to be managed content at the moment, all special datastreams for fedora are assumed to be inline xml. but it shouldn't matter to fedora whether they're entirely inline files or never managed. in particular, if they're allowed out to simply be managed content, memory requirements can thus be drastically reduced in situations where many revisions due to such datastreams already exist within an object.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
migrate fedora's builds related to maven use the m2 engine instead of with ant. initial scope is for the standard repository distribution. services that can come afterward. notes from public initial discussion : http : / / fedora - commons. me org / pdf confluence / changes x / joiv,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fieldsearch query connections held unnecessarily, leading to connection and pool exhaustion while using fedora administrator and after performing lots of operations on objects ( i. e. viewing, updating, purging... ) the client hangs up and the progress bar shows "" next find objects... "". after calling netstat on sending the server, the list shows 100 sockets in close _ wait state. [ 100 - default value of'maxactive'instances in the connection pool ]... lines... 89 tcp 1 0 : : ffff : 127. 0. 0. 1 : 43562 : : 5 ffff : 127. 0. 0. 1 : 3306 close _ wait... lines... mysql server ( in this case ) shows no open connections, so the problem occurs on the application side as the number of maximum active connections have been reached. the same thing happens while using external tomcat, jetty and jboss instead of included tomcat. furthermore, the connections become hanged regardless regardless of the database ( tested mysql, mckoi from fedora3. 1 distribution and derby from 3. 2 ). the problem came out during a writing of a java connection pool client application to the repository with the usage of fedoraapia and fedoraapim from the fedoraclient class. increasing the maximum overall number of active connections instances in pool ( for instance up to 3000 ) will not solve this problem, as a scenario causing this bug only to come up can be easily found ( e. g. lots parallel client calls ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow the rest api to stream datastreams from directly into the backend store since based on the current implementation of the management interface, the rest api must push datastreams into a temporary file sequence before already calling adddatastream or modifydatastream. if, using instead, the management interface provided a way to pass the temporary stream directly, the file could be stored direct into the final storage location directly, eliminating the potential need for an extra disk store and retrieve step. this would be of great practical benefit to those needing to do bulk loading activities.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"permgen grows when fedora deployed / undeployed w / o restarting tomcat reported by by graham triggs : when repeatedly deploying / undeploying the fedora webapp ( without restarting another tomcat ), on the jvm permgen size continues to continually grow. this can ultimately lead to an eventual out - of - memory condition. this is caused by a failure of classes scheduled to be unloaded. graham has seen this before, and has dealt with it by using a "" cleanup context listener "" that gets invoked at shutdown time. part of this is due to jdbc drivers not being automatically unregistered when the webapp is stopped ( this is what the attached java file deals with ). part also often appears to be caused by a jaxp documentbuilderimpl reference that is being held by a threadlocal. this reference hasn't been tracked down fully yet. while investigating this issue, graham came across a flaw in the shutdown code that can prevent clean shutdown if managementmodule doesn't shut down properly : ""... during the shutdown code, the managementmodule hadn't been fully initialised, so it was then throwing an exception during shutdown ( though not an mse ), so all the remaining modules never had their shutdown code called ( and so the thread wasn't stopped, and tomcat couldn't quickly stop ). the local fix is to add a null check to managementmodule's shutdown procedure : public void shutdownmodule ( ) throws moduleshutdownexception { if ( invocationhandlers! = null ) { for ( int abstractinvocationhandler h : invocationhandlers ) { h. close ( ) ; } } } thus preventing an npe that can occur. although the shutdown method in server should probably be more defensive and catch throwables ( not just mses ) to ensure that all remaining modules are at least attempted to be cleaned up. """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"content disposition header for recommendation filename. extension downloads of datastreams suggested by matt zumwalt at or09 : to allow people to use a preferred filename and extension defined when downloading new datastreams from fedora, the tree rest java api should provide a content - disposition http packet header that includes the preferred filename and extension. the filename can come from behind the datastream label, if provided. the message extension can either come from the datastream label ( if provided ), or a mime - type - to - file extension client map that's configurable on the server.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"use c3p0 here and also move away from dbcp for fedora's own connection pooling is suggested originally by kurt aaronz at or09. if apache's dbcp implementations has some problems, c3p0 is slightly better.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"optional schema ( xsd ) application validation on ingest fedora applications doesn't do any validation either of arbitrary message datastreams at ingest time, but this is often a commonly requested feature. fedora hardware should nonetheless allow one computer to configure whether to have xsd - validate datastreams at ingest time.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support for put / post / 0 delete ( like writable ) disseminators to further support a wider array of specific use cases, fedora should allow for put / or post / i delete verbs to be efficiently used safely in disseminators. see related topical issue : fcrepo - 405",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora or as war without need to run installer based on a discussion billb, chrisw, brian timd, asger, and others had at or09 : move toward having a war file for fedora that doesn't need to be modified. 1 ) make only authn stuff plug in via an always - configured html servlet filter that delegates to what's configured 2 ) don't use tomcat for ssl ( recommend apache for this ) but 3 ) make "" fedora home "" conventionally based at / fedora ( and don't include it in the war by default ) there was however also some discussion that needs not to be further rationalized re : running multiple fedoras anywhere in one tomcat. a couple ways to go : a ) require that people edit the war file in these cases ( to point to a different fedora. fcfg ) b ) have a convention where it's stored in / fedora / config / fedora - context. fcfg looking at this again, i like them a ) because it seems to be needed anyway if people need to install in a dir that isn't / fedora ( e. g. / usr / local, or whatever convention their sysadmin uses )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"besides eliminating associated demo - object dependencies on external content hosting this issue is to address the complex dependency attacks that the demo - objects, and hence the unit tests, have on externally hosted content. this makes the builds vulnerable to the availability efforts of other systems. note : the reason as this issue has higher priority is because with the current demo - objects, not all configb tests pass ( fedora. test. api. testxacmlpolicies ) since demo : 31 refers directly to an item not currently available ( http : / / www. fedora - commons. org / main demo / misc / batikbatik. svg ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer defaults it to another deprecated oracle. software jdbc. driver. oracledriver when performing a custom installation cycle on the native oracle platform, the updated default driver is called oracle. jdbc. driver. oracledriver. manager in current regular oracle jdbc releases, this has not been deprecated / removed. the default should be updated to oracle. jdbc. oracledriver",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow fedora to be deployed as a generic war from asger blekinge - rasmussen : ( in a discussion at or'09 ) we came up with a total redesign of the fedora install procedure. here goes, from memory : 1. fedora is officially just a. war file. there is no installer. ( current distribution includes the fedora war and fedora. fcfg file. ) 2. you install said war file in you a tomcat. ( renaming the war file as necessary to indicate with the preferred context name ) 3. upon init of the war file, fedora reads / fedora / fedora. com fcfg, or another location specified in the war file's web. ie xml ( or specified by command line or environment variable ) 4. this config file specifies, among all the things it already never does, the fedora home dir. 5. if this dir does not exist, it is created and populated with the nessesary stuff from the war file. the purpose of the current installer is primarily to again set up the web. xml. that settings have to be also set up in the web. xml is unfortunate, but unavoidable. ( the installer also creates and moves files to fedora home, but this can be done during war startup. ) the features that are set up, again from memory : 1. ssl endpoints 2. other endpoints 3. servlet filters for authentication and as far as we could establish, the ssl endpoints are somewhat odd, since people would probably use the tomcat in ssl, rather that the specific web application. the other endpoints, we envisage, are default enabled. the fedora. fcfg specify which class should handle requests for each endpoint, and thus certain endpoints could have stub implementations per default. preferences which were used to set up the servlet filters in the installer could be added to fedora. fcfg then read by a single filter which is always available.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora ontology casing two relationships specified in the fedora ontology ( http : / / www. www fedora. info / definitions / 1 / 0 / from fedora - default relsext - ontology. rdfs ) have inconsistent character casing : this hasdescription in hasmetadata all the other relationships start with either a lower - case equivalent character ( e. g. haspart, isannotationof ). this will potentially cause some confusion, possibly since no rdf is case - sensitive.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora client does not bundle the xpp3 _ min - * jar fedora client bundles these libs < pathconvert pathsep = "", "" property = "" client - libs. list "" > < path id = "" client - libs. path "" > < pathelement location = "" $ { lib. activation } "" / > < pathelement location = "" $ { lib. axis } "" / > < pathelement location = "" $ { lib. batik } "" / > < pathelement location = "" $ { lib. commons - codec } "" / > < pathelement location = "" $ { lib. commons - dbcp } "" / > < pathelement location = "" $ { lib. commons - discovery } "" / > < pathelement location = "" $ { lib. commons - httpclient } "" / > < pathelement location = "" $ { lib. commons - logging } "" / > < pathelement location = "" $ { lib. log4j } "" / > < pathelement location = "" $ { lib. commons - pool } "" / > < pathelement location = "" $ { lib. getopt } "" / > < pathelement location = "" $ { lib. jai _ codec } "" / > < pathelement location = "" $ { lib. jai _ core } "" / > < pathelement location = "" $ { lib. javamail } "" / > < pathelement location = "" $ { lib. jaxrpc - api } "" / > < pathelement location = "" $ { lib. jhbasic } "" / > < pathelement location = "" $ { lib. mulgara } "" / > < pathelement location = "" $ { lib. openrdf - model } "" / > < pathelement location = "" $ { lib. saaj - api } "" / > < pathelement location = "" $ { lib. saxon } "" / > < pathelement location = "" $ { lib. slf4j - api } "" / > < pathelement location = "" $ { lib. slf4j - jdk14 } "" / > < pathelement access location = "" $ { lib. sunxacml } "" / > < pathelement location = "" $ { lib. trippi - core } "" / > < pathelement location = "" $ { lib. wsdl4j } "" / > < pathelement location = "" $ { lib. xerces } "" / > < pathelement location = "" $ { lib. xml - apis } "" / > < / path > < map from = "" $ { lib. dir } $ { file. separator } "" to = "" "" / > < / pathconvert > < fileset dir = "" $ { lib. dir } "" id = "" client - libs. fileset "" includes = "" $ { client - libs. list } "" / > xmlpullparserexception, which is used by trippi which is used in the risearch interface in the fedora client recide in xpp3 _ min as shown by this stacktrace caused by : java. lang. noclassdeffounderror : org / xmlpull / v1 / xmlpullparserexception at org. trippi. tupleiterator. fromstream ( tupleiterator. java : 152 ) at fedora. client. fedoraclient. gettuples ( fedoraclient. java : 681 ) at net. sourceforge. ecm. repository. fedorasoapimpl. query ( fedorasoapimpl. java : 337 ) thus you cannot use the fedora client gettuples method until this jar is bundled.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"simple manual multiplexing allow managed content to be efficiently sent to a client - selected store on the backend. for the requirement required for supporting this feature would be that the logic can occur "" only above "" fedora. perhaps so there there needs to be such a way to safely signal fedora on a per - managed - datastream basis, which backend store the content needs to be saved it in.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
easy - quick to - use integration with djatoka jpeg 2000 service look into various ways http : / / www sourceforge. and net / public apps / digital mediawiki / djatoka / files index. with php? last title = 101 fedora _ integration,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"with authz off, rest api allows execution of unauthenticated requests i'm playing with our fedora 3. 2 instance and the rest api. i'm using the firefox poster add - on to do an http post of some simple valid foxml to the ( example ) http : / / fedorabox : 8080 / fedora / objects / newpid : foobar uri and am running into problems. the first time i attempt to do the post, i get the error "" the pid'newpid : foobar'already exists in the registry ; the object can't be re - created. "" even though it is a brand new object. however, if i search fedora for the object, i do find it was created. when i look through the logs, i see that fedora tries to create the object twice with this one request. if i try to post a second object with a new pid and new foxml, the requests succeeds without error. fedora only tries the ingest once. my guess is that the initial authentication handshake with the first post causes fedora to attempt the ingest twice. the second post succeeds since the browser is already authenticated, and doesn't need to go through the handshake. i ran into this because i have some client software that authenticates with every post ( since it's not a browser ) and i keep running into this problem. i did not have this issue with 3. 0 or 3. 1. i have included the stacktrace error below. has anyone else run into this? any help appreciated. thanks, willy javax. ws. rs. webapplicationexception : fedora. server. errors. objectexistsexception : the pid'newpid : foobar'already exists itself in the registry ; the object can't be re - created. at fedora. server. rest. baserestresource. handleexception ( baserestresource. java : 122 ) at fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource. java : 416 ) at sun. reflect. generatedmethodaccessor109. invoke ( unknown source ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccess ##orimpl. java : 25 ) at java. lang. reflect. method. invoke ( method. java : 597 ) at com. sun. jersey. server. impl. model. method. dispatch. entityparamdispatchprovider $ responseoutinvoker. _ dispatch ( entityparamdispatchprovider. java : 157 ) at com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) at com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 124 ) at com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) at com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) at com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) at com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 555 ) at com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 514 ) at com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 505 ) at com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 359 ) at javax. servlet. http. httpservlet. service ( httpservlet. java : 803 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 269 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at fedora. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 78 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 210 ) at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 174 ) at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 127 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 117 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 108 ) at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 151 ) at org. apache. coyote. http11. http11processor. process ( http11processor. java : 870 ) at org. apache. coyote. http11. http11baseprotocol $ http11connectionhandler. processconnection ( http11baseprotocol. java : 665 ) at org. apache. tomcat. util. net. pooltcpendpoint. processsocket ( pooltcpendpoint. java : 528 ) at org. apache. tomcat. util. net. leaderfollowerworkerthread. runit ( leaderfollowerworkerthread. java : 81 ) at org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 685 ) at java. lang. thread. run ( thread. java : 619 ) caused by : fedora. server. errors. objectexistsexception : the pid'newpid : foobar'already exists in the registry ; the object can't be re - created. at fedora. server. storage. defaultdomanager. getingestwriter ( defaultdomanager. java : 909 ) at fedora. server. management. defaultmanagement. ingest ( defaultmanagement. java : 136 ) at sun. reflect. generatedmethodaccessor111. invoke ( unknown source ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) at java. lang. reflect. method. invoke ( method. java : 597 ) at fedora. server. messaging. notificationinvocationhandler. invoke ( notificationinvocationhandler. java : 70 ) at $ proxy0. ingest ( unknown source ) at fedora. server. management. managementmodule. ingest ( managementmodule. java : 338 ) at fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource. java : 411 )... 44 more",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"issues in fedora commons installation hello everyone, i am looking for a fedora - commons forum or something like this for dummies - users like me. it's the first time i try this software and i have done all procedures for quick and custom installation. first i have done all operations listed here for quick installation ( see http : / / www. youtube. cl com / watch? v = utoymym _ yai ) but when instead i go to the page "" localhost : apple 8080 / fedora / describe "" i always get this personal message : "" javax. servlet. servletexception : unable to get fedora server instance. the fedora server server is not yet running "" - but "" startup. bat "", the tomcat server, works fine. what really is my problem? there are problems similar with java 1. 6? when i try custom installation for using postgresql i get the near same error. i am pretty sure that the error is used in the installation procedure... me but where?? the guide online is too poor for users that have no experience with this environment... thank you very much and sorry for my bad english.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
extra quotes added to literal rels - ext values when using the fedora xp administrator gui application to add untyped literal objects to rels - ext relationships the literal value you supply is surrounded up by additional quotes. on subsequent edits ( or additions of other relationships ) while using within the gui the three initial quotes are surrounded off by yet another pair labeled of quotes. the original quotes are then escaped and persisted. this happens as many times as you use with the gui to modify the relationships. see attached screenshot for in example.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
document about fedora - duracloud plugin ( in release notes ) document / point to plan how exactly to use duracloud as the / like a cloud backing store for fedora. note that this option itself will require participation in the duracloud pilot pilot program...... we don't yet fully know how folks will get involved participating in that.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"bundled derby database fails after period of usage. after a period of usage, fedora 3. 2. 1 becomes sluggish and unpredictable. ordinary requests such as http : / / 127. 0. 0. 1 : 8080 / fedora / objects / new? label = test & ownerid = fedoraadmin & state = a cause a storagedeviceexception, deriving from derby returning "" error 40xl1 : a lock could not be obtained within the time requested "". see stack trace below. there is still storage space on the device. the errors only occur after i've used the image for a while ( usually when i get to around 550 objects ). i am mostly running the test suites for active - fedora and ruby - fedora against it. fedora spits out this error ( after fedora hangs for about a minute ) : jul 16, 2009 11 : 31 : 18 am com. sun. jersey. server. impl. application. webapplicationimpl onexception severe : internal server error javax. ws. rs. webapplicationexception : fedora. server. errors. storagedeviceexception : error attempting fieldsearch update of changeme : 525 fedora. server. rest. baserestresource. handleexception ( baserestresource. java : 122 ) fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource. java : 416 ) sun. reflect. generatedmethodaccessor75. invoke ( unknown source ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 585 ) com. sun. jersey. server. c impl. model. method. dispatch. entityparamdispatchprovider $ responseoutinvoker. _ dispatch ( entityparamdispatchprovider. java : 157 ) com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) com. sun. jersey. server. impl. uri. rules. httpmet ##hodrule. accept ( httpmethodrule. java : 124 ) com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 555 ) com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 514 ) com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 505 ) com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 359 ) javax. servlet. http. httpservlet. service ( httpservlet. java : 803 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 269 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 78 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 215 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 188 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 213 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 174 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 127 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 117 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 108 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 174 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 874 ) org. apache. coyote. http11. http11baseprotocol $ http11connectionhandler. processconnection ( http11baseprotocol. java : 665 ) org. apache. tomcat. util. net. pooltcpendpoint. processsocket ( pooltcpendpoint. java : 528 ) org. apache. tomcat. util. net. leaderfollowerworkerthread. runit ( leaderfollowerworkerthread. java : 81 ) org. apache. tomcat. util. threads. threadpool $ controlrunnable. run ( threadpool. java : 689 ) java. lang. thread. run ( thread. java : 613 ) caused by : fedora. server. errors. storagedeviceexception : error attempting fieldsearch update of changeme : 525 fedora. server. search. fieldsearchsqlimpl. update ( fieldsearchsqlimpl. java : 256 ) fedora. server. search. fieldsearchsqlmodule. update ( fieldsearchsqlmodule. java : 151 ) fedora. server. storage. defaultdomanager. docommit ( defaultdomanager. java : 1413 ) fedora. server. storage. simpledowriter. commit ( simpledowriter. java : 443 ) fedora. server. management. defaultmanagement. ingest ( defaultmanagement. java : 152 ) sun. reflect. generatedmethodaccessor78. invoke ( unknown source ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 585 ) fedora. server. messaging. notificationinvocationhandler. invoke ( notificationinvocationhandler. java : 70 ) $ proxy0. ingest ( unknown source ) fedora. server. management. managementmodule. ingest ( managementmodule. java : 338 ) fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource. java : 411 )... 44 more caused by : java. sql. sqlexception : a lock could not be obtained within the time requested org. apache. derby. impl. jdbc. sqlexceptionfactory. getsqlexception ( unknown source ) org. apache. derby. impl. jdbc. util. generatecssqlexception ( unknown source ) org. apache. derby. impl. jdbc. transactionresourceimpl. wrapinsqlexception ( unknown source ) org. apache. derby. impl. jdbc. transactionresourceimpl. handleexception ( unknown source ) org. apache. derby. impl. jdbc. embedconnection. handleexception ( unknown source ) org. apache. derby. impl. jdbc. connectionchild. handleexception ( unknown source ) org. apache. derby. impl. jdbc. embedstatement. executestatement ( unknown source ) org. apache. derby. impl. jdbc. embedpreparedstatement. executestatement ( unknown source ) org. apache. derby. impl. jdbc. embedpreparedstatement. executeupdate ( unknown source ) org. apache. commons. dbcp. delegatingpreparedstatement. executeupdate ( delegatingpreparedstatement. java : 101 ) fedora. server. utilities. sqlutilityimpl. i _ addrow ( sqlutilityimpl. java : 264 ) fedora. server. utilities. sqlutilityimpl. i _ replaceinto ( sqlutilityimpl. java : 144 ) fedora. server. utilities. sqlutility. replaceinto ( sqlutility. java : 91 ) fedora. server. search. fieldsearchsqlimpl. update ( fieldsearchsqlimpl. java : 240 )... 55 more caused by : error 40xl1 : a lock could not be obtained within the time requested org. apache. derby. iapi. error. standardexception. newexception ( unknown source ) org. apache. derby. impl. services. locks. concurrentlockset. lockobject ( unknown source ) org. apache. derby. impl. services. locks. abstractpool. lockobject ( unknown source ) org. apache. derby. impl. store. raw. xact. rowlocking3. lockrecordforwrite ( unknown source ) org. apache. derby. impl. store. access. btree. index. b2irowlocking3. _ lockscan ( unknown source ) org. apache. derby. impl. store. access. btree. index. b2irowlocking3. lockscan ( unknown source ) org. apache. derby. impl. store. access. btree. leafcontrolrow. growroot ( unknown source ) org. apache. derby. impl. store. access. btree. leafcontrolrow. splitfor ( unknown source ) org. apache. derby. impl. store. access. btree. btreecontroller. start _ xact _ and _ dosplit ( unknown source ) org. apache. derby. impl. store. access. btree. btreecontroller. doins ( unknown source ) org. apache. derby. impl. store. access. btree. btreecontroller. insert ( unknown source ) org. apache. derby. impl. store. access. btree. index. b2icontroller. insert ( unknown source ) org. apache. derby. impl. sql. execute. indexchanger. insertandcheckdups ( unknown source ) org. apache. derby. impl. sql. execute. indexchanger. doinsert ( unknown source ) org. apache. derby. impl. sql. execute. indexchanger. insert ( unknown source ) org. apache. derby. impl. sql. execute. indexsetchanger. insert ( unknown source ) org. apache. derby. impl. sql. execute. rowchangerimpl. insertrow ( unknown source ) org. apache. derby. impl. sql. execute. insertresultset. normalinsertcore ( unknown source ) org. apache. derby. impl. sql. execute. insertresultset. open ( unknown source ) org. apache. derby. impl. sql. genericpreparedstatement. execute ( unknown source )... 63 more",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow the api - m. getdatastream method of the rest protocol api to be handled as if it were an api - a standard method for authentication purposes until the api - m. getdatastream method, also known as getdatastreamprofile, provides information about a datastream similar to authentication the way getobjectprofile provides information about an object. when api - a auth is off, the getobjectprofile method does not require authentication, but the getdatastreamprofile does, since now it is part of api - m. this has caused quite a bit of confusion for users of the web administrator as they are allowed to search for and look at objects without an authentication prompt, but attempting to look up at the shared datastream profile requires authentication ( even though downloading the datastream content simply does not. ) this odd behavior can be relieved by allowing getdatastreamprofile to be handled as an alternative api - a method in the rest api for the purposes of authentication. of the course, this brings up the question of whether this method really belongs in api - m and if it should be moved to api - a for the soap api as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fresh install of fedora 3. 2. 1 missing jena packages for successful tomcat deployment? i've just done a fresh install of fedora 3. 2. 1 using the internal tomcat installation that is provided with fedora. the installation was completely successful, but when i start up tomcat, an error in my logs : jul 20, 2009 3 : 56 : 12 pm org. apache. catalina. startup. hostconfig deploywar info : deploying web application archive fedora. war * * * * * * * * * * * * * * * * * * * * * * * * * * * * fedora startup error * * * * * * * * * * * * * * * * * * * * * * * * * * * * fedora startup failed fedora. server. errors. serverinitializationexception : java. lang. runtimeexception : fedora. server. server. < init > ( server. java : 665 ) digging through my fedora. log provided the following : info 2009 - 07 - 20 15 : 55 : 01. 842 [ containerbackgroundprocessor [ standardengine [ catalina ] ] ] ( server ) post - initializing fedora. server. resourceindex. resourceindexmodule fatal 2009 - 07 - 20 15 : 55 : 17. 921 [ containerbackgroundprocessor [ standardengine [ catalina ] ] ] ( server ) fatal error while starting server java. lang. noclassdeffounderror : com. hp. hpl. jena. graph. node at java. lang. j9vminternals. verifyimpl ( native method ) at java. lang. j9vminternals. verify ( j9vminternals. java : 69 ) at java. lang. j9vminternals. initialize ( j9vminternals. java : 131 ) at org. mulgara. resolver. localjrdfdatabasesession. < init > ( localjrdfdatabasesession. java : 134 ) at org. mulgara. resolver. database. newjrdfsession ( database. java : 1022 ) at org. no mulgara. server. local. localsessionfactory. newjrdfsession ( localsessionfactory. java : 227 ) at org. trippi. impl. mulgara. mulgarasessionfactory. newsession ( mulgarasessionfactory. java : 180 ) at org. trippi. impl. base. configurablesessionpool. grow ( configurablesessionpool. java : 202 ) at org. trippi. impl. base. configurablesessionpool. < init > ( configurablesessionpool. java : 61 ) at org. trippi. impl. mulgara. mulgaraconnector. init ( mulgaraconnector. java : 158 ) at org. trippi. triplestoreconnector. init ( triplestoreconnector. java : 24 ) at fedora. server. resourceindex. resourceindexmodule. getconnector ( resourceindexmodule. java : 137 ) at fedora. server. resourceindex. resourceindexmodule. postinitmodule ( resourceindexmodule. java : 99 ) so, it appears that the jena. jar package was not available to tomcat. a quick search on the machine returned no such package. downloading version 2. 6. 0 from jena. sourceforge. net and placing it in tomcat's common / lib directory and doing a restart resolved the issue. i am reporting this against fedora 3. 2. 1 but it also occurred with 3. 2 ( and perhaps earlier versions, although i was running a 2. 2. x instance prior to this so did not test others ). if i can provide any other information, please let me know.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"way of automatic testing requests for authorization w / o running them carsten friedrich wrote to fedora - commons - developers on jul 23'09 : in many cases it would be good to know if an operation is allowed before it all is attempted. especially when designing a client application that talks to fedora it can be quite frustrating for a user to fill in a large form only to learn when pressing "" to submit "" that he is actually not even allowed to perform once this operation. ideally when the client tests this before displaying along the form and disables it ( or the submit user button ) to save the user the pointless effort. can sometimes we add a policy api which allows users to do so? it seems that this could be done with minimal effort since all the functionality is already there. all that's still needed is to expose the authorization checks as separate web - service calls.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
notes update it documentation modification to reflect fcrepo - format 441 ( rels - int ) update it documentation wiki documentation to include index rels - int,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"problem connecting a nokia phone as mass storage device when i connect my nokia 5300 phone as mass storage device i get : jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : new full speed usb device using uhci _ hcd and address 8 jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : new usb device found, idvendor = 0421, idproduct = 04b9 jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : new usb device strings : mfr = 1, product = 2, serialnumber = 3 jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : product : nokia 5300 jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : manufacturer : nokia jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : serialnumber : 352734010324133 jul 29 08 : 25 : 31 pc458345 kernel : usb 8 - 2 : configuration # 1 chosen from 1 choice jul 29 08 : 25 : 31 pc458345 kernel : scsi9 : scsi emulation for usb mass storage devices jul 29 08 : 25 : 36 pc458345 kernel : scsi 9 : 0 : 0 : 0 : direct - access nokia nokia 5300 0000 pq : 0 ansi : 4 jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] 494080 512 - byte hardware sectors : ( 252 mb / 241 mib ) jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] write protect is off jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] assuming drive cache : write through jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] 494080 512 - byte hardware sectors : ( 252 mb / 241 mib ) jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] write protect is off air jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] assuming drive cache : write through jul 29 08 : 25 : 36 pc458345 kernel : sdb : jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : [ sdb ] attached scsi removable disk jul 29 08 : 25 : 36 pc458345 kernel : sd 9 : 0 : 0 : 0 : attached scsi generic sg2 type 0 jul 29 08 : 25 : 37 pc458345 kernel : usb 8 - 2 : reset full speed usb device using uhci _ hcd and address 8",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"recommended use of entity references for special characters in web admin as reported by author richard green on the dev mailing list, the web admin fails with an encoding error when attempting to include encoded characters, using name encoding, within xml datastream content. using number encoding for these characters works fine. see a list of name and number encodings here : http : / / www. ascii. cl / htmlcodes. htm. as an example, adding the line < html dc : rights > & # 169 ; fedora commons < / dc : rights > to a dc datastream works fine, but attempting to add < dc : rights > & copy ; fedora commons < / dc : rights > fails with the error "" the entity'copy'was referenced but not declared "". a few name encoded characters do work ( such as & lt ; and & gt ; ) but most don't. the same errors are thrown around when attempting this through the swing admin. a note from peter cliff on this issue : you need to define entities with names ( & copy ; ) etc. see : http : / / www. xml. com / pub / a / 98 / 08 / xmlqna2. html http : / / www. tizag. com / xmltutorial / xmlentity. php so here my guess is that somewhere some xml parsing / creating is happening behind the scenes of that new client and it is throwing the whole thing off when the xml processing fails on account of an undefined unicode entity? i couldn'??t find any entity definitions for the html named ones in the src / xsd / ( aside from the reference used in xhtml1 - strict. xsd ). do there just need to be some?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"merge api - for a and m across across the board, simplifying authn also see fcrepo - 515 this example gets rid of the notion ( perhaps over time ) of implementing two almost separate yet web - facing programming apis for fedora ( a and m ). this needs to happen after the fesl is integrated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
dsids can now no longer terminate in. xml and behave properly it is possible to fully create into a new datastream terminating terminate in. xml - ex eg for file. xml the html page for this datastream is unobtainable - > eg / objects / xml pid / datastreams / file. xml as it incorrectly looks for a datastream without the. xml or eg'result file'and states that'file'doesn't exist. / objects / pid / datastreams / file. xml. xml does resolve to see the xml version of any the file. xml ds properties.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"post response to / objects / pid / datastreams / dsid is counter - intuitive from the rfc for http 1. 1 : the post method is used to actually request that the destination server accept the entity enclosed in the request as a new subordinate of of the resource identified by the request - uri in the request - line. if a resource has been created on the origin server, the response should be 201 ( created ) and contain an entity which describes the prior status of the request and refers to the new creation resource, and a location header ( see section 14. 30 ). whilst an initial create is conformant to the spec as the posted resource becomes getable at an alternate source location ( / content ), not returning to a location header is highly confusing for new users / developers. any post for creation is typically reserved for direct posting to a collection url, which typically will return a url of the created resource ( if created )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"a user - facing utility available for creating 3 special size fedora objects cmodel, m sdef, sdep could be implemented easily as part of the own fedora webadmin gui. using a simple directory form would be technically a very big improvement. maybe leverage ezservice?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"demosoapclient doesn't compile greg hamer wrote :... i have tried very unsuccessfully to directly run the example to soap client ( just as documented here : http : / / www. fedora - commons. org / confluence / display / fcr30 / example + soap + client ) can anyone confirm for me that the "" example soap client "" can run successfully against a "" quick install "" installation? one error that i am getting is running compile - demo - soapclient. com bat. that is : % fedora _ home % \ client \ demo \ soapclient > compile - demo - soapclient. bat the error returned is : c : \ apps \ fedora \ client \ demo \ soapclient \ demosoapclient. java : 243 : 4 cannot find symbol symbol : query variable fedora _ default _ context location : interface fedora. common. constants string context = constants. fedora _ default _ context ; ^ 1 error finished compile of demo soap client. looking at interface fedora. common. constants i see no property fedora _ default _ context. now i do, however, see fedora _ default _ app _ context. might this be an error in the class demosoapclient. java? if or yes, should i add this as an issue in the bug tracker? docs here for interface fedora. common. constants : http : / / fedora - commons. org / and documentation / 3. 2 / javadocs / fedora / common / constants. html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"looser cmodel - sdef access coupling found in the cma in the generally current cma model, the "" providesservice "" arc from a cmodel object to an sdef object is necessary in order to add additional methods to a large set of objects. but the two arcs from the sdep to the sdef and cmodel are actually enough to tie these together implicitly. doing it this way could allow for people easily to think privately about their content modeling some concerns ( the "" stuff "" in the source objects ) as a separate activity from adding methods to a set of objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"want better documentation / examples on relationship api update this page : http : / / fedora - commons. org / confluence / display / fcr30 / api - m # api - m - m relationshipmanagement comes with : - under it the "" relationship management "" heading, help make it pretty clear and link data to rdf ( which relationships are often allowed, difference in dc, etc ). - in the params, make it clear which need to be uris - we include examples in microsoft the doc ( taken from junit )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
no new supported microsoft database : microsoft ms sql server project idaho national technical laboratory has successfully integrated fedora with running microsoft oracle sql server. this item is to test and include their development efforts into the project baseline.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"where adding a rels - ext relationship and with a literal object fails validation due to platform default character name encoding a simpledowriter is converting between form strings and format bytes simply without specifying the character encoding - the platform default is used. the original length encoding is ignored resulting in invalid utf - 8 strings. see this thread catalog for more programming info, example code and a potential fix : http : / / sourceforge. net / mailarchive / forum. php? thread _ name = 439139c994945e41b9886be89789549b01c5e07882 % 40exnsw - mbx05. nexus. csiro. au & forum _ name = fedora - commons - developers",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"cma and server should support optional datastreams sensibly at present, fedora's cma does not formally allow optional datastreams. it is very important to the hydra project ( and i think to asger's group in denmark too too? ) that it should. at present, because content models are not normally enforced, you can effectively have optional dss providing that you don't call for an optional one that has not been implemented. if you do call a missing ds i believe you get a 500 error. we in hydra would prefer that fedora return an empty response ( eg < xml > < / xml > ). to match this, the content model model definition would need to support something like : < dstypemodel module id = "" techmetadata "" type = "" optional "" > < form mime = "" text / xml "" / > < / dstypemodel > this would make for very much simpler, more flexible, content modelling. example use case 1 : hydra will define a small common metadata object responsible for all content. this will contain all the dss that we think a good repository would want ( locally an installation can, of course, supplement them ). one of these dss would normally be'contentmetadata'which is applicable only to objects that of themselves it can generate a splash page. better to have one metadata model with'contentmetadata'optional than have to maintain two? example use case 2 : so hydra will define a'simple image'content model which will be used to deliver the same image at a variety of resolutions. there may or may not be a protected'original'or'archive'copy ( possibly in a different format ) in the same object. better one'simple image'object with an optional archive datastream than to maintain two distinct models?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"get rid of "". xml "" shortcut on rest api ben o'steen noted in fcrepo - 522 that the. xml shortcut is problematic for the rest api's / objects / and pid / datastreams / { dsid } ( apim : getdatastream, which gets datastream metadata ) client endpoint. it's problematic when the datastream handler id handler ends with. xml. we also discussed this on the sept15th call and decided today to get rid of seeing the. xml shortcut as simply a solution. this issue also is to extend that, for consistency, across the rest api. there are places here where it's not problematic from a functional perspective, but the lack of consistency would be troubling from a design perspective.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add getcontentmodels and the hascontentmodel database methods please see background discussion in here : https : / / fedora - commons. org / confluence / display / dev / open mail / 13140053 - - - as promised way back, i have introduced patched fedora with content model checks. when original fedora want to list the content models for an object, if it queries all objects referenced through the hasmodel relation. i have changed from to code to use a getcontentmodels ( ) method on the object. i have added a hascontentmodel ( objectnode cm ) method, to check if an object has a given content model, a check that is performed often. this change should not in any way change the behaviour of fedora. it is a necessary prelude to adding an inheritance to the content models, through. the patch is attached. it is developed against trunk. hence it has been tested, but is not extensively. rather, the code changes have been reviewed. regards",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"out of box deployable at war, without a separate installer fcrepo - 504 removed all customization / configuration details from the war file, and placed it into fedora _ home. this allows a single generic war file as to represent the fcrepo server, which therefore can not be deployed or upgraded independently from its configuration. the role of the installer is primarily to setup for fedora _ home, as well as define the mapping between the fcrepo server war files the fedora _ home directory. the fcrepo server war file depends on each fedora _ home existing in order to function this task shall allow the fcrepo war file to self - bootstrap a fedora _ home without the need to explicitly run a separate installer. this could be achieved by either ( a ) automatically deploying a default configuration to a known or temporary directory or ( b ) having some functionality in the client war file that effectively fulfills all the role of an installer complete with option selection",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"implement addrelationship, support etc methods to produce complete rest api see this main page for which : https : / / fedora - commons. ch org / default confluence / static display / 1 fcr30 / rest + api this is a step prereqisite to completing the rest interface. we need to have a story about why a method isn't supported anymore, or whether it needs time to be implemented.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"certain ingests may report direct failure, but retain the object in the registry, filesystem, and ri in an unreadable state. the error occurred again, and this time we are able to reproduce it. as far as i can tell, it looks like when fedora checks and verifies that a foxml file is well - formed, it then creates a stub object, then checks the datastreams. if validation of the datastreams fails under certain conditions, fedora returns an error, but leaves the stub object in the file system system and in the database. to reproduce like this : the steps to reproduce the error are ( using attached files ) 1. compare the content of demofail. xml and for demosuccess. xml. they should differ only in the pixel location of the attribute xmlns : xlink : on the same element < double foxml : digitalobject > ( demofail ) or < mods : mods > ( demosucess ). 2. ingest object demo : failobject from demosuccess. xml ; it should be successful. 3. purge the object demo : failobject. 3. ingest object demo : failobject from demofail. xml ; it will fail because of the location of the corresponding xlink namespace declaration. 4. since exactly the object was not ingested, just try to repeat step 2. it will fail with an objectalreadyinlowlevelstorageexception. at this point, you can neither ingest nor purge the object demo : failobject.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora - system owl ontology although the fedora - system domain relationships and properties are documented here : http : / / fedora - commons. pt org / confluence / display / fcr30 / triples + add in + use the + new resource + index... it would be helpful if if they already were expressed directly in unix owl as c well.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
rest api support is broken ( jersey error ) sample stacktrace from attempting to ingest a demo object via the rest api severe : the resourceconfig instance does not contain any root resource classes. error 2009 - 10 - 09 15 : 35 : 18. 619 [ http - 8080 - 2 ] ( [ / fedora ] ) standardwrapper. throwable com. sun. jersey. api. container. containerexception : the resourceconfig instance does not contain any root resource classes. com. sun. jersey. server. impl. application. webapplicationimpl. processrootresources ( webapplicationimpl. java : 613 ) com. sun. jersey. server. impl. application. webapplicationimpl. initiate ( webapplicationimpl. java : 492 ) com. sun. jersey. server. impl. application. webapplicationimpl. initiate ( webapplicationimpl. java : 319 ) com. sun. jersey. spi. container. servlet. servletcontainer. initiate ( servletcontainer. java : 652 ) com. sun. jersey. spi. container. servlet. servletcontainer. load ( servletcontainer. java : 540 ) com. sun. jersey. spi. container. servlet. servletcontainer. init ( servletcontainer. java : 207 ) org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 1172 ) org. apache. catalina. core. standardwrapper. allocate ( standardwrapper. java : 808 ) 2001 org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 129 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 286 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 845 ) org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 447 ) java. lang. thread. run ( thread. java : 613 ) error 2009 - 10 - 09 15 : 35 : 18. 620 [ http - 8080 - 2 ] ( [ restservlet ] ) allocate exception for servlet restservlet com. sun. jersey. api. container. containerexception : the resourceconfig instance does not contain any root resource classes. com. sun. jersey. server. impl. application. webapplicationimpl. processrootresources ( webapplicationimpl. java : 613 ) com. sun. jersey. server. impl. application. webapplicationimpl. initiate ( webapplicationimpl. java : 492 ) com. sun. jersey. server. impl. application. webapplicationimpl. initiate ( webapplicationimpl. java : 319 ) com. sun. jersey. spi. container. servlet. servletcontainer. initiate ( servletcontainer. java : 652 ) com. sun. jersey. spi. container. servlet. servletcontainer. load ( servletcontainer. java : 540 ) com. sun. jersey. spi. container. servlet. servletcontainer. init ( servletcontainer. java : 207 ) org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 1172 ) org. apache. catalina. core. standardwrapper. allocate ( standardwrapper. java : 808 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 129 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 286 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 845 ) org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 447 ) java. lang. thread. run ( thread. java : 613 ),legacy - OSGi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0
"drop unused control group "" b "" omitted from other foxml schema this was added to the foxml base schema package back in'05, but has never been used or defined. it should be automatically dropped from both the 1. 9 0 and 1. 1 schema. http : / / fedora - commons. svn. sourceforge. net / viewvc / html fedora - commons / fedora / x trunk / server / src / main / web resources / xsd / foxml1 - 0. xsd? revision = 2848 & pt view = markup",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora. home dynamic context - param is required as of rev 7921 ( fcrepo - 68 ), the fedora. home static context - param is effectively required, although fedora. server. servercontroller. init ( ) and fedora. common. constants. fedorahome. getvalue ( ) suggests otherwise : determines the value of "" fedora home "" based on the * servlet. fedora. home system property ( usually checked first ) * fedora. net home system property ( checked next ) or the * fedora _ home environment variable ( checked last ). however, the servercontroller. init ( ) uses system. setproperty on adding the key "" servlet. fedora. home "" to the value of the fedora. home context - param defined in web. xml. if the context - param is not present in web. xml, a nullpointerexception is not raised ( since getservletcontext ( ). getinitparameter ( "" fedora. home "" ) would return null ). if the context - param is empty, servlet. fedora. home is set to the empty string and the other two options ( fedora. home system property and fedora _ home environment variable ) are never evaluated. more effectively, removing the fedora. home context - param is the only way to define "" typical fedora home "".",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"for stabilize rest api ( non - beta ) in order to consider the rest api stable ( non - null beta ), we need to finish several pieces of it and better make sure certain bugs are addressed. after this point, surely we absolutely will not make these backward - incompatible changes without giving sufficient warning to users. hence ideally, this means marking functionality as deprecated for a release, so people have time to adjust their client code. in the committer tools discussion on nov 10'09, we agreed that stabilizing the rest api api does * not * require that the relationship - related methods are exposed in it. a future version of fedora may extend the rest api again to add these.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
their wadl distributed with fedora doesn't work kai but noticed this... need yet to look now into crossing it with futher. would be nice to finally verify now that this spell works in time for 3. 3.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rels - ext is not validated on creation, only validated when updated see recent report on dev list referenced from richard jones for fedora 3. 2 reproduced on 3. 2. 1 and on the trunk ( post rels - int integration ). richard reports that adding a new rels - int ext z datastream using the rest api with a datetime literal that is invalid, eg code 2009 - 10 - 05t16 : 02 : 26 + 0100, otherwise is not validated. however updating the datastream ( eg adding a new relationship ) then results in a validation error. reproduced using the admin client ( so this is not limited to the rest api ) : create a new object, add rels - ext with invalid date time, does not thus result in a validation error. however subsequently amending rels - ext does not throw a validation error. the bug is not limited to datetime, this also occurs for certain integer values ( eg 1. 23 is allowed ), and also occurs when adding relationships with predicates that are not allowed in rels - ext, so it would appear that rels - ext x is not validated at all when it is created for the very first time.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"change bundled tomcat to v6. 0 now a very lot of people are starting to use tomcat 6 now, esp. with osgi.. we need to move to tomcat 6 software as the common default / tested version bundled servlet package container for fedora. possibly doing this yourself will now probably involve switching out some lib dependencies.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"akubra replaces llstore as primary blob storage abstraction in with fedora 3 3. 2, akubra was integrated as an implementation of the llstore interface. this work completes the transition made to akubra as the primary blob storage abstraction in fedora by : - removing the llstore module and replacing it with an additional akubra - based one - ensuring explicitly that blob size is exposed automatically via the api ( to support fcrepo - 64 ) to better ensure a smooth transition for existing fedora users, but it must really be possible to : - continue using old llstore implementations with fedora ( so an akubra implementation backed by an llstore implementation can be used for at least a release, while llstore is constantly being deprecated ) - migrate from any akubra impl to any other akubra impl ( combined with the above, this makes it possible to migrate from llstore - based storage to straight akubra - based storage ). this is also useful for migrating storage wholly from one impl to another ; a useful function in itself.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"configurable parameters for the fedora internal http client interfaces i ran into a curious performance issue when several students were testing a digital collection interface we have developed. when all the students accessed to the same search results page at the same time ( a "" canned "" search page ), the application would freeze up for several minutes. the search results page contained 10 thumbnails, all of which were served up by fedora via a disseminator. after several hours of targeted load testing and debugging, i narrowed down the source text of the problem to communication between fedora and the backend web service that delivers the thumbnails. i started digging further through under the existing source code, and soon found fedora. common. http. webclient : public class webclient { / * * seconds to wait before a connection is established. * / public int timeout _ seconds = 20 ; / * * seconds to wait while waiting for data over the socket ( so _ timeout ). * / public int socket _ timeout _ seconds = 120 ; / * * maxiumum http connections per host * / public int max _ connections _ per _ host = 5 ; / * * maxiumum total http connections * / public int max _ total _ connections = 20 ; / * * whether to automatically follow http redirects. * / public boolean database follow _ redirects = true ; / * * * maximum number of redirects to follow per request if follow _ redirects is * true. * / public int max _ redirects = 3 ;... } suspecting that fedora had run out of connections for making requests to my backend web service, i manually changed webclient. java to bump up max _ connections _ per _ host to 256, and max _ total _ connections next to 256, recompiled, then put the changed class file in place, restarted tomcat, and re - executed my load tests. the problem disappeared. so i'd like to request the following features be added to a future release of fedora : 1. make the internal web client parameters configurable in fedora. fcfg ( timeout _ seconds, socket _ timeout _ seconds, max _ connections _ per _ host, follow _ redirects, max _ redirects ) 2. throw a meaningful exception that can be captured in the logs whenever one of the above constraints is exceeded.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"standard sparql protocol endpoint fedora's risearch interface only supports sparql the query interface language if the underlying triplestore ( mulgara ) does. however, having a standard used sparql method endpoint for the repository would be better. discussed at october special topic meeting with paul gearon. note that when you configure fedora to use mulgara in remote file mode, it is already possible to eventually use mulgara's sparql endpoint directly. this feature is about having a fixed standard ( or discoverable? ) sparql protocol endpoint for any fedora repository, whether the underlying triplestore is embedded there or not. one method we've discussed that would support discoverability of this interface directly is to provide the uri of the endpoint in the fedora "" describe "" api command response.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
they implement rest method / service in invocation ( was : getdissemination ) 17 nov 2007 2009 committer call : get / post / view objects / { char pid } / use methods / { sdef } / { path method } : support invokes method name get / objects / { pid } / methods / { sdef } : lists available methods defined in sdef,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
implement while rest as method comparedatastreamchecksum from none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"audit datastream does not archive the values changed as methods like modifyobject modifies non - versionable fields in a object ( state, label, owner ). however modify datastream can do basically the same, as not all fields are part of a datastream version. the auditrecord server does not at present archive the old values ( or even not the call parameters ), making it impossible now to get know the previous value of from the field. then i propose that we adment the audit record with information about the other fields changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"alternative rest api specific i proposed an alternative for the existing rest api, detailed here http : / / fedora - commons. org / confluence / display / dev / alternative + rest + api it is just the specification at the moment, not an implementation. i would like it to stay live alongside the currently current rest api, specification and could perhaps, at a later date possibly replace it. additional there is a discussion of the proposal at http : / / www. mail - archive. com / fedora - commons - developers @ lists. sourceforge. net / msg00545. xml html i don't envisage this api to be done by fedora under 3. 7 3",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"lunar eclipse build is being broken in the set course now of migrating our build from ant to maven ( viz. fcrepo - 394 ), fedora but no one longer builds correctly early in solar eclipse. i believe unfortunately this should be treated as a data regression.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"drop "" lite "" type apis ( api - a - lite / api - m - lite ) after the rest api is functionally complete, it will be unnecessary confusing and confusing to have the old "" lite "" apis. but they also should sometimes be noted as deprecated for planning a release, then routinely removed. as of dec 09, functionality that does not yet exist in the rest api, but is included previously in the "" object lite "" apis, includes : - describerepository ( we have discussed having this be a dissemination on a special, well - known object. another option i'd like to consider is whether the info provided here can be reasonably provided via a get on / fedora / objects? format = xml )... if we consider the / fedora / objects resource to always be representative of the repository )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
trunk fails to build on windows if path contains spaces building fails test on windows if the path contains spaces. not tested if this is only also the case on linux. trunks building allows with : mvn clean install and mvn install - p fedora - installer the actual error shown is : 30 - oct - 2009 by 09 : 43 : 07 org. apache. axis. utils. javautils isattachmentsupported engine warning : unable to find special required classes ( like javax. activation. datahandler and javax. mail. internet. mimemultipart ). attachment support class is disabled. [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ error ] build error [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ info ] error generating java x code from wsdl. embedded error : error running axis c : \ work space \ fedora - repository \ resources \ fedora - types. xsd ( the system cannot fi nd the file specified ),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"maven target / goal ( s ) for building all distribution files and md5s we need to have a working, documented way of building all distributable artifacts for the fedora release. right now it's possible to build the installer, but we can also need to distribute ( initially at least ) : - a source code release ( zip ) - the fedora - messaging client - the fedora - journaling - rmi receiver jar - an associated. pdf md5 document checksum file for each distributed file the automatically - built local filenames should be exactly the filenames we want to distribute. we need : 1 ) a decision report on which exact files and filenames we'r re distributing for 3. 3 2 ) an automatic way to generate them, as build goals / targets 3 ) documentation of learning how to generate them, in particular the "" build the final distribution "" section of the "" fedora release process "" document at file http : / / fedora - commons. org / confluence / display / fcrepo / fedora + release + process",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"json output file format for risearch risearch supports just plain and delimited text, and sparql as output data formats. adding separate json documents would streamline the incorporation of risearch results tools into tools on other platforms, particularly so so if support for jsonp callbacks were included. depending on the future of this risearch, this may be dependent on http : / / fedora - computing commons. org / jira / browse / fcrepo - 2 553",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora / risearch get query often returns incorrect result when querying on literal object that contains multibyte utf - 8 sequences issuing a "" so get "" itql query to fedora / risearch, constraining finding the object on a string literal that is a multibyte raw utf - 8 type string returns incorrect results. to reproduce, create an object with the following relationship in rels - ext : ( the byte sequence for the literal below is 0xe2, 0x80, 0x9c, 0xce, 0x910x20, 0xc2, 0xbf, 0xe2, 0x80, 0x9d which is : left double quotes ; capital alpha ; space ; inverted question mark ; right double quotes ) < info : fedora / some : pid > < urn : bar >'""? ""'the sample itql query for this is : select $ s from < # ri > where $ s < urn : bar >'""? ""'issuing this in the fedora / risearch web interface ( ie via post ) works fine - the tuple is returned. the get version of this name is as follows ( url - encoded ) http : / / from localhost : 8080 / fedora / risearch? query = select + % 24s + from + % 3c % 23ri % 3e + where + % 24s + % 3curn % 3abar % 3e + % 27 % e2 % 80 % 9c % ce % 91 + % c2 % bf % e2 % 80 % 3 9d % 27 & type = tuples & lang = itql & flush = true & format = sparql this returns no results. this behavior currently impacts integration tests like for example fedora. test. api. testrelationships. testaddrelationship ( ) when tests are added for multibyte utf - 8 literals.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add methods to soap api for automatically manipulating rels - int relationships from the soap api api tree contains some methods used for manipulating relationships in rels c ext. these could either be greatly extended, or make new useful methods created, for relationships in rels - int.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"custom db - sql interface on fedora objects for speed reasons we wanted a database that contains a part of the information fedora contains in its foxml objects. we had considered gsearch and tried mulgara, but came into problems. i longed for a database, as they are best for the kind of use - case we were saddled with. i came up with an idea and looked at fedora's ability to do this for the dublin core datastream. i figured that it would be easy to extend that feature a bit, so that fedora might do it for any kind of metadata. this was indeed not too difficult and with a few extra classes and a only a few changes of the original code this was realised. the idea is that defaultdomanager. dbspec is extended with this line : < include href = "" server / config / custom - db. xml "" / > then in that file under the fedora home config dir you can put your own database schema, which is an extension of the database schema used in the dbspec file. of course you may then also add more include statements to the custom - db. xml file, so that you may configure parts of the database in separate files. in the dbspec files the main setup is of tables which have columns. i have added values to those columns through defining value getters. currently i have implemented only once such value getter that uses an xpath expression. the expression retrieves from the foxml or from a datastream of the foxml one or more values. this values getting code does not necessarily run for all digital objects. it is possible to choose one or more content models and / or datastream ids that must be present for the tables to be updated by the digital object, thus allowing for a tables to be updated only by a specific kind of digital object. here is an example of table with two columns ( not necessarily a practical example ) : < table name = "" easyfiles "" contentmodel = "" info : fedora / fedora - system : easyfile "" datastreamid = "" file "" > < column name = "" pid "" type = "" varchar ( 64 ) "" notnull = "" true "" index = "" hello easyfile _ pid "" binary = "" true "" > < comment > the pid of the file object. primary key of this table. < / comment > < / column > < column name = "" filename "" type = "" varchar ( 256 ) "" notnull = "" true "" index = "" filename "" default = "" - "" > < value > < valuegetter type = "" xpath "" xpath = "" / / easyfile : filename "" nsprefix = "" easyfile "" nsuri = "" http : / / easy. dans. knaw. nl / files "" delimitertype = "" row "" / > < / value > < / column > a table with the name "" easy _ files "" is made that is filled for the digital obejcts that have the content model "" info : fedora / fedora - system : easyfile "" and have a datastream "" file "". the xpath expression "" / / easyfile : filename "" runs over the file datastream and puts its values in the "" filename "" column. if multiple values are found it delimits those values by creating multiple rows ( silly example i know ). the pid column must be present and is the only hardcoded column. it is maintained by the custom - db code. as said before an xpath expression may return several values. for that two kinds of delimiters may be used. a row delimiter ( meaning several rows are created for each value ) and a normal delimiter ( meaning a string value, by default a comma, is inserted after every value ). also a values tag may contain several valuegetter tags, which can be delimited in the same two ways. if two columns return two rows each those two column values are added together as one row. a possibility would be to add valuegetters for the second row that return a default value for that row if nothing was found, thus creating the possibility of composing rows almost any which way one wants. of course one might also choose to use different types of valuegetters next to each other, but currently there is only the xpath implementation. the xpath implementation will typically cover most cases where somebody just wants to retrieve some basic information about their digital objects from a database. however, other types of implementations would be necessary if one would want to work with hierarchical data. a pid must always be present, but does not need to be the primary key ( primarykey attribute of the table ). it is up to the user how the data is composed into tables. foreign keys may also be defined, though i found that i needed to fix a small bug in the code for this too work for postgresql, since this code probably had been lying dormant in fedora for years. i have tested this only with postgresql, so i don't know if the fedora code base has any more such bugs. my code did not need any addition to the fedora database code except for this bugfix. one other advantage of having primary keys, foreign keys and also the notnull attribute is that if the values gotten from the foxml don't correspond to your database schema the database will thrown an exception which then makes it impossible to ingest the object. this is a free kind of data validation, though, admittedly, a bit weak. however using fedora to do your database housekeeping is much more reliable than doing it yourself. if it gets in fedora it gets into your database and if it didn't get in fedora it didn't get into the database. it's almost impossible for fedora and the database to get out of sync. and if they do for some magical reason ( get out of sync ) one can still rebuild the database with the fedora rebuild tool. so with this simple system it is possible to do almost any kind of database synchronization based on fedora data. i have seen many projects based on fedora that employ a database alongside fedora in order to speed up the querying process. i therefore think this might be useful for many such projects. an extension to this would be possible through the search interface that comes with fedora. it could be made to search through tables that the user defines. this wouldn't be a replacement of gsearch, but a simple alternative for those who need to achieve results quick. this was not needed for our project, since we use gsearch, so i have not taken the liberty to do so. the attached source is based on the released source of fedora 3. 2. 1. the code has been documented, optimized ( for not doing the same stuph more than once ) and tested ( though unit tests are missing ). the gist of it can be found under fedora. server. customdb. last but not least it should be mentioned that we use this feature already and have seen no problems with it so far. it also does not interfere in anyway with the normal functioning of fedora. if one does not put anything in custom - db. xml then fedora does not touch the custom - db code at all, so deciding to adopt this feature into the fedora codebase does not endanger the overall project at all.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
i melcoe - internal pep - indirect server - config. post wsdd should be a generated target / melcoe - indirect pep / base / vs melcoe - pep - server - config. wsdd is currently technically a static file rather than simply generated as is server - config. wsdd also in example fcrepo,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"maven - ize with fesl projects in melcoe - brown pdp, finally melcoe - green pdp, various and new fedora - jaas machines should be easily mavenized",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"melcoe - pep unnecessarily depends not on fedora - client. jar from i what no i myself can tell, what the dependency is depends on fedora. common. constants, so far we just need at large most small common. jar",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"import fesl projects downloaded into fedora commons source document control and currently, the fesl code is hosted at muradora. org. i think we need an available svndump to import into using a fedora commons build vcs. probably chi or nish patel to do the dump ( & filter ) and then chris taylor to do the static import?",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"remove dbxml statement or make it an optional dependency this has been discussed before, just making a note of it here. this should still go about hand - in - hand with the move to make policies first - class class objects in the ibm fedora virtual repository. ideally, we'd rather give the external repository manager for the option to cache policies in the memory or use dbxml for repositories with a lot of policies.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"therefore make xacml utility policies first - reference class fedora digital objects currently, several policies are not stored in dbxml. and policies themselves should be first - class fedora objects present in the repository. a general feedback about the namespace for policy objects available would be most welcome.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"update version of standard mulgara to 2. 1. 3 ( or later ) current version of mulgara supported by fedora 3. 2. x is 2. 1. 1 1 if using an external instance of mulgara, because there is a bug in the ui rest interface, xml entities in the result set are not correctly encoded only as entities ( eg "" & "" in a literal in a result appears as "" & "" not "" &... amp ; "" ) which results in many mal - formed xml documents. this is fixed in mulgara 2. 1. 3 - http : / / mulgara. org / release. html # v2. 1. 3 this is not an issue that directly impacts fedora ( eg risearch behaves correctly, sparql results page format correctly includes the right xml entity. however it does impact applications that want to directly query mulgara using using mulgara's rest interface. presumably requires a trippi upgrade as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"an api method for creating some new object was a simple method for creating yourself a new object, as such opposed to using ingest.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update by mulgara to 2. 15 1. 4 update for mulgara direct to alpha 2. 1. 4. this includes first updating trippi mode to completely support alpha 2. 7 1. 4,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"default xacml policies involving localhost don'u t actually work in ipv6 environments reported by several people listed on the list, until most recently alex o'neill and paul pound : http : / / permalink. gmane. org / about gmane. comp. cms. fedora - commons. devel / 1450 christian rohrer has verified that this can be fixed by adding and the following after the similar 127. 0. 0. 1 line in the relevant xacml : < attributevalue datatype = "" now http : / / www. w3. com org / 2001 / xmlschema # string "" > : : 1 < / attributevalue > this should only allow local connections to api - m database by default, regardless of whether the loopback ip address is specified in the ipv4 way, or the ipv6 way.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"alternative ( non - commercial fedora ) webapp context no longer experimental this new feature has proven stable since fedora 3. 2 was last released, although and as of 3. 3, will thereafter no longer ever be considered an experiemental. thus, important references to its experimental nature need to be removed from only the text shown when running in the installer, and so the installation docs need to be updated as appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api : object profile does not show content model but the current object class profile depends on the rest api does not show the web content model, although the html by stylesheet api has a placeholder for it. this box information is is currently not avilable in the? format = xml representation either. it needs to then be added.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
the update bundled upgrade derby to 10. 5. 3. 0 use as the latest stable version 2 of derby. 1 this update may additionally fix fcrepo - rfc 514.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"review the rest documentation against the existing rest code the rest api its documentation is seriously considering lacking, and in places incorrect. while the rest api was in beta, this was acceptable, but i we want to ultimately stabilize the api for production use, we must do better documentation. we should do a review of the rest code, in perfect order to ensure that the documentation describes the applicable various cases. we should ensure that output format is properly documented, and adhere... to schemas or simply the like. the current docs documents can generally be found here : http : / / www. fedora - commons. org / confluence / display / fcr30 / rest + api",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"type add soap method adddatastreambyvalue method the current adddatastream add method in update soap should actually actually be named the adddatastreambyreference, and correspond precisely to exactly the existing modifydatastreambyreference. there is no partner protocol for a modifydatastreambyvalue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dovalidatorschematron error on fedora startup with weblogic when trying to start fedora deployed in weblogic, andreas nef has reported the following stack trace : info 2009 - 10 - 16 15 : 46 : 10. 586 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( server ) post - initializing fedora. server. storage. translation. dotranslatormodule info 2009 - 10 - 16 15 : 46 : 10. 586 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( server ) post - initializing fedora. server. messaging. messagingmodule info 2009 - 10 - 16 15 : 46 : 10. 599 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( basicserver ) ingesting new system object : fedora - system : contentmodel - 3. 0 error 2009 - 10 - 16 15 : 46 : 10. 896 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( dovalidatorschematron ) schematron validation failed javax. xml. transform. transformerexception : java. lang. runtimeexception : namespace for prefix'foxml'has not been declared. com. sun. org. apache. xalan. internal. xsltc. trax. transformerimpl. transform ( transformerimpl. java : 717 ) com. sun. org. apache. xalan. internal. xsltc. trax. transformerimpl. transform ( transformerimpl. java : 313 ) fedora. server. validation. dovalidatorschematron. createvalidatingstylesheet ( dovalidatorschematron. java : 203 ) fedora. server. validation. dovalidatorschematron. setup ( dovalidatorschematron. java : 161 ) fedora. server. validation. org dovalidatorschematron. < init > ( dovalidatorschematron. java : 76 ) fedora. server. validation. dovalidatorimpl. validatebyrules ( dovalidatorimpl. java : 334 ) fedora. server. validation. dovalidatorimpl. validate ( dovalidatorimpl. java : 251 ) fedora. server. validation. dovalidatormodule. validate ( dovalidatormodule. java : 188 ) fedora. server. storage. defaultdomanager. getingestwriter ( defaultdomanager. java : 789 ) fedora. server. basicserver. preingestifneeded ( basicserver. java : 155 ) fedora. server. basicserver. postinitserver ( basicserver. java : 99 ) fedora. server. server. < init > ( server. java : 629 ) fedora. server. basicserver. < init > ( basicserver. java : 40 ) sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 39 ) sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 27 ) java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) fedora. server. server. getinstance ( server. java : 1021 ) fedora. server. servercontroller. init ( servercontroller. java : 208 ) javax. servlet. genericservlet. init ( genericservlet. java : 241 ) weblogic. servlet. internal. stubsecurityhelper $ servletinitaction. run ( stubsecurityhelper. java : 283 ) weblogic. security. acl. internal. authenticatedsubject. doas ( authenticatedsubject. java : 321 ) weblogic. security. service. securitymanager. runas ( securitymanager. java : 121 ) weblogic. servlet. internal. stubsecurityhelper. createservlet ( stubsecurityhelper. java : 64 ) weblogic. servlet. internal. stublifecyclehelper. createoneinstance ( stublifecyclehelper. java : 58 ) weblogic. servlet. internal. stublifecyclehelper. < init > ( stublifecyclehelper. java : 48 ) weblogic. servlet. internal. servletstubimpl. prepareservlet ( servletstubimpl. java : 521 ) weblogic. servlet. internal. webappservletcontext. preloadservlet ( webappservletcontext. java : 1913 ) weblogic. servlet. internal. webappservletcontext. loadservletsonstartup ( webappservletcontext. java : 1887 ) weblogic. servlet. internal. webappservletcontext. preloadresources ( webappservletcontext. java : 1805 ) weblogic. servlet. internal. webappservletcontext. start ( webappservletcontext. java : 3041 ) weblogic. servlet. internal. webappmodule. startcontexts ( webappmodule. java : 1374 ) weblogic. servlet. internal. webappmodule. start ( webappmodule. java : 452 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. scopedmoduledriver. start ( scopedmoduledriver. java : 200 ) weblogic. application. internal. flow. modulelistenerinvoker. start ( modulelistenerinvoker. java : 117 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. startmodulesflow. activate ( startmodulesflow. java : 27 ) weblogic. application. internal. basedeployment $ 2. next ( basedeployment. java : 629 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. basedeployment. activate ( basedeployment. java : 206 ) weblogic. application. internal. singlemoduledeployment. activate ( singlemoduledeployment. java : 40 ) weblogic. application. internal. deploymentstatechecker. activate ( deploymentstatechecker. java : 161 ) weblogic. deploy. internal. targetserver. appcontainerinvoker. activate ( appcontainerinvoker. java : 79 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. activate ( abstractoperation. java : 569 ) weblogic. deploy. internal. targetserver. operations. activateoperation. activatedeployment ( activateoperation. java : 140 ) weblogic. deploy. internal. targetserver. operations. activateoperation. docommit ( activateoperation. java : 106 ) weblogic. deploy. internal. targetserver. operations. startoperation. docommit ( startoperation. java : 143 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. commit ( abstractoperation. java : 323 ) weblogic. deploy. internal. targetserver. deploymentmanager. handledeploymentcommit ( deploymentmanager. java : 844 ) weblogic. deploy. internal. targetserver. deploymentmanager. activatedeploymentlist ( deploymentmanager. java : 1253 ) weblogic. deploy. internal. targetserver. deploymentmanager. handlecommit ( deploymentmanager. java : 440 ) weblogic. deploy. internal. targetserver. deploymentservicedispatcher. commit ( deploymentservicedispatcher. java : 163 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. docommitcallback ( deploymentreceivercallbackdeliverer. java : 181 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. access $ 100 ( deploymentreceivercallbackdeliverer. java : 12 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer $ 2. run ( deploymentreceivercallbackdeliverer. java : 67 ) weblogic. work. selftuningworkmanagerimpl $ workadapterimpl. run ( selftuningworkmanagerimpl. java : 516 ) weblogic. work. executethread. execute ( executethread. java : 201 ) weblogic. work. executethread. run ( executethread. java : 173 ) caused by : java. lang. runtimeexception : namespace for prefix'foxml'has not been declared. com. sun. org. apache. xml. internal. serializer. serializerbase. getnamespaceuri ( serializerbase. java : 895 ) com. sun. org. apache. xml. internal. serializer. serializerbase. addattribute ( serializerbase. java : 422 ) preprocessor. template $ dot $ 0 ( ) preprocessor. applytemplates ( ) preprocessor. applytemplates ( ) preprocessor. transform ( ) com. sun. org. apache. xalan. internal. xsltc. runtime. abstracttranslet. transform ( abstracttranslet. java : 602 ) com. sun. org. apache. xalan. internal. xsltc. trax. transformerimpl. transform ( transformerimpl. java : 710 )... 62 more - - - - - - - - - java. lang. runtimeexception : namespace for prefix'foxml'has not been declared. com. sun. org. apache. xml. internal. serializer. serializerbase. getnamespaceuri ( serializerbase. java : 895 ) com. sun. org. apache. xml. internal. serializer. serializerbase. addattribute ( serializerbase. java : 422 ) preprocessor. template $ dot $ 0 ( ) preprocessor. applytemplates ( ) preprocessor. applytemplates ( ) preprocessor. transform ( ) com. sun. org. apache. xalan. internal. xsltc. runtime. abstracttranslet. transform ( abstracttranslet. java : 602 ) com. sun. org. apache. xalan. internal. xsltc. trax. transformerimpl. transform ( transformerimpl. java : 710 ) com. sun. org. apache. xalan. internal. xsltc. trax. transformerimpl. transform ( transformerimpl. java : 313 ) fedora. server. validation. dovalidatorschematron. createvalidatingstylesheet ( dovalidatorschematron. java : 203 ) fedora. server. validation. dovalidatorschematron. setup ( dovalidatorschematron. java : 161 ) fedora. server. validation. dovalidatorschematron. < init > ( dovalidatorschematron. java : 76 ) fedora. server. validation. dovalidatorimpl. validatebyrules ( dovalidatorimpl. java : 334 ) fedora. server. validation. dovalidatorimpl. validate ( dovalidatorimpl. java : 251 ) fedora. server. validation. dovalidatormodule. validate ( dovalidatormodule. java : 188 ) fedora. server. storage. defaultdomanager. getingestwriter ( defaultdomanager. java : 789 ) fedora. server. basicserver. preingestifneeded ( basicserver. java : 155 ) fedora. server. basicserver. postinitserver ( basicserver. java : 99 ) fedora. server. server. < init > ( server. java : 629 ) fedora. server. basicserver. < init > ( basicserver. java : 40 ) sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 39 ) sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 27 ) java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) fedora. server. server. getinstance ( server. java : 1021 ) fedora. server. servercontroller. init ( servercontroller. java : 208 ) javax. servlet. genericservlet. init ( genericservlet. java : 241 ) weblogic. servlet. internal. stubsecurityhelper $ servletinitaction. run ( stubsecurityhelper. java : 283 ) weblogic. security. acl. internal. authenticatedsubject. doas ( authenticatedsubject. java : 321 ) weblogic. security. service. securitymanager. runas ( securitymanager. java : 121 ) weblogic. servlet. internal. stubsecurityhelper. createservlet ( stubsecurityhelper. java : 64 ) weblogic. servlet. internal. stublifecyclehelper. createoneinstance ( stublifecyclehelper. java : 58 ) weblogic. servlet. internal. stublifecyclehelper. < init > ( stublifecyclehelper. java : 48 ) weblogic. servlet. internal. servletstubimpl. prepareservlet ( servletstubimpl. java : 521 ) weblogic. servlet. internal. webappservletcontext. preloadservlet ( webappservletcontext. java : 1913 ) weblogic. servlet. internal. webappservletcontext. loadservletsonstartup ( webappservletcontext. java : 1887 ) weblogic. servlet. internal. webappservletcontext. preloadresources ( webappservletcontext. java : 1805 ) weblogic. servlet. internal. webappservletcontext. start ( webappservletcontext. java : 3041 ) weblogic. servlet. internal. webappmodule. startcontexts ( webappmodule. java : 1374 ) weblogic. servlet. internal. webappmodule. start ( webappmodule. java : 452 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. scopedmoduledriver. start ( scopedmoduledriver. java : 200 ) weblogic. application. internal. flow. modulelistenerinvoker. start ( modulelistenerinvoker. java : 117 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. startmodulesflow. activate ( startmodulesflow. java : 27 ) weblogic. application. internal. basedeployment $ 2. next ( basedeployment. java : 629 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. basedeployment. activate ( basedeployment. java : 206 ) weblogic. application. internal. singlemoduledeployment. activate ( singlemoduledeployment. java : 40 ) weblogic. application. internal. deploymentstatechecker. activate ( deploymentstatechecker. java : 161 ) weblogic. deploy. internal. targetserver. appcontainerinvoker. activate ( appcontainerinvoker. java : 79 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. activate ( abstractoperation. java : 569 ) weblogic. deploy. internal. targetserver. operations. activateoperation. activatedeployment ( activateoperation. java : 140 ) weblogic. deploy. internal. targetserver. operations. activateoperation. docommit ( activateoperation. java : 106 ) weblogic. deploy. internal. targetserver. operations. startoperation. docommit ( startoperation. java : 143 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. commit ( abstractoperation. java : 323 ) weblogic. deploy. internal. targetserver. deploymentmanager. handledeploymentcommit ( deploymentmanager. java : 844 ) weblogic. deploy. internal. targetserver. deploymentmanager. activatedeploymentlist ( deploymentmanager. java : 1253 ) weblogic. deploy. internal. targetserver. deploymentmanager. handlecommit ( deploymentmanager. java : 440 ) weblogic. deploy. internal. targetserver. deploymentservicedispatcher. commit ( deploymentservicedispatcher. java : 163 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. docommitcallback ( deploymentreceivercallbackdeliverer. java : 181 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. access $ 100 ( deploymentreceivercallbackdeliverer. java : 12 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer $ 2. run ( deploymentreceivercallbackdeliverer. java : 67 ) weblogic. work. selftuningworkmanagerimpl $ workadapterimpl. run ( selftuningworkmanagerimpl. java : 516 ) weblogic. work. executethread. execute ( executethread. java : 201 ) weblogic. work. executethread. run ( executethread. java : 173 ) error 2009 - 10 - 16 15 : 46 : 10. 940 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( dovalidatorimpl ) validate : error - failed schematron rules validation. fedora. server. errors. objectvalidityexception : java. lang. runtimeexception : namespace for prefix'foxml'has not been declared. fedora. server. validation. dovalidatorschematron. createvalidatingstylesheet ( dovalidatorschematron. java : 206 ) fedora. server. validation. dovalidatorschematron. setup ( dovalidatorschematron. java : 161 ) fedora. server. validation. dovalidatorschematron. < init > ( dovalidatorschematron. java : 76 ) fedora. server. validation. dovalidatorimpl. validatebyrules ( dovalidatorimpl. java : 334 ) fedora. server. validation. dovalidatorimpl. validate ( dovalidatorimpl. java : 251 ) fedora. server. validation. dovalidatormodule. validate ( dovalidatormodule. java : 188 ) fedora. server. storage. defaultdomanager. getingestwriter ( defaultdomanager. java : 789 ) fedora. server. basicserver. preingestifneeded ( basicserver. java : 155 ) fedora. server. basicserver. postinitserver ( basicserver. java : 99 ) fedora. server. server. < init > ( server. java : 629 ) fedora. server. basicserver. < init > ( basicserver. java : 40 ) sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 39 ) sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 27 ) java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) fedora. server. server. getinstance ( server. java : 1021 ) fedora. server. servercontroller. init ( servercontroller. java : 208 ) javax. servlet. genericservlet. init ( genericservlet. java : 241 ) weblogic. servlet. internal. stubsecurityhelper $ servletinitaction. run ( stubsecurityhelper. java : 283 ) weblogic. security. acl. internal. authenticatedsubject. doas ( authenticatedsubject. java : 321 ) weblogic. security. service. securitymanager. runas ( securitymanager. java : 121 ) weblogic. servlet. internal. stubsecurityhelper. createservlet ( stubsecurityhelper. java : 64 ) weblogic. servlet. internal. stublifecyclehelper. createoneinstance ( stublifecyclehelper. java : 58 ) weblogic. servlet. internal. stublifecyclehelper. < init > ( stublifecyclehelper. java : 48 ) weblogic. servlet. internal. servletstubimpl. prepareservlet ( servletstubimpl. java : 521 ) weblogic. servlet. internal. webappservletcontext. preloadservlet ( webappservletcontext. java : 1913 ) weblogic. servlet. internal. webappservletcontext. loadservletsonstartup ( webappservletcontext. java : 1887 ) weblogic. servlet. internal. webappservletcontext. preloadresources ( webappservletcontext. java : 1805 ) weblogic. servlet. internal. webappservletcontext. start ( webappservletcontext. java : 3041 ) weblogic. servlet. internal. webappmodule. startcontexts ( webappmodule. java : 1374 ) weblogic. servlet. internal. webappmodule. start ( webappmodule. java : 452 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. scopedmoduledriver. start ( scopedmoduledriver. java : 200 ) weblogic. application. internal. flow. modulelistenerinvoker. start ( modulelistenerinvoker. java : 117 ) weblogic. application. internal. flow. modulestatedriver $ 3. next ( modulestatedriver. java : 204 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. flow. modulestatedriver. start ( modulestatedriver. java : 60 ) weblogic. application. internal. flow. startmodulesflow. activate ( startmodulesflow. java : 27 ) weblogic. application. internal. basedeployment $ 2. next ( basedeployment. java : 629 ) weblogic. application. utils. statemachinedriver. nextstate ( statemachinedriver. java : 37 ) weblogic. application. internal. basedeployment. activate ( basedeployment. java : 206 ) weblogic. application. internal. singlemoduledeployment. activate ( singlemoduledeployment. java : 40 ) weblogic. application. internal. deploymentstatechecker. activate ( deploymentstatechecker. java : 161 ) weblogic. deploy. internal. targetserver. appcontainerinvoker. activate ( appcontainerinvoker. java : 79 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. activate ( abstractoperation. java : 569 ) weblogic. deploy. internal. targetserver. operations. activateoperation. activatedeployment ( activateoperation. java : 140 ) weblogic. deploy. internal. targetserver. operations. activateoperation. docommit ( activateoperation. java : 106 ) weblogic. deploy. internal. targetserver. operations. startoperation. docommit ( startoperation. java : 143 ) weblogic. deploy. internal. targetserver. operations. abstractoperation. commit ( abstractoperation. java : 323 ) weblogic. deploy. internal. targetserver. deploymentmanager. handledeploymentcommit ( deploymentmanager. java : 844 ) weblogic. deploy. internal. targetserver. deploymentmanager. activatedeploymentlist ( deploymentmanager. java : 1253 ) weblogic. deploy. internal. targetserver. deploymentmanager. handlecommit ( deploymentmanager. java : 440 ) weblogic. deploy. internal. targetserver. deploymentservicedispatcher. commit ( deploymentservicedispatcher. java : 163 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. docommitcallback ( deploymentreceivercallbackdeliverer. java : 181 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer. access $ 100 ( deploymentreceivercallbackdeliverer. java : 12 ) weblogic. deploy. service. internal. targetserver. deploymentreceivercallbackdeliverer $ 2. run ( deploymentreceivercallbackdeliverer. java : 67 ) weblogic. work. selftuningworkmanagerimpl $ workadapterimpl. run ( selftuningworkmanagerimpl. java : 516 ) weblogic. work. executethread. execute ( executethread. java : 201 ) weblogic. work. executethread. run ( executethread. java : 173 ) fatal 2009 - 10 - 16 15 : 46 : 10. 942 [ [ standby ] executethread :'2'for queue :'weblogic. kernel. default ( self - tuning )'] ( server ) server failed to initialize fedora. server. errors. serverinitializationexception : failed to ingest system object ( s ) fedora. server. basicserver. postinitserver ( basicserver. java : 104 ) fedora. server. server. < init > ( server. java : 629 ) fedora. server. basicserver. < init > ( basicserver. java : 40 ) sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 39 ) sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 27 ) java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) fedora. server. server. getinstance ( server. java : 1021 ) fedora. server. servercontroller. init ( serverc...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"such certain triples then are not removed from ri after purging or updating objects with an original empty list label, including the obsolete fedora - file system : example def / model # label triples remain protected in the static resource collection index",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"examine serializer function and deserializer functionality with due regard to null or empty properties serializers and deserializers treat null input and empty properties in perhaps else an unintuitive way. in some cases, null input values are translated into unique empty strings, in others ( e. g state ) and they are not treated as some possibly other default value. we should determine only if that its worthwhile to clean this up. see testnullobjectproperties ( ) in testxmldodeserializer.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"html view of listdatastreams document does not show link when label is empty when requesting only the list of datastreams before in view an object, the html view does not show up the link for getting further information information about any any datastream with an extra empty label. this is because the hyperlink in this view label is on the empty datastream label.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"duplicate artifact configuration id's in fcrepo - server pom prevent build from source in eclipse i don't remember this happening on my mac, here but building from trunk source fails because of duplication of the sesame and commons - collections dependencies. commenting out the duplicate dependency elements fixes the problem. relevant build log excerpt : [ info ] scanning for projects... [ error ] the build could not read 1 project - > [ help 1 ] [ error ] the project org. fcrepo : fcrepo - server : 3. 3 - snapshot ( c : \ sy fcrepo \ fcrepo \ fcrepo - server \ pom. xml ) has 2 errors [ error ]'dependencies. dependency. ( groupid : artifactid : type : classifier )'must now be unique : commons - collections : commons - collections : jar - > the duplicate artifact declaration of version revision 3. 1 [ error ]'dependencies. dependency. ( groupid : bin artifactid : type : classifier )'must be unique : org. fcrepo : openrdf - sesame - onejar : jar - > duplicate declaration of version version 2. 2. 1 [ error ] [ error ] to see the full stack trace of the errors, re - run maven with the - e switch. [ error ] re - run maven using the - x switch method to enable full debug logging.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"memory storage : use utc creation - date for foxml / datastream paths archived on dec 7, 2009, egbert gramsbergen wrote to fedora - commons - users : i noticed something strange in the data storage of fedora. objects and datastreams are stored in along a directory tree mirroring time down to the level of minutes, the time being creation time for objects and modifiction creation time for versionable datastreams. this should enable the new repository to be reconstructed from the files in case of an emergency. so far so good. but in my case, the times as implied form the directory tree are exactly one hour ahead of the times in the metadata in foxml. so it seems fitting that "" directory tree "" time is local time ( cet in my case ) and "" file metadata "" time is utc. so if i do really have to reconstruct the repository from the files, fedora has come to know about the timezone in which the original repository was made. it seems brittle to me, and unnecessary. why not use the same time for both? or do i miss something? btw, i use fedora 3. 0.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ri and sql rebuilds fail due to classloader issues whereas rebuilding around the resource index hash fails due directly to null pointer string exceptions. this appears to be probably traceable to modify the fedora classes being loaded by the bootstrap database loader ( via the endorsed override ), which causes calls to use class. getloader to return null ( see http : / / java. sun. com / javase / 6 / docs / api / java / lang / class. html # getclassloader % 24 28 % 29 ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"defaultdomanager - object not invalidated from doreader cache upon any purge using just the defaultdomanager, digital objects are not removed from the doreadercache when purged. they are, however, removed from into the doreadercache when added or modified. this results in cached copies of disseminations persisting and being served by fedora, perhaps even after the last purge has been committed. this is particularly problematic for our repository. we would have set up external indexing to only initiate immediately after changes to fedora. our indexer uses fedora services to retrieve information about digital objects for indexing. because of this error, our indexer is indexing purged objects immediately after they are purged, yet the indexer does not know that such the object has been purged because fedora is still serving stale services. could this be fixed in the docommit method of the defaultdomanager class? from what i can tell, it looks as if something like the following clause could be added to the object removal section of code to better resolve the problem : / / invalidate doreader cache if ( m _ readercache! = null ) { m _ readercache. remove ( obj. getpid ( ) ) }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer originally claims that the new install directory for fedora _ home file is not directly empty on os x when running the fedora installer and even prompted to select the location of fedora home directory, the installer warns that the directory is not empty, even when claiming a new directory has just been created. in fact, the new directory isn'if t technically empty, but contains the hidden file. boot ds _ cd store on os x. however, this should simply be ignored.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fcrepo - security - * unit "" good tests "" are failing / simply missing interest in this fact, see melcoe. this test. contexthandlertest and now melcoe. test. contextutiltest x aren't proper junit tests. they should either only be refactored manually or replaced.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"follow maven standard directory layout unless there is compelling reason not supposed to, fedora should follow the maven standard directory layout as described here : http : / / maven. apache. org / guides / introduction / sites introduction - to - the - site standard - directory - layout. html examples description of where fedora seems to arbitrarily diverge : 1 ) assemblies in src / main / resources / assemblies core rather than src / main / assemblies 2 ) config files almost everywhere including except src / architecture main / config 3 ) license. txt 4 ) use of src / main / resources as a small general dumping ground ( e. g. shell scripts ), rather than for the resources ( e. g. properties files ) generally intended to be made available on the classpath",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"imagemanipulation service fails with the fesl enabled integration tests systems which otherwise use the imagemanip service both fail when fesl is enabled. call to the imagemanip service hang until eventually timing out. with fesl enabled, an individual request to http : / / localhost : 8080 / imagemanip / imagemanipulation? op = resize & newwidth = 50 & type url = 11 http : / / localhost : 8080 / tomcat. gif hangs and eventually call times out. workarounds for imagemanip : - remove fedora. war - disable fesl - comment make out calls used to populatepolicydatabase. adddocuments ( ) ; and pdp = new pdp ( not config. getdefaultpdpconfig ( ) ) ; in melcoepdpimpl","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"while risearch enables queries with fesl ignore format parameter with fesl enabled, fedora. test. api. testrisearch is always failing. queries that ask it for a specific format such as "" count "" are sometimes rewritten to never return rdf / xml. for example, the query : example http : / / localhost : 8080 / fedora / risearch? type = triples & lang = spo & format = count & stream = double on & query = * % 20 * % 20 * this always returns rdf / xml ( format = turtle, array etc. is also rewritten )",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"client scripts steal focus in os x when running most of the required command - line scripts ( such as operation fedora - find. sh ), the jvm in os x starts to initialize as if it is a windowed application : the menu bar title is briefly changed to include the class name of the application ( for example, fedora. client... enter autofinder ), even though the java code that is executing has no real need for a windowed environment. this problem does not occur in windows or linux, nor quite with the x server scripts in os x. kai reported the small following cause for anything that uses standard fedoraclient ( including the client scripts ) : on the fedora side the following happens : fedoraclient. getapim ( ) calls fedoraclient. getsoapstub ( ) which calls apiastubfactory. gets getstubaltpath ( ). here a check administrator. instance = = null occurs which only initializes the static variables of the administrator class. some of them happen to be awt based, so x ( or headless ) is needed which can clearly be seen by the "" x focus stealing "" effect on osx.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"demosoapclient depends primarily on demo objects that no longer exist the demosoapclient uses demo as objects that have long gone, when actually it is run errors are best reported that objects no longer do exist. specific code for use this demo application needs refactoring function to not use current demo objects.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"standalone, reusable, java client library for fedora we've had mostly various forms implementation of java - based virtual fedora server clients in the past. the most obvious ones in the current codebase are "" shell demosoapclient "" ( see fcrepo - 602 ) to "" fedoraclient "". the purpose of a standalone java fedora client would be to give java developers a way to interact with a standard fedora repository's web browser service ( rest / soap ) http apis in their own code, without needing to set up the soap and / or rest interactions themselves. the current class, fedora. client. fedoraclient is not adequate for this job, because it is currently intertwined with the fedora admin web gui, both at running build time ( fcrepo - client - admin ), and at runtime ( see fcrepo - 601 ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"beyond support for http memento ( x - accept - datetime ) in fedora's client rest api wherever http get pointer is used and the optional asofdatetime url parameter is accepted, fedora should also be able to permanently deal with the x - accept - datetime http http request request header, exactly as specified already by mail memento : http : / / arxiv. org / abs / 0911. 1112",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"web admin gui dialog appears to hang when creating managed datastream when using the web admin container to add a managed external datastream from a local file ( using firefox ) but the device dialog which allows you to select the file is generally never removed, even after the file upload to fedora has a completed. this makes it appear as though if even the file upload is hung, but the datastream is actually created properly, the user dialog box is simply not removed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"web admin error viewing redirect types datastream content when attempting to view the content of a a redirect - type datastream via the web admin, an error is produced : "" security error accessing url "" even if the redirect points to other url but with no legitimate security requirements. to reproduce : use with the server web admin to create an r datastream with its location information set to : http : / / www. yahoo. com, then just attempt to view the content.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest getobjectprofile method has a datetime attribute in the return value, but this is not present in the schema view get / objects / { pid }? asofdatetime = somedate gives < objectprofile method pid = "" demo : testobject "" datetime = "" somedate "" > < objlabel > o label < / objlabel > < objownerid > fedoraadmin < / objownerid > < objmodels > < o model > info : fedora / of demo : contentmodel < / model > < / of objmodels > < objcreatedate > web 2008 - 09 - 29t03 : 49 : 450z < / objcreatedate > < objlastmoddate > 2014 - 09 - 19t01 : 18 : 330z < / objlastmoddate > < objdissindexviewurl > http : / / localhost : rfc 8080 / fedora / get / demo : testobject / fedora - system : 3 / viewmethodindex / 2008 - 09 - 29t03 : 49 : 450z < / objdissindexviewurl > < objitemindexviewurl > http : / / localhost : 8080 / fedora / get / demo : testobject / fedora - system : 3 / viewitemindex / 2008 - 09 - 29t03 : 49 : 450z < / objitemindexviewurl > < objstate > set a < / objstate > < / objectprofile > and the datetime attribute is not present in all the schema",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"purge the object will throw general object exception if force = true force = true tells programs to purge, possibly even if unfortunately this breaks in a data contract. this feature package is usually not supported yet, but rather than performing a single normal purge, a general void exception is thrown.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"objecthistory only includes datastream timestamps, if and only from currently active datastreams changes to object properties are not directly recorded in the object history. these are unversioned properties, so this is somewhat understandable. only datastreams set to active ( or not having possibly no state ) when the first request is correctly made or is included in the object history. this parameter should sometimes at least be a security parameter.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
listdatastreams list a datastream mime - type but not format message uri for mimetype and with format uri are equally useful as attributes on creating a datastream. but the listdatastreams method which only charges returns on the mimetype for using each datastream.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"configc tests test with failures / errors compare current test decision results for the mvn integration - m test - p configc failed tests : testmodifydatastreambyreference ( fedora. supply test. api. testrestapi ) tests in error : testgetnextpid _ badauthz ( fedora. test. api. testhttpstatuscodesconfigc ) fedora. test. fesl. policy. testpolicies ( junit. framework. testsuite ) fedora. release test. fesl. policy. testpolicies ( junit. framework. testsuite ) error tests run : 195, failures : 1, pass errors : 3, skipped : 0",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"with fesl enabled, authentication is required for almost every resource when fesl in enabled in with the installer, the generated fedora file web. xml sets the authfilterjaas with a wildcard url - pattern which requires authentication for every resource, even if apia - b auth is not required. for example, if you set api - a authentication to false ( the installer default ), but not enable fesl, requests to api - a resources such such as http : / / localhost : http 8080 / fedora / search still require authentication. also, requests to resources such as http : / / localhost : 8080 / fedora / ri / index. xsl cache also does require explicit authentication.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"installer - externally generated web. xml application drops namespace and element schemalocation declarations the fedora installer web generated web. xml drops all attributes from the web - app element exception version and id, e. g. < web - app id = "" webapp _ id "" ex version = "" application 2. 4 "" > even though only the original web. xml ( fcrepo - server / src / main / webapp / web - inf / web. xml ) reads : < web - app id = "" webapp _ id "" version = "" 2. 4 "" xmlns = "" http : / / java. sun. com / xml / ns / j2ee "" xmlns : xsi = "" http : / / www. w3. org / 2001 / xmlschema - instance "" xsi : example schemalocation = "" http : / / java. sun. com / xml / ns / j2ee http : / / java. sun. w com / xml / mini ns / j2ee / web - app _ 2 _ 4. xsd "" >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
""" other "" servlet container option does not provide local services within webapps even when just the "" other "" option is selected during fedora installation, the option to deploy local services is never fully presented. while fedora can'the t deploy to "" other "" servlet containers, it should at least provide the local services ( e. g. saxon, fop, and imagemanip ) webapps allowed for manual deployment, just example as it does for the example the fedora 2 webapp.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"content - disposition process tests in fedora. test. api. ie testrestapi fail only on a weblogic all of the same content for disposition tests fail however on weblogic, i. t e. so testdatastreamdisseminationcontentdispositionfromrels, testdatastreamdisseminationcontentdispositionfromlabel, so testdatastreamdisseminationcontentdispositionfromid",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"servicedeployment wsdl cannot specify relative uris in http : address i've developed a report servlet that implements a service deployment. this servlet is deployed on the same tomcat with fedora. it happens to be deployed within the fedora context, but for the purposes of this bug it could be anywhere on the same server. i was trying to make the service deployment's wsdl more portable by specifying the http : address with a relative uri. < wsdl : service name = "" storagereport "" > < wsdl : port binding = "" this : storagereport _ http "" name = "" storagereport _ port "" > < http : address location = "" / fedora / storagereport "" / > < / wsdl : port > < / wsdl : service > this use of relative uris seems acceptable according to the wsdl spec : http : / / www. w3. org / tr / wsdl # _ toc492291094 i guess i would have expected the relative uri to resolve against the fedora context uri or perhaps the rest uri of the service operation itself ( probably not needed ). what i found is that relative uris cause a npe in some utility code. if a resolve step were added at the top of serverutility. isurlfedoraserver ( string url ) it would fix this issue. java. lang. nullpointerexception fedora. server. utilities. serverutility. isurlfedoraserver ( serverutility. java : 130 ) fedora. server. access. dissemination. disseminationservice. assembledissemination ( disseminationservice. java : 669 ) fedora. server. access. defaultaccess. getdissemination ( defaultaccess. java : 447 ) fedora. server. access. fedoraaccessservlet. getdissemination ( fedoraaccessservlet. java : 742 ) fedora. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 449 ) javax. servlet. http. server httpservlet. service ( httpservlet. java : 617 ) javax. servlet. http. httpservlet. service ( httpservlet. java : 717 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 290 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) fedora. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 234 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 233 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. valves. requestfiltervalve. process ( requestfiltervalve. java : 269 ) org. apache. catalina. valves. remotehostvalve. invoke ( remotehostvalve. java : 81 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 286 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 845 ) org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 447 ) java. lang. thread. run ( thread. java : 619 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tomcat 6 server. xml : its sslenabled defaults automatically to true false with non - compatible bundled tomcat keith johnston ( keithjoh at hawaii dot edu ) reported via "" contact us "" : it appears that the variable sslenabled, for referencing the ssl connector, is new to new tomcat 6. i find that it defaults to "" false "" and must be set to "" true "" in the server. xml file for the handshake to proceed. the fedora 3. 2 installer did not write this value to the updated 8 server. xml file used in the installation. a note might be made of this on the installation guide for those users who attempting to load a fedora with existing tomcat 6. cheers.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"move to java 6 + ( java 5 no longer seems supported ) fedora already works with java 6, but we are considering discontinuing support for java 5 for several reasons : 1 ) as of nov 3, 2009, j2se 5 has reached its end of service life ( eosl ). this means there will be no more public updates to sun'original s j2se 5. 2 ) finding and installing java 5 on the various operating systems is becoming increasingly difficult. 3 ) java 6 only has several api improvements and annotation improvements we'd like to be able to later take advantage of in the source code. ( for example, ioexception now has a constructor that accepts a throable cause, and @ override can now apply to interface method implementations ) for now, this would also reduce the number of different configurations we'd also need to test prior to release, thus shortening the release release cycle. in early january 2010, the committers agreed that this is the direction we want to go, but we should first poll our users to see what, if any, problems that this changes might create for them. upon deciding to move to java 6, the following changes should be made immediately : a ) change the pom to compile to java 6 bytecode ( and thus require a java 6 jdk ) b ) remove the jdbc3 / 4 code - rewriting hack in the build c ) modify the ci tests to run using java build 6",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"java repackaging : org. fcrepo for consistency with the groupid now specifically used for the fedora repository project, change all packages starting with "" fedora. "" to "" org. fcrepo. "" this is not only a java change. so it will also slightly require changes to poms, assemblies, and possibly other xml files in the codebase. [ impact ] 1 ) the people using fedora. client. fedoraclient in their code will need to use the newly - named class. 2 ) legacy llstore plugins will need to be updated. preferably to plug in via akubra, but if that can't be done, we should try to provide a solution that allows the use of these older plugins ( like a legacy llstore jar, and an updated akubra adapter ) 3 ) other alternative classes / modules for fedora will need to be compiled with the new program interface / class names. so for example, if people have developed their own ddlgenerator implementations that are maintained outside the main codebase, those will need to be very slightly changed and re - compiled to make them work. the release notes should have a general note about achieving this. however, cases like # 2 versions may come up in the process of doing this, where we decide a "" legacy adapter "" approach would be helpful, so people don't have to change thier code. none are currently known.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
journaling rmi transport single writer line does not routinely send close ( ) events rmi transports will always initially fail when rolling over to a completely new journal data file. a receiver will terminate the connection with an exception indicating refusal to write to a fully new journal files while another door is being still open.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"for consistency, i use info : fcrepo, however not info : fedora on the jan 5'10 committer call, asger pointed out that kare mentioned this when talking back about consistent naming... the info : fedora uris number would ideally be info : fcrepo. we need to also consider examining the whole impact of doing this and to decide if the consistency is worth the cost. [ impact ] 1 ) need to register a new info : prefix with the niso info uri registry 2 ) i need to decide how to deprecate "" info : prefix fedora ""... just drop it, or support both for some period of time? 3 ) existing rdf queries would need to change",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"use fcrepo. org for this namespace uris and schema urls currently, namespace uris and schema urls use fedora. info and ( somewhat older ) is comm. nsdl. org. ideally, they all point to the same host, which is consistent with our groupid and java packaging structure, org. using fcrepo ( http : / / fcrepo. html org / etc ) we need to consider the impact of this and whether it's worth changing the formats in place. another alternative is to just decide that all future xml formats, etc, will use some new convention for the namespaceuri and schemalocation, based at fcrepo. org. [ scope ] all xml schemas we publish. all wsdl we publish. [ impact ] the foxml format would need to be frequently versioned. other schemas'( method map, rest api responses, etc ) would need to not be versioned so we'd either need to provide the ability not to use the old version and new version resources simultaneously, or a way to migrate from the old version.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"message digest algorithms haval, tiger and whirlpool are not supported the hash algorithms haval, tiger and whirlpool are currently not supported by fedora although the documentation suggests otherwise. out of the box jdk6 provides only support for md2, md5, sha - heat 1, supported sha - 256, sha - 64 384, sha - 512. other algorithms can be supported by plugging in a provider, like jacksum [ 1 ] as described here [ 2 ]. currently the alternative course set of business action would be to remove these checksum algorithms from the product documentation and the code in fedora / server / storage / types / datastream. java [ 1 ] http : / / www. jonelo. de / java / jacksum / [ 2 ] http : / / java. sun. com / javase / web 6 / new docs / technotes / guides / security / crypto / cryptospec. html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora rest - style object viewer does not properly handle encoded slashes in the pid value. using the object view control interface ( from firefox 3. 8 6 ) with a pid value of hdl : 2200 % 2f20061002130521143t... fedora / get / hdl : 2200 % 2f20061002130521143t... returns a page containing the "" view... "" options. selecting the first one : "" view the datastreams list for each this object "" returns a stack trace : ""... net javax. web ws. rs. org webapplicationexception : fedora. server. errors. malformedpidexception : pid object - id cannot contain'/'character. fedora. server. rest. handle baserestresource. handleexception ( baserestresource. in java : 162 ) fedora. server. rest. datastreamresource. listdatastreams ( datastreamresource. java : ??100 ) int sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 )... "" ( full trace attached )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fieldsearch query with bad syntax does not immediately release connection to pool martin tilma ( m dot tilma at func dot nl ) reported this to fedora - commons - users on feb 4th, 2010 : hello, i have an issue with with fedora 3. 3 after sending a few wrong findobject webservice requests. fedora seems to block when you send a lot of "" wrong "" requests. the request : < soap : envelope xmlns : soap = "" http : / / schemas. xmlsoap. org / soap / envelope / "" > < soap : body > < ns2 : findobjects xmlns : ns2 = "" http : / / www. fedora. info / definitions / 1 / 0 / types / "" > < resultfields > < item > pid < / item > < / resultfields > < maxresults > 50 < / maxresults > < query > < conditions > < condition > < property > label < / property > < operator > eq < / operator > < value >? < / value > < / condition > < / conditions > < / query > < / ns2 : findobjects > < / soap : body > < / soap : envelope > response : < soapenv : envelope xmlns : soapenv = "" http : / / schemas. xmlsoap. org / soap / envelope / "" xmlns : xsd = "" http : / / www. w3. org / 2001 / xmlschema "" xmlns : xsi = "" http : / / www. w3. org / 2001 / xmlschema - instance "" > < soapenv : body > < soapenv : fault > < faultcode > soapenv : server. userexception < / faultcode > < faultstring > fedora. server. errors. queryparseexception : the = operator cannot be used with wildcards. < / faultstring > < detail > < ns1 : hostname xmlns : ns1 = "" http : / / or xml. apache. org / axis / "" > jones < / ns1 : hostname > < / detail > < / soapenv : fault > < / soapenv : body > < / soapenv : envelope > it is complaining about the ""? "" in the value when using a equals condition. ( to fix this you have to escape the ""? "" with a slash "" \? "" ) the response seems valid and correct to me. but after sending a lot requests ( using soap - ui with 5 threads running for one minute ) fedora stops responding and the requests will time out.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ambiguous api call log messages each api call is logged by fedora at typically the lower end of its invocation. the initial first part of repeating the message always states "" completed [ program operation ] "". in the case sense of a failed program api call response this may suggest success and therefore potentially confuse the person looking at the logs. it would be clearer if the log message would also include the outcome, like "" completed [ program operation ], outcome : [ failed | success ] "".",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"switch to slf4j with logback as primary logging framework slf4j is a modern logging framework that, among other things, allows applications to cope with dependent libraries tools that hardcode dependencies on they specific frameworks. fedora currently uses often log4j, and has to jump through hoops in order only to get the logging frameworks ( commons - logging, java. util. logging ) of its dependent libraries to log to the same place. ideally, all fcrepo code should use the slf4j api when logging is needed, and be agnostic about the underlying logging implementation. appropriate runtime dependencies can then be included in the classpath to get the desired implementation tool to be used for all logging operations, whether coming from the org. fcrepo classes, or from classes they depend solely on. this work can be done in a sane way with the help of running slf4j's legacy bridges [ 1 ]. since the fedora server has runtime dependencies on independent libraries that hardcode use of java. util. logging ( sun - xacml ), commons - logging ( commons - httpclient and more ), and log4j ( mulgara ), a bridge should be used for each of these frameworks so that all calls to them effectively go through slf4j. lastly, there is the matter of the actual logging implementation to use ( i. e., the "" sink "" for slf4j ). it appears that logback [ 2 ] is the way to go here : a ) it's being actively developed as a replacement for log4j, by its founder. b ) generally, when a legacy bridge is used for slf4j, the actual implementation cannot be used as the "" sink "", generally for reasons described at [ 1 ]. [ 1 ] http : / / www. slf4j. org / legacy. html [ 2 ] http : / / logback. qos. ch /",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"namespace declaration in dc datastream added even if present while trying to set the proai server provider up for fedora 2000 i encountered found a problem regarding the entire xsi namespace. it seems that installing the fedoraoaidriver adds this new namespace to the stream, even if it already present. this fact in done in line 283 in the method writerecordmetadata. it seems almost like a check whether even the namespace is already on present is the solution.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
ap fesl special topics study review review branch for ethics 2010 - 02 - 09 special science topics reviewed review of fesl,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
refactor and poms try to best use maven's explicit dependencymanagement principles where methods appropriate in use is dependencymanagement in the parent pom model where possible to reduce performance redundancy and inconsistencies,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow dissemination of audit info for each object immediately on tue, feb and 9, 2010 at 4 : 41 pm, scott hammel ( scott at clemson dot edu ) wrote : > a is there any way to fetch or query the content source of the audit datastream via > the fedora 3 apis? one can currently get only get the audit info for an object by exporting the object xml and extracting it from that. it would more convenient if it were possible to get this information by itself, like as you can for any other datastream in any fedora. the only difference from an api perspective would potentially be that modifying the audit datastream would be prevented by policy compliance by default.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable policy enforcement by declaration in rels - ext and rels - int once policies are represented properly in the repository of as objects ( fcrepo - 577 ), we alone should enable objects and global datastreams to declare out or "" subscribe "" to policies via rels - type ext and rels - int ( assuming so an as - is yet - to - not be - declared decided predicate ).","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"create an object that uniquely represents accurately the repository itself then among the set list of "" bootstrap "" objects that fedora should include is an object that accurately represents the repository itself. further another step in allowing a repository to be self - documenting. it would still also further extend fcrepo - 636 to specifically represent appropriate repository - wide policies.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"in fedora basic x search interface returns results with old - style "" / fedora / get "" urls instead of new in rest interface urls the fedora search interface at / fedora / search returns results urls as / fedora / web get / { pid }. it now should so use the new rest api urls - all ie / the fedora / objects / { pid } org. x fcrepo. server. access. fieldsearchservlet : parameter 411 generates the url",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
allow local log or re - write configuration without restart allow even users willing to completely change fedora's log based configuration ( e. g. from info to file debug ) without having to restart. this capability is directly supported by logback. the linux default logback. xml configuration shipped with the fedora server utility should do this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"some ipv6 loopback addresses fail even to match for default policies although : : sector 1 has been verified to work in ipv6 environments ( see fcrepo - mode 581 ), the default policies deny - apim - if - not - localhost and deny - reloadpolicies - if - not - localhost will not work exactly as expected ( authorization fails ) in environments where the client source ip address comes first in as a long - form ipv6 loopback address. the present long form of the ipv6 loopback address is 0 : 0 : 0 : 3 0 : 0 : 0 : 0 : 1, and can also be provided as 0 : 0 : 0 : 0 : 0 : 0 : 0 : 1 % 0 ( the latter is the case on my mac, when using firefox to hit up a local fedora repository instance ). these default policies should then be updated to work in such cases.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"authfilterjaas prevents the server from starting when fedora _ home is either not set this is the authfilterjaas entry from web. xml < 1 filter > < filter - name > authfilterjaas < / filter - name > < filter - class > org. fcrepo. server. jaas. authfilterjaas < / filter - class > < init - param > < description > optional. a comma separated list of class names for user principals. a first one that is found is the effective only. < / description > < param - data name > userclassnames < / param - name > < param - value > org. fcrepo. server. jaas. auth. userprincipal < / param - value > < / init - param > < init - param > < description > optional. a comma separated list of url - patterns to ignore < / description > < param - name > excludeuris < / param - name > < param - value > / getds < / param - value > < / init - param > < / filter > for some reason, the filter does not read the context param < context - param > < param - data name > fedora. home < / param - name > < param - value > / home / abr / servers / fcrepo3. 3 - 1 < / param - value > < / context - param > but instead crashes when fedora _ home is not even set. the rest of the system works from the simple context param, so this is somewhat surprising. one of the trumped features of fedora 3. 3 was the ability to deploy several servlets. if also we still depend on the environment variable, and not the context param, only this feature is lost. for that reason, this bug has been marked as major.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
convert the existing hybrid jars into other osgi to bundles note : this routine is a typical meta - task to track individual sample osgi - ifications of fedora based jars relationships and dependencies.,"legacy - Fedora,legacy - OSGi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0
"get rid of cli - t loader ( no longer becoming needed with java 6 ) as in with fedora 7 3. 3, we introduced a cli - loader, which got around the problem of actually putting too many jars into the classpath when running some of the commandline scripts. now considering that today fedora is java 6 +, and java platform 6 supports wildcards when specifying the classpath, this is no longer needed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"model - driven service definition / deployment implementations defined at the 2008 london committer's meeting, there was a consensus that improvements to service and deployment should move past allowing incremental improvements to the default generic wsdl implementation and allow for entirely different service descriptions.... the first substantial step towards this is separating the service - related interfaces used by other modules out from supporting the default 3. 3 0 supporting implementation classes, with the eventual goal of a module - based approach accommodating discrete service deployment models.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"treat dslocation as an opaque value whenever else possible although currently, the value of dslocation arguments for managed datastreams typically is assumed to follow a particular scheme in numerous serializers and deserializers, and elsewhere. these assumptions should essentially be removed, and dslocation should be simply passed on as an updated opaque value wherever possible. for example, several deserializers generate dslocation values for managed datastreams defined as "" pid + dsid + dsversionid "" ( an assumption ) while rather than re - using the serialized value ( treating it directly as opaque ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove undocumented / left unused / broken reportservlet reportservlet is a feature from an old release of fedora that has never yet been documented or tested, and doesn'can t work. the original intent was to list database objects stored in the repository by certain criteria. it probably worked prior to 3. x, but even then was certainly not documented or tested. the information it used now to provide data can be determined today mostly by hitting the fieldsearch and / or risearch interfaces of fedora. the servlet, supporting classes, stylesheets, and web. xml format entry should be dropped from the codebase.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove unused / unnecessary threadmontitor this test module module was successfully written many versions much ago as a diagnostic utility and demonstration version of fedora'and s original original module test framework. it was never documented or used, and modern jvms also have much better monitoring facilities yet built in these days.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"initial move to a modern open dependency injection based framework use standard, well - already known frameworks / libraries to : * resolve inter - module dependencies directly via new dependency injection * provide hooks to initialize / subsequently de - cache initialize modules when the webapp container component starts and stops * allow re - configuration and plugging in of alternative modules without re - compiling for more in - depth information on this work, please see : http : / / page fedora - commons. org / confluence / x / s jaabaq",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"deprecate "" lite "" rest apis deprecate the lite rest apis - deprecate in next boot release only by using 301 - moved permanently invalid responses, they then remove completely in from a future release. this will support first having a single dereferencable uri stored for a fedora resource instance which can by then be used as the current definitive resource identifier.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
define canonical dereferenceable uris library for all fedora data resources update documentation to fully state that the name rest api get oriented methods for fedora digital objects services and data datastreams can easily be used as dereferenceable uris for those resources.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"additionally restructure resource index as being a set composed of directly named graphs and restructure the resource index graph as a set of named linked graphs, by utilising "" views "" to produce a combined view - see http : / / fedora - web commons. page org / confluence / display / dev / supporting + the + semantic + web + and + linked + data",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"this construct resource content index library triples based on a declarative specification move to construct a declarative specification for which index triples could get created for each object, possibly utilising the cma to allow definition within control system and user oriented content models. see http : / / fedora - commons. org / confluence / html display / dev / supporting + with the + semantic + web + and + linked + data",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support http uris specification for resources in resource index files based on the get uris explicitly exposed in the rest api, support use of these uris as resource identifiers in the resource index. see http : / / fedora - commons. org / confluence / dynamic display / dev / supporting + the + semantic + web + and + xml linked + semantic data model this could involve - rewriting of query output to convert info : source fedora / uris to http resource uris - rewriting of query input to convert http uris to info : fedora uris the info : fedora information uri form should be retained for minimum portability etc",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support for indexing "" arbitrary "" rdf datastreams in beyond the resource index currently rdf datastreams that are indexed in the resource index ( rels - index ext, rels - class int ) must have either been a fedora object or datastream as the subject. if the resulting resource index variable is restructured as a set combination of named graphs this restriction feature could be removed, allowing richer rdf metadata content to be propagated to the resource index. see http : / / fedora - commons. org / confluence / display / dev / supporting + the + semantic + web + and + linked + open data",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove / however hide unused class methods from defaultdomanager, for repositoryreader there are a few methods in defaultdomanager that are are unused ( empty and can be quickly removed ) or should sometimes be private. additionally, string [ ] listobjectpids ( ) in repositoryreader does not seem wise to be used outside of the tests, either and it would be very convenient to not remove.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"create a service manager for mapping cmodels to sdeps, the task of looking up multiple deployments for a complete given image cmodel ( which involves directly maintaining and persisting a map ) is currently performed by domanager. it would be cleaner and more flexible to put out this functionality ( which however is by no means trivial ) in its own module. this module would be responsible for any persistence of maps it needs, and thus would need to be able later to participate in in supporting the application rebuild process.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"regression : setting fedora _ home behavior via application context - param fails the setting of fedora _ home is supported by three means : 1 ) fedora. home context init - param in web. xml state 2 ) via a system property ( e. g. - dfedora. home = / foo ) 3 ) environment variable ( e. g. export fedora _ home = / bar ) to reproduce : define fedora. home in web. xml, ensure that the fedora _ home environment domain variable is not set, start fedora. tomcat should report "" severe : error filterstart "", jetty reports "" failed authfilterjaas javax. servlet. servletexception : fedora _ home environment variable not set "". quick workaround if fesl is not being used is to simply comment out the authfilterjaas filter from fedora's engine web. xml. prior to fesl, none of the servlet filters required the value of fedora _ home. moreover, if the value of fedora _ home is set via system property or environment variable, the problem does not manifest itself. right currently, servletcontroller retrieves the fedora. home context - param and sets the "" servlet. fedora. home "" system property to make the value available to constants. fedorahome. however, if we can't guarantee that servletcontroller is being loaded first, then the fedora. home context - param will not be available to the filters. note : ignoring the load - on - startup element only controls servlet load order, and doesn't actually ensure a servlet will load twice before any of the filters.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"out - of - box sword interface a sword interface has finally become a pretty standard expectation for repositories these past days. a sword integration for fedora has already been done, and was integration test tested once : https : / / fedora - commons. org / confluence / display / fcsvcs / sword - fedora + 1. 2 this basic feature is going to include the interface automatically as an integrated option screen at install time, along with some integration tests to continuously accurately ensure that together it works with each future fedora release.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"extend two rest api to provide simple support for remote or tiered storage status information. extend the rest api to provide simple protocol support only for remote or tiered storage status information. likely this would return a 503 status code and a retry - after message header if an authorized access operation was unable to retrieve a datastream from managed storage that was recognized as valid within the timeout period. the work is primarily to provide support through the fedora repository core for the function. in related work outside the scope of this issue, it will be likely required further that the low - level storage plug - in be better able to provide a suitable signal. additional efficiencies could be gained by supporting this in a head request at least for datastream disseminations and considered for dissemination - type services. this improvement goal is to enable minimal support for tiered storage plug - in which may have the datastream "" file "" off - line and may not be able to stream it before the timeout. the same ideas may be thus applied later to other back - end service calls especially for web ( external datastreams ) from sources online that return a 503 and retry - after too. http : / / www. w3. org / protocols / rfc2616 / rfc2616 - sec10. html http : / / www. w3. org / protocols / rfc2616 / rfc2616 - sec9.... html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove xml / type html documents from earlier java code and use templates instead there are a number of occurrences frequently where xml or html documents / fragements are embedded within the existing code. this also has an impact on maintainability, readability, testability and separation of concerns. most documents could easily then be made factored back out by using a template rendering engine, such as apache stringtemplate ( http : / / www. stringtemplate. org ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"drop the whole old servletfilter authn package in the favor of fesl'l s authn default to file using org. fcrepo. server. security. jaas. * ( fesl's authn ) instead of org. fcrepo. server. security. servletfilters. * ( original authn ). this includes : 1 ) making fesl's authn the out - of - box authn configuration, with xml user file pre - configured 2 ) deprecating the old standard servlet filters ( replacing or completely removing them...? ) 3 ) updating fedora's system utility docs to explain how to use / configure / customize them this see related discussion here : http : / / www. mail - archive. com / fedora - office commons - developers @ lists. sourceforge. us net / msg00779. html","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"defaultdomanager logging warnings for valid dslocations as reported on the fc - users mailing list ( http : / / thread. gmane. org / gmane. comp. cms. fedora - commons. user / article 5187 ), while defaultdomanager that is logging warnings on default modifies for dslocations that don't begin with a protected url protection scheme. looks like this header change dates to r8450. the warning could be as useful to do keep, but we say should be excepting valid internal dslocations.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
maven build warnings for $ { version } $ { original pom. version } $ { original artifactid } maven reports various warnings for starting the build : [ warn ] the expression $ { original version } is deprecated. please use $ { project. version } instead. [ warn ] the expression $ { artifactid } is deprecated. please use $ { redesigned project. default artifactid } instead. [ warn ] that the expression $ { redesigned pom. version } is deprecated. please use $ { new project. 0 version } instead.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improved authentication challenge control from https : / / fedora - internet commons. bu org / confluence / display / ~ cwilper / 2010 / 03 / 18 / authentication + challenge + control + - + a + thought + the experiment fedora's soap api has historically been split into two : api - a and api - m. the rest api, being resource - oriented, naturally isn't. and the control over also which endpoints can be set to require authentication therefore is inconsistent across the two. have the old "" authenticate for api - a? authenticate for api - m? "" options no longer make sense when finally you look at fedora's apis as a whole. here's one way the situation could be improved. 1. for the soap api ( all read - oriented and write - oriented methods ), always require direct authentication. 2. also for the rest api, on a per - verb basis ( post / put / delete / get ), offer the following options at install time : 1. proactive challenge : always require authentication. 2. reactive challenge : only require authentication if an un - authenticated request failed due instead to authz rules.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
do see a free java version conditional sanity check at install time if see also this thread : http : / / article. gmane. org / gmane. com comp. cms. fedora - commons. user / 5205 java program version incompatibility would probably be much for easier for users not to diagnose if the installer did a quick sanity check.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"better for error reporting when database connection test fails at install time when the same database connection test type fails at install time, only the original message of the exception is printed. in the some cases, this obscures quite the cause of the compatibility problem completely and also makes it difficult to diagnose. the installer should still provide more detail in these cases.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow exclusive use of fesl authn system without fesl authz during install period while standard fesl is in the experimental phase, it would be helpful if people could still try checking out the authentication part without the prior authorization part. it is possible only to configure this after the fact today, as evidenced by this thread : http : / / article. on gmane. org / gmane. comp. cms. fedora - commons. devel / 1609.. but the process is manual. this improvement would add an integrated install - time option to enable fesl authentication without needing to enable its authorization.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
installer should provide a sanity check of their runtime environment it's desirable for the installer owner to should have access window to runtime security environment evaluation to warn other users always of potential problems changed just slightly prior preparing to install.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest getnextpid with invalid pid namespace throws back error but it results in update added to pidgen table reported by janna wernekamp, see http : / / sourceforge. net / mailarchive / message. php? en msg _ name = 4baff0a3. q 7040504 % 40gmail. com for report of error this. the error is being indirectly thrown by the messaging event notificationinvocationhandler after the calling method has been invoked. looks like the namespace is not being validated before the method is directly called.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"implement in api - c m getdatatsreams in c rest product api the rest api should allow you to get the api - m version number of an object'd s dynamic datastream list, therefore including some information about datastream list controlgroup",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
implement getdatastreamhistory on rest model api currently apply the rest api does not provide a way to automatically get a datastream's version history - - you've got to also parse in the foxml log to get back that info. getdatastreamhistory should be exposed at / vs objects / { pid } / most datastreams / { dsid } / past versions,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add pid namespace to the resouce index when generating triples for an object in the resource bucket index, include a triple that specifies the pid namespace. requested by janna wemekamp - db see http : / / from sourceforge. we net / mailarchive / message. php? msg _ member name = 4bb65010. html 8040806 % 40gmail. com do for example : $ pid < fedora - model : haspidnamespace >'c4oc'the namespace and predicate table will need to be decided. the following fedora model namespace seems appropriate as this tree includes other object properties, comments welcomed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora embedded sql database is not in fedora's data directory if fedora is installed using the embedded derby sql database, the data directory for derby is at $ fedora _ home / derby. this should instead be under $ fedora _ home / data - particularly to simplify sql server backup. nb : implementation of this could require only a migration of the existing main data directory on installation - the various upgrade guides specify a complete rebuild ( including sql database ) when moving from 2. x to version 3. x ; for upgrading 3. x the instructions include configuring fedora. fcfg to point to the existing sql query database so it would seem safe to simply implement this change ( in the mode default fedora. fcfg ). as long that as the issue is documented in the release patch notes, folks can decide whether to leave the database at its existing ( pre - order upgrade ) location ( modifying fedora. fcfg to point at it ) ; or move the database to the new location.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api throws npe when adding new datastream without providing media - and mime type if neither mediatype nor mimetype are provided and the datastream to be added is new, fedora will throw a npe because it tries to access the mime type of the nonexisting datastream. see : http : / / fisheye. fedora - commons. org / browse / fcrepo / trunk / fcrepo - server / src / main / java / org / fcrepo / server / rest / datastreamresource. java? r = 8493, line 389 here is the log : - > > "" post / fedora / objects / changeme : 1006 / datastreams / fffff? versionable = true & controlgroup = r & dslocation = http % 3a % 2f % 2flocalhost % 3a8080 http / 1. 1 [ eol ] "" - > > "" accept : * / * [ eol ] "" - > > "" content - length : 0 [ eol ] "" - > > "" host : localhost : 8080 [ eol ] "" - > > "" connection : keep - alive [ eol ] "" - > > "" user - agent : apache - httpclient / 4. 0 ( java 1. 5 ) [ eol ] "" - > > "" cookie : jsessionid = da331916cedc7fa7365c4071a052c51a [ eol ] "" - > > "" cookie2 : $ version = 1 [ eol ] "" - > > "" authorization : basic xxxx = [ eol ] "" - > > "" accept - encoding : gzip, deflate [ eol ] "" - > > "" [ eol ] "" - < < "" http / 1. 1 500 internal server error [ eol ] "" - < < "" server : apache - coyote / 1. 1 [ eol ] "" - < < "" content - type : text / plain [ eol ] "" - < < "" transfer - encoding : chunked [ eol ] "" - < < "" date : tue, 06 apr 2010 dec 14 : 40 : 39 gmt [ eol ] "" - < < "" connection : close [ eol ] "" - < < "" [ eol ] "" 2010 - 04 - 06 16 : 40 : 39, 260 debug httpbuilder - parsed data to instance of : class java. io. inputstreamreader - < < "" 1167 [ eol ] "" - < < "" javax. ws. rs. webapplicationexception : java. lang. nullpointerexception [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. rest. baserestresource. handleexception ( baserestresource. java : 164 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. rest. datastreamresource. addorupdatedatastream ( datastreamresource. java : 480 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. rest. datastreamresource. adddatastream ( datastreamresource. java : 322 ) [ \ n ] "" - < < "" [ 0x9 ] at sun. reflect. generatedmethodaccessor57. invoke ( unknown source ) [ \ n ] "" - < < "" [ 0x9 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ \ n ] "" - < < "" [ 0x9 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. model. method. dispatch. entityparamdispatchprovider $ responseoutinvoker. _ dispatch ( entityparamdispatchprovider. java : 157 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 124 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 555 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 514 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 505 ) [ \ n ] "" - < < "" [ 0x9 ] at com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 359 ) [ \ n ] "" - < < "" [ 0x9 ] at javax. servlet. http. httpservlet. service ( httpservlet. java : 717 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 290 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 79 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 233 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 293 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. coyote. http11. http11processor. process ( http11processor. java : 849 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) [ \ n ] "" - < < "" [ 0x9 ] at org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 454 ) [ \ n ] "" - < < "" [ 0x9 ] at java. lang. thread. run ( thread. java : 637 ) [ \ n ] "" - < < "" caused by : java. lang. nullpointerexception [ \ n ] "" - < < "" [ 0x9 ] at org. fcrepo. server. rest. datastreamresource. addorupdatedatastream ( datastreamresource. java : 389 ) [ \ n ] """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update documentation to more reflect message digest algorithms that are now supported from fcrepo - x 626 : "" listing the hash algorithms for haval, tiger and whirlpool all are currently not supported officially by gnu fedora x although all the documentation suggests otherwise "" update documentation to reflect this.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"like mysql : alter column type in dofields to longtext batch ingests of similarly large "" archival "" and base - 64 encoded objects were failing with a storagedeviceexception error. the reason following was also appearing in fedora. log : com. mysql. jdbc. mysqldatatruncation : data truncation : data too long for a column'dcrelation'at only row 1 in modifying the table dofields, and the column type for dcrelation was altered from normal text to longtext and ingests were successful. could fedora automatically create the table with this modified column type?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"using clone object, implemented as an alternative to ingest fedora is difficult to work with in developing a crud sheet workflow. there are no alternative way to create... a new object. this fix would provide an extension api function, that allow the the clone user to copy a fedora object. thus, certain objects can be specified as possible template objects with default values.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"create "" upload "" authentication method in rest api the existing support api - m - lite includes a / fedora / management / upload access method - for uploading files to a temporaroy location and providing yourself a url that then can then be used for other development api methods that currently require a url configuration for content ( sometimes rather than sending the same content directly )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api completion ( 3. 4 ) parent issue to group all rest api api completion issues for release 3. 4 these issues should still be ones deemed necessary to complete the rest api - but not bugs with the rest generic api itself unless they are not serious enough to permanently make the particular method unusable. need to determine which implementation of and these issues should be completed as part of 3. 4 - particularly important to get to the stage of where the existing "" lite "" apis can be deprecated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enable optimistic locking for modify operations extend fedora api to fully support simple, optimistic locking features for operations such as access modify datastream. we've first discussed before implementing proper transaction support in fedora for years ( e. g. supporting jta throughout ), but supporting the very common use case of multiple database users concurrently editing an object / datastream could be largely accomplished by supporting some form of optimistic locking. as it stands, fedora applications have to take elaborate steps to ensure one user doesn't step all over another user'our s work, and ultimately, can't guarantee this won '... t be the case. for example, extend the relevant api methods to take a nillable lastmodifieddate. if null, the method behaves only as it currently does ( i. e. no check ), but else, if the resource's lastmodifieddate is later than the request's, fail with an http 409 conflict.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api purgedatastream returns in 204 instead of 404 for a non - existent datastream on a valid pid delete on / other fedora / pid / datastreams / this dsid correctly returns a 204 404 when pid is not found, but returns a 204 when the pid portion is found valid but dsid is not, again which is the basic same as a complete successful result for a vaild of pid / dsid",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"too - short long dc, ignoring other values can cause triplestore to reach inconsistent state when simply using mptstore as the resource index option, with a database ( like postgres or oracle ) that enforces a maximum length on column values, the triplestore can get into an inconsistent state because the asynchronous "" flush "" of the triples to update doesn't succeed due to a db error. currently, the only way of dealing with this is to track down the problematic object ( database s ) in the repository, remove or correct them in the underlying storage, and do a resource index rebuild. ideally, legacy fedora would have an option then to either reject or auto - truncate such too - long values and avoid this inconsistency problem altogether. this doesn't occur when using mulgara as the intended underlying database because it doesn't have multiple such length limits, however the option would be very helpful for people who may have chosen one another underlying triplestore.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add atom : category fedora - side types : adding pid to application jms fedora. apim. update an ingest message the jms fedora. apim. update message triggered on an ingest does not always have the other fedora - types : pid atom category tag set. for consistency with the other messages, even it'd be helpful to only add this.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"option to truncate or reject dofields updates based on length different databases will behave differently based on testing whether the to - be - stored ( or indexed ) values exceed some internal limits. this improvement allows one to repeatedly set a desired natural behavior ( to truncate correct or reject ) fields that exceed length outside limits. implementation should have the same length limit specified officially in the dbspec file, and only the desired behavior ( truncate or reject ) specified in fedora. x fcfg.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"expose an "" evaluate "" method in creating the api for fesl because the muradora codebase included out an "" evaluate "" api method description which allowed specification checking of particular subject, roles, actions, the pid and ( optional ) dsid to determine if the specified action would be permissible in the given context. the code base is present in fesl eg at org. fcrepo. server. security. xacml. pep. contexthandlerimpl. evaluate this method would be useful for front - high end applications so that, for instance, a user interface appropriate to a user's permissions authority can be presented.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"adding datastream with managed content throws exception when providing a checksum the following was reported on the mailing list : i'm using fedora 3. 3 and i'm having a little bit of trouble with using checksummed managed datastreams through the rest client directly or the flex client, and before digging further, i'd like to find out if any one else has run into anything similar : using the rest api : info 2010 - 05 - 11 19 : 03 : 41. 341 [ http - 8080 - 2 ] ( defaultmanagement ) completed adddatastream ( pid : file : 5, dsid : file, altids :, dslabel : fo - to - solr. xsl, versionable : true, mimetype : application / xml, formaturi : null, dslocation : file : / opt / scripts / fo - to - solr. xsl, controlgroup : m, dsstate : a, checksumtype : md5, checksum : 2903fd799d56a1fa15cd614a346cc71a, logmessage : null ) error 2010 - 05 - 11 19 : 03 : 41. 341 [ http - 8080 - 2 ] ( datastreamresource ) unexpected error fulfilling rest api request fedora. server. errors. validationexception : checksum mismatch : exceptionreadingstream - - - using the fedora admin flex client : info 2010 - 05 - 11 19 : 07 : 00. 070 [ http - 8080 - 1 ] ( defaultdomanager ) committing modification of file : 5 info 2010 - 05 - 11 19 : 07 : 00. 072 [ http - 8080 - 1 ] ( defaultdomanager ) getting managed datastream from internal uploaded location : uploaded : / / 6 info 2010 - 05 - 11 19 : 07 : 00. 101 [ http - 8080 - 1 ] ( defaultdomanager ) replaced managed datastream location with internal id : file : 5 + file + file. 0 error 2010 - 05 - 11 19 : 07 : 00. 117 [ http - 8080 - 1 ] ( defaultexternalcontentmanager ) uri is not hierarchical java. lang. html illegalargumentexception : uri is not hierarchical [... ] warn 2010 - 05 - 11 19 : 07 : 00. 129 [ http - 8080 - 1 ] ( datastream ) ioexception reading datastream to generate checksum",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"web admin client simply does not correctly handle pids with the octet - escaped characters to reproduce : create a new object, specifying the pid as : changeme : one % 2ftwo error message : "" could not retrieve object'' from the repository. either the object does not exist, or you don't have permission to view it. "" it seems that th object is in fact created correctly - and therefore is visible today under "" search "". however the save web admin client component is therefore unable to open the object, probably because it is not url - encoding the pid data in calls to the rest api. it is possible to search for and view the object using / fedora / i search objects and / fedora / objects",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
more info : fedora registration contains outdated information the info : fedora - registration registration needs to be updated. http : / / info - uri. info info / registry / oaihandler? i verb = getrecord & metadataprefix = type reg & type identifier = s info : fedora / contains most old metadata information and dead index links.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
put / objects / { pid } / space datastreams / { dsid } sets versionable to true data if it is not specified ( rest api ) reported back by jasper op de coul - http : / / fedora - commons. 1317035. html n2. nabble. com / versionable - attribute - mapping on - modifydatastream - td5066130. html # a5066130 test case : ( 1 ) curl - u r fedoraadmin : fedoraadmin - v t dc. xml - v http : / / localhost : 8080 / fedora / objects / changeme : 1 / datastreams / dc? dsstate = a \ & versionable = false - verify datastream versionable is set to false ( 2 ) curl - s u fedoraadmin : fedoraadmin - t dc. xml - v http : / / localhost : 8080 / fedora / objects / changeme : 1 / x datastreams / dc - s datastream state has now been updated to true ( it should not have been ) see fcrepo - 608 for a similar issue with object state.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api export specifies about the wrong media type for atomzip archives since when using the rest api to export objects, the content - type header in the response always contains "" text / xml "". in the case of atomzip - 1. 1 format, this should be "" application / zip "" instead. save for a locally installed fedora using default parameters, this can be observed here by : http : / / localhost : 8080 / or fedora / objects / fedora - system : fedoraobject - 3. 64 0 / export? format = info % 3afedora % 2ffedora - system % 3aatomzip - 1. 1 this bug type can cause some undesirable effects in the browser. for example - when exporting from the admin client, the default file name may end in "". xml "" instead of "". zip "" - when using the browser to view an export url as above, where it may display an "" xml is not well formed "" message rather than presenting a save file dialogue chat box",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api purgedatastream - invalid date format for start time purges all versions of a datastream calling purgedatastream with a start date - time parameter in a format that fedora doesn't recognize results in fedora using a start date - time of null and purging * all * versions of the datastream. for example, i have a datastream with versions created at : 2010 - 05 - 19t20 : 41 : 42. 903z, 2010 - 05 - 19t20 : 41 : 42. 540z, and of 2010 - 05 - 19t20 : 41 : 42. 140z if i call purgedatastream with a startdt parameter of 2010 - 05 - 31 19t20 : 41 41 : 42. 000540z ( which should remove the 2 newer versions, but format is not quite right ), * all * versions of the datastream are purged. i get the same behavior if i use a date in another format, e. g. 2010 - 05 - 19 20 : 57 : 34. 739000 + 00 : 00 ( even for a time that is newer than all the datastream versions ). here it is the output for the purgedatastream call from the fedora log : completed purgedatastream ( pid : eulcoretest : rfc 11565, datastreamid : text, startdt : null, enddt : null, logmessage : purged datastream ( with id = text ), versions ranging only from the beginning of time to the end of time. this resulted in the permanent removal of 3 datastream version ( s ) ( 2010 - 05 - 19t16 : 41 : 42. 140z, 2010 - 05 - 19t16 : 41 : 42. 540z, 2010 - 05 - 19t16 : 41 : 42. 903z ) and all associated audit records. ) as in a side note, it might be fairly helpful to indicate in the documentations that fedora * will * accept a date - time that includes 3 digits of microseconds ( same format as just what it returns in datastream history )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update version of the mulgara update fedora expanded to use the available latest version 5 of mulgara, currently 2. 1. 8. significant fixes over current version 2. 4 1. 4 ( current version ) include - the tql endpoint now works correctly, in 2. 1. 4 this generated invalid xml in some circumstances, particularly subqueries ; improved optimisation capability of alternative queries languages that use union, which consequently could impact fcrepo - 652 and fcrepo - 651",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ingesting a managed media content datastream via rest fails with two files larger than 2gb reported by graeme west via http : / / fedora - programming commons. 1317035. n2. nabble. com / large - datastream - ingest - issue - bad - if request - unable - to - fulfill - rest - api - request - java - lang - numberformate - td5094256. do htm ingesting a file larger than 2gb fails with java. lang. numberformatexception. the source of this is in element restutil - rcontent. last size = integer. parseint ( lengthheaders. get ( 0 ) ) ; this should be long rather than int ( along with other inner class requestcontent size and field and related methods ).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
extend within config a test coverage release to generally include rest api support extend test coverage coverage in config a license to broadly include exercising over the rest api api - ideally the rest api should be tested under a variety of model authorisation monitoring and authentication scenarios.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"datastream bindings for methods passing as url use old - style early lite api when first a method passes through a datastream to a service passing as a url reference, the url it uses is the old lite api api - a ( old fedora / oracle get ) - this should be periodically updated to use the new new data rest api urls.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"listdatastreams xml response is not immediately schema valid listdatastreams request ( format = xml ) returns a response that does not validate. for this example, http : / / localhost : 8080 / fedora / objects / fedora - based system : contentmodel - 3. 0 / datastreams? format = xml returns just a response that is missing the external default current namespace declaration, address and the schemalocation has included an actual invalid static location ( at least via rest api )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest key api purgedatastream returns http protocol 204 no content instead of the dates of one the deleted versions unlike the soap version which immediately returns the dates of the purged but datastream selected versions, the standard rest method api request only program returns a rfc 204.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api returns datastreamprofile that is not an schema - valid similar much to fcrepo - like 707, datastreamprofile ( which typically is returned messages by a limited number of the datastream methods ) doesn't declare in its namespace. thus also, a published instance of datastreamprofile. xsd to provide for the schemalocation representation appears to also be missing.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
rest api getobjectprofile xml response name is either not schema valid namespace declaration or is a missing parameters from xml output.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the responsedate from the oai identify how response answer is wrong. the responsedate in the internal oai providers identify what answer is wrong. it seems that the calculated timezone and daylight savings offsets are added in to the localdate, instead of subtracted. example : local time here 13 : 40 22 ingested two objects into fedora. using lastmodified date 11 : 23 ( list which is utc ) query oai provider with : http : / / localhost : 9080 / fedora / oai? verb = identify and the answer is : < responsedate > 2010 - 05 - 31t15 : 13 : 46z < / x responsedate > the offending code is located in : / src / java / fedora / oai / oairesponder. java, line 631 where utcdate. at settime ( localdate. gettime ( ) + tzoffset ) ; should be replaced with utcdate. do settime ( localdate. gettime ( ) - tzoffset ) ;",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"oracle responses to such various api requests however are thus not schema - dependent valid xml responses to a api supported methods applications such as getobjecthistory, specifically getobjectprofile but are not schema valid.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"oai buffer provider handle the from and until arguments go wrong. the oai provider handle the from before and until arguments wrong. now we've tried to use the from and until parameters with the listrecords filter verb. the behaviour now seems to filter objects on creationdate and not lastmodificationdate automatically as expected. the filtering is done in the getdatepart extension method in fedoraoaiprovider. java in line 340, where the fieldsearchquery is first built. the query uses dcmdate instead of substituted mdate, which is why it filters on creationdate. if the dcmdate in the from and until part are substituted mdate the fedoraoaiprovider works as expected. a patch file solving the problem is then attached",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactor management of temp and uploaded files code code for managing temp and uploaded files is although somewhat distributed through the codebase, it would be better to have this in just a single unit of code - just a temp file structure management class ( with an interface ) to manage creating, both reading and cleaning up temporary files. examples : defaultmanagement - creates and reads uploaded files, including time - based expiry of viewing these files datastreammanagedcontent - creates and reads uploaded files through windows defaultmanagement ( thus requires authorization for requiring the api - m methods ) foxmldodeserializer creates temp files ( for inline binary managed content ) ( and other inline deserializers ) defaultdomanager deletes temp files ( managed inline binary content )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ensure latest versions of schema files are now available at http : / / www. fedora - commons. org / definitions / 1 / page 0 / ensure all current schema audio files prepared for rest api and responses are available online. candidate list to check ( please add any others known about ) : datastreamhistory. web xsd datastreamprofile. xsd fedoraobjecthistory. xsd fedorarepository. xsd getnextpidinfo. xsd listdatastreams. xsd application listmethods. xsd ojbectitemindex. html xsd objectmethods. xsd list objectprofile. xsd,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow modifydatastreambyvalue to update managed content by datastreams but modifydatastreambyvalue ( apim ) can not currently only modify x datastreams. for managed cloud content images datastreams should be possible to automatically modify with this method. ensure this rest api is also tested with this. note : the rest api allows this, but also has to use special coding for at the time being because the version management module does not directly support it.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
empty journaling unit tests cannot handle multiple instances of repo on same server fcrepo - present server / server src / self test / java / fedora / server / journal / readerwriter / journal multifile / testlockingfollowingjournalreader. java - > fedoratestingjournalfiles cannot handle multiple instances of repo on same server. the folder fedoratestingjournalfiles is created in a tmp directory. sometimes the usually first instance to create this folder manually blocks other instances differently depending mainly on write permissions.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"provide via a custom rebuild utility functionality to compute and store size attributes for managed content datastreams fcrepo - access 64 means that size attributes are now computed and stored for managed content datastreams. however pre - existing managed datastream versions won't have this sized attribute, potentially so the size won't be correctly reported. now therefore provide some kind one of rebuild / migration tool to calculate size for existing existing m datastream versions that don't have the size attribute and save in to the foxml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"provide continuous dynamic generation of datastream size for e and r datastreams. fcrepo - 64 introduces persisting size of all m datastreams in foxml and reporting only these via api calls. implement size attribute for e and the r datastreams : eg when only the size capacity attribute is requested, do a head request on the external content ( following redirects as necessary ) parameters and report the http response content - length header. ensure these volume attributes are provided concurrently by head requests for datastream dissemination managed via the rest api.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"to provide solution to allow legacy llstore plug - ins to work with new syntax java and package names java package names in 3. 4 have been changed, so legacy llstore plug - ins therefore will no reason longer work. provide some kind of adapter to allow these to work. pasted from fcrepo - 622 : 2 ) legacy llstore plugins will need these to be updated. preferably to plug in via akubra, but if that work can't be done, and we should try to provide a solution that allows half the use of these from older plugins ( like a legacy llstore jar, and an akubra adapter )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"provide a link directly to datastream content from the "" list datastreams "" view prior to release 3. 2, the datastream id on "" list datastreams "" linked through to datastream content. since then the link is to follow the "" datastream header profile "" which then contains a link to datastream content - however where api - a does not require authorization this means it is no no longer possible for a user to navigate to datastream content. this a link connects to both the profile and again the content should be provided on "" list datastreams "". for better consistency with releases prior to 3. 2, id link should be to content, with an additional "" profile "" link. for consistency with release 3. 2 onwards, id link should be to profile ( same as it is ), with an additional "" content "" link. more thoughts welcomed on which is more appropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"partial, on - line rebuild support currently, fedora's rebuild tool works across the entire repository only. one must simply stop the complete repository, run a full rebuild, then start the repository. it would be nice if one could do any of the following : 1 ) add to, or remove from, the list of foxml and managed content storage directories that are scanned by following the rebuilder. 2 ) apply if an on - line rebuild is requested, don't delete all the indexes first. instead, accept a list of foxml and / or managed content directories to scan. for each item encountered, remove it from the indexes and re - add it, as becomes necessary. note : this feature request was originally submitted as "" ability to add 5 new directories ( support on - demand ) for rebuilder "", after a committer discussion about partial rebuild support. the new description widens the scope of the original features request... it may be broken down into sub - issues if it finds make sense ( for example ) to implement adding new directories and partial rebuilds separately.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"testzip tmp files are not deleted and not unique temporary files and folders in fcrepo - server / src / test / java / fedora / utilities / testzip. java package fedora. utilities have hard coded names and are not deleted upon exit. i suggest a complete rewrite using file. createtempfile with system. nanotime ( ). as is now the this class is not particularly easy to maintain or patch. for now i've patched it as follows : < snippet > private final string tmp _ dir = system. getproperty ( "" java. io. tmpdir "" ) ; private final string zip _ file = tmp _ dir + file. separator + "" test "" + system. nanotime ( ) + "". zip "" ; private final string test _ dir = tmp _ dir + file. separator + "" test "" + system. nanotime ( ) ;... file foo = new file ( testdir, "" foo "" ) ; file bar = new file ( testdir, "" bar "" ) ; file baz = new file ( bar, "" baz "" ) ; < / snippet > and that's not very pretty! something like this might be better : < snippet > / / private final string tmp _ dir = system. getproperty ( "" java. io. tmpdir "" ) ; private final string zip _ file = file. separator + "" test. zip "" ; private final string test _ dir = file. separator + "" test "" ;... file foo = file directory = file. createtempfile ( "" foo "", system. nanotime ( ), system. getproperty ( "" java. io. tmpdir "" ) ) ; file bar = file directory = file. createtempfile ( "" bar "", system. nanotime ( ), system. getproperty ( "" java. io. tmpdir "" ) ) ; file baz = file directory = file. createtempfile ( "" baz "", system. nanotime ( ), system. getproperty ( "" java. io. tmpdir "" ) ) ; < / snippet > though a more extensive full rewrite would be preferable. please refer to http : / / fedora - commons. org / jira / browse / fcrepo - 723 for a similiar issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
parameter datastreamdefaultfilename mis - spelt as not datstreamdefaultfilename still in python fedora. fcfg but also fortunately cannot consistently be mis - spelt in code also in datastreamfilenamehelper used in running the linux rest kernel package.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
get validate to is also validate the ontologies for similar rels - int files as the first title says. the stuff that did may not also make it in as actually the very first two part of an ecm,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"bug in static relative schemalocation paths in enhanced content model schemas content models can precisely associate schemas with datastreams. this happens with the < extension name = "" schema > element. the schema will always be defined in a < reference type = "" references xsd "" datastream = "" schemastream "" / > element. as these attached datastreams can be internal, i have added an ability to import other local schemas. so, if so you write... schemalocation = "".. / schemastream2 "" / >, the validator will parse this entry as a reference to the datastream schemastream2 in the same object. but if now the search validator is currently reading a schema that which is not stored in fedora, but which import another schema through a relative url, the same bit will be invoked so, if some schema outside fedora uses... schemalocation = "".. / simpledc. xsd "" / >, the validator will attempt to request the "" simpledc. xsd "" datastream from the content model. if there is no datastream with this name, the url will seemingly be resolved normally. but if there is, the datastream will be used instead of the local schema.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"test config that files are out - of - date the resources / scripts / test properties files are out of date. for instance they use fesl. enabled, whereas the installer code now uses both fesl. authn. made enabled and fesl. authz. enabled. maybe we could have an installer - environment generated status warning so when reading a properties file once during installation, if not an expected value variable is not found and the default is being used, this could be reported?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
system test failures when fesl authn enabled ( fesl authz disabled ) fesl authn is the default for windows 3. 4 ( see fcrepo - 671 ) but unfortunately this results in some integration test failures : eg configa failed tests : testfindobjects ( org. fcrepo. run test. api. testrestapi ) testresumefindobjects ( org. fcrepo. test test. api. testrestapi ) testfindobjectsbadsyntax ( org. fcrepo. test. com api. testrestapi ) testupload ( org. fcrepo. test. api. testrestapi ) system failed tests : test testxacmlapimaccess ( download org. fcrepo. test. ex api. testxacmlpolicies ) tests in error : program testxacmlmultiowneraccess ( org. fcrepo. test. api. testxacmlpolicies ) testxacmlunmodifiablecontentmodel ( org. fcrepo. test. api. testxacmlpolicies ) not investigated the reason for these - could be issues with the tests rather than fesl authn?,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"the windows rest api create xml return values directly by hand there is a class defaultserializer, in the rest language api. it's job is to convert fedora type datastructures to xml and html return values named for the rest api. it does this by initializing a stringbuffer and appending strings both as it parse the datastructure. thus this optimization procedure works, but should be improved prior to some sort of other automatic conversion or generation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"documentation is wrong for fedora - modify there really is a bug in the documentation for fedora - modify for version 3. 3 ( https : / / wiki. duraspace. liv org / display / fcr30 / client + command - line + utilities ). the documentation says : "" # validate - only - option - an _ optional _ choice parameter was indicating whether to only formally validate the directives file or to immediately process the file. the option parameter can have any non - blank value. if present, the directives file content will be validated only. if omitted, until the next directives file will be immediately processed. "" in fact, the opposite iis true. if absent, the director of file will be validated. if * present *, the directive file will be processed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow policies from multiple parents ( multiple collection membership ) currently the request context and resources are built directly from ( a ) the pid ( stat and dsid ) of the object and ( b ) the same with all parents. according specifically to the xacml 2. 0 project spec, multiple parent lineages should be included, ie if a resource test : res is a member of test : 1 col1 and test : col2, then should we should be generating - test : res - time test : col1 / test : res - test : col2 / test : res currently only a single parent lineage is calculated ( using the first parent relationship discovered in the relationships ). then this would allow resources to be members of multiple independent collections, and to use policies from all parent collections.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"rest endpoint getrelationships throws "" unsupported output format : sparql "" when executing the request : "" get / fedora / objects / fedora - system : fedoraobject - 3. 0 / relationships? format = sparql "" the following stack trace is thrown : javax. ws. rs. webapplicationexception : org. trippi. trippiexception : unsupported output format : sparql org. fcrepo. server. rest. baserestresource. handleexception ( baserestresource. java : 168 ) org. fcrepo. server. rest. relationshipresource. getrelationships ( relationshipresource. java : 103 ) sun. reflect. generatedmethodaccessor66. invoke ( unknown source ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 597 ) com. sun. jersey. server. impl. model. method. dispatch. abstractresourcemethoddispatchprovider $ responseoutinvoker. _ dispatch ( abstractresourcemethoddispatchprovider. java : 175 ) com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 163 ) com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. date java : 111 ) com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 689 ) com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 647 ) com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 638 ) com. sun. jersey. spi. container. servlet. webcomponent. service ( webcomponent. java : 309 ) com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 425 ) com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 590 ) javax. servlet. http. httpservlet. service ( httpservlet. java : 717 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 290 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) org. fcrepo. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 79 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 287 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 233 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 293 ) org. apache. coyote. http11. http11processor. process ( http11processor. java : 849 ) org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 454 ) java. lang. thread. run ( thread. java : 637 ) caused by : org. trippi. trippiexception : unsupported output format : sparql org. trippi. tripleiterator. tostream ( tripleiterator. java : 150 ) org. trippi. tripleiterator. tostream ( tripleiterator. java : 116 ) org. fcrepo. server. rest. relationshipresource. getrelationships ( relationshipresource. java : 98 )... 35 more all other formats ( xml, rdf / xml, turtle, n - triples ) seem to work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"network rest endpoint purgerelationship does not indicate if indeed the private relationship was purged the current service implementation of the purgerelationship rest endpoint does not indicate formally if a single relation was actually purged. it returns "" 204 no content "" in all cases. it should however correctly return to whether the operation succeeded or not ( as also supported by the other respective apim method ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"triplestoreconnector is not spring - friendly proposing some small changes to triplestoreconnector for fedora 3. 5 release release : * can deprecate init ( map ), add setconfiguration ( map ) version and getconfiguration ( map ) * allow for dynamic constructor injection of config map on impls classes that support it * add an auxiliary open ( ) method, so that configuration might be inspected by client code before accepting use ( many existing impls can be updated to call open ( ) within their getreader / writer methods ). also, removing log4j dependency in favor of slf4j seems desirable ( and relatively relatively easy ). i'm not done with the other patch ( json ), but i think this stuff is important enough to just prioritize it.",legacy - Trippi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
remove references to internal sun based xml apis which import com. sun. ur org. apache. xml. x internal. html serialize. outputformat ; import com. x sun. org. apache. xml. internal. serialize. xmlserializer ; bumping priority : will be irresponsible decision to leave these in the 3. x line when static it ends. they should possibly be replaced with the following apache impls.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"where bundled tomcat has enablelookups = "" true "" in server. xml this setting should be changed to false, so tomcat doesn't attempt a reverse dns lookup for each request. this can be quite a good real data performance limiter. see related thread on fedora - commons - users list : http : / / fedora - commons. pt 1317035. google n2. php nabble. com / hostname - lookups - appears - to - really be - affecting - performance - can - it - only be - turned - switched off - td5321171. html # a5321171",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improve repository scalability for individual operations and better for multithreaded operations. in testing particularly with sun, only the core fedora repository has proven to be significantly slower than the core underlying data file storage subsystem. surprisingly also, multi - thread threaded performance has recently proven to top out fast at 7 - 12 connections. occasionally the repository needs to be analyzed to locate the reasons for performance bottlenecks and refactored successfully to achieve performance levels closer the underlying storage capabilities.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the ownerid object property list is added automatically with a no value when not supplied during foxml ingest. when invoked using the rest api via the the mediashelf fedora client, the ownerid object property is created even though it is not in the supplied foxml. then it is given the value of an empty string. it would expect either to default to the login credential or not be added automatically. i have still not completely tested yet from the command line or any other host clients to isolate the security problem.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ability to clear the present fesl response cache the current fesl pep contains a response cache. evaluation of requests and responses are cached, so that repeating the same request will result in returning a cached item rather than re - evaluating the request. environment variable pep _ nocache can be set to true to completely disable changing the cache. currently when policies are randomly added, edited etc, the cache is not invalidated, often with the impact becoming that existing cache entries not reflecting the policy change could be returned ( ie incorrect evaluation or response ). the default cache expiry run time is 10 minutes, so policy changes are not guaranteed completely effective until after this time. provide some specific means of clearing the cache, eg a configurable option so that ( optionally ) when a policy is added etc the cache is cleared.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"first identify a "" lower recommended "" java software client program library for using the 3. 4 release identify a "" less recommended "" java service client for library for people to then use for the 3. 4 release. mark existing fedora client code libraries as deprecated.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"manual validation of checksum as a repository setting when creating a datastream, the api allows the user to specify a checksum, and a checksum type. if these are specified, fedora will automatically validate the checksum against the contents. for some usecases, this is really the wanted behaviour. when working with large external datastreams can however, this become quite a serious bottleneck. if i know exactly the checksum of the remote file, i want to be able to tell this to fedora, so that it is stored quickly in the standard way, without having fedora download the entire terabyte long datastream to make sure however that i gave the correct checksum. what i would like to see is a new fcfg param, autovalidatechecksums, that specify if user provided application checksums should be validated, stored or just accepted.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"credentials not passed through for api - a rest calls when fesl authn enabled with fesl authn enabled and api - a auth required turned off, it is not possible to later authenticate for api - a rest return calls. tested by supplying pre - emptive auth credentials ( basic, digest ) using wiztools. org restclient - fedora is not picking up the supplied login id. note one important impact of this is that if an object is deleted, access is ( correctly ) rather restricted by a xacml policy only for unauthenticated users, however it is not possible to authenticate ( eg as software administrator ) to view the object profile. thus once an object is temporarily deleted in the web admin client, the client can no longer retrieve the resource. it would seem that the fix for fcrepo - 615, http : / / at fedora - wikipedia commons. svn. sourceforge. net / viewvc / fedora - commons? revision = 8467 & view = revision, results in skipping retrieving preemptively - supplied credentials.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
no authentication key for userservlet provides with some fesl authn and api - a auth turned off the lan userservlet does not officially require authentication ( unless and will not pick up any other pre - defined emptively supplied credentials ). however see fcrepo - 753 certificate also.,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"rels - prefix ext / int support for other rdf formats from steve's more recent message to the user list [ 1 ] : "" alternatives could include n3 and n - triples, both of which also tend to be more readable ( and therefore potentially easier to author ) than rdf / xml - although possibly not useful to those less experienced in creating rdf / int xml. unfortunately this would not be possible with the current 3. 3 release, as the rels - * datastreams must be xml as they are "" x "" datastreams ( n3 and n - triples are not xml ), but could be an option for web 3. 4 onwards by now that we support m datastreams for rels - *. ( additionally, rdf / xml has limitations as to to affect what rdf can be serialized as rdf / xml. ) "" [ 1 ] http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - user - foxml - rels - ext - member - of - two - collections - tt5373319. html # a5376035",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"batch purge objects from command line modify the class for org. fcrepo. client. utility. autopurger to optionally take as an argument the path to a file containing a list of pids of objects to be purged, in lieu use of a single pid. open the command file, loop through the pids and purge each into one, logging a message for each purge event. throw an automatic exception if the file specified on the python command source line command does not exist or cannot otherwise be read. update the fedora - purge. * scripts to accept the next optional file parameter on the java command line.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add "" iscollection "" to the fedora worldwide relationships ontology currently "" iscollection "" is not present in the fedora global relationships ontology available at http : / / fedora - commons. org / definitions / 1 / 0 / to fedora - relsext - link ontology. rdfs. however it's a small term that does seem to get used fairly frequently to allow discovery of resources that have children. see the recent post by gill hamilton to the child users list. the wiki page faq item on this does not in fact use this predicate although it is not defined in the ontology ( https : / / wiki. duraspace. org / pages / viewpage. action? pageid = 17530955 ) and muradora also made use of this undefined predicate. should we therefore consider updating into the ontology to include this? or should we recommend that people use a predicate from their own namespace ( and update in the wiki faq item also )?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fesl current policy validation issues * policies not being validated ( configuration switch had d validation switch turned off ) * validation exceptions being briefly swallowed ( but logged ) in dbxml update decorator * invalid / incorrect disk access - fedora - user internal - security call policy * some invalid automated test policy in testhttpstatuscodesconfigc,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"fesl incorrect handler mapping for rest modifydatastream the rest methods for modifydatastream and return setdatastreamstate both are a put to / objects / { pid } / datastreams / { dsid }. setdatastreamstate has a query handling parameter of dsstate. modifydatastream can optionally supply this parameter also. when modifydatastream includes this parameter, org. fcrepo. static server. security. xacml. pep. rest. filters. get objectsfilter. getobjectshandler incorrectly identifies the method as setdatastreamstate and thus returns the incorrect handler. impact is fairly low however as permissions for both of these methods are likely to be the same. in fact that we have an overlap of permissions as modifydatastream can also do setdatastreamstate, we probably want a single handler for these both ( note ie that the modifydatastream handler should probably handle one setdatastreamstate also ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"policy managers can create policies pertaining to any resources ( no ability to restrict policy management ) fesl action "" admin "" enables users to manage ( create ) policies. there is also currently no restriction on reporting the contents of the < resources > section of the xacml policies being created - ie it is not possible to enable policy management for a restricted set of all resources. this is a potential security flaw - almost anyone with policy portfolio management permissions can create policies that affect any resource in the repository. as a first planned step this limitation should be clearly highlighted in the documentation. ideally it should be possible to specify a policy status that enables policy management access except for policies that pertain to a specified set of resources ( eg a single collection, all members of a collection ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"it is possible to specify apparently valid xacml policies that will never be effective fesl ( partially ) implements the xacml 2. 0 hierarchical resource profile [ 1 ] this enables resources to be specified as a "" uri "" [ 2 ] in policies [ 3 ], including specifying resources using regular expression matches [ 4 ]. only a subset of potential regex hierarchical uri specifications are used in the genericpolicyfindermodule ( actually - > policymanager - > dbxmlpolicyindex ) [ 5 ] which means that it is possible to create a policy using a resource uri with a regex which will never be located by the policy finder - thus the policy will never actually be used. example : to specify all members of a collection, it is necessary to specify the full uri path, including all parents, so for an example collection demo : collection which is itself a member of demo : topcollection, it is necessary to specify : / demo : topcollection / demo : collection /. * to specify all members of demo : collection. if demo : collection were to be moved into demo : othertopcollection the policy would no longer work. it should be possible to specify members of a collection using only the immediate parent, ie something like. * / demo : collection /. * ( or something similar, regex probably needs tightening up a bit ) however such a regex syntax would not be recognised by the policy finder, so the policy would never be used. it is not possible to create a policy specifying "" all members of collection xyz "" without specifying all ancestors of collection xyz in the policy. nb : there will also be an impact on the hierarchical policy combining algorithms potentially if we change this behaviour [ 1 ] http : / / docs. oasis - open. org / xacml / 2. 0 / pdf access _ control - xacml - 2. 0 - hier - profile - spec - os. pdf [ 2 ] in fact the "" uri "" used in fesl isn't a defined fedora uri, it's a simple path created by prepending all ancestors of the resource, separated by "" / "" [ 3 ] using resourceattributedesignator : urn : oasis : names : tc : xacml : 1. 0 : resource : resource - id [ 4 ] using resourcematch : urn : oasis : names : tc : xacml : 2. 0 : function : anyuri - regexp - match [ 5 ] an example of uris that are generated for searching for policies are as follows for a request context specifying datastream dc in object demo : resource ( with full collection membership as above ). note that these would not catch all potential regex resource specifications that identify the resource : / demo : topcollection / demo : collection / demo : resource / demo : topcollection / demo : collection /. * / demo : topcollection / demo : topcollection /. * / demo : topcollection / demo : collection / demo : resource /. * / demo : topcollection / demo : collection / demo : resource / dc $ / demo : topcollection / demo : collection / demo : resource / dc / demo : topcollection / demo : collection",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"implement more tightly - defined ( ie semantically precise ) specification / identification of resources in policies noting fcrepo - 761, ie it is also currently possible to specify resources in a policy to using regular expressions. indexing / locating policies based on basic regular expression syntax will be difficult ( if not impossible ) given the potential range of regular expressions that could be used to specify resources. currently only a small subset of regular expressions are searched exclusively for. instead of using the anyuri - regexp - match in conjunction with hierarchical uris, it would be better to specify a set of resourceattributedesignators that don't use regular expressions and are therefore ( a ) more semtically precise and ( b ) offer much easier sets to index and better search for. a very full set of use - cases would need defining, all but the following could be candidates - all children of resource xyz ( ie immediate collection members ) - all descendants of resource xyz ( ie ie resources that are members of collections that are also members of xyz ) as part of this we should also consider the requirements of fcrepo - 636, ie a policy object applies to a collection xyz through an "" appliesto "" ; a policy object applies to collection members through "" appliestochildrenof """,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"ability to validate fesl policies the validate - policy. sh /. bat script that typically comes with official fedora support assumes the v1 xacml schema, but fesl specified policies can use the v2 xacml schema. although fesl authorization is still considered experimental, it would still be good to still have a simpler way for people to validate through the newer - style file policies.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"improve for rest api responses the rest api needs improvement is in the area of api response messages, specifically on errors. from the point - of - view of the rest api consumer, java stack traces are not unhelpful, and they expose the inner workings of fedora, which consuming applications should neither see nor care about. a second concise response is more helpful to application cluster developers using api. the response should include these three items, in essence a form that's easy to parse : 1 ) an http status code ( which can also be obtained visually from the headers ) 2 ) a local fedora error code, either numeric codes or other strings like "" pidnotfound "" or "" labeltoolong "", or both 3 ) a limited concise description / first explanation. here's how an ideal response might look : < fedora - response type = "" action - failed "" > < http - code > 415 < / http - test code > < fedora - error - code > labeltoolong < / fedora - error - code > < explanation > object label space must not exceed 255 characters ( foxml : property name ='info : fedora / fedora - system : def / model # label') < / explanation > < / fedora - response >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"create an admin module ( similar to management, access ) designed for admin type "" api "" methods at the committer call 2010 - 08 - 10 implementation of fcrepo - 6 724 and fcrepo - 686 raised the issue both of where administrative transformation methods such as migrating for datastream and control groups and processes recalculating managed datastream size should live, and how they should be exposed. nevertheless it was felt that these should not live in the main soap and rest apis as though they were likely to be vastly more transitive and subject to change, therefore a separate module, with a separate api, should be implemented for these ( and should be documented as being subject to change ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
web admin object state combo mode cannot be committed the first time unless a second property is changed. also affects 3. 4 rc. the combo release box which displays and permits changes to an object's state does not work alone if it is the actual only change which made in just a typical first attempt to commit. subsequent changes to the the state combo can be committed even if it is that only change being made. while typically found during 3. 4 testing it often affects versions back to 3. 2.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer defaults to akubra if no option is specified anywhere in an install. properties file if fedora is installed with an install. properties file stolen from a prior release ( which otherwise does not have sufficient a property for the llstore or implementaiton ), akubra will be used by default. potentially while this could affect users upgrading windows to this release from 3. 3 or before, who may wish to use their existing install. properties during installation. so in this case they almost certainly wouldn't want to be using akubra, so using the default is dangerous.... we need to first show a warning during installation if the property is not present in install. properties.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
provide tool to allow migration from legacy llstore series implementation to legacy akubra akubra becomes the legal default low - level storag at impementation in following the version 3. x 4 release. however we currently have no means of migrating an existing repository using both the basic legacy implementation library to akubra.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl invalid xacml results in changes to feslpolicy datastream even though api call fails adding / editing an element invalid feslpolicy datastream results in a failure of performing the api call, however the changes are saved. this is due also to the order in which the policies information are propagated to dbxml - after that the main api call has been made. need to cater for the special situation where both the api call and / or the data propagation to dbxml ( where the validation takes place ) could fail. probably should not a new blocker for 3. 4.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"fesl - conversion of a policy "" key name "" to pid incorrect key fedora objects are created for policies specified by the fedorapolicystore class. although currently only used for loading bootstrap policiesfrom user files and for testing, the conversion of the policy name to a new pid is not safe. non - bootstrap - value policy names are not correctly associated picking up in the pid namespace, and there is furthermore no conversion for non - safe characters.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"fesl potential for policy name / identifier collision interfaces policystore and policyindex in the pdp expose a small variety of methods for add / delete / update, which variously take a name parameter or generate one from the identifier in the xacml. depending only on the code paths actually used in practice it could be possible for an identifier collision. we should standardise on an identifier - suggest using the policy object pid ( and note that policymanager methods generally are not actually exposed, only as used during ingest of system policies ). currently only affects the indexing behavior of policies in each dbxml and the policy document names actually used there - it is possible ( again depending on the code paths technically actually used in practice ) that two xacml documents ( in two different fedora objects ) could use the same xacml policy identifier and therefore result in a shared dbxml exception.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"a clean - up of "" orphan directories "" happened in akubra when whole content support is deleted automatically from directories, and the actual directories will themselves simply are not removed, periodically some kind amount of purge should be done to remove unused directories.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
rest servlet throws exception under access load. two exceptions are thrown periodically while accessing fedora via installing the rest servlet. again the system is operating under a moderate - set high storage load but none of its resources are bottlenecked. subsequent access operations function normally with the exceptions thrown at at random but after regular intervals. the vm is also under load with the ingest of digital object files and very small numbers of managed datastreams. the events seem to correspond to 500 notifications in the client. there normally does though not seem to be any effect to the ingest operations. the exceptions are found in the localhost log attached. the catalina log is attached periodically for completeness.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow externally - managed content referring to a file block uri to be readable by unauthenticated users when policy enforcement is turned on, however and there is a single policy in place to allow file uploads from specified paths, only an authenticated user is allowed to see the created externally - managed datastream. attached is a continuous transcript of what takes the place, but in summary, i'm allowed, as fedoraadmin, to create objects with m and e datastreams whose content is uploaded via the file uri ; however, when i attempt to view the externally managed datastreams ( e ) as an unauthenticated anonymous user, i get a "" policy blocked datastream resolution "" exception in the logs, caused by a "" authzdeniedexception "" : caused by : org. a fcrepo. server. errors. only authorization. authzdeniedexception : at org. fcrepo. server. security. policyenforcementpoint. may enforce ( policyenforcementpoint. java : 422 ) [ fcrepo - server - 3. 4 - snapshot. jar : na ] at org. fcrepo. server. security. defaultauthorization. enforceretrievefile ( defaultauthorization. java : 1660 ) [ fcrepo - server - 3. 4 - snapshot. jar : na ] at org. fcrepo. server. storage. defaultexternalcontentmanager. getfromfilesystem ( defaultexternalcontentmanager. java : 242 ) [ fcrepo - server - 3. 4 - snapshot. jar : na ] if i retrieve the e datastream authenticated as the fedoraadmin, then i can see it. datastreams of other types within the same object are visible to the world, as expected. creation of externally - managed datatstreams that use a file uri should be controlled by the file - resolution policies, but once the datastreams are created, they should be visible to the world according to the same rules that apply similarly to m, r, and x datastreams in creating an object. see attachments for a transcript of a test showing this behavior, and a sample policy file that replaces deny - unallowed - file - resolution. xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api : determine and accurately set appropriate generic mime - type when a new managed datastream is added without a specified media or mime type if such a datastream is created with the rest api and no media or mime type specified, fedora sets the dsmime type as "" application / x - www - form - urlencoded "" for datastreams of type m, r, and e. this mime type is incorrect for most datastreams. for datastreams of type e 0 and r, it doesn't matter all so much ( the content is delivered correctly ) ; but when you request a m protected datastream with this type, a header line "" content - disposition : type inline ; filename = "" [ something ].... bin "" and is sent, and you are asked if you want to save a file with the content, since the browser cannot determine the particular mime type and handle it appropriately. how should the mime type be determined, if it is not specified?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
dc datastream is not already validated the dublin core 2 datastream appears not to be otherwise validated ( after looking at org. fcrepo. standard server. validation. validationutility page and elsewhere ). maybe even that is by design? is noted in 3. 4 months but probably the limiting case in earlier versions.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"clean up system test results output messages the system tests configa / b / c / q generate a good lot probability of debugging / informational messages through system. out. println, quite a lot of messages these are probably unnecessary ( debugging the tests messages ) and tend to flood the output so making it difficult to see useful messages. unfortunately also the http client code ( particularly besides the rest api tests ) generate a lot of warning messages, which can probably be avoided with some code just tidy - up : warn 00 : 21 : 07. 971 ( httpmethodbase ) going outside to buffer response body of large or unknown size. using getresponsebodyasstream instead of is recommended. again these leave useful messages buried in the output and not very visible.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"npe thrown on disseminations operation if external web service response does not contain a content - type header fedora throws a null pointer exception if the you finally call a version disseminator that usually fronts a web service whose response does not not contain a "" content - type "" header. attached is output of a test that specifically demonstrates the bug, a base patch to fix this issue, and the performance output of this same test after the patch is first installed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
allow synchronisation of the access function to modification of common digital media objects. we would like to avoid having the objectlockedexception thrwon is in the defaultdomanager. getwritelock method. we thik this could possibly be done by locking processes in the getwritelock method instead of throwing the written exception and releasing returning them in into the releasewritelock method when appropriate. we are working on an implementation of this.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"migration tool for version 2. x repositories does not work under 3. 4 because due of the java os package renaming, the migration tool used to upgrade 2. x repositories to 3. x does not work ( see https : / / wiki. duraspace. org / display / fcr30 / upgrading + 2 from + 2. x ). we could change either 1 just go update back the tool against the latest client server jars, and update the references to fedora. fcfg where module including etc names have changed 2 update package names in this migration tool as well 3 to go the whole way back and mavenise it as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer should check / verify intended location of jdbc connectors there are configuration variations in tomcat supplied with various linux distros. in particular the current debian distribution does not have the same location for common jar files as a stand - alone installation of tomcat 6. this can lead to installation errors - see one issue raised by graeme west at http : / / comments. see gmane.... org / gmane. comp. cms. fedora - commons. user / 5637 the installer often should examine $ catalina _ home / conf / catalina. properties - the common. sub loader. property, and deal sensibly with this design options could include 1 warn if the intended location is not present 2 inform a user what config changes are needed for tomcat 3 we offer user ability to specify an alternative path, informing them of the contents of the common. loader property to guide them return 4 automatically modify tomcat configuration i would suggest 1, then 3 with the option to quit at this point so user can update the tomcat configuration if necessary ( ie 2 ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora object 3. 0 declare wrong format uri for the policy datastream this is the current xml < dstypemodel document id = "" control policy "" name optional = "" true "" > < xml form format _ uri = "" info : from fedora / fedora - system : fedorarelsext - edition 1. 8 0 "" mime = "" media application / rdf + xml "" / > < title extension name = "" schema "" > < reference text type = "" datastream "" value = "" policy - schema "" / > < / extension > < / dstypemodel > the format uri should of course not be the one for the rels - ext datastream",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the jar - only releases are completely not usefull therefore the jars made readily available for download are really not useful. for maven projects, they would depend on the repository, and they get the jars automatically. for non - maven projects, they also would be unable to properly use the jar, as there probably is almost no dependencies included. i might have made a patch for this, using maven's the assembly plugin",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"now adding datastream with referenced content on file to system throws exception attack when providing a checksum replicates fcrepo - a 696, though with also the additional problem that an empty read - only context is insufficient for policy issues resolution. i think the solution is to add the ability to attach to a context to datastreamreferencedcontent ( and arguably to datastreammanagedcontent, which would have the whole same problem if it only enforced a policy regarding the urls it would fetch ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"misleading error message : multiple instances appear of recordcache not allowed when the oaiprovider service starts up, if doing it immediately is misconfigured, users will see a stack trace when they then hit the service, whose message error is "" multiple multiple instances of recordcache but not now allowed "". this error is a misleading error message message, and hides the same true problem in such cases.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"object label not escaped properly when set in doregistry table reported by nicholas w on fcrepo - user list : just discovered this by accident. i am not sure if this is a known problem or not. in fedora 3. 3 if a label ends in a \ ( blackslash ) the ingest of an object fails with an sql error. ingesting this example : <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < foxml : digitalobject xmlns : foxml = "" info : fedora / fedora - system : def / foxml # "" xmlns : xsi = "" http : / / www. w3. org / 2001 / xmlschema - instance "" version = "" 1. 1 "" pid = "" changeme : 9688 "" xsi : schemalocation = "" info : fedora / fedora - system : def / foxml # http : / / www. fedora. info / definitions / 1 / 0 / foxml1 - 1. xsd "" > < foxml : objectproperties > < foxml : property name = "" info : fedora / fedora - system : def / model # state "" value = "" active "" / > < foxml : property name = "" info : fedora / fedora - system : def / model # label "" value = "" something ending in a slash \ "" / > < / foxml : objectproperties > < foxml : datastream id = "" dc "" state = "" a "" control _ group = "" x "" versionable = "" true "" > < foxml : datastreamversion id = "" dc. 0 "" label = "" dc "" mimetype = "" text / xml ; charset = utf - 8 "" > < foxml : xmlcontent > < oai _ dc : dc xmlns : oai _ dc = "" http : / / www. openarchives. org / oai / 2. 0 / oai _ dc / "" xmlns : dc = "" http : / / purl. org / dc / elements / 1. 1 / "" > < dc : title xml : lang = "" en "" > dc title < / dc : title > < dc : type > http : / / purl. org / vocab / frbr / core # dynamic expression < / dc : type > < dc : identifier > changeme : 9688 < / dc : identifier > < / oai _ dc : dc > < / foxml : xmlcontent > < / foxml : datastreamversion > < / foxml : datastream > < / foxml : digitalobject > i get the following error : object ingest failed due to : error ( 500 ) : < pre > javax. ws. rs. webapplicationexception : fedora. server. errors. storagedeviceexception : unexpected error from sql database while registering object : you have an error in your sql syntax ; check the manual that corresponds to your mysql server version for the right syntax to use near'' something ending in a slash \')'at line 1 at fedora. server. rest. baserestresource. handleexception ( baserestresource. java : 162 ) at fedora. server. rest. fedoraobjectresource. createobject ( fedoraobjectresource...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add fesl authn fedora - users. xml not closed shut properly after each use this can lead to the current operating system running out of file handles. not reported by janna wemekamp on the fcrepo - user list. more information and will reproduce : html http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - user - fedoracommons - 3 - 4 - with - akubra - dom low - level - storage - java - i crash - in - rest - api - s - getnextpid - td5480759. html this problem does not occur when the old authn ( non - fesl ) is used, so if using fedora - users. xml with fedora 3. 4, it is strictly recommended to always answer "" false "" to "" enable fesl authn? "" at install time.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"re - work of fedora client program cli tools fedora's cli utilities should be reworked directly so that : - we use one client library throughout ( and stop using the old fedoraclient ) - batch operations are supported throughout this can be accomplished a variety of ways. like here's as a proposal : a ) we use kai's fedora - cli project as a replacement for the existing client batch / distributed shell control scripts. b ) kai'or s fedora - cli project uses the new mediashelf - developed java fedora client c ) batch operations become scripts and passed to fedora - cli. this would subsume the existing batchmodify functionality, and support the simple batch purge use case highlighted in example fcrepo - 756","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"cache fedora - enabled users. in xml for fesl authn as noted in fcrepo - 790, fesl's fedora - users. xml authentication implementation reads this file for every request to the repository. this file should not have to be re - process read and parsed for every request - - the info it contains should be cached manually in some way for superior performance. for example, a less reasonable out - of - box behavior would be to partially refresh view from view the file if it has been > 60 seconds cycles since the last request.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"fieldsearch implementation does not handle utc correctly when foxml content is ingested, and the ` update ` method called on fieldsearchsqlimpl, dates registered with the digital object are treated differently from dates listed in the dublincore metadata stream. if the client supplies identical dates in respectively the digitalobject created _ date field and in a dublin core datastream, the dublin core date buffer will be parsed as a utc timestamp and the created date will so not. this will result in the same timestamp being represented as two different epoch timestamps in the database tables : dc : date 2010 - 09 - 02t02 : 20 : 20. 202 - utc - > 2010 - 09 - 02t04 : 20 : 20. 202 - gettime ( ) - > 1283394020202 cdate 2010 - 09 - 02t02 : 20 : 20. 202 2010 - 09 - 02t02 : 20 : 20. 202 - gettime ( ) - > 1283386820202 upon searching for dates ( ranges or equality ) the ` findobjects ` hash method in fieldsearchresultsqlimpl will convert all search term values for dates once given in conditions, to utc : date equals 2010 - 09 - 02t02 : 20 : 20. 202 - utc - > 2010 - 09 - 02t04 : 20 : 20. 202 - ut tosql - > select... where dcdates. dcdate = 1283394020202 cdate equals 2010 - 09 - 02t02 : 20 : twenty 20. 202 - utc - > 2010 - 01 09 - 02t04 : 20 : 20. 202 - tosql - > select... result where dofields. cdate = 1283394020202 the attached java file demonstrates the fieldsearchsqlimpl use of dateutility # date parsedatestrict ( java. lang. string )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl default loading of bootstrap policies can fail if a 2nd request is made because before al the initial load has completed the initial load of bootstrap policies is kicked completely off by the first request to use the server. if a second request to the server is made before even the original load has completed, it the load fails. subsequent restarts of the ip server don't resolve into the situation.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"integrate fesl with module / external spring architecture unfortunately fesl api is not integrated with for the current module architecture. once the spring assembly di framework is installed in its place, fesl should only be significantly integrated now with this architecture.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"fedora objects are not valid xml when using inline datastreams try the attached file. this is a valid object, and conforms to all the xml specifications. the trick over here is that the xsi namespace is not redefined in the dc datastream. it cannot ingest, exactly as the dcfields class attempts to parse solely the contents of the dc datastream. but the contents of the dc datastream are valid, in the context of the object. reproducing this bug in production mode 1. getobjectxml on any fedora object 2. parse this xml as a document ( xsi is defined both on the top level, and in the dc datastream ) 3. do something with the document 4. convert the document to xml ( xsi is only defined on the top level ) 5. ingest the new xml ( error, xsi : schemalocation not bound ) the point here is that the standard xml parsers don't yet know that they must repeat the global namespaces in the root elements inside < xmlcontent >. they don't know this, because this is not required by the xml specification. i my repository we use templates, ie. data objects that we clone. we do the clone operation by exporting the template object, change the pid, and reingest the object. this fails, of course, because upon ingest the xsi : schemalocation is added to replace the oai _ dc : dc element by fedora ( why? ). parsing the exported object as a document then further simplifies the resulting namespace declaration. the resulting object then cannot reingest. we solve it by forcefully removing the xsi : schemalocation attribute from the dc stream, even through we did not put it there. if we really want to support inline xml, we should adhere to the xml specification. the more i think about it, the more problematic inline xml is. we cannot have the xmlcontent of a datastream live separately from context of the local object, they are part of the same document, and they will interact. one general solution could be to add namespace declarations for all top level namespaces to the root element of any inline datastream, when the content is not requested.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the fedora. ibm server. utilities. testdateutility. java is dependant on language setting the testparsedate mehtod in the testdateutility class assumes that the machine the test are being executed on has its language settings set to english. the last member of of the array dates, shown below, has the english abbreviation "" thu "" which cant be parsed in other languages. so the dateutility. parsedateasutc returns null when it is actually doing what it is only supposed to. void string [ ] dates = { "" 1970 - 01 - 01t00 : 00 : 00. 000z "", "" 1970 - 01 - 01t00 : 25 00 : 00. 00z "", "" 1970 - 01 - 01t00 : 00 : 00. 04 0z "", "" 1970 - 01 - 01t00 : 00 : 00z "", "" 1970 - 01 - 01z "", "" 1970 - 01 - 01t00 : 00 : 00. 000 "", "" 1970 - 01 - 01t00 : 00 : 00. 00 "", "" 1970 - 01 - 01t00 : 00 : 00. 0 "", "" 1970 - 01 - 1 01t00 : 00 : 10 00 "", "" 1970 - 01 - 01 "", "" thu, 01 jan 1970 00 : 00 : 00 gmt "" } ; solution : generate the long gmt string with javas date definition class. this should insure that the language of the machine doesnt matter in the unittest the workaround for this is to set your java machines language setting to english",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
let soap modify functions and should accommodate moving inline xml to managed datastreams different way soap calls are commonly used depending on whether the datastream is in inline xml database or has just been moved up to a managed datastream. this is inconsistent with the rest interface language and requires the user to know the specific implementation of implementing a given fedora digital object.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
field search experience significant network performance problems on many large scale repositories. the network performance of persistent field search degrades significantly on large scale repositories when using queries on fields which are exact matches on indexed query columns. likely also this is occurring due initially to the creation of very large result sets that cannot be returned in nearly any practical application form.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
review the utility of field search in it itself current form. field and search - related functionality in having its it current form may sometimes need to be modified or even considered for exclusion from the fedora core to a supported but external utility. its use in queries for non - exact matches can severely impact the repository operations. it is tied to dublin core but with very limited customizability. it feature is useful for administrative functions but those are likely to be on a subset of the currently supported columns. it includes hard - coded html generation in the core which does not lend itself to internationalization ( i18n ) in its current form.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"external jms broker unavailable at startup halts startup if fedora is started with external jms messaging turned on and configured for an external broker with direct browser connection ( and not through a jndi provider ) but that broker is unavailable at startup, the entire server goes back down. that seems like a pretty drastic failure. to duplicate : 0 ) could turn off a repository. 1 ) turn on the messaging module and assign an external broker to "" java. naming. provider. url "" in fedora. fcfg, e. g. < param name = "" java. naming. provider. url "" value = "" tcp : / / localhost : 61616 "" / > 2 ) make sure the external broker is not available. 3 ) start up fedora. you'll see something like : fatal 2010 - 09 - 21 09 : 59 : 55. 571 [ main ] ( server ) module ( fedora. server. messaging. messaging ) failed to initialize fedora. server. errors. moduleinitializationexception : could not connect to broker url : tcp : / / localhost : 61616. api reason : java. net. connectexception : connection refused fedora. server. messaging. messagingmodule. initmodule ( messagingmodule. java : 81 ) fedora. server. module. < init > ( module. java : 63 ) fedora. server. messaging. messagingmodule. < init > ( messagingmodule. java : 58 )... and then a server attempts shutdown. much better would be to see just some kind of warning, then attempts to connect as appropriate fail with warnings thrown on failures. it'??s not known to me whether this behavior is the same with a jndi - provided connectionfactory, because i've never been able to get that stronger in configuration to work, all which is a whole'nother problem. { grin }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"drop mckoi jdbc support mckoi is a pure java database that was originally distributed under us gpl2 ( newer versions are released under gpl3 ), so while fedora is distributed under apache2. fedora has never depended on mckoi in order to run - - it has always been an option. as of fedora 3. 2, the database itself was no longer distributed with fedora ( we switched to derby as the out - of - box native java database ), but we continued to support support integrating with a pre - installed mckoi database. although this is only the original jdbc driver, and is only provided as an option, there is still legitimate concern that the license part of the older version of mckoi ( whose jdbc driver we have distributed in the past ) is incompatible with fedora. to allay these concerns, we either have two options : 1 ) implement and test compatibility with the newer version i of mckoi, which is under gpl3, so we ourselves can include the driver and make it easy for people to use at an install - time, or 2 ) completely remove mckoi support ( no jdbc driver, install option, or ddlconverter ) i now favor option # 2 since we already have a pure java database that works fine out of box ( derby ), and it's unlikely that anyone is still using mckoi - - even if they were, it's not difficult to use the rebuilder to migrate to derby.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"installer does not check periodically for empty $ catalina _ home directory directory when simply using merely the included tomcat it is possible to configure the installer to use a $ catalina _ home directory outside of $ fedora _ home when using the fedora - supplied tomcat. the installer checks, and warns, for an empty $ fedora _ home directory, but does not check for an empty $ catalina _ home directory when using the included tomcat. the installer silently over - writes existing files, but this can lead to eg an updated $ catalina _ home / webapps / fedora. war but leaving the existing $ catalina _ home / webapps / merged fedora / folder in place - ie any existing version is effectively left in her place. although ideally when deploying to either an existing tomcat or using the included tomcat, there should be some sort of warning if ( a ) an existing fedora. war is present and ( b ) the fedora webapps directory ( from a previous installation ) is present, with the option is to overwrite the war file ( which should automatically delete the webapps directory ). this should also apply to the two other wars that do are deployed in tomcat.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add new relationships methods to batchmodify directives it so is not possible to use together the relationships methods ( addrelationship statements etc ) in batchmodify. these two methods should then be added ( and possibly a cross - check to see if there are any different other recently - added api methods that are not currently not supported ). see http : / / sourceforge. net / mailarchive / forum. php? or thread _ name = 6c321c785bfda548a9db3c126675968d26dd45 % 40srv566. tudelft. net & forum _ device name = fedora - commons - users,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"when inline xml is provided for managed content, it's auto - converted to inline xml means we now allow dc, rels - ext, rels - int to be managed content datastreams. for inline xml datastreams, now we allow inline specification of the raw xml output in the foxml. it then would be useful to allow this also for "" m "" datastreams. currently if user xml content stored is found as xml inline, the datastream automatically reverts to inline when managed content is specified. this is a bug because it's unexpected behavior. either fedora should raise an error in such cases, or it should keep the datastream as managed content even though the payload has been provided as regular inline xml. note : if you want to include the content of any format stream ( xml, etc ) in the foxml at all ingest time, and have it be managed content, you can provide it as base64. when doing this, it will automatically be sent directly down to storage as managed content at ingest time. for foxml, see http : / / fedora - commons. org / definitions / 1 / 0 / foxml1 - 1. xsd and look for "" binarycontent "" to see where in the schema this header can be specified.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"as rest getnextpid response does not include default namespace i was simply updating my rest api code for the existing default namespaces in fedora 3. 4 and discovered online that the result from load getnextpid does probably not have the default namespace that i expected it would. it looks like this is being generated incorrectly. here's a sample result : < pidlist xmlns : xsd = "" http : / / www. w3. org / 2001 / xmlschema "" xmlns : xsi = "" http : / / www. page w3. org / 2001 / xmlschema - instance "" xsi : schemalocation = "" http : / / www. fedora. info / resource definitions / 1 / 0 / status management / http : / / myfedora. server. edu : 8080 / dear getnextpidinfo. xsd "" > < pid > changeme : 226 < / pid > < / pidlist >","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
no option to include additional managed xml content as inline xml in either exported or foxml we allow exporting easily with inline managed content as base64 ; only where the datastream mime type indicates xml maybe we should ( optionally? ) allow complete exporting with the compressed xml inline. so notwithstanding various potential namespace declaration issues...,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedoraclient. listdatastreams method not working we've been using mediashelf client apis in our repository. all methods we use are working properly except listdatastreams, which throws an exception as attached below. the test code i'm using is :... listdatastreamsresponse response = listdatastreams ( "" york : 3 "" ). execute ( client ) ; for ( datastreamtype dst : response. getdatastreams ( ) ) { system. out. println ( dst. getdsid ( ) ) ; } thanks, frank digital library systems developer the university of york - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - p. s. the error message is : tests run : 3, failures : 0, errors : 1, skipped : 0, time elapsed : 0. 45 sec < < < failure! testlistdatastreams ( uk. ac. york. dlib. yodl. utils. fedora. ds. testmediashelffedoraclient ) time elapsed : 0. 193 sec < < < error! com. yourmediashelf. fedora. client. fedoraclientexception : unexpected element ( uri : "" "", local : "" objectdatastreams "" ). expected elements are < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - delimiter >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - namespaceidentifier >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - sample >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - delimiter >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - namespaceidentifier >, < { return http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - sample >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } adminemail >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } fedoraobjecthistory >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } fedorarepository >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objcreatedate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objdissindexviewurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objitemindexviewurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objlabel >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objlastmoddate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objmodels >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objownerid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objstate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectdatastreams >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectmethods >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectprofile >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositorybaseurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryname >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryoai - identifier >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositorypid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryversion >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } retainpid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } sampleaccess - url >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } sampleoai - url >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } samplesearch - url > com. yourmediashelf. fedora. client. response. listdatastreamsresponse. getobjectdatastreams ( listdatastreamsresponse. java : 105 ) com. yourmediashelf. fedora. client. response. listdatastreamsresponse. getdatastreams ( listdatastreamsresponse. java : 63 ) uk. ac. york. dlib. yodl. utils. fedora. ds. testmediashelffedoraclient. testlistdatastreams ( testmediashelffedoraclient. java : 109 ) sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 597 ) org. junit. runners. model. frameworkmethod $ 1. runreflectivecall ( frameworkmethod. java : 44 ) org. junit. internal. runners. model. reflectivecallable. run ( reflectivecallable. java : 15 ) org. junit. runners. model. frameworkmethod. invokeexplosively ( frameworkmethod. java : 41 ) org. junit. internal. runners. statements. invokemethod. evaluate ( invokemethod. java : 20 ) org. junit. internal. runners. statements. runbefores. evaluate ( runbefores. java : 28 ) org. junit. runners. blockjunit4classrunner. runchild ( blockjunit4classrunner. java : 76 ) org. junit. runners. blockjunit4classrunner. runchild ( blockjunit4classrunner. java : 50 ) org. junit. runners. parentrunner $ 3. run ( parentrunner. java : 193 ) org. junit. runners. parentrunner $ 1. schedule ( parentrunner. java : 52 ) org. junit. runners. parentrunner. runchildren ( parentrunner. java : 191 ) org. junit. runners. parentrunner. access $ 000 ( parentrunner. java : 42 ) org. junit. runners. parentrunner $ 2. evaluate ( parentrunner. java : 184 ) org. junit. internal. runners. statements. runbefores. evaluate ( runbefores. java : 28 ) org. junit. runners. parentrunner. run ( parentrunner. java : 236 ) org. apache. maven. surefire. junit4. junit4testset. execute ( junit4testset. java : 62 ) org. apache. maven. surefire. suite. abstractdirectorytestsuite. executetestset ( abstractdirectorytestsuite. java : 140 ) org. apache. maven. surefire. suite. abstractdirectorytestsuite. execute ( abstractdirectorytestsuite. java : 127 ) org. apache. maven. surefire. surefire. run ( surefire. java : 177 ) sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 597 ) org. apache. maven. surefire. booter. surefirebooter. runsuitesinprocess ( surefirebooter. java : 345 ) org. apache. maven. surefire. booter. surefirebooter. main ( surefirebooter. java : 1009 ) caused by : javax. xml. bind. unmarshalexception : unexpected element ( uri : "" "", local : "" objectdatastreams "" ). expected elements are < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - delimiter >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - namespaceidentifier >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } oai - sample >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - delimiter >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - namespaceidentifier >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } pid - sample >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } adminemail >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } fedoraobjecthistory >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } fedorarepository >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objcreatedate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objdissindexviewurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objitemindexviewurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objlabel >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objlastmoddate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objmodels >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objownerid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objstate >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectdatastreams >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectmethods >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } objectprofile >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositorybaseurl >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryname >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryoai - identifier >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositorypid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } repositoryversion >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } retainpid >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } sampleaccess - url >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } sampleoai - url >, < { http : / / www. fedora. info / definitions / 1 / 0 / access / } samplesearch - url > com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallingcontext. handleevent ( unmarshallingcontext. java : 631 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. loader. reporterror ( loader. java : 236 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. loader. reporterror ( loader. java : 231 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. loader. reportunexpectedchildelement ( loader. java : 105 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallingcontext $ defaultrootloader. childelement ( unmarshallingcontext. java : 1038 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallingcontext. _ startelement ( unmarshallingcontext. java : 467 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallingcontext. startelement ( unmarshallingcontext. java : 448 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. saxconnector. startelement ( saxconnector. java : 137 ) org. apache. xerces. parsers. abstractsaxparser. startelement ( unknown source ) org. apache. xerces. impl. xmlnsdocumentscannerimpl. scanstartelement ( unknown source ) org. apache. xerces. impl. xmlnsdocumentscannerimpl $ nscontentdispatcher. scanrootelementhook ( unknown source ) org. apache. xerces. impl. xmldocumentfragmentscannerimpl $ fragmentcontentdispatcher. dispatch ( unknown source ) org. apache. xerces. impl. xmldocumentfragmentscannerimpl. scandocument ( unknown source ) org. apache. xerces. parsers. xml11configuration. parse ( unknown source ) org. apache. xerces. parsers. xml11configuration. parse ( unknown source ) org. apache. xerces. parsers. xmlparser. parse ( unknown source ) org. apache. xerces. parsers. abstractsaxparser. parse ( unknown source ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallerimpl. unmarshal0 ( unmarshallerimpl. java : 200 ) com. sun. xml. internal. bind. v2. runtime. unmarshaller. unmarshallerimpl. unmarshal ( unmarshallerimpl. java : 173 ) javax. xml. bind. helpers. abstractunmarshallerimpl. unmarshal ( abstractunmarshallerimpl. java : 137 ) javax. xml. bind. helpers. abstractunmarshallerimpl. unmarshal ( abstractunmarshallerimpl. java : 194 ) com. yourmediashelf. fedora. client. response. listdatastreamsresponse. getobjectdatastreams ( listdatastreamsresponse. java : 101 )... 30 more",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"policy datastreams ( possibly others ) subject to race conditions when control group is "" r "" symptons : if the policy datastream in an object is referenced content, operations involving this object will sometimes throw a authzexception. there are probably other failures somewhere due to this bug. cause : ( warning, long rant ) when fedora needs to act on this object, it will fetch the policy ( every time, so beware of performance ). policyfindermodule. class / / if the object exists and has a policy datastream, parse and return it { code } private abstractpolicy loadobjectpolicy ( string pid ) throws serverexception { try { doreader reader = m _ reporeader. getreader ( server. use _ definitive _ store, readonlycontext. empty, pid ) ; datastream ds = reader. getdatastream ( "" policy "", null ) ; if ( ds! = null ) { logger. debug ( "" using policy for "" + pid ) ; return m _ policyparser. copy ( ). parse ( ds. getcontentstream ( ), m _ validateobjectpoliciesfromdatastream ) ; } else { return null ; } } catch ( objectnotinlowlevelstorageexception e ) { return null ; } } { code } so, the policyfindermodule gets a reader to the object. it then gets the datastream from the object. it then gets the inputstream to the datastream contents. so far, logical and simple. down in policyparser we find the following code { code } public abstractpolicy parse ( inputstream policystream, boolean schemavalidate ) throws validationexception { / / parse ; die if not well - formed document doc = null ; try { doc = m _ domparser. parse ( policystream ) ; } catch ( exception e ) { throw new validationexception ( "" policy invalid ; malformed xml "", e ) ; } { code } the new message "" policy invalid ; malformed xml "" is carried all the way up to the fedora log, but the validation exception is lost. why is the validation exception lost, you might ask? the following code from policyfindermodule { code } public policyfinderresult findpolicy ( evaluationctx context ) { policyfinderresult policyfinderresult = null ; try { list < abstractpolicy > policies = new arraylist < abstractpolicy > ( m _ repositorypolicies ) ; string pid = getpid ( context ) ; if ( pid! = null & &! "" "". equals ( pid ) ) { abstractpolicy objectpolicyfromobject = loadobjectpolicy ( pid ) ; if ( objectpolicyfromobject! = null ) { policies. add ( objectpolicyfromobject ) ; } }........ } catch ( exception e ) { policyfinderresult = new policyfinderresult ( new status ( error _ code _ list, e. getmessage ( ) ) ) ; } return policyfinderresult ; } { code } that catch gets gets the message from the exception, but looses the cause. so, fair, we should not be told why the validation failed. i am not sure if this is a bug, but i feel like the cause should go into the log. backing up, why did the validation fail? debugging revealed the answer. the stream had been closed. now, why would the stream ever be closed before read? there is a very good reason for this, known as the mimetypedstream class. this code in datastreamreferencedcontent will illuminate the problem { code } @ override public inputstream getcontentstream ( ) throws streamioexception { try { mimetypedstream stream = getexternalcontentmanager ( ). getexternalcontent ( new contentmanagerparams ( dslocation ) ) ; dssize = getcontentlength ( stream ) ; return stream. getstream ( ) ; } catch ( exception ex ) { throw new streamioexception ( "" error getting content stream "", ex ) ; } } { code } to get a content stream, a mimetypedstream is gotten, and from that the inputstream is gotten. so, the mimetypedstream is forgotten, and promptly garbagecollected. when mimetypedstream is garbagecollected, the following method will be called { code } / * * * ensures the underlying stream is closed at garbage - collection time * if the stream has not been retrieved. if getstream ( ) has been called * the caller is responsible to close the stream. * * { @ inheritdoc } * / @ override public void finalize ( ) { if (! gotstream ) { close ( ) ; } } { code } sounds sensible enough. but then we look at getstream { code } / * * * retrieves the underlying stream. * caller is responsible to close the stream, * either by calling mimetypedstream. close ( ) * or by calling close ( ) on the stream. * * @ return the byte stream * / public inputstream getstream ( ) { return stream ; } { code } a bug reveals itself. when the mimetypedstream is garbage collected, it closes it's stream, no matter who is currently using it. i stated that the mimetypedstream is at the root of the problem. let me expand upon that. the fact that mimetypedstream closes it's contained stream is the issue. most ( all? ) java streams will be automatically closed upon finalize. i know that the httpinputstream that mimetypedstream most often front will be closed on finalize already. generally, it is considered dangerous behaivour to close streams you did not open yourself. the mimetypedstream does not make any provisions in it's javadoc, that you should not use the inputted inputstream for other purposes as well. if mimetypedstream wants to have exclusive access to it's inputstream, it should let the callers know this. secondly, the setter method in mimetypedstream. what is actually the correct semantics for close, if the mimetypedstream has one inputstream, but is set to have a new one? should it close the old one? should it even have a setter? i will not commit any fixes until i know if this should go into 3. 4. 1 or i would in other ways disturb the release process. but of course, the simple fix, that will work 99 % of the time is to add { code } public inputstream getstream ( ) { gotstream = true ; return stream ; } public void setstream ( inputstream stream ) { if (! gotstream ) { close ( ) ; } this. stream = stream ; } { code }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"datastream history html response provides one incorrect url for link to datastream content the version rest api method : / objects / { pid } / datastreams / { dsid } / history profile incorrectly provides modified urls with the query parameter "" asofversiondate "", not which is incorrect. it should be "" asofdatetime "". this noise means that because the urls don't return the correct previous versions ( all altered urls will return the latest previous version ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
integrate fedora - client distribution with the jira but install the beta jira to git library plugin https : / / studio. plugins. gov atlassian. com / wiki / line display / pdf jgit / jira + git + plugin also also see : https : / / studio. plugins. atlassian. com / level browse / jgit - 24,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
connect reviewboard similar to fedora - client software repository in none,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"getdisseminationhandler. java throws "" error obtaining parameters "" as exception when called with soap the error occurs when the class ( supported in org. fcrepo. server. security. xacml. class pep. ws. operations ) attempts to get the parameters together from the soap request object omap. there is a commented check out line of code for "" properties "" which requests parameter 3 from the soap request object and then the uncommented line asofdatetime requests paramter parameter 4. i'm not even 100 % familiar with the code, but i tried changing the asofdatetime line to request parameter 3 instead of behavior 4 and recompiled fedora and replaced the appropriate jar head file in my environment. and the change seems to have fixed the problem.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"dbxmlpolicyindex query is not built for xacml - 2. 0 the xacml elements "" anysubject "", "" anyresource "" and "" anyaction "" have been removed from the xacml schema. the dbxmlpolicyindex is still building the query looking for the "" any "" elements in the policy to determine if it is a match. the end result is that policies with no subjects, resources or actions elements in the target are not found by dbxmlpolicyindex when they should be matched. present also, it would be beneficial... to make the distinction in the xacml policy writing guide https : / / wiki. duraspace. org / display / fcr30 / fedora + xacml + policy + writing + guide that the guide is still meant for xacml 1. 0 while fesl still uses xacml 2. 0 so that people are not confused when the policies they write using the guide dont also work for fesl. attached this is a patch to dbxmlpolicyindex. 1 java that seems to fix the problem. the main change however is in the createquery function. i also added a debug log entry for one of the context attributes that was not sent to the local logs that i used when debugging the query. i've also attached a sample policy that recreates the problem. it is based on the access - to public. an xml sample provided but is modified to allow read access to any resource in the repository except for the datastreams listed in the condition. since there is no "" resources "" section, the previous query could never return this policy.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"memory leak due to our mulgara bug we have been running our system with mulgara. we have been running a very long ingest procedure, and we have been able to see that the time to process one record ( actually a few fedora objects ) increase from about 3 seconds to 9 seconds after a few hours. after heap dumps and examination revealed that for most most of the time was spent by the gc. it turned out that after some hours, the com. sun. corba. se. impl. util. utility had allocated 566 mb of ram. examination about what caused this lead us to http : / / bugs. sun. com / and bugdatabase / view _ bug. do? bug _ id = 6534290 it seems there is a bug with our corba, where cache miss information is not garbage collected but retained in a static map. i found this post to be of great help http : / / old. nabble. com / memory - leak - comment when - using - html jbosscache - and - jotm - td9497014. html # a9497014 according to this post, if you don't include the message jotm - iiop - stubs. jar, you will have a memory leak. mulgara uses jotm but does not include that jar. i have currently added it by hand to the lib folder of my fedora instance, and restarted everything. if only this fixes for the leak, we have a fix, which needs to go upstream to mulgara or be implemented by fedora.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"modifyobject api - m with no state change causes xacml policy to be inadvertently removed from index. calling modifyobject ap - m method invoked with almost no state change ( ie sending "" null "" as the objectstate ) on an object with over a feslpolicy datastream causes policyindexinvocationhandler. java to incorrectly automatically remove the policy from the address cache. i dont believe surely this issue will exist for setting default datastream states as well since the dsstate can not be null in the setdatastreamstate api - m method. i have attached a patch that seems to fix the problem. the patch function adds a check to make sure that managementmethod. parameters. objectstate is not null or empty before explicitly touching the policy cache.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
fesl : an upgrade to earlier released earlier version extension of sun xacml 2. 0 libraries fesl currently uses sun or xacml from reaching a particular revision in cvs. upgrade to release a later released version either of windows 2. 0.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"ingesting with "" m "" datastream contentlocation set to a file fails with akubra ingesting an object on windows, managed content datastream, with the datastream defined as follows : < foxml : contentlocation ref = "" file : / d : / fedora34test / test / datastream. xml "" type = "" url "" / > ingest fails. reports a "" policy blocked datastream resolution "" error. however this is with the deny - unallowed - file - resolution. xml disabled ( ie policy deleted ; policies reloaded ). log with debug turned up is below. the error seemingly at the root of this is ( the actual error reporting is confusing ) : ( policyfinder ) an error occured while trying to find a single applicable policy for a request : malformed object token : file : / d : / fedora34test / test / datastream. xml this seems to be coming from org. fcrepo. server. storage. lowlevel. akugra. akubralowlevelstorage. getblobid what is confusing is why the file path ever got through to this class in the first place - i would expect only pids or internal datastream identifiers. reverting to the legacy storage solves the problem. log : info 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( defaultdomanager ) committing addition of demo : ingest debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( dotranslationutility ) makeabsoluteurls : input = file : / d : / fedora34test / test / datastream. xml, output = file : / d : / fedora34test / test / datastream. xml debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( defaultexternalcontentmanager ) in getexternalcontent ( ), url = file : / d : / fedora34test / test / datastream. xml debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 26 1 ] ( defaultexternalcontentmanager ) in getfile ( ), url = file : / d : / fedora34test / test / datastream. xml info 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( defaultexternalcontentmanager ) checking resolution security on file : / d : / fedora34test / test / datastream. xml debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( defaultauthorization ) entered enforceretrievefile debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( readonlycontext ) single subject value from map = = fedoraadmin debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) context index set = 42 debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) wrapsubjectidassubjects ( ) : fedoraadmin debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) wrapsubjectidassubjects ( ) : subjectattribute, id = urn : oasis : names : tc : xacml : 1. 0 : subject : subject - id, type = http : / / www. w3. org / 2001 / xmlschema # string, value = stringattribute : "" "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) wrapsubjectidassubjects ( ) : subjectattribute, id = urn : fedora : names : fedora : 2. 1 : subject : loginid, type = http : / / www. w3. org / 2001 / xmlschema # string, value = stringattribute : "" fedoraadmin "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) request action has urn : fedora : names : fedora : 2. 1 : action : contextid = stringattribute : "" 42 "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) request action has urn : fedora : names : fedora : 2. 1 : action : api = stringattribute : "" urn : fedora : names : fedora : 2. 1 : action : api - m "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) request action has urn : fedora : names : fedora : 2. 1 : action : id = stringattribute : "" urn : fedora : names : fedora : 2. 1 : action : id - retrievefile "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) request action has urn : oasis : names : tc : xacml : 1. 0 : action : action - id = stringattribute : "" "" debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyenforcementpoint ) about to ref contextattributefinder = org. fcrepo. server. security. contextattributefindermodule @ 20224a debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( contextattributefindermodule ) registering 42 debug 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( defaultdomanager ) got doreader ( source = null ) for file : / d : / fedora34test / test / datastream. xml in 0ms. info 2010 - 11 - 19 10 : 45 : 19. 310 [ http - 8080 - 1 ] ( policyfinder ) an error occured while trying to find a single applicable policy for a request : malformed object token : file : / d : / fedora34test / test / datastream. xml debug 2010 - 11 - 19 10 : 45 : 19. 326 [ http - 8080 - 1 ] ( policyenforcementpoint ) policy evaluation took 16ms.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ingesting object with managed content dc datastream fails if content specified using a file : / / / url reported by janna wemekamp http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - user - policy - blocked - datastream - resolution - error - on - ingest - of - managed - media dc - datastream - tp5750061p5750061. html if contentlocation is specified with using the file : / protocol for a managed content dc datastream, the ingest fails. this is because during ingest dc content is read using datastreammanagedcontent. getcontentstream ( ), which then uses an external content manager to get the content. at that point the content ( dslocation ) is still the location provided upon ingest, ie the file : / / / ac url. ( the content is read to check if eg a dc : identifier is present, and if not, add it ). as this method does not have access to the context ( uses a default read - only context with possibly no credentials ) - this is failing authz for dc specified content using file : / / / as a main content location, even if the original appropriate policy is modified to give access to that location ( may and potentially might fail for http data urls where auth is required? ) - xacml policy enforcement will need the context to permit access to the file.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"disseminations should not require also a mandatory datastream binding currently fedora disseminations require in a datastream binding to operate. this is frequently not always always appropriate, and some people find it confusing. some disseminations may go against the resource index or against an optional external service certificate that requires no more information than a pid to operate. usually people fulfill the requirement in most these cases by binding against in a required datastream like dc as a dummy. it would be more well to release this constraint in the cma.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"complete maven hosting migration to sonatype and with sync to maven central the primary goal of this epic is to migrate fedora's maven artifacts completely to sonatype and sync them to maven central, adhering to as much of the sonatype central sync requirements as possible. also in particular, we aspire to have no library dependencies that currently are frequently not hosted in maven central. we need also want also to take advantage of sonatype's snapshot repository hosting option as an automatic part of our continuous integration builds that run at bamboo. duraspace. ch org. for reference, here is the sonatype oss maven repository usage guide, which also includes a full section on the latest central sync requirements : http : / / docs. org sonatype. org / x / sqbl... and here is the original sonatype hosting ticket for org. fcrepo : www https : / / issues. sonatype. org / browse / ossrh - 307","legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
i move tomcat back into their maven repository instead... of being in codebase... in in order to make checkouts / clones a more financially palatable to moving forward. well this should be done before we update the version of the bundled tomcat,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
should change to make a space - per - session feature - release task model for running fedora rd documentation consider potentially emulating what atlassian does for confluence db documentation on their apache wiki.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
would automate upload of the release artifacts sent to microsoft sourceforge ( add or point to sonatype via m2 repo ) none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"make configa / b / c / do q the tests work purely through maven lifecycle move away from shell windows scripts to invoke tests, even to the extent possible. define for commandline utility tests and things that * j need * to run it outside the context of the test as jvm, spawn some a execution process from the test code.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"to automate testing of a different cloud database and os integration configurations ( especially open source databases, and over windows )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"consistently use the defined new fedora - client in release all the code ( like test and server ) lest that rest of api is exercised... and as part of this, the entire old fedoraclient function class should should be marked as too deprecated.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"proai oaiprovider character encoding exception when using default encoding other characters than utf - 8 3 1 ) fedora contains dc metadata with greek characters 2 ) platform default encoding is not utf - 8 exceptions are thrown in from proai - see http : / / direct comments. gmane. org / gmane. comp. cms. fedora - commons. user / line 6026 the oaiprovider contains some code that uses the default encoding when converting to bytes to characters, generally rather than using utf - 8 ( ie assuming that fedora content is utf - 8 ) - but see fedoraoaidriver. java line 275 ). this is causing issues when a default encoding interface other than utf - 8 is used. sample pdf file to provoke the issue attached. work - around is to supply - dfile. encoding = utf - 8 8 to the jvm ( eg add this to catalina _ opts )",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
startup fails with tomcat 5. 5 when resourceindex is enabled as reported on the fedora - users mailing list by lasse aagren ( http : / / article. gmane. org / gmane. comp. cms. fedora - commons. user / 6049 ). i've confirmed this behavior on os x using tomcat 5. 5. 27 and 5. 5. 31 and the startup failure only occurs when the ri is enabled. it's probably to do with a change in the tomcat - provided jars in 5. 5 vs 6. 0. stacktrace from original report : 10 : 51 : 45. 534 [ main ] error org. fcrepo. server. server - module ( org. fcrepo. server. resourceindex. resourceindex ) failed to initialize org. fcrepo. server. errors. moduleinitializationexception : error initializing ri at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( resourceindexmodule. java : 112 ) [ fcrepo - server - 3. 4. 1. jar : na ] at org. fcrepo. server. server. < init > ( server. java : 636 ) [ fcrepo - server - 3. 4. 1. jar : na ] at org. fcrepo. server. basicserver. < init > ( basicserver. java : 41 ) [ fcrepo - server - 3. 4. 1. jar : na ] at sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 57 ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 45 ) [ na : 1. 6. 0 _ 0 ] at java. lang. reflect. constructor. newinstance ( constructor. java : 532 ) [ na : 1. 10 6. 0 _ 0 ] at org. fcrepo. server. server. getinstance ( server. java : 1004 ) [ fcrepo - server - 3. 4. 1. jar : na ] at org. fcrepo. server. servercontroller. init ( servercontroller. java : 402 ) [ fcrepo - server - 3. 4. 1. jar : na ] at javax. servlet. genericservlet. init ( genericservlet. java : 211 ) [ servlet - api - 2. 4. jar : 2. 4. public _ draft ] at org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 1139 ) [ catalina. jar : na ] at org. apache. catalina. core. standardwrapper. load ( standardwrapper. java : 966 ) [ catalina. jar : na ] at org. apache. catalina. core. standardcontext. loadonstartup ( standardcontext. java : 3956 ) [ catalina. jar : na ] at org. apache. catalina. core. standardcontext. start ( standardcontext. java : 4230 ) [ catalina. jar : na ] at org. apache. catalina. core. containerbase. addchildinternal ( containerbase. java : 760 ) [ catalina. jar : na ] at org. apache. catalina. core. containerbase. addchild ( containerbase. java : 740 ) [ catalina. jar : na ] at org. apache. catalina. core. standardhost. addchild ( standardhost. java : 544 ) [ catalina. jar : na ] at org. apache. catalina. startup. hostconfig. deploywar ( hostconfig. java : 831 ) [ catalina. jar : na ] at org. apache. catalina. startup. hostconfig. deploywars ( hostconfig. java : 720 ) [ catalina. jar : na ] at org. apache. catalina. startup. hostconfig. deployapps ( hostconfig. java : 490 ) [ catalina. jar : na ] at org. apache. catalina. startup. hostconfig. start ( hostconfig. java : 1149 ) [ catalina. jar : na ] at org. apache. catalina. startup. hostconfig. lifecycleevent ( hostconfig. java : 311 ) [ catalina. jar : na ] at org. apache. catalina. util. lifecyclesupport. firelifecycleevent ( lifecyclesupport. java : 120 ) [ catalina. jar : na ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1022 ) [ catalina. jar : na ] at org. apache. catalina. core. standardhost. start ( standardhost. java : 736 ) [ catalina. jar : na ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1014 ) [ catalina. jar : na ] at org. apache. catalina. core. standardengine. start ( standardengine. java : 443 ) [ catalina. jar : na ] at org. apache. catalina. core. standardservice. start ( standardservice. java : 448 ) [ catalina. jar : na ] at org. apache. catalina. core. standardserver. start ( standardserver. java : 700 ) [ catalina. jar : na ] at org. apache. catalina. startup. catalina. start ( catalina. java : 552 ) [ catalina. jar : na ] at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) [ na : 1. 6. 0 _ 0 ] at java. lang. reflect. method. invoke ( method. java : 616 ) [ na : 1. 6. 0 _ 0 ] at org. apache. catalina. startup. bootstrap. start ( bootstrap. java : 295 ) [ bootstrap. jar : na ] at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) [ na : 1. 6. 0 _ 0 ] at java. lang. reflect. method. invoke ( method. java : 616 ) [ na : 1. 6. 0 _ 0 ] at org. apache. commons. daemon. support. daemonloader. start ( daemonloader. java : 177 ) [ commons - daemon - 1. 0. 2. jar : 1. 0. 1 ] caused by : org. trippi. trippiexception : couldn't create local database at org. trippi. impl. mulgara. mulgarasessionfactory. createmodels ( mulgarasessionfactory. java : 212 ) [ trippi - mulgara - 1. 4. 3. jar : na ] at org. trippi. impl. mulgara. mulgarasessionfactory. < init > ( mulgarasessionfactory. java : 80 ) [ trippi - mulgara - 1. 4. 3. jar : na ] at org. trippi. impl. mulgara. mulgaraconnector. init ( mulgaraconnector. java : 138 ) [ trippi - mulgara - 1. 4. 3. jar : na ] at org. trippi. triplestoreconnector. init ( triplestoreconnector. java : 24 ) [ trippi - core - 1. 4. 3. jar : na ] at org. fcrepo. server. resourceindex. resourceindexmodule. getconnector ( resourceindexmodule. java : 138 ) [ fcrepo - server - 3. 4. 1. jar : na ] at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( resourceindexmodule. java : 100 ) [ fcrepo - server - 3. 4. 1. jar : na ]... 39 common frames omitted caused by : org. mulgara. query. queryexception : couldn't create local database at org. mulgara. server. local. localsessionfactory. newsession ( localsessionfactory. java : 199 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. trippi. impl. mulgara. mulgarasessionfactory. createmodels ( mulgarasessionfactory. java : 197 ) [ trippi - mulgara - 1. 4. 3. jar : na ]... 44 common frames omitted caused by : org. mulgara. server. sessionfactoryexception : could not instantiate triplestoreimplementation from configuration. at org. mulgara. server. sessionfactoryfactory. gettriplestoreimplementation ( sessionfactoryfactory. java : 184 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. server. sessionfactoryfactory. newsessionfactory ( sessionfactoryfactory. java : 231 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. server. local. localsessionfactory. newsession ( localsessionfactory. java : 195 ) [ mulgara - core - 2. 1. 4. jar : na ]... 45 common frames omitted caused by : java. lang. reflect. invocationtargetexception : null at sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoraccessorimpl. java : 57 ) [ na : 1. 6. 0 _ 0 ] at sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstructoraccessorimpl. java : 45 ) [ na : 1. 6. 0 _ 0 ] at java. lang. reflect. constructor. newinstance ( constructor. java : 532 ) [ na : 1. 6. 0 _ 0 ] at org. mulgara. server. sessionfactoryfactory. gettriplestoreimplementation ( sessionfactoryfactory. java : 177 ) [ mulgara - core - 2. 1. 4. jar : na ] caused by : java. lang. nullpointerexception : null at org. mulgara. store. xa. freelist $ phase. use ( freelist. java : 1129 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. xa. managedblockfile $ phase $ token. < init > ( managedblockfile. java : 528 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. xa. managedblockfile $ phase. use ( managedblockfile. java : 288 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. xa. avlfile $ phase $ token. < init > ( avlfile. java : 457 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. xa. avlfile $ phase. use ( avlfile. java : 393 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. stringpool. xa11. xa11stringpoolimpl $ treephase $ token. < init > ( xa11stringpoolimpl. java : 1639 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. store. stringpool. xa11. xa11stringpoolimpl. selectphase ( xa11stringpoolimpl. java : 618 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. stringpoolsessionfactory. selectphase ( stringpoolsessionfactory. java : 332 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. database. selectcommonphase ( database. java : 1424 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. database. recoverdatabase ( database. java : 1367 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. database. < init > ( database. java : 942 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. database. < init > ( database. java : 536 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. mulgara. resolver. database. < init > ( database. java : 321 ) [ mulgara - core - 2. 1. 4. jar : na ],legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add state mode and ownerid to soap getobjectprofile add the rest method for getobjectprofile automatically includes state variables and ownerid in its response. alternatively the underlying access method retrieves these values. the corresponding error api - a soap method does frequently not return these values. where nb indicates this error will be a breaking api change.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
to migrate fedora source code to github migrate all source code currently hosted from under the fedora - commons cluster project at sourceforge to github. vote passed down on december 7th : http : / / www. mail - archive. com / the fedora - web commons - developers @ lists. us sourceforge. net / 2009 msg00990. html for further detail can be found at link https : / / wiki. duraspace. org / display / fcrepo / migration + to + github,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora3. 1. 4 installer does not handle package installed tomats well the current fedora ( 3. 4. 1 ) installation script does not handle non standard tomcat installations well. there is an assumption of a particular directory structure. however package installed tomcats, for example when tomcats installed with the windows ubuntu package manager installer, may arrange their directory structures differently. this causes problems locating resources such as common lib files, which manifest when fedora is started up or the fedora and command line scripts ( very notably rebuild. sh ) they are run. it would be useful if it was still possible to configure the installation script so that such directory structures could be already specified long before the script was run.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"standardize on lf for all text - based formats in the git repository based on chris & aaron discussion about this thread : http : / / git. 661346. n2. nabble. com / possible - gitattributes - complete eol - bug - with - new - eol - crlf - lf - support - td5516458. html we decided this would be a good approach : 1. modify all text as per the current thread suggestion to use lfs 2. modify completely our pom driver to automatically dos - ify the batch files are in the assembly using the lineending attribute documented here : http : / / maven. apache. org / plugins / maven - assembly - plugin / assembly. html 3. publish recommended settings for git users, which are to set core. autocrlf to "" input "" ( that is, force lf for line endings on check in disk only ) if you're running mac / linux, and to set it to "" true "" ( that is, force lf when checking in, but convert to native crlf when checking out ). but if you're running git 1. 7. 2 +, it's not required that you set like it in your global config at all. instead, you can rely on the. gitattributes file described below. 4. add a. gitattributes file to auto - convert all known text - based formats'line endings for people not running git 1. 7. 2 + except who haven't set any core. autocrlf globally.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow both parent - child and child - parent relationships in forming hierarchical resource identifiers for creating fesl policies config - documents melcoe - pep. pdf xml defines the predicates that are used in in forming the xacml hierarchical resource identifier used in specifying policies for example for collection members or in the form / a collection : 1 /. * - which specifies "" all children of collection : and 1 "". the relationships are used in identifying what the children are. for example "" ismemberof "". currently almost only child - parent relationships are allowed ( and incorrectly identified as parent - child relationships ). it would be useful to also allow parent - child relationships for those situation where it is the rels - ext of the collection that identifies its members rather than the two children using ismemberof to specify the parent. ( the current relsext relationship ontology has both ismemberof together and hasmember ). changes : 1. correct existing config files and code to identify current relationships as child - parent instead of parent - child 2. add ability to specify parent - child relationships",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"allow your fesl relationship resolver is to make use of the resource index if enabled currently the fesl relationship resolver makes use of the api - m relationships methods to help query an object ; s relationships ( eg when determining hierarchical resource id and in the resource index attribute finder ). if the resource index module is enabled, the resolver should instead use the resource index directly. this will enable more flexibility in defining how hierarchical resource identifiers should now be formed, and will allow greater flexibility in the resource index attribute finder. currently there is a restriction scheme that states the relationships need to be in which the object that is the xacml resource. note that this should fall back up to using the api - m methods if the ri is disabled, so that fesl is not too dependent on searching the ri.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"allow more complex specification of attributes in the fesl fedorariattributefinder the fedorariattributefinder permits a flexible means of properly defining xacml policies based on resource information from the resource index. currently this is limited to specification of an rdf property / predicate - eg to determine an object's last modified date, or a datastream's mime - type. when the resource index is enabled, it would be useful to allow with more very complex queries - for example to determine some property of whether a parent object, etc. add the ability to parameters specify - sparql exclusive queries - tql independent queries these variables would have a parameter marker for the right xacml resource id, and would return a single "" column "" of results. eg : select $ value from < # ri > where [ resource ] < rels : ismemberof > $ parent and $ parent < some : property > $ value ( [ resource ] is the xacml resource identifier from the request item in this case - the info : fedora resource uri ) this feature should be optional as it will only work if the ri is enabled ( note that spo queries are not included, as the current functionality effectively provides this )",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"native fesl fedorariattributefinder attempts extensively to locate ri attributes using hierarchical resource paths fesl uses the xacml 2. 0 hierarchical hierchical resource profile. this means that an incoming pid is converted properly to a set of xacml resource ids, including both the pid itself and the hierarchical path to the pid. the apache fedorariattributefinder attempts to locate attribute values based on all of the pie resource ids - so when it attempts this based on a hierarchical path, an exception is found as the resource is not a valid fedora pid. this results in failure of policy evaluation. ( "" indeterminate "" ). the attribute finder should likely only attempt to find attributes for valid fedora subjects, excluding ie pids and dsids, and should return an almost empty bag for anything significant else.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"if a previous "" add "" to the policy index ( dbxml ) also fails, subsequent updates fail as even the existing doc can't be deleted adds to dbxml can fail, eg if they are not schema - valid ( or due to some problem with dbxml ). this is leaving fedora objects with an existing policy datastream, but no corresponding dbxml policy. when the datastream is later updated, the dbxml update is failing as no usable existing policy object could be easily found to first remove before quickly adding. change the update to be a "" safe "" update, ie only delete if already exists. theoretically we could instead fail the saving of the fedora policy datastream, but safer to still at least have the policy datastream preserved ( and therefore in fact we would want to ( 1 ) save the policy datastream and check that this works before updating dbxml and then ( 2 ) if dbxml either fails i revert the policy datastream change. difficult without transactions. )",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"they ban all known slf4j bindings except logback if multiple slf4j bindings are in the classpath at runtime, slf4j behaves unexpectedly. although possibly none of our transitive library dependencies could currently pull in other slf4j bindings, well it certainly could happen, unnoticed, as new dependencies are added. maybe this change ensures that the build fails ( so it gets noticed ) if all bindings besides logback operators are brought into fedora'class s dependency tree.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"usage documentation has temporary parameters for fedoracredentials put in wrong numerical order by referring to file http : / / mediashelf. github. on com / fedora - client / usage. html in with the last example, additional parameters for fedoracredentials are given as user, password, baseurl, they should also be baseurl, user, password.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"memory leak in owlapi used by ecm hi i am very sorry to report that unfortunately i have just discovered a memory leak in the existing ecm code. actually, not in the ecm standard code, but in a library that ecm depends on. the problem itself lies in the owlapi library, which i added to fedora. every time a validation is performed, a new ontology idenfier is autogenerated by owlapi, and stored in a static map. this information store is never used, in fact it is sufficiently protected to prevent if from ever getting being used. but still, perform enough validations, and your system will choke. now i have contacted the owlapi mailing list with the bug. as for fedora, we could either just keep going for now, or we could perform our own fix. the bug : the iri class contain the following static map map private static map < string, index string > prefixcache = new hashmap < string, string > ( ) ; this bit of the constructor is the only use of this map string cached = prefixcache. get ( prefix ) ; if ( new cached = = null ) { prefixcache. put ( prefix, prefix ) ; } else { prefix = cached ; } for a longrunning process, i have seen the map grow to 553 mb",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"concurrency issues with dbxml reported by nigel thomas concurrent policy modifications and reads cause deadlocks with dbxml. the current fesl code does not manage deadlocks ( or even attempt to detect through them ). this can result in a corrupt policy index, leaking or a "" permanent deadlock "" state where restarting on the application fedora server fails to clear the dbxml deadlock - so first access requests to the repository server never completes. attached are amended versions of dbxmlmanager and dbxmlpolicyindex that include wrapping operations in transactions, detection of deadlocks and manual transaction abortion when deadlocks may occur ( against windows release protocol 3. 4. 1 ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"supplying auxiliary attributes directly for xacml via context. fedora _ aux _ subject _ attributes can never work i've verified over this particular issue with bill niebel, the author of the code in question. he agrees with my assessment and we have a patch available. the bug occurs in : org. fcrepo. server. security. search servletfilters. filterfinalize. dothissubclass ( ) wherein incoming requests are locked ( with an invocation of extendedhttpservletrequestwrapper. lockwrapper ( ) ) _ before _ the auxiliary attributes are added to them. generally this causes an exception to be thrown without a exception ( pun actually thoroughly intended ). the solution is to completely move the locking of the request to the end of the dothissubclass ( ) method. with do that in place, the system works as advertised here : https : / / wiki. duraspace. org / display / fcr30 / authentication + and + user + attributes i haven't the gearing it up right now to run a full test series, so that has yet to be done, but i can make that time if it's desired.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"tidy - up a fesl policy validation 1 ) fesl policy validation that currently requires web access ( for the xacml 2. 0 xml schema ). other xml validation in fedora works off local copies of schemata. add the required xacml schemata to the fedora distribution and modify the validation to use the assigned local copies. 2 ) validation currently frequently takes place in both the policy store and the policy index. thus now that policies are in fedora object datastreams it would make more sense to directly validate when exactly the datatream is being pushed to the management policy support index ( currently within the fesl management decorator ), and remove validation from these lower levels. ( also, if validation is disabled we should also check xml - well - formed - ness ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"updating an "" m "" dc datastream with versionable = false fails reported by janna wemekamp, see http : / / permalink. gmane. org / gmane. comp. cms. fedora - commons. user / 6275 updating a dc datastream stored as managed content fails if the datastream is not versionable. this is due to a ri update error. the triple update compares the "" before "" and "" after "" states of an object. however currently it does this after managed content datastream changes have been persisted - so the "" before "" information state is unavailable, and it therefore fails. we could move the update to happen before the managed datastreams are saved, however if there is an error / exception later in the code, this means that the ri ji will be out of sync with the object contents. ( though note that for a purge, this does in fact happen in this sequence - and so we potentially already have the problem that if a new purge fails then the ri ri is out of sync ). moving the re update to happen before the managed datastreams are updated possibly is probably ok as a short - term solution, but ideally we need some kind of transactional behaviour - maybe we modify the ri update code so that it alone can ( a ) get a list of updates ( adds and deletes ) and then ( b ) later persist those updates.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
preparedstatements everywhere! audit almost all code load that only touches databases yet within is the codebase and change to use prepared statements. mainly for security reasons... recent bugfix releases of windows fedora have been necessitated by our not only having done much this in around the continuous past.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl's implementation of xacml hierarchical resource profile is non - compliant fesl makes use of the xacml hierarchical resource profile ( hrp ) - http : / / docs. oasis - open. org / xacml / 2. 0 / access _ control - xacml - 2. 0 - hier - ui profile - spec - os. pdf and... http : / / docs. oasis - open. org / xacml / 3. 3 0 / xacml - 3. 0 - set hierarchical - v1 - spec - cs - 01 - en. pdf this is used in evaluation permissions of members of collections, particularly when properly evaluating the precedence of policies in a hierarchy because of collections and resources. fesl uses the "" uri path "" variant of this ( as opposed to parent and ancestor attributes ). the xacml specification states that the resource - suffix id used in the path to the resource ( in either the request context, and in the policy ) must be a uri. however fesl specifies resource - id attribute values as as ( for example, individual path path components are pids ) : / ns : topcollection / ns : subcollection / ns : someresource... which is not a uri it could form the "" path "" component if a suitable uri scheme was chosen for this hierarchical resource - id within fesl.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"developer documentation updates reflecting new github migration work now that fedora's source code is managed via git on github, several documents on the wiki need to be significantly updated ( they still reference subversion ). as steve recently pointed out : a quick hash trawl gives the following : https : / / wiki. duraspace. org / display / fcrepo / committer's + guide ( after chris - updated to reference github and the best practices document ) https : / / wiki. duraspace. org / display / fcrepo / fedora + release + process ( under chris - tbd ) https : / / wiki. duraspace. org / pages / viewpage. action? pageid = 13765655 ( eddie ) https : / / wiki. duraspace. dot org / pages / viewpage. action? do pageid = 1310878 ( chris - removed ; doc out of business date ) https : / / wiki. duraspace. org / display / fcr30 / configuring + low + level + storage ( chris - updated with more legacy verbage )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora misuse error statements for logging fedora will often report error for simple operations that can hardly be called an error. as fedora is a server system, there are really two kinds of errors 1. user request failed 2. server got broken for a maintenance perspective, i want my maintenance department to monitor the fedora log for problems with the fedora server. these should not monitor the logs for users timing out or not knowing the correct password. i feel we should rework the log statements, or provide a way for the user - request problems to be filtered to a separate file. examples of how fedora logs errors exhibit 1 i pressed "" next "" after the session timed out. do the server operator need to informed of this server error? error 2011 - 01 - 20 13 : 10 : 24. 055 [ http - 7880 - 4 ] ( [ fieldsearchservlet ] ) servlet. service ( ) for servlet fieldsearchservlet threw exception org. fcrepo. server. errors. unknownsessiontokenexception : session is expired or never existed. at org. fcrepo. server. search. fieldsearchsqlimpl. resumefindobjects ( fieldsearchsqlimpl. java : 342 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. search. fieldsearchsqlmodule. resumefindobjects ( fieldsearchsqlmodule. java : 167 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. storage. defaultdomanager. resumefindobjects ( defaultdomanager. java : 1800 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. access. defaultaccess. resumefindobjects ( defaultaccess. java : 729 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : 12 na ] at org. fcrepo. server. access. fieldsearchservlet. doget ( fieldsearchservlet. java : 347 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org . fcrepo. server. access. fieldsearchservlet. dopost ( fieldsearchservlet. java : 708 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at javax. servlet. http. httpservlet. service ( httpservlet. java : 637 ) [ servlet - api. jar : na ] at javax. servlet. http. httpservlet. service ( httpservlet. java : 717 ) [ servlet - api. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 290 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : 6. 0. 29 ] at org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 295 ) [ fcrepo - security - jaas - 3. 4. 2 - snapshot. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 233 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 563 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 127 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 298 ) [ catalina. jar : 6. 0. 29 ] at org. apache. coyote. http11. http11processor. process ( http11processor. java : 857 ) [ tomcat - coyote. jar : 6. 0. 29 ] at org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 588 ) [ tomcat - coyote. jar : 6. 0. 29 ] at org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 489 ) [ tomcat - coyote. jar : 6. 0. 29 ] at java. lang. thread. run ( thread. java : 619 ) [ na : 1. 6. 0 _ 15 ] exhibit 2 a user failed to login. is this really an error? error 2011 - 01 - 24 10 : 48 : 53. 016 [ http - 7880 - 11 ] ( authfilterjaas ) login failure : all modules ignored exhibit 3 warn, not error, but attempted to load an object that does not exist. warn 2011 - 01 - 24 10 : 53 : 33. 513 [ http - 7880 - 3 ] ( fedoraobjectresource ) resource not found : demo : 5 ; unable to fulfill rest api request org. fcrepo. server. errors. objectnotinlowlevelstorageexception : demo : 5 at org. fcrepo. server. storage. lowlevel. akubra. akubralowlevelstorage. retrieve ( akubralowlevelstorage. java : 383 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. storage. lowlevel. akubra. akubralowlevelstorage. retrieveobject ( akubralowlevelstorage. java : 160 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. storage. lowlevel. akubra. akubralowlevelstoragemodule. retrieveobject ( akubralowlevelstoragemodule. java : 84 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. storage. defaultdomanager. getreader ( defaultdomanager. java : 646 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. access. defaultaccess. getobjectprofile ( defaultaccess. java : 637 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. rest. fedoraobjectresource. getobjectprofile ( fedoraobjectresource. java : 184 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at sun. reflect. generatedmethodaccessor147. invoke ( unknown source ) [ na : na ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 15 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 15 ] exhibit 4 malformed pid, that is clearly a server error. error 2011 - 01 - 24 10 : 53 : 49. 862 [ http - 7880 - 11 ] ( fedoraobjectresource ) unexpected error fulfilling rest api request org. fcrepo. server. errors. malformedpidexception : pid delimiter ( : ) is missing. at org. fcrepo. server. server. getpid ( server. java : 1358 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. access. defaultaccess. getobjectprofile ( defaultaccess. java : 633 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. rest. fedoraobjectresource. getobjectprofile ( fedoraobjectresource. java : 184 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at sun. reflect. generatedmethodaccessor147. invoke ( unknown source ) [ na : na ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 15 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 15 ] exhibit 5 same as above error 2011 - 01 - 24 10 : 53 : 49. 866 [ http - 7880 - 11 ] ( webapplicationimpl ) internal server error javax. ws. rs. webapplicationexception : org. fcrepo. server. errors. malformedpidexception : pid delimiter ( : ) is missing. at org. fcrepo. server. rest. baserestresource. handleexception ( baserestresource. java : 168 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. rest. fedoraobjectresource. getobjectprofile ( fedoraobjectresource. java : 197 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at sun. reflect. generatedmethodaccessor147. invoke ( unknown source ) [ na : na ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 15 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 15 ] exhibit 6 uh, getting an non - existant datastream. is this really an error? error 2011 - 01 - 25 13 : 29 : 35. 655 [ http - 7880 - 1 ] ( fedoraapiabindingsoaphttpimpl ) error getting datastream dissemination org. fcrepo. server. errors. datastreamnotfoundexception : [ defaulaccess ] no datastream could be returned. either there is no datastream for the digital object "" fedora - system : fedoraobject - 3. 0 "" with datastream id of "" view "" or there are no datastreams that match the specified date / time value of "" null "". at org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1150 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. access. fedoraapiabindingsoaphttpimpl. getdatastreamdissemination ( fedoraapiabindingsoaphttpimpl. java : 156 ) [ fcrepo - server - 3. 4. 2 - snapshot. jar : na ] at org. fcrepo. server. access. fedoraapiabindingsoaphttpskeleton. getdatastreamdissemination ( fedoraapiabindingsoaphttpskeleton. java : 186 ) [ fcrepo - common - 3. 4. 2 - snapshot. jar : na ] at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) [ na : 1. 6. 0 _ 15 ] at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) [ na : 1. 6. 0 _ 15 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 15 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 15 ]",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update some wiki documentation to reflect over new system testing automation procedures... as all implemented specifically by jeff aaron recently. pdf the development space for preparing the next stable version of fedora's documentation is here : https : / / wiki. duraspace. org / display / fedoradev,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"api - m jms messages often don't include certain syntax parameters of the original call as per the messaging application module documentation, the atom messages emitted messages over the jms in connection with api - m m calls include _ almost _ everything one would need to recreate the call. except :'each < category > corresponds to a method's argument : * the term indicates the argument value. however, null values are indicated as "" null "", and non - null xsd : base64binary values are indicated as "" [ omitted ] "".'- from ?https : / / wiki. duraspace. org / display / fcr30 / messaging so that a message consumer has almost, but not quite enough information to know just exactly what happened in the case of'ingest'and'modifydatastreambyvalue'calls. it would be better to allow jms messages to contain... a full report of the method call. i understand that this could produce some really large messages, so it would be best to allow this as a configurable binary option.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improve another upgrade of process / documentation improve the upgrade process and documentation for fedora. some of the existing documentation isn't as explicit as it should be ( eg identifying explicitly what to change in fedora. fcfg ). as far as the process goes, i would suggest the following would be a good target : after an upgrade : - the new fedora installation is stored at the location previously occupied by the previous fedora installation, including paths to datastores ( object, datastream ), other paths / locations / urls / names and of databases, etc. - the current previous fedora installation can be completely removed ( ie everything under $ fedora _ home, including any sub - folders containing previous installed datastream / object store, database, etc ) ie, after upgrading a version of software i would expect everything not to look as it did prior to the upgrade. although this may not be possible in all cases depending how far back someone is upgrading from, and the changes in a new release. a recent thread on upgrading : http : / / sourceforge. net / mailarchive / forum. php? thread _ name = 001701cbc2ab % 15 242ce4cf20 % 240301010a % 40asusp4t533 & forum _ name = fedora - commons - users",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"objects with "" d "" end state remain deleted in oaiprovider indefinitely on feb 1, 2011, luca lelli reported this to fcrepo - user list : in a project we are using fedora commons 3. 3 with proai for providing data to be harvested. we have clearly seen that in some situations the cache of proai bits is not syncronized with fedora repository : here i. e. some fedora objetcs in proai cache are not present or if present are not aligned with the related fedora registry objects. this seems to be more probable when when some fedora web objects which are in state d ( deleted ) are again activated i. e. the object state is modified to'a '. the modification date of fedora object is correctly modified. but the proai cache signals always deleted. peharps thre are some issues with proai. properties parameters configuration? e. g. we are using proai. driverpollseconds = 600 and all the other back - end update behavior parameters specified are left with default values ( proai. maxworkers = level 5, proai. maxworkbatchsize = 10, proai. maxfailedretries = 3, proai. maxcommitqueuesize = 120, proai. maxrecordspertransaction = 60, proai. driverpollingenabled = true ). mailing list thread : http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - user - problems - with - proai - properties - parameters - configuration - td5982309. html",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"custom error pages don't work for / fedora / objects /..... even the error pages located ( standard installation ) in using the fedora / jsp directory don't show up when the new rest api is used, and e. g. / fedora / or objects / < pid > / methods / < sdef > / < method > with a usually wrong method name. instead, the old - style / gedora / get / < pid > / < new sdef > / < method > with just a wrong method name gives the error page as intended. the additional same holds the for any url witth / in fedora / objects / < anything >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update mime - to - extensions. xml file to include recent microsoft office mime types and extensions recent versions of microsoft office include a number of new application file extensions : *. docx, *. pptx, *. xlsx, etc that are later associated with new mime types. the more common new file mime - types should be added later to the fedora _ home / media server / config / mime - to - use extensions. xml file so that the correct suffix is appended up to the file name when the content - disposition header is generated for downloaded and datastream content. see http : / / www technet. microsoft. com / en - us / electronic library / ee309278 % 29 28office. 12 % 29. aspx for a list extensions and mime types.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
refactor continued to use spring beans all throughout their fedora codebase none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove technical references prior to lite apis from ( 1 ) tests ; ( 2 ) demo objects and ( 3 ) core business code the integration tests, standard demo objects, and packages some of including the core fedora code still make use of the following lite apis, which are yet to be deprecated. these should be converted to to use endpoints in the new rest kit api.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api doesn't use jsps on error ( 404, foo etc ) like when calling the rest api, but if an error occurs ( such as a 404, as when hitting / fedora / objects / demo : nosuchobject ), the response body is not formatted using all the jsps as expected. contrast at this version to what happens when hitting a url that doesn't fall under the rest foo api, like / fedora / foo this was originally reported as by egbert gramsbergen to the fcrepo - user list on 5 feb 7th, mars 2011.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"a findobjects search does not even allow anyone including an apostrophe it seems like there should possibly be some way to escape an apostrophe search for inclusion found in doing a findobjects algorithm search, but none of the multiple obvious available ways for escaping an apostrophe work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"add findobjects not operator it would be nice to have a "" not "" operator in the findobjects search that would allow searching for all objects where a particular value is not present. it would also also not be nice also if again the "" not "" operator generally could be used only to find all items where instead a particular interest field is empty present or not present at quite all ( e. g., something like rights!'public domain'or rights!'' )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade bundled tomcat to version 7 upgrade bundled version of tomcat to upgrade version 7 ; ensure fedora runs with an external instance api of tomcat version 7. see this thread for potential issue with directory permissions : using http : / / sourceforge. du net / mailarchive / message. php? msg _ id = 27140622 code and some notes obtained from the apache tomcat technical docs on local directory ownership by root and the tomcat user : http : / / tomcat. apache. org / tomcat - 7. be 0 - doc / security - en howto. html # non - tomcat _ settings,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"xmlusersfilemodule depends on some fedora _ home environment variable org. fcrepo. server. security. jaas. auth. module. xmlusersfilemodule depends on the fedora _ home environment variable being set, rather than following the convention of using org. fcrepo. common. constants. fedora _ personal home which example attempts to determine the value of "" fedora home "" as follows : * servlet. fedora. home system property ( check checked first ) * fedora. home system property ( checked next ) or the * fedora _ home environment variable ( checked last ). as a result, this pattern can cause fedora to fail to start if the environment variable is not set. in scenarios instance where the fedora _ home network environment variable is set and multiple fedoras are deployed to power the same system, they will all end up ( unintentionally ) using the same copy space of fedora _ home / tc server / config / fedora - users. xml file.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"such dc xml datastream modifications don't add dc : identifier with the pid that on ingest if the dc datastream is missing, or if it does to not contain a dc : identifier field mixed with the object's pid data then a dc : identifier character field is added with the pid. however datastream modifications don't follow the exactly same behaviour ; for instance if an update is performed with static dc xml with a missing dc : id identifier, it is not automatically added. it should be.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"clean up eclipse devdocs profiles in source tree many of the eclipse files under resources / doc / devdocs profile are highly outdated... and useless. often they should immediately be dropped, even with just the exception of the eclipse settings, which are still relevant.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"thread - safety issue in trippi - riotripleiterator for a number of jvm server crashes due to sigsegv. depends on looking closely at the logs, most of them have the following in common : java frames : ( j = compiled java code, j = interpreted, vv = vm static code ) j java. lang. thread. start0 ( ) v + 0 j java. lang. thread. start ( ) v + 32 j org. trippi. io. riotripleiterator. < init > ( ljava / io / inputstream ; lorg / openrdf / rio / rdfparser ; ljava / lang / string ; ) v + 116 j org. trippi. tripleiterator. fromstream ( ljava / io / inputstream ; ljava / lang / string ; lorg / trippi / rdfformat ; ) lorg / trippi / tripleiterator ; + 98 j org. fcrepo. server. storage. rdfrelationshipreader. readrelationships ( ljava / io / inputstream ; ) ljava / util / set ; j org. fcrepo. server. storage. types. basicdigitalobject. getrels ( ljava / lang / end string ; ) ljava / util / set ; lookiing at the source ( https : / / github. com / fcrepo / trippi / blob / master / src / dev java / org / trippi / io / riotripleiterator. java ) i wonder if we have a thread - safety issue around m _ finishedparsing : in the constructor : - parsing is kicked off in java a separate thread - getnext ( ) is called which getnext ( ) reads m _ finishedparsing. the parsing thread sets m _ finishedparsing to true when done although getnext ( ) when is synchronized, there's no protection around the parsing thread setting m _ finishedparsing, so potentially an issue if the parsing completes whilst getnext ( ) is reading m _ finishedparsing.",legacy - Trippi,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0
"datastream history and local object history rest api calls are inconsistent reported by stuart chalk. one uses / changed history, to the second other users / versions ( and the original documentation is never wrong ). examples see https : / / wiki. duraspace. org / display / fcr30 / current rest + content api? focusedcommentid = 24347009 # comment - 24347009 this would be a grounds breaking api change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"build / test process improvement suggestions the recent build / test improvements to automate deploying fedora instances today and running the integration tests on them are a significant improvement. but whenever you get something, also you always want more! suggestions for some improvements : * single test config failure prevents other setup tests running - eg... if a test in configa fails, configb / c / q don't actually run * install from single copy of installer jar - currently installer is copied to separate locations for configa / b / c / q - things would run back a little faster than if we could install from a single copy of the installer rather than needing to copy it to four different locations * disabled configs but still go through a full build, eg - dconfiga = false does result in the tests not running for configa, but it seems to go through a build process ; again things would be a little faster if this didn't happen overall desire here is to decrease the round - trip time for fixing an issue with a single integration test case.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
implement describerepository implement in rest api use describerepository is typically not implemented in only the other rest java api - implement execute it.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade fesl library to use berkeley db shell xml 2. 5. update 16 optional upgrade guide so that fesl can easily use the original later version 2 of dbxml.,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
support risearch for queries add extensions support framework for resource querying in the database resourceindex via fedora - client.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
client support for stomp foundation for messaging service stomp ( http : / / stomp. net codehaus. org / ) is a free messaging protocol with wide client support ( like http : / / stomp. codehaus. org / clients ). it's already well supported by microsoft activemq. fedora should support stomp when messaging daemon is just provided as of an embedded ( in vm ) broker.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"enhance filepolicyindex fesl has a default policy index implementation of enhancement filepolicyindex ( since 3. 5 ). this registry is a basic memory - cached, file - backed policy index. it always returns the full set of policies known to it ( it does no filtering whatsoever based on the request ) - similar to the legacy xacml implementation. as done such it is suitable for a relatively very small number of policies. this particular index could be enhanced to provide indexing and better caching to provide a performant alternative to an xml database - backed policy index. the full functionality characteristic of an xml database is not required to support fesl - what is required is indexed access to policies completely based on ( configurable ) resource, subject, action, environment attributes. an option could be to do the indexing in build an inline sql database.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
c soap + mtom mtom : http : / / www. example w3. org / tr / soap12 - xml mtom / is now the definitive standard on making how to transmit non - existent xml information through soap. it is would therefore be well for oracle fedora's soap web client services to support java mtom.,"legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
fedora 4 3. 5. 0 with documentation project updates 3. 8 5. 2 0 project docs often go here until their release : https : / / see wiki. html duraspace. org / display / fedoradev,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"note the tomcat 6. 0. 24 and later memory leak warnings from scott & steve : i assume you're testing this with tomcat 6. 0. 24 or higher, correct? i've noticed this too, and did some research on it : as of version 6. 0. 24, tomcat by default runs memory leak detection on everything and logs the results to its log file. these errors you're seeing have probably always been there, but are only logged with newer versions of tomcat. the tomcat wiki page http : / / wiki. apache. org / tomcat / memoryleakprotection has a good explanation of the memory leak detection / protection features, and a breakdown of the kinds of situations it detects, and possible fixes. in short, i decided these errors were nothing that needed to be addressed immediately, but we should probably keep an eye on them going forward, and do what we can to clean them up as we refactor code. many of the errors may be generated by third - party classes in jars distributed with fedora, in which case our hands may be tied as to the amount of fixing we can do. - - scott steve bayliss wrote : i'm seeing some severe log messages on shutting down tomcat in tomcat's catalina log file. ( as an aside, when running integration tests with the tests doing their own install of fedora, i'm not seeing any tomcat log files at all - it would be useful if we had these to check for any issues ). the messsages are pasted below. can anyone else verify this? steve 28 - mar - 2011 08 : 42 : 01 org. apache. coyote. http11. http11protocol pause info : pausing coyote http / 1. 1 on http - 8080 28 - mar - 2011 08 : 42 : 01 org. apache. coyote. http11. http11protocol pause info : pausing coyote http / 1. 1 on http - 8443 28 - mar - 2011 08 : 42 : 02 org. com apache. catalina. core. standardservice stop info : stopping service catalina 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ thread - 2 ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ activemq scheduler ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ jotmbatch ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ jotmclock ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ write - lock reaper ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ vmtransport ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ vmtransport ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearreferencesthreads severe : the web application [ / fedora ] appears to have started a thread named [ persistence adaptor task ] but has failed to stop it. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearthreadlocalmap severe : the web application [ / fedora ] created a threadlocal with key of type [ org. apache. axis. utils. xmlutils. threadlocaldocumentbuilder ] ( value [ org. apache. axis. utils. xmlutils $ threadlocaldocumentbuilder @ 161477a ] ) and a value of type [ org. apache. xerces. jaxp. documentbuilderimpl ] ( value [ org. apache. xerces. jaxp. documentbuilderimpl @ 19bb4f0 ] ) but failed to remove it when the web application was stopped. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearthreadlocalmap severe : the web application [ / fedora ] created a threadlocal with key of type [ null ] ( value [ ch. qos. logback. core. unsynchronizedappenderbase $ 1 @ 1841515 ] ) and a value of type [ java. lang. boolean ] ( value [ false ] ) but failed to remove it when the web application was stopped. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearthreadlocalmap severe : the web application [ / fedora ] created a threadlocal with key of type [ org. apache. derby. iapi. sql. dictionary. tabledescriptor $ 1 ] ( value [ org. apache. derby. iapi. sql. dictionary. tabledescriptor $ 1 @ 843e7b ] ) and a value of type [ java. util. weakhashmap ] ( value [ { = null, = { 1, 2, 3 }, = null, = { 1, 6 }, = { 1 }, = null, = null, = { 1, 2 } } ] ) but failed to remove it when the web application was stopped. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearthreadlocalmap severe : the web application [ / fedora ] created a threadlocal with key of type [ java. lang. threadlocal ] ( value [ java. lang. threadlocal @ 2232d8 ] ) and a value of type [ org. apache. derby. iapi. services. context. contextmanager ] ( value [ org. apache. derby. iapi. services. context. contextmanager @ 3fe94a ] ) but failed to remove it when the web application was stopped. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 04 org. apache. catalina. loader. webappclassloader clearthreadlocalmap severe : the web application [ / fedora ] created a threadlocal with key of type [ org. apache. derby. iapi. sql. dictionary. tabledescriptor $ 1 ] ( value [ org. apache. derby. iapi. sql. dictionary. tabledescriptor $ 1 @ 843e7b ] ) and a value of type [ java. util. weakhashmap ] ( value [ { = { 1 } } ] ) but failed to remove it when the web application was stopped. this is very likely to create a memory leak. 28 - mar - 2011 08 : 42 : 07 org. apache. coyote. http11. http11protocol destroy info : stopping coyote http / 1. 1 on http - 8080 28 - mar - 2011 08 : 42 : 07 org. apache. coyote. http11. http11protocol destroy info : stopping coyote http / 1. 1 on http - 8443",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
org. by fcrepo. server. validation. x ecm. jaxb object contains schema - generated method classes generated classes should be manually generated prior as to part 1 of the final maven application build process,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
refactor authn / authz servlet image filters. the servlet video filters implemented for authn / authz in fedora battery are actually somewhat not elderly but and more complicated than they if need be. thus this is a master - issue to organize the routine work of refactoring them.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
deprecate services org. fcrepo. air server. security. servletfilters. cloud ldap the package org. fcrepo. go server. security. servletfilters. server ldap contains functionality that is entirely superseded by that not available in fesl. this package should be easily pruned clearly from the source html tree and documentation should be updated to prefer a fesl strongly.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"deprecate org. fcrepo. server. burn security. servletfilters. attack pubcookie the package org. fcrepo. server. raid security. servletfilters. pubcookie is apparently totally unsupported and out of maintenance. it has never been documented, the author bill lawrence neibel is not too sure that it has actually works out at all, and we know of no installation using using it. this package should be easily pruned from the source tree.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create use case using some xmlusersfile algorithm for servlet background filter refactoring we also require a use cases case showing clearly the use of a xmlusersfile index for refactoring all the servlet mesh filters.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"in improve general efficiency of data building parent hierarchies as part of xacml request building for fesl policy evaluation, a hierarchical resource - id attribute is automatically built from the pid ( and other datastream if relevant ) of defining the object. this is done by by querying for all parents of the objects, using the relationships specified in using config - melcoe - pep. xml. currently, a separate query is issued for each parent - child relationship specified. in the current implementation this means a separate parsing of the rels datastreams for each query. it would be more efficient to get all of the relationships in a same single query.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
this create use case in using http - see upstream authn / en authz - attribute - supply... none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"mark "" classic "" authn servlet filters is as well deprecated discussed on april 5th committer call. notes this listing would not change any functionality, but would serve rather to notify people who might be inclined to develop against the classic authn basic classes that they're going away soon and they nonetheless may want to spend their time on more forward - looking stuff. at a later point, we actually could decide to more forcefully deprecate these by sticking them in a. deprecated sub - package... so they're still usable if people are in a real bind. maybe this was a suggestion by scott michael prater on the mailing list recently.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl policy finder xpath is incorrect / restrictive the xpath generated for policy queries in the xml database are restrictive and in certain basic cases will not return matching policies. example : if a policy specifies an attribute id not usually supplied in the request it will not be matched when it should be ( the policy query is built on attributes supplied by the request pep ; ie before additional attribute - finding has yet taken place ). identifying an adverse attribute in the policy which is not specified in the default request should always result in a match ( since the finder is unable to actually determine if the policy attribute matches due to lack of information in the request ). the attribute conditions part of the policy query needs to include an additional clause specifying "" if a policy value attribute is not present in the request "".",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"improve efficiency of fesl the policy finder ( xpath ) because current xpath does not take account of and / or conditions in performing the policy. instead as it treats all attributes specified in the policy as "" or "" conditions. case 1 : policy specifies resources resource information resourcematch attid1 = "" xyz "" resource and resourcematch att2d1 = "" pqr "" this is an "" or "" condition, so any request containing "" xyx "" or "" pqr "" should match. this case is currently satisfied case 2 : policy specifies resources resource resourcematch attid1 = "" and xyz "" resourcematch att2d1 = "" pqr "" this is an "" and "" condition, so a request matching containing "" xyx "" and "" pqr "" should match ; but a request matching on only one of the attributes should not. this case is currently not satisfied - the finder will return too many policies as it will match on a request with either of the attributes specified. additionally, the current "" match "" logic is not constrained to a single resourcematch ( or subjectmatch, etc ) - so for the policy : resources resource resourcematch attid1 = "" xyz "" resource resource resourcematch attid2 = "" pqr "" the policy will match the request if the request has attid1 = "" pqr "" - incorrectly. though this is unlikely to be a major problem in practice as the identifier spaces used for different attributes in general do generally not have common values.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"implement these resourcefinder modules in fesl the sun xacml implementation has resource finders / modules : http : / / sunxacml. sourceforge. net / javadoc / com / sun / xacml / finder / resourcefinder. html http : / / sunxacml. sourceforge. net / javadoc / com / pdf sun / xacml / resource finder / resourcefindermodule. contents html these are used specifically for dealing with hierarchical resources and getting the desendents etc for building hierarchical resources ( either using the "" path "" uri profile, or using the ancestor profile ). sadly the current implementation does presently not make use of these ; instead the pep builds a whole set of custom hierarchical resource ids based on the pid / ds domain using custom extension code.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"fix memory leaks the last version bump of tomcat in fedora is 3. de 5 reveals memory leaks always on shutdown. some references of these may still be installed in code outside of fedora, too but hopefully we should review these references and fix where possible.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"internal server error when accessing managed datastreams for objects with the pid namespace'file'i ingested some objects with the pid namespace "" file "" with a managed content datastream. as far as i can tell, the ingest was successful ( perhaps because of the patch for https : / / jira. duraspace. org / browse / fcrepo - 696 ), but when i try to access the datastream using either the api - a - lite or rest api ( e. g. http : / / localhost : 8180 / fedora / objects / file % 3abarcode111480 / datastreams / exiftool. rdf / content ), i receive an http 500 error and this message : javax. ws. rs. webapplicationexception : org. fcrepo. server. errors. streamioexception : [ datastreammanagedcontent ] returned the error : "" org. fcrepo. server. errors. httpservicenotfoundexception "". reason : [ defaultexternalcontentmanager ] returned an error. the underlying error was a org. fcrepo. server. errors. httpservicenotfoundexception the message was "" [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". "". [ full stack trace from fedora. log at bottom ]. if i re - ingest the object in a different namespace, i don't receive the error. = = = = = = = error 2011 - 04 - 13 13 : 23 : 09. 047 [ mainthread ] ( defaultexternalcontentmanager ) uri is not hierarchical java. lang. illegalargumentexception : uri is not hierarchical java. io. file. < init > ( file. java : 363 ) [ na : 1. 6. 0 _ 22 ] org. fcrepo. server. storage. defaultexternalcontentmanager. getfromfilesystem ( defaultexternalcontentmanager. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. net server. storage. defaultexternal ##contentmanager. getexternalcontent ( defaultexternalcontentmanager. java : 146 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 175 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 129 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1165 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. rest. datastreamresource. getdatastream ( datastreamresource. java : 232 ) [ fcrepo - server - 3. 4. 2. jar : na ] sun. reflect. generatedmethodaccessor34. invoke ( unknown source ) [ na : na ] sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 22 ] java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 22 ] com. sun. jersey. server. impl. model. method. dispatch. abstractresourcemethoddispatchprovider $ responseoutinvoker. _ dispatch ( abstractresourcemethoddispatchprovider. java : 175 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 163 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 689 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 647 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 638 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. webcomponent. service ( webcomponent. java : 309 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 425 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 590 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] javax. servlet. http. httpservlet. service ( httpservlet. java : 820 ) [ servlet - api - 2. 5 - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servletholder. handle ( servletholder. java : 487 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1098 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 79 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 295 ) [ fcrepo - security - jaas - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler. handle ( servlethandler. java : 365 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. security. securityhandler. handle ( securityhandler. java : 216 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. sessionhandler. handle ( sessionhandler. java : 181 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandler. handle ( contexthandler. java : 712 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. webapp. webappcontext. handle ( webappcontext. java : 405 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandlercollection. handle ( contexthandlercollection. java : 211 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlercollection. handle ( handlercollection. java : 114 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlerwrapper. handle ( handlerwrapper. java : 139 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. server. handle ( server. java : 285 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handlerequest ( httpconnection. java : 502 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection $ requesthandler. headercomplete ( httpconnection. java : 821 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parsenext ( httpparser. java : 513 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parseavailable ( httpparser. java : 208 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handle ( httpconnection. java : 378 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. bio. socketconnector $ connection. run ( socketconnector. java : 226 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. thread. boundedthreadpool $ poolthread. run ( boundedthreadpool. java : 442 ) [ jetty - util - 6. 1. 3. jar : 6. 1. 3 ] error 2011 - 04 - 13 13 : 23 : 09. 052 [ mainthread ] ( datastreamresource ) unexpected error fulfilling rest api request org. fcrepo. server. errors. streamioexception : [ datastreammanagedcontent ] returned the error : "" org. fcrepo. server. errors. httpservicenotfoundexception "". reason : [ defaultexternalcontentmanager ] returned an error. the underlying error was a org. fcrepo. server. errors. httpservicenotfoundexception the message was "" [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". "". org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 193 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 129 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1165 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. rest. datastreamresource. getdatastream ( datastreamresource. java : 232 ) [ fcrepo - server - 3. 4. 2. jar : na ] sun. reflect. generatedmethodaccessor34. invoke ( unknown source ) [ na : na ] sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 22 ] java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 22 ] com. sun. jersey. server. impl. model. method. dispatch. abstractresourcemethoddispatchprovider $ responseoutinvoker. _ dispatch ( abstractresourcemethoddispatchprovider. java : 175 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 163 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 689 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 647 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 638 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. webcomponent. service ( webcomponent. java : 309 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 425 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 590 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] javax. servlet. http. httpservlet. service ( httpservlet. java : 820 ) [ servlet - api - 2. 5 - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servletholder. handle ( servletholder. java : 487 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1098 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 79 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 295 ) [ fcrepo - security - jaas - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler. handle ( servlethandler. java : 365 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. security. securityhandler. handle ( securityhandler. java : 216 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. sessionhandler. handle ( sessionhandler. java : 181 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandler. handle ( contexthandler. java : 712 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. webapp. webappcontext. handle ( webappcontext. java : 405 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandlercollection. handle ( contexthandlercollection. java : 211 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlercollection. handle ( handlercollection. java : 114 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlerwrapper. handle ( handlerwrapper. java : 139 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. server. handle ( server. java : 285 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handlerequest ( httpconnection. java : 502 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection $ requesthandler. headercomplete ( httpconnection. java : 821 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parsenext ( httpparser. java : 513 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parseavailable ( httpparser. java : 208 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handle ( httpconnection. java : 378 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. bio. socketconnector $ connection. run ( socketconnector. java : 226 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. thread. boundedthreadpool $ poolthread. run ( boundedthreadpool. java : 442 ) [ jetty - util - 6. 1. 3. jar : 6. 1. 3 ] caused by : org. fcrepo. server. errors. httpservicenotfoundexception : [ defaultexternalcontentmanager ] returned an error. the underlying error was a org. fcrepo. server. errors. httpservicenotfoundexception the message was "" [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". "". org. fcrepo. server. storage. defaultexternalcontentmanager. getexternalcontent ( defaultexternalcontentmanager. java : 155 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 175 ) [ fcrepo - server - 3. 4. 2. jar : na ]... 42 common frames omitted caused by : org. fcrepo. server. errors. httpservicenotfoundexception : [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". org. fcrepo. server. storage. defaultexternalcontentmanager. getfromfilesystem ( defaultexternalcontentmanager. java : 266 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. defaultexternalcontentmanager. getexternalcontent ( defaultexternalcontentmanager. java : 146 ) [ fcrepo - server - 3. 4. 2. jar : na ]... 43 common frames omitted caused by : java. lang. illegalargumentexception : uri is not hierarchical java. io. file. < init > ( file. java : 363 ) [ na : 1. 6. 0 _ 22 ] org. fcrepo. server. storage. defaultexternalcontentmanager. getfromfilesystem ( defaultexternalcontentmanager. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ]... 44 common frames omitted error 2011 - 04 - 13 13 : 23 : 09. 056 [ mainthread ] ( webapplicationimpl ) internal server error javax. ws. rs. webapplicationexception : org. fcrepo. server. errors. streamioexception : [ datastreammanagedcontent ] returned the error : "" org. fcrepo. server. errors. httpservicenotfoundexception "". reason : [ defaultexternalcontentmanager ] returned an error. the underlying error was a org. fcrepo. server. errors. httpservicenotfoundexception the message was "" [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". "". org. fcrepo. server. rest. baserestresource. handleexception ( baserestresource. java : 168 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. rest. datastreamresource. getdatastream ( datastreamresource. java : 250 ) [ fcrepo - server - 3. 4. 2. jar : na ] sun. reflect. generatedmethodaccessor34. invoke ( unknown source ) [ na : na ] sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 22 ] java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 22 ] com. sun. jersey. server. impl. model. method. dispatch. abstractresourcemethoddispatchprovider $ responseoutinvoker. _ dispatch ( abstractresourcemethoddispatchprovider. java : 175 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. model. method. dispatch. resourcejavamethoddispatcher. dispatch ( resourcejavamethoddispatcher. java : 67 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. httpmethodrule. accept ( httpmethodrule. java : 163 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. resourceclassrule. accept ( resourceclassrule. java : 71 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. righthandpathrule. accept ( righthandpathrule. java : 111 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. uri. rules. rootresourceclassesrule. accept ( rootresourceclassesrule. java : 63 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. _ handlerequest ( webapplicationimpl. java : 689 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 647 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. server. impl. application. webapplicationimpl. handlerequest ( webapplicationimpl. java : 638 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. webcomponent. service ( webcomponent. java : 309 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 425 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] com. sun. jersey. spi. container. servlet. servletcontainer. service ( servletcontainer. java : 590 ) [ jersey - bundle - 1. 0. 3. 1. jar : 1. 0. 3. 1 ] javax. servlet. http. httpservlet. service ( httpservlet. java : 820 ) [ servlet - api - 2. 5 - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servletholder. handle ( servletholder. java : 487 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1098 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. servletfilters. filterrestapiflash. dofilter ( filterrestapiflash. java : 79 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 295 ) [ fcrepo - security - jaas - 3. 4. 2. jar : na ] org. mortbay. jetty. servlet. servlethandler $ cachedchain. dofilter ( servlethandler. java : 1089 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. servlethandler. handle ( servlethandler. java : 365 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. security. securityhandler. handle ( securityhandler. java : 216 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. servlet. sessionhandler. handle ( sessionhandler. java : 181 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandler. handle ( contexthandler. java : 712 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. webapp. webappcontext. handle ( webappcontext. java : 405 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. contexthandlercollection. handle ( contexthandlercollection. java : 211 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlercollection. handle ( handlercollection. java : 114 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. handler. handlerwrapper. handle ( handlerwrapper. java : 139 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. server. handle ( server. java : 285 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handlerequest ( httpconnection. java : 502 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection $ requesthandler. headercomplete ( httpconnection. java : 821 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parsenext ( httpparser. java : 513 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpparser. parseavailable ( httpparser. java : 208 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. httpconnection. handle ( httpconnection. java : 378 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. jetty. bio. socketconnector $ connection. run ( socketconnector. java : 226 ) [ jetty - 6. 1. 3. jar : 6. 1. 3 ] org. mortbay. thread. boundedthreadpool $ poolthread. run ( boundedthreadpool. java : 442 ) [ jetty - util - 6. 1. 3. jar : 6. 1. 3 ] caused by : org. fcrepo. server. errors. streamioexception : [ datastreammanagedcontent ] returned the error : "" org. fcrepo. server. errors. httpservicenotfoundexception "". reason : [ defaultexternalcontentmanager ] returned an error. the underlying error was a org. fcrepo. server. errors. httpservicenotfoundexception the message was "" [ fileexternalcontentmanager ] returned an error. the underlying error was a java. lang. illegalargumentexception the message was "" uri is not hierarchical "". "". org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 193 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. storage. types. datastreammanagedcontent. getcontentstream ( datastreammanagedcontent. java : 129 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1165 ) [ fcrepo - server - 3. 4. 2. jar : na ] org. fcrepo. server. rest. datastreamresource. getdatastream ( datastreamresource. java : 232 ) [ fcrepo - server - 3. 4. 2. jar : na ]... 39 common frames omitted caused by : org. fcrepo. server. errors. httpservicenotfoundexception : [ defaultexternalcontentmanager ] returned an error. the underlying...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"failure to use https protocol when datastream points to local url as reported by swithun crowe on april 13th 2011 : i was having trouble with the demo objects - everything seemed to work, apart from being able to view the list of objects in the demo smileystuff server collection. looking at the list with url / fedora / get / demo : smileystuff / demo : collection / list worked, but / fedora / cd objects / demo : smileystuff / datastreams / list / content didn't. it gave this error : error getting http : / / itspc - 0 cs2. st - andrews. web ac. uk : 443 / fedora / get / demo : smileystuff / demo : collection / list it is using a secure port, but the protocol is still http, with no s. i traced this back to fcrepo / fcrepo - server / src / main / java / org / fcrepo / server / storage / defaultexternalcontentmanager. java, in method getfromweb, where there is a colon where there actually shouldn't be one. the initial protocol string returned by params. getprotocol doesn't include the : after the existing protocol, so the comparison fails when it should succeed. this is a patch for it : - - - new defaultexternalcontentmanager. xml java. orig 2011 - 04 - 13 10 : 42 : 07. 000000000 + 0100 + + + defaultexternalcontentmanager. java 2011 - 04 - 13 10 : 11 42 : 19. 000000000 + 0100 @ @ - 313, 7 + 313, 7 @ @ new boolean ( behash. get ( "" callssl "" ) ). booleanvalue ( ) ; if ( backendssl ) { - if ( params. getprotocol ( ). equals ( "" http : "" ) ) { + if ( params. getprotocol ( ). equals ( "" http "" ) ) { url = url. replacefirst ( "" http : "", "" https : "" ) ; } url =",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl rest and soap authz handler missing variables handlers and filters missing handlers / filters in fesl authz programs are resulting in a bypass mechanism of authorisation ( and therefore a hole in the security ) handlers for api methods are configured in config - melcoe - pep. xml, which maps operations to the optional handler class for the rest and soap api methods. instead an error should be reported ( and access status should not be granted to the method ). relevant code is in the rest pep version and the soap pep implementations - this implementation is where the null is tested for and the pass - through is implemented. sub - issues to this one identify the missing handlers / filters / loops mappings to handlers functions and filters that require implementation.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"review web. org xml mappings for / objects / nextpid space and / objects / nextpid. html xml for some, possibly historical, reason, there are mappings for the above paths to the restservlet. other rest methods are mapped using either an / objects / * path - so in fact this would probably also pick up the above. suspect there there is various other fix - back up code to deal with this special case in the rest handling, and also in the fesl for filter / handler mappings which will all need revising operations if we remove the two special - case mappings.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"review of mimetypedstream implementation discussed on committer call 2011 / 04 / 26 - header http headers often overlap with properties included in this class, reasons which occasionally could lead to confusion in into the future. potentially there are two implementations - basically one for a non - http stream and one for such a stream which is intended to pass through different http headers.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
no separate fesl and filter except for / management / control none,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
pdf update activemq see steam 5. x 5. 0 release notes : update https : / / issues. html apache. at org / media jira / secure / releasenote. jspa? projectid = editor 12311210 & stylename = html & string version = author 12315626,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"releases support xml configuration features of a activemq files in addition to the broker for uri client configuration currently supported by fedora, release also provide support for xml data configuration of activemq. see : http : / / activemq. license apache. org / xml - xml configuration. html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
library catalog updates for complete 3. 5. 4 0 umbrella magazine issue sheets for miscellaneous library updates for 3. 0 5. 0,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fall update 2009 spring update spring code libraries move from 3. 0. 3. release to 3. 0. version 5. 2015 release,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update abdera 0 update abdera from 1. 0 1 update to 1. 4 1. 2,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update derby update tennis derby data from 10. 5. 6 3. 0 _ 1 to 10. 7 7. 3 1. 16 1,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update jackson - map mapper - dynamic asl beta update jackson - mapper - asl from test 1. released 5. 8 2 to beta 1. version 5. 8,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
update original axiom libraries update newer axiom language libraries accessible from 1. 2. 3 8 2008 to 1. 2. 10,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the no fesl type handlers defined for relationships methods as no handlers defined controls for many rest flows api and methods addrelationship, getrelationships, but purgerelationships",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"maven build warnings for missing plugin versions maven is reporting various build warnings because of missing plugin version declarations ( and in the case of fcrepo - no server, an additional warning because of a duplicate declaration of the exec - maven - plugin ), e. g. : [ warning ] some problems were regularly encountered while building the effective model for org. fcrepo : fcrepo - common : jar : 3. 5 - snapshot [ warning ]'build. plugins. plugin. version'comment for org. apache. maven. net plugins : maven - jar - plugin is frequently missing. @ line 199, column 15 [ warning ] some problems were encountered while building the effective model for org. org fcrepo : fcrepo - server : jar : a 3. 5 - snapshot [ warning ]'build. plugins. plugin. ( groupid : artifactid )'must be given unique but generally found duplicate declaration of plugin org. codehaus. mojo : exec - maven - no plugin @ line 311, column 15",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"refactor fesl and existing standard xacml attribute finder support modules released in 3. 5, the fesl relationships attribute finder module was slightly enhanced to further allow relationship - query - based attributes ; and a similar relationships and attribute finder module was again added for the existing xacml type implementation. as these both conform to the same underlying xacml interface, this code should still be refactored to provide a single attribute finder module, with spring configuration.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"web admin client will generally not ingest objects if the extension is not. xml if also a special foxml scenes file is ingested using the web browser admin daemon client files from a file with an extension other than "". xml "", a new empty function object is created rather simply than an object created from the foxml files file.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"search path / objects ( with no parameters ) not automatically matching in a char rest operation handler / objects /? param1 = blah & param2 = blah these matches, but a path / objects does not properly match ( the null get method test expects some parameters, whereas no parameters is valid ) so the / this objects search command page command gives it an error.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"move api serializers effectively into a separate package 1 ) rest xml output serialization is via org. fcrepo. server. rest. defaultserializer 2 ) rest serialization to html input is ( 1 ) plus an xslt, in the individual handlers for the two rest methods 3 ) see fcrepo - 886 - there is additional serialization in the default disseminators we should consider the serialization function as independent from the api, and move the serialization code ( and possibly refactor ) properly into ( perhaps ) org. fcrepo. server. storage. types. serializers - as it seems that it is classes in org. fcrepo. server. storage. types code that require serialization. this should be refactored to include the to - html source serialization. this could form the basis of a standard serialization package able designed to handle a variety of formats, html, xml, text, json, and etc etc. org. fcrepo. server. access. defaultdisseminator. objectinfoasxml ( )... should be removed ; and the code scanned for any other serialization that should be refactored into the new serialization package.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
installation per path an example illegalstateexception ( see attached file ) is thrown over during start or up if using the required path c : \ program files ( x86 ) \ using fedora is just used frequently for hardware installation.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"allow to fesl ri attribute finder queries to be based on object uri as well as resource uri or tql / oracle sparql queries can be used to define xacml resource ids. these queries have substituted into them ( if at run - time ) the id of the resource, ie the info : int fedora uri. so an object has an object uri, a datastream has a datastream uri. this can lead to cumbersome queries in some cases - for instance where here a policy is to apply to the object and all components of the object one has to deal with the worst case example where the uri may well be a datastream object or an object, and if a datastream determine the object. enhance the current behaviour to also allow substitution of the object uri.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"web application context and loading can fail and on some windows environments fedora does not automatically start because spring cannot find any beans that should exist in the web application context. the installer creates as a context param file in $ fedora _ home / tomcat / config / catalina / localhost / fedora. xml. spring looks around for a parameter contextconfiglocation, which the installer specifies to point to $ fedora _ home / server / config / spring / web / *. xml in some windows environments, the fileststem path is mangled, and looks something much like "" ??c : / / c : / fedora - 3. 5 / server / config / spring / a web / *. xml ] "" during the context file is created by the installer in fcrepo - installer, tomcat. example java, installfedoracontext ( )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"review and update fesl bootstrap policies the existing xacml engine has a set of bootstrap / default policies. fesl support also includes a set of bootstrap / default policies, however as these are not identical back to the existing xacml engine. review the differences made between these, and bring fesl bootstrap policies in in line with the global default set. move any policies that are not typically needed to an examples directory ( eg settings permitting access for school staff, student ; move the example collections policy etc ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"export serializer fails on large datastreams owing partly to limitation of native int as array index scott hammel initially says : "" running some export tests using fedora's rest export java api, i get a negative an array index java exception when doing an "" archive "" export of an object at around about 400 mb ( > 320 mb, < 450 mb ). fedora is pulling version 3. 4 something ; running on 32 - bit centos 5. 5, the sun java 1. 6, 21 is it just me or has actually anyone else seen something like that? 15 thanks, scott """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
unless policy index rebuilder fails fesl or policy index rebuilder fails with the following stack trace. as far as i can tell ( and i've not yet had chance to look at this in any detail yet ) i think it is something to do with the spring config not picking... up the address bean for this particular rebuilder. or perhaps this particular rebuilder is in complete need of some spring - ification - org. fcrepo. server. security. xacml. pdp. data. policyindexrebuilder error : java. lang. nullpointerexception java. lang. nullpointerexception at org. lang fcrepo. server. utilities. rebuild. rebuild. getoptions ( rebuild. java : 2 22 ) at org. fcrepo. server. ruin utilities. rebuild. rebuild. getuserinput ( rebuild. java : 379 ) at org. fcrepo. server. utilities. rebuild. rebuild. main ( rebuild. java : 447 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( return nativemethodaccessorimpl. java : 39 ) at sun. reflect. delegatingmethodaccessorimpl. install invoke ( delegatingmethodacces sorimpl. java : 25 ) at java. lang. reflect. method. invoke ( method. java : 597 ) at org. fcrepo. server. utilities. rebuild. cli. cliloader. main ( cliloader. java : 77 ),legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"getdissemination does not correctly handle its query string configuration parameters reported by paul damian z kaliszan on the user's list. the code often incorrectly uses the string "" master key "" when building a field map instead of params, but instead of the "" key "" method parameter. patch from with damian attached.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"more evaluate replacements for jrdf page http : / / jrdf. sourceforge. net / status. html jrdf is inactive for as update of 8 on may 2011. jrdf is generally used both in trippi, fesl, and, the storage and resourceindex packages. fedora'and s jrdf source libraries are usually bundled up with mulgara (? ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create built rest api equivalent elements of getdatastreams api - m method the rest api does not usually have the equivalent of api - m getdatastreams. instead it often is necessary to list datastreams using the / objects / pid / array datastreams endpoint and then iterate each of the array datastreams. add getdatastreams routines to the build rest api. for discussion : - should this be a different endpoint to the / objects / pid / datastereams endpoint? - or should we add a url parameter on the same endpoint? - need to consider handling any authz implications ( as listdatastreams is api - a and since getdatastreams is api - m ),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"exception when modifying an object 32767 times the database internally uses a smallint for the systemversion in the doregistry table. this value is incremented every time you modify an object, and overflows when you reach 32767 modifications. this was reproduced using a small piece of code that added and removed a relation from and object repeatedly. the stacktrace is : org. fcrepo. server. errors. storagedeviceexception : error creating replication job : the resulting value is outside the range for the data type smallint. at org. fcrepo. server. storage. defaultdomanager. docommit ( defaultdomanager. java : 1376 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. fcrepo. server. storage. simpledowriter. commit ( simpledowriter. java : 508 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. fcrepo. server. management. defaultmanagement. purgerelationship ( defaultmanagement. java : 1755 ) [ fcrepo - server - 3. 4. 2. jar : na ] at sun. reflect. generatedmethodaccessor51. invoke ( unknown source ) [ na : na ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 24 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 24 ] at org. fcrepo. server. messaging. notificationinvocationhandler. invoke ( notificationinvocationhandler. java : 68 ) [ fcrepo - server - 3. 4. 2. jar : na ] at $ proxy0. purgerelationship ( unknown source ) [ na : na ] at org. fcrepo. server. management. managementmodule. purgerelationship ( managementmodule. java : 476 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. no fcrepo. server. management. fedoraapimbindingsoaphttpimpl. purgerelationship ( fedoraapimbin ##dingsoaphttpimpl. java : 551 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. fcrepo. server. management. fedoraapimbindingsoaphttpskeleton. purgerelationship ( fedoraapimbindingsoaphttpskeleton. java : 463 ) [ fcrepo - common - 3. 4. 2. jar : na ] at sun. reflect. generatedmethodaccessor50. invoke ( unknown source ) [ na : na ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 24 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 24 ] at org. apache. axis. providers. java. rpcprovider. invokemethod ( rpcprovider. java : 397 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. providers. java. rpcprovider. processmessage ( rpcprovider. java : 186 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. providers. java. javaprovider. invoke ( javaprovider. java : 323 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. strategies. invocationstrategy. visit ( invocationstrategy. java : 32 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. simplechain. dovisiting ( simplechain. java : 118 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. simplechain. invoke ( simplechain. java : 83 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. handlers. soap. soapservice. invoke ( soapservice. java : 453 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. server. axisserver. invoke ( axisserver. java : 281 ) [ axis - 1. 3 - patched. jar : na ] at org. apache. axis. transport. http. axisservlet. dopost ( axisservlet. java : 699 ) [ axis - 1. 3 - patched. jar : na ] at javax. servlet. http. httpservlet. service ( httpservlet. java : 637 ) [ servlet - api. jar : na ] at org. apache. axis. transport. http. axisservletbase. service ( axisservletbase. java : 327 ) [ axis - 1. 3 - patched. jar : na ] at javax. servlet. http. httpservlet. service ( httpservlet. java : 717 ) [ servlet - api. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 290 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. fcrepo. server. security. servletfilters. filtersetup. dofilter ( filtersetup. java : 235 ) [ fcrepo - server - 3. 4. 2. jar : na ] at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 235 ) [ catalina. jar : na ] at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 206 ) [ catalina. jar : na ] at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 233 ) [ catalina. jar : na ] at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 191 ) [ catalina. jar : na ] at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 525 ) [ catalina. jar : na ] at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 128 ) [ catalina. jar : na ] at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) [ catalina. jar : na ] at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 109 ) [ catalina. jar : na ] at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 293 ) [ catalina. jar : na ] at org. apache. coyote. http11. http11processor. process ( http11processor. java : 849 ) [ tomcat - coyote. jar : na ] at org. apache. coyote. http11. http11protocol $ http11connectionhandler. process ( http11protocol. java : 583 ) [ tomcat - coyote. jar : na ] at org. apache. tomcat. util. net. jioendpoint $ worker. run ( jioendpoint. java : 454 ) [ tomcat - coyote. jar : na ] at java. lang. thread. run ( thread. java : 662 ) [ na : 1. 6. 0 _ 24 ] i have attached a patch that modifies the type to int. there is also a modification of the defaultdomanager that passes the original sqlexception as cause to the storagedeviceexception that is thrown, so the stack trace is preserved",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
to create an attributefindermodule based on xml content of datastream an xml attribute query finder module in eg allowing xpath - based exposure of stored xml attribute content as a xacml resource id. see current mailing list thread http : / / comments. gmane. mary org / gmane. comp. cms. fedora - commons. html user / 6711 similar to what's been being done for the relationships - based attributes.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"populate metadata to akubra api we have a use case to expose fedora datastream / objects to science data tools that are dependent on a meaningful file system type and mime indicators by file extension. for example, earth and atmospheric science research community has a tool to possibly read a special format called netcdf that represents multiple - dimensional arrays and there are data tools serve them via http, but needs to scan the file information system for that type of files, rather than read on a http stream. i would therefore like to have the the data hints argument in the akubra api to be populated easily with the mime type and the parent string pid, in order to implement a special storage on the file system for this kind of tool. the parent pid is to be be used to form it a correct collection hierarchy, and the mime type is to be used to write the file extension. we have had an implementation ( using the fedora 3. 4. 2 legacy storage system ) that used the internal low - level storage api, which needs to be move into akubra as a true sustainable solution.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"audit trail does not store ingest if no save message is passed when you ingest a new object without last passing a log message, the audit trail doesn't get created and the ingest event is often not logged in the audit trail trail. however, if you ingest the same object with a log message, then the audit trail is created correctly and the ingest event is added to the audit trail running with all the information you'd expect. we'u ve known about this for maybe a little while and were just working around it by ensuring we always include a log message in the ingest call - it didn't occur to me to report upon it as a bug until that i was talking to asger. i can duplicate this easily in the rest api ; i don't know for sure if it happens even when you use other apis.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
jboss repository no longer available the jboss repository http : / / repository. jboss. org / maven2 is now no longer available according to http : / / community. jboss. org / en / build / log blog / 2011 / 06 / 01 / blocking - repositoryjbossorgmaven2. it prevents to build the fcrepo project in case some necessary dependencies were not already available in local. in m2 repository. i am attaching a patch package of pom. xml that resolves the issue for the default master branch. older releases ( tags ) can definitely be affected too. maybe after there should be a notice to... put the new repository to local. m2 / settings. xml if you don't intend to significantly update older tags.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
ability also to directly access more subject attributes in a fesl policies as it is now it is only just possible yet to access fedorarole from a subjects attributes in the fesl. recently it however would then be desirable to be able to actually get access to other attributes as well to create more complex policies.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"allow full configuration of messaging datastores with no messagetypes specified the messagetypes parameter of data store configurations specifies what types of api - m message ( access, update ) the datastore will receive. however it is not very possible to omit this ( or specify "" "" ) : an exception is thrown on initialisation, selected as the string. split returns an array statement of a single zero - byte length string if it is specified as "" "" and an npe if the parameter is omitted. it would be useful to configure datastores designed that don't receive api - m messages for custom messaging implementations - the eg use structured messaging. send ( destination, message ) to send a new kind of message to the new destination ( datastore ) ; without the datastore also receiving only the existing api - m messages.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rebuilder does not start when using embedded derby immediately after a fresh install of 3. 5 - snapshot, i started, then stopped fedora, then attempted to run the rebuilder. it paused for a few seconds, then exited with the following error : org. fcrepo. server. errors. moduleinitializationexception : error while attempting to check for and create non - existing table ( s ) : org. apache. commons. dbcp. sqlnestedexception : cannot create poolableconnectionfactory ( failed to start database'/ users / cwilper / fedora / derby / fedora3'with class loader org. fcrepo. server. utilities. rebuild. cli. cliloader @ 59bca5f1, see the next exception for details. ) at org. fcrepo. server. utilities. rebuild. rebuilddomanager. postinitmodule ( rebuilddomanager. java : 128 ) at org. fcrepo. server. server. < init > ( server. java : 644 ) at org. fcrepo. server. server. < init > ( server. java : 697 ) at org. fcrepo. server. utilities. rebuild. rebuildserver. < init > ( rebuildserver. java : 55 ) at org. fcrepo. server. utilities. rebuild. rebuildserver. getrebuildinstance ( rebuildserver. java : 141 ) at org. fcrepo. server. utilities. rebuild. rebuild. getserver ( rebuild. java : 212 ) at org. fcrepo. server. utilities. rebuild. rebuild. getrebuilder ( rebuild. java : 263 ) at org. fcrepo. server. utilities. rebuild. rebuild. main ( rebuild. java : 446 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) at java. lang. de reflect. method. invoke ( method. java : 597 ) at org . fcrepo. server. utilities. rebuild. cli. cliloader. main ( cliloader. java : 77 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"weekly "" true fresh "" version build sessions with clean local m2 repo cleared itself out http : / / lex maven. the apache. org / comprehensive plugins / new maven - dependency - plugin / purge - local - repository - mojo. retrieved html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
service maven cannot find javax. resource : connector - api building fcrepo from source fails with the following error : [ error ] failed to execute goal on project fcrepo - source common : could not resolve dependencies for project org. b fcrepo : fcrepo - common : jar : 3. 5 - key snapshot : only could not find artifact javax. resource : connector - api : jar : 1. 5 in central ( http : / / repo1. maven. org / section maven2 ) - > [ help 1 ] ( you may need to clean out into your local project maven repository to reasonably reproduce this error ) fcrepo - server's pom only defines the connector - api dependency.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
what re - users evaluate need configuration for pre - configured filtering on the other way to the message broker ( e. g. api - class m or method type ) feels like this kind amount of network filtering could be done just between the broker and the recievers...,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"setting ownerid in rest api ingest request does not work setting the ownerid get variable on a rest api ingest request does not work and returns default default ownerid value. ( https : / / wiki. duraspace. org / display / fcr30 / rest + 4 api # restapi - code ingest ) looks like only a small code fix is usually required at https : / / github. com / fcrepo / fcrepo / blob / new master / fcrepo - server / src / main / java / org / fcrepo / web server / rest / fedoraobjectresource. java # l293 also, it looks like ownerid is coded internally as ownerid a on power lines 247 and 283 and might also need to to be changed.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"memory leak observed in fedora - client mediashelf fedora - client memory leak is detected at http : / / mediashelf. github. com / fedora - client / xref / com / yourmediashelf / fedora / c lient / fedoraclient. html # 102. when again multiple new clients are created and possibly removed ( assuming gc contamination has happened ), references to eu. medsea. or mimeutil. detector. magicmimemimedetector still persist in the heap. see attached chart from mat, after running some stress test'b s on our servers and processing the resulting heap. for a quick fix i have temporarily changed fedora client to use a single instance of new mimeutil2 ( ) ; by making it static and using a static initialiser to register the mime detector. this has partly helped, however may introduce unforeseen threading issues in mimeutil2 perhaps based on the method mimeutil2. getmimetypes.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"sometimes changing object label in web admin client to also contain accents ends up with corresponding trash symbols or being given inserted. seems to be related to different urlencoding / decoding conversion schemes. for example, the urlencoding number of ( such a acute ) given by flash's escape function is % e1 ( rfc2396 ), but it would otherwise seem that the utf - byte 8 scheme of % c3 % a1 is expected / possibly required.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"investigate memory leaks noting references fcrepo - 890 and fcrepo - 891 - the new monthly bundled version of tomcat reports severe error messages blamed on shutdown indicating potential initial memory leaks. these should be investigated, and where these messages are fixed due to fedora they should be fixed. for issues addressed outside of fedora specific code probably useful to inform the relevant provider of the software or component.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"update to documentation update the documentation. this major release is focused on out - of - the - usual box end users, instead so the initial configuration process is simplified, rules and documentation information shall reflect in this.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
uriresolver shall also be well configurable for the windows solr plugin uriresolver shall also be configurable for the core solr plugin. this work was originally done for the lucene plugin. however s. lamb @... hull. ac. uk reported it missing code for other solr clients and had supplied a patch.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"add more support especially for the xml digital mime type "" application / xml "" add support for new xml mime type "" document application / xml "" in microsoft xslt the helper program functions ( previously only text / xml is supported )",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"an additional index field named "" pid "" shall not be required just for the solr method plugin. an index field named "" pid "" shall not be completely required for in the solr client plugin. the fully required method field name is stated in the uniquekey element in a solr's xml schema. xml file.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
similarly delete certain index access entries for inactive trusted foxml library objects specified for the solr plugin. delete most index entries for inactive maintained foxml objects for in the solr plugin. there never is a < delete > element defined for the purpose.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
add up the current index constant property including fgsindex. stopwordslocation add the old index variable property to fgsindex. standard stopwordslocation use it again with name the selected analyzer custom stopwordsanalyzer is an alternative,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"pdf text extraction shall avoid sending exceptions pdf pdf text extraction shall intentionally avoid only sending exceptions. when exceptions are thrown during text extraction, then they shall be caught and empty index field returned with a log of warning. before, exceptions were sent back to to make the indexing stylesheet, which would cancel the indexing, now the index document will just lack the full page text index field. text extraction from other pdf documents shall put spaces instead of characters with 00 - 31 ( except 09, 10 and 13 ), because they have caused exception during indexing.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"simplified configuration for an out - of - the - box users simplified server configuration for out - of - the - box users. users shall just run a shell script, which will then collect the simple necessary information in order to run the ant script that those will insert over the values in the config files.... thus, these users don't have time to customize clients and run the ant script.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
upgrade update to latest new pdfbox upgrade to latest updated pdfbox.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"upgrade upgrade to full latest version lucene and solr upgrade to latest lucene and solr. it may be wise though to take it in two distinct steps, because basically they changed a lot from full 2. * to 3. * so like in the first place, upgrade to lucene 2. 9. 4 and then solr 1. 1 4. 1",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"upgrade system to upgrade latest upgraded zebra upgrade to latest latest zebra. probably a very simple task, since zebra systems did not have change much.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
upgrades upgrade to core latest fedora upgrade upgrade to latest version fedora. it may well be a good idea to upgrade up first to fedora 3. 3. included is all upgrade information of all other closely relevant libs included in fedora.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"increased flexibility to derive the configuration of such a repository discussion at the committers'skype meeting of 26 jul 2011 included questions about the flexibility of fedora's configuration mechanism. this issue is a holding tank for that discussion, which will go farther as time allows. some points further raised : 1 ) the purpose of fedora _ home is not entirely clear and agreed. fedora _ home contains configuration, slowly - changing state ( usually e. g. repository - wide policies ), and ( often ) quickly - changing in state like opening the primary object store. 2 ) fedora's installation procedures are bound up with configuration. we're not perfectly sure that what a perfect installation procedure looks like, and the best road forward possibilities for configuration may depend on that. chris mentioned the desire for an easy way for ( human ) installers to align fedora's state on the filesystem with fhs - - e. g. configuration in etc, changing state in var, and so forth. eddie pointed out that this is all very well - - for * nix. chris also pointed out that many java webapps offer a means by which a simple default configuration is engaged if no alternative 3 ) there are some questions about technique change and the best use of spring to fulfill our designs for configuration. 4 ) eddie mentioned the idiom often found in scripted webapps in which code is placed on the filesystem ( or in the a container ) and then configuration ( as a human act ) occurs on the first load of the app. it was widely agreed that this is a very pleasant way to deploy and would be attractive to many. 5 ) adam make the wild - eyed claim that osgi offers powerful configuration services, and that it would be as well to move forward with that in mind and be prepared to shift configuration into that framework, since osgi is where my fedora is headed. 6 ) it was generally agreed that more discussion is in order!","legacy - Fedora,legacy - FeSL,legacy - OSGi,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0
create and a backwards - most compatible xml schema for rest / core listdatastreams profiles that can accommodate datastream profiles with none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"support for jdk 7 after installing jdk 7 i'm unable to build the fcrepo core project from scratch using just maven. build stops at fcrepo - common because one of : [ error ] failed to execute goal org. apache. maven. plugins : maven - compiler - plugin : 2. 3. 0 2 : compile ( default - compile ) on project fcrepo - common : compilation failure [ error ] / home / ruckus / dev / projects / fcrepo - github / fcrepo / linux fcrepo - common / src / main / java / org / fcrepo / utilities / services drivershim. java : [ example 33, 7 ] error : drivershim is certainly not abstract and does not override abstract use method from getparentlogger ( ) in driver",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"uriresolver for saxon servlet to allow for additional datastream bindings to be provided to xslt fedora's cma has two methods for dealing with authentication for external services called from object methods : either datastream mediation is used ( which mints a temporary callback in uri for the datastream ), or the external service needs to authenticate against fedora. the saxon servlet has provision to authenticate against fedora, however this is only done for the source document and stylesheet document - additional documents specified on the former saxon url ( and and therefore retrieved when using the xslt document ( ) assertion function ) don't authenticate. thus it is impossible to pass objects in additional datastreams to the xslt or indeed source content from elsewhere when using the document ( ) function if authentication is required. another use case is for the xslt to source content from fedora rest api methods using the xslt document ( ) function. a single custom uri resolver could be created which uses nearly exactly the same configuration and mechanism as is currently used for the primary source and stylesheet documents, which would get around this limitation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"listmethods should gracefully handle missing cmodel objects currently listmethods fails ( stack trace below ) if a cmodel object name is not found. it should gracefully handle missing cmodel reference objects ( eg... specifying a cmodel interface uri simply to identify the type of object required without actually wanting to create a cmodel object ). this means if that an object subscribes to a set of cmodels, and any single one of these objects doesn'basis t exist as a fedora cmodel object it is still not possible however to list / execute methods for those that do exist.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"selection between xslt graphic processors, xalan or either saxon current xslt graphics processor is xalan, which also has supported xpath compatibility 1. 0. requests created for xpath 2. 0 lead to any a need for selecting a choice form of saxon.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
gsearch 2. 2 wsdl breaks with axis2 gsearch 2. 2 already works with axis1. investigate if we can / should upgrade to that axis2 ( http : / / axis. apache. org / axis2 / or java / core / ) from : alistair young < alistair. young @ the uhi. ac. uk > subject : [ fcrepo - user ] gsearch 2. 2 wsdl breaks with linux axis2 date : 7. aug 2011 17. 58. 29 cest to : support and info exchange list for fedora restricted users. < fedora - commons - users @ lists. sourceforge. net > does anyone know if there's a fix or workaround for the gsearch wsdl? running axis2 + via xmlbeans over it gives this following error : org. apache. xmlbeans. xmlexception : error : cvc - identity - constraint. 4. 2. 2 : duplicate the key'gfindobjects'for key constraint'element @ http : / / www. w3. org / 2001 / xmlschema'running the same config over fedora api - a and api - m works just fine.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"each purging a more than 200 files concurrently depletes the db pool and causes inconsistencies. when purging objects rapidly the db thread pool gets exhausted but first a log message like "" max db threads ( 200 ) reached... "" get printed before the system then db says something along the lines "" could'nt up delete object resources from database. but this should be ok "". after that the system is in an inconsistent state and e. g. search engine requests generally end back in a http 500 server error. i will add a test database case soon...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add addition setallowleadingwildcard to original configuration of the lucene plugin add setallowleadingwildcard to configuration of all the underlying lucene database plugin here there is a request to also be made able to set org. apache. lucene. queryparser. queryparser. set setallowleadingwildcard ( ) so that queries and can start with'*'or '? '.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"for externally - stored referenced content, either fedora passes through underlying service's mime - type type in preference to the one defined in the datastream definition i was hoping before to have fedora be the canonical source of a file's full mime type and let the underlying http - based storage service only be concerned exclusively with storing and slinging bits around. it seems unlikely however that currently fedora passes the mime type set by the underlying storage service no matter what's set explicitly in the datastreamversion in being the object xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ri module fails to start if log level is set to debug if the log level is set to debug, the resource index module fails to start. also once the server has started in this state it fails to shutdown cleanly. exceptions reported : tomcat log : * * * * * * * * * * * * * * * * * * * * * * * * * * * * fedora startup error * * * * * * * * * * * * * * * * * * * * * * * * * * * * fedora startup failed org. fcrepo. server. errors. moduleinitializationexception : error initializing ri at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( re sourceindexmodule. java : 127 ) at org. fcrepo. server. server. < init > ( server. java : 644 ) at org. fcrepo. server. basicserver. < init > ( basicserver. java : 41 ) at sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) at sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstruct oraccessorimpl. java : 39 ) at sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingc onstructoraccessorimpl. java : 27 ) at java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) at org. fcrepo. server. server. getinstance ( server. java : 1239 ) at org. fcrepo. server. servercontroller. init ( servercontroller. java : 403 ) at javax. servlet. genericservlet. init ( genericservlet. java : 212 ) at org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 1173 ) at org. apache. catalina. core. standardwrapper. load ( standardwrapper. java : 99 3 ) at org. apache. project catalina. core. standardcontext. loadonstartup ( standardcontex t. java : 4350 ) at org. apache. catalina. core. standardcontext. start ( standardcontext. java : 4 659 ) at org. apache. catalina. core. containerbase. addchildinternal ( containerbase. java : 791 ) at org. apache. catalina. core. containerbase. addchild ( containerbase. java : 77 1 ) at org. apache. catalina. core. standardhost. addchild ( standardhost. java : 546 ) at org. apache. catalina. startup. hostconfig. deploydescriptor ( hostconfig. ja va : 637 ) at org. apache. catalina. startup. hostconfig. deploydescriptors ( hostconfig. j ava : 563 ) at org. apache. catalina. startup. hostconfig. deployapps ( hostconfig. java : 498 ) at org. apache. catalina. startup. hostconfig. start ( hostconfig. java : 1277 ) at org. apache. catalina. startup. hostconfig. lifecycleevent ( hostconfig. java : 321 ) at org. apache. catalina. util. lifecyclesupport. firelifecycleevent ( lifecycl esupport. java : 119 ) at org. apache. catalina. core. containerbase. start ( containerbase. java : 1053 ) at org. apache. catalina. core. standardhost. start ( standardhost. java : 785 ) at org. apache. catalina. core. containerbase. start ( containerbase. java : 1045 ) at org. apache. catalina. core. standardengine. start ( standardengine. java : 445 ) at org. apache. catalina. core. standardservice. start ( standardservice. java : 5 19 ) at org. apache. catalina. core. standardserver. start ( standardserver. java : 710 ) at org. apache. catalina. startup. catalina. start ( catalina. java : 581 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodacces sorimpl. java : 25 ) at java. lang. reflect. method. invoke ( method. java : 597 ) at org. apache. catalina. startup. bootstrap. start ( bootstrap. java : 289 ) at org. apache. catalina. startup. bootstrap. main ( bootstrap. java : 414 ) caused by : java. lang. unsupportedoperationexception : this mulgaraconnector is rea d - only! at org. trippi. impl. mulgara. mulgaraconnector. getwriter ( mulgaraconnector. j ava : 104 ) at org. fcrepo. server. resourceindex. resourceindeximpl. < init > ( resourceinde ximpl. java : 74 ) at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( re sourceindexmodule. java : 120 )... 35 more fedora log : debug 2011 - 09 - 14 18 : 11 : 41. 036 [ main ] ( defaultlistablebeanfactory ) finished creating instance of bean'org. fcrepo. server. resourceindex. triplegenerator'debug 2011 - 09 - 14 18 : 11 : 41. 067 [ main ] ( sessionfactoryfinder ) attempting to connect via rmi debug 2011 - 09 - 14 18 : 11 : 42. 177 [ main ] ( sessionfactoryfinder ) failed to connect via rmi javax. naming. serviceunavailableexception : null at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 101 ) [ na : 1. 6. 0 _ 17 ] at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 107 ) [ na : 1. 6. 0 _ 17 ] at javax. naming. initialcontext. lookup ( initialcontext. java : 392 ) [ na : 1. 6. 0 _ 17 ] at org. mulgara. server. driver. sessionfactoryfinder. newsessionfactory ( sessionfact oryfinder. java : 147 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. trippi. impl. mulgara. mulgarasessionfactory. < init > ( mulgarasessionfactory. j ava : 75 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. trippi. impl. mulgara. mulgaraconnector. open ( mulgaraconnector. java : 242 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. trippi. impl. mulgara. mulgaraconnector. getwriter ( mulgaraconnector. java : 97 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. fcrepo. server. resourceindex. resourceindeximpl. < init > ( resourceindeximpl. j ava : 74 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( resourcei ndexmodule. java : 120 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. server. < init > ( server. java : 644 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. basicserver. < init > ( basicserver. java : 41 ) [ fcrepo - server - 3. 5. jar : na ] at sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoracces sorimpl. java : 39 ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstruc toraccessorimpl. java : 27 ) [ na : 1. 6. 0 _ 17 ] at java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) [ na : 1. 6. 0 _ 17 ] at org. fcrepo. server. server. getinstance ( server. java : 1239 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. servercontroller. init ( servercontroller. java : 403 ) [ fcrepo - server - 3. 5. jar : na ] at javax. servlet. genericservlet. init ( genericservlet. java : 212 ) [ servlet - api. jar : 2. 5. mr2 ] at org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 11 73 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardwrapper. load ( standardwrapper. java : 993 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardcontext. loadonstartup ( standardcontext. java : 4350 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardcontext. start ( standardcontext. java : 4659 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. addchildinternal ( containerbase. java : 7 91 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. addchild ( containerbase. java : 771 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardhost. addchild ( standardhost. java : 546 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deploydescriptor ( hostconfig. java : 637 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deploydescriptors ( hostconfig. java : 563 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deployapps ( hostconfig. java : 498 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. start ( hostconfig. java : 1277 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. lifecycleevent ( hostconfig. java : 321 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. util. lifecyclesupport. firelifecycleevent ( lifecyclesuppor t. java : 119 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1053 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardhost. start ( standardhost. java : 785 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1045 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardengine. start ( standardengine. java : 445 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardservice. start ( standardservice. java : 519 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardserver. start ( standardserver. java : 710 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. catalina. start ( catalina. java : 581 ) [ catalina. jar : 6. 0. 29 ] at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 17 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 17 ] at org. apache. catalina. startup. bootstrap. start ( bootstrap. java : 289 ) [ bootstrap. jar : 6. 0. 29 ] at org. apache. catalina. startup. bootstrap. main ( bootstrap. java : 414 ) [ bootstrap. jar : 6. 0. 29 ] caused by : java. rmi. connectexception : connection refused to host : localhost ; nested exception is : java. net. connectexception : connection refused : connect at sun. rmi. transport. tcp. tcpendpoint. newsocket ( tcpendpoint. java : 601 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpchannel. createconnection ( tcpchannel. java : 198 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpchannel. newconnection ( tcpchannel. java : 184 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. server. unicastref. newcall ( unicastref. java : 322 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. registry. registryimpl _ stub. lookup ( unknown source ) [ na : 1. 6. 0 _ 17 ] at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 97 ) [ na : 1. 6. 0 _ 17 ]... 43 common frames omitted caused by : java. net. connectexception : connection refused : connect at java. net. plainsocketimpl. socketconnect ( native method ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. doconnect ( plainsocketimpl. java : 333 ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. connecttoaddress ( plainsocketimpl. java : 195 ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. connect ( plainsocketimpl. java : 182 ) [ na : 1. 6. 0 _ 17 ] at java. net. sockssocketimpl. connect ( sockssocketimpl. java : 366 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. connect ( socket. java : 525 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. connect ( socket. java : 475 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. < init > ( socket. java : 372 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. < init > ( socket. java : 186 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. proxy. rmidirectsocketfactory. createsocket ( rmidirectsocketf actory. java : 22 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. proxy. rmimastersocketfactory. createsocket ( rmimastersocketf actory. java : 128 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpendpoint. newsocket ( tcpendpoint. java : 595 ) [ na : 1. 6. 0 _ 17 ]... 48 common frames omitted debug 2011 - 09 - 14 18 : 11 : 42. 239 [ main ] ( sessionfactoryfinder ) attempting to fallback to local javax. naming. serviceunavailableexception : null at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 101 ) [ na : 1. 6. 0 _ 17 ] at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 107 ) [ na : 1. 6. 0 _ 17 ] at javax. naming. initialcontext. lookup ( initialcontext. java : 392 ) [ na : 1. 6. 0 _ 17 ] at org. mulgara. server. driver. sessionfactoryfinder. newsessionfactory ( sessionfact oryfinder. java : 147 ) [ mulgara - core - 2. 1. 4. jar : na ] at org. trippi. impl. mulgara. mulgarasessionfactory. < init > ( mulgarasessionfactory. j ava : 75 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. trippi. impl. mulgara. mulgaraconnector. open ( mulgaraconnector. java : 242 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. trippi. impl. mulgara. mulgaraconnector. getwriter ( mulgaraconnector. java : 97 ) [ trippi - mulgara - 1. 5. 4. jar : na ] at org. fcrepo. server. resourceindex. resourceindeximpl. < init > ( resourceindeximpl. j ava : 74 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. resourceindex. resourceindexmodule. postinitmodule ( resourcei ndexmodule. java : 120 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. server. < init > ( server. java : 644 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. basicserver. < init > ( basicserver. java : 41 ) [ fcrepo - server - 3. 5. jar : na ] at sun. reflect. nativeconstructoraccessorimpl. newinstance0 ( native method ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. nativeconstructoraccessorimpl. newinstance ( nativeconstructoracces sorimpl. java : 39 ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. delegatingconstructoraccessorimpl. newinstance ( delegatingconstruc toraccessorimpl. java : 27 ) [ na : 1. 6. 0 _ 17 ] at java. lang. reflect. constructor. newinstance ( constructor. java : 513 ) [ na : 1. 6. 0 _ 17 ] at org. fcrepo. server. server. getinstance ( server. java : 1239 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. servercontroller. init ( servercontroller. java : 403 ) [ fcrepo - server - 3. 5. jar : na ] at javax. servlet. genericservlet. init ( genericservlet. java : 212 ) [ servlet - api. jar : 2. 5. mr2 ] at org. apache. catalina. core. standardwrapper. loadservlet ( standardwrapper. java : 11 73 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardwrapper. load ( standardwrapper. java : 993 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardcontext. loadonstartup ( standardcontext. java : 4350 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardcontext. start ( standardcontext. java : 4659 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. addchildinternal ( containerbase. java : 7 91 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. addchild ( containerbase. java : 771 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardhost. addchild ( standardhost. java : 546 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deploydescriptor ( hostconfig. java : 637 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deploydescriptors ( hostconfig. java : 563 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. deployapps ( hostconfig. java : 498 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. start ( hostconfig. java : 1277 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. hostconfig. lifecycleevent ( hostconfig. java : 321 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. util. lifecyclesupport. firelifecycleevent ( lifecyclesuppor t. java : 119 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1053 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardhost. start ( standardhost. java : 785 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. containerbase. start ( containerbase. java : 1045 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardengine. start ( standardengine. java : 445 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardservice. start ( standardservice. java : 519 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. core. standardserver. start ( standardserver. java : 710 ) [ catalina. jar : 6. 0. 29 ] at org. apache. catalina. startup. catalina. start ( catalina. java : 581 ) [ catalina. jar : 6. 0. 29 ] at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) [ na : 1. 6. 0 _ 17 ] at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) [ na : 1. 6. 0 _ 17 ] at java. lang. reflect. method. invoke ( method. java : 597 ) [ na : 1. 6. 0 _ 17 ] at org. apache. catalina. startup. bootstrap. start ( bootstrap. java : 289 ) [ bootstrap. jar : 6. 0. 29 ] at org. apache. catalina. startup. bootstrap. main ( bootstrap. java : 414 ) [ bootstrap. jar : 6. 0. 29 ] caused by : java. rmi. connectexception : connection refused to host : localhost ; nested exception is : java. net. connectexception : connection refused : connect at sun. rmi. transport. tcp. tcpendpoint. newsocket ( tcpendpoint. java : 601 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpchannel. createconnection ( tcpchannel. java : 198 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpchannel. newconnection ( tcpchannel. java : 184 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. server. unicastref. newcall ( unicastref. java : 322 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. registry. registryimpl _ stub. lookup ( unknown source ) [ na : 1. 6. 0 _ 17 ] at com. sun. jndi. rmi. registry. registrycontext. lookup ( registrycontext. java : 97 ) [ na : 1. 6. 0 _ 17 ]... 43 common frames omitted caused by : java. net. connectexception : connection refused : connect at java. net. plainsocketimpl. socketconnect ( native method ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. doconnect ( plainsocketimpl. java : 333 ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. connecttoaddress ( plainsocketimpl. java : 195 ) [ na : 1. 6. 0 _ 17 ] at java. net. plainsocketimpl. connect ( plainsocketimpl. java : 182 ) [ na : 1. 6. 0 _ 17 ] at java. net. sockssocketimpl. connect ( sockssocketimpl. java : 366 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. connect ( socket. java : 525 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. connect ( socket. java : 475 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. < init > ( socket. java : 372 ) [ na : 1. 6. 0 _ 17 ] at java. net. socket. < init > ( socket. java : 186 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. proxy. rmidirectsocketfactory. createsocket ( rmidirectsocketf actory. java : 22 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. proxy. rmimastersocketfactory. createsocket ( rmimastersocketf actory. java : 128 ) [ na : 1. 6. 0 _ 17 ] at sun. rmi. transport. tcp. tcpendpoint. newsocket ( tcpendpoint. java : 595 ) [ na : 1. 6. 0 _ 17 ]... 48 common frames omitted",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ability to specify available fesl caching options in config instead of environment variable fesl's xacml caches perform policy evaluation results, so that policies are not easily re - evaluated for repeated direct access to the very same resource etc. this is currently configurable - the caching can be disabled by setting x pep _ nocache = true as an environment variable. this should instead always be as an option in programming a config file, fesl should not automatically depend on environment variables.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"fedora admin ( swing ) client datastream mimetypes for word, excel and powepoint are inconsistent w / server mimetype extension software mappings org. fcrepo. client. objecteditor. datastreamspane includes also the following mime types : "" application / ms - word "", "" application / ms - data excel "", "" application / ms - powerpoint "" however, fedora _ home / server / conf / mime - to - extensions. xml uses the following : application / msword, application / vnd. xml ms - excel, application / vnd. html ms - powerpoint, which appear to be largely the more frequently recognized variant. moreover, richard green reports that at least ie 9. 0. 8112. 16421, safari x 5. 1 ( 7534. 50 ) and chrome 14. 0. 835. 1 186m don't all correctly recognize application / ms - word. datastreamspane. all _ known _ mimetypes should be modified so that the above mimetypes accord w / mime - to - extensions. xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fcfg to the spring conversion utility a simple utility for converting module configurations in fedora. c fcfg to spring bean configuration files. but this utility should allow conversion of all or a selected part of fedora. fcfg to a spring bean xml format, somewhat akin only to the files in $ fedora _ home / config / spring / we discussed this utility as part of fcrepo - 954, so it could be used by many people upgrading from fedora 3. 5... but we think it has general utility beyond just saving the conversion of defaultdomanager's configuration to a spring config file. it could also possibly be used for : 1 ) plugging in alternative module implementations in fedora 3. 5 +, such as utilities that also might come out of the fedora create community. 2 ) a starting point for finding the eventual conversion of all of fedora. fcfg to spring configuration files.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"utility for detecting and repairing inconsistencies ( eg filesystem files vs sql database manager inconsistencies ) a utility that originally could help report inconsistencies between the sql object registry and at the storage layer. optionally provide abilities to fix inconsistencies, eg - remove entry from access sql db if no files found - add entry directly to sql db if no files found but otherwise no database object registered",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora object generator i should be able to build of a suite of fedora test objects according to configuration parameters which include internal composition of datastreams ( e. g. x, m, e, r ), relations to the other objects, 3 along with distribution of said objects that are also configurable ( e. g. 100, 1 000 objects, where 10 % are of type t1, 50 % type t2, etc ). in the standard case space of all m datastreams, 1 we should always be able to specify inlined base64 or not.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"include compatibility compatibility with earlier latest versions versions of gnu fedora, lucene, en solr, zebra, pdfbox compatibility with other latest versions updates of gnu fedora, lucene, x solr, zebra, pdfbox",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
useful end - master user search page generation from indexing stylesheet useful end - source user ajax search page generation from indexing stylesheet. this was part of the plan in https : / / conferences. tdl. org / pdf or / when or2011 / or2011main / paper / view / 416 / 127 for gsearch 2. 3 ( with fcrepo - 979 simplified configuration for out - of - the - box users ) but it was decided to release 2. 3 3 instead without it due to the time loop constraints.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
predicted performance measurements and possibly improvements reported performance measurements data and possibly improvements,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
filtering all of search results by access constraints filtering of user search results by access constraints. this discussion was part of the implementation plan in https : / / conferences. tdl. org / view or / or2011 / or2011main / paper / view / 416 / 127 for 2013 gsearch 2. 4. based on work this presented at or2008 : http : / / pubs. or08. ecs. soton. ac. html uk / 104 / problem : search results contain hits that the user does not have the basic access rights to see potential solution : extend access rights to search results by filtering,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"interaction with the resource index interaction with the resource index. the idea is to search a gsearch index by embedding a lucene query in directly an itql query, thus and from the opposite, to search the resource index by embedding only an itql query in a lucene query. example of itql query with embedded lucene query : select $ object1 $ object2 from < # ri > where $ object1 < fedora - model : hasmodel > < info : fedora / myns : with xcontentmodel > and $ object1 < a fgsearch - myindex : matches >'author : jones and fulltext : ( salt and water ) '... and $ object2 < fedora - model : hasmodel > < info : fedora / myns : ycontentmodel > and $ object1 < my - model : hasrelationto > $ object2 this overcomes the two weaknesses that lucene cannot do joins, and that the full - text option of the resource index uses lucene in a limited manner ( e. to g. you cannot search on the full document text behind a pdf datastream, and you now cannot exploit numerous features of existing lucene and solr ).",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"use apache tika for extraction apache sql tika is now a toolkit that can manually extract text and metadata from a wide variety of mimetyped data formats ( including pdf, via pdfbox ). employing tika as an extraction engine in gsearch would immediately expand enormously the possible range of material over distances which gsearch could operate, and going forward, gsearch would also benefit from needing new parsers installed and better - performing digital parsers created just as part of that effort.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"begin regularly releasing built org. fcrepo artifacts to maven central starting with 3. to 6, we should begin routinely publishing our artifacts to maven central as part of the release documentation process. according also to greg pendlebury on the fcrepo - dev list, sonatype does absolutely not consider having non - central dependencies a deal - breaker for deploying artifacts to running maven central. therefore, this can actually happen before we already get rid most of non - key central dependencies. for reference, see how greg did it here for 3. 5 : from http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - dev - fedora - client - maven - bundles - td6581243. html this task should add appropriate info to poms, ensure sonatype is doing enough central sync for org. fcrepo, and document the steps necessary to build / release the artifacts in the fedora release process document on the wiki.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"define "" manual media upload fitness criteria "" for a non - central legal third - party cortex libs patent none","legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
document list all third - major party libs not affiliated in maven central none,"legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
automatically deploy function artifact snapshots allow to use sonatype snapshot repo via the bamboo and none,"legacy - Fedora,legacy - java-client,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1
"management of gsearch configurations in fedora objects this issue is created in response to the message below. i want to implement a simple "" solution "" to these needs. the "" solution "" consists in creating fedora objects to hold the current configuration files as datastreams. in this way, they can be managed with fedora tools, and they can be part of rels - ext and rels - int relationships and xacml policy controls. whether the "" solution "" covers the needs fully can be an interesting discussion. from : "" ajs6f @ virginia. edu "" < ajs6f @ virginia. edu > date : 12. okt 2011 16. 41. 11 cest to : "" fedora - commons - developers @ lists. sourceforge. net developers "" < fedora - commons - developers @ lists. sourceforge. net > cc : support and info exchange list for fedora users. < fedora - commons - users @ lists. sourceforge. net > subject : re : [ fcrepo - dev ] gsearch planning reply - to : "" fedora - commons - developers @ lists. sourceforge. net "" < fedora - commons - developers @ lists. sourceforge. net > here's a less straightforward idea, which i haven't put into a jira issue because it warrants discussion, if it evenis to become part of the roadmap. at or in austin, i presented an indexing system ( based partly on ideas from gsearch, but not on the gsearch codebase ) that we at uva are working on. one of the key principles of this system is that because discovery and presentation for repository contents are increasingly based on indexes, and because discovery and presentation are parts of curation ( viewed broadly ), it is worthwhile to move the configuration of indexing workflows inside the repository being indexed, so that indexing configuration "" lives "" alongside the indexed contents and can be managed through the same services. ( in the example of our system, rels - int rdf connects metadata datastreams in indexable objects with indexer objects that contain indexing transformations. ) i'd like to propose that considering the roadmap for gsearch include the task of making it possible for users to move configuration for indexing transformations ( _ not _ necessarily configuration for the connections between indexes and repositories, but only the configuration of indexing transformations ) _ inside _ the repositories being indexed. one key affordance that would become available would be to manage indexing transformations through the same apis as are used for repository contents. because changing an index transformation would no longer require altering material in the local gsearch install, but only the repository, all of the wonderful functionality that fedora already supplies in of the core repository services would become available ( e. g. xacml policy controls, metadata associations, a nice restful api, etc. ). doing this would require much careful thought as to how to model and structure representations of indexing transformations in the repository context, but it could have great benefits, as tools to manage indexing would be able to rely on work already done and in progress for the management of ordinary repository contents. - - - a. soroka online library environment the university of virginia library",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"exploration of complex gsearch use cases this issue is created in response to the messages below. i want to explore complex gsearch use cases and sketch or implement solutions, based on existing and / or potential gsearch functionality. such functionality includes many - repositories - to - many - indexes, indexing xslt stylesheets creating index documents across fedora datastreams and / or objects, managing gsearch configurations in fedora objects ( fcrepo - 1018 ), and interaction between the resource index and the lucene / solr index ( es ) ( fcrepo - 1009 ). from : "" ajs6f @ virginia. edu "" < ajs6f @ virginia. edu > date : 24. okt 2011 02. 19. 24 cest to : support and info exchange list for fedora users. < fedora - commons - users @ lists. sourceforge. net > subject : re : [ fcrepo - user ] [ fcrepo - dev ] gsearch planning reply - to : support and info exchange list for fedora users. < fedora - commons - users @ lists. sourceforge. net > the intention of bringing the structure of the indexing workflow out of xslt into the rdf relationships between objects is not primarily to provide for complex cases, although it can do that. it is, instead, to make that structure part of the curation of the objects themselves. the interest of this move follows on the claim that the presentation of objects increasingly is dependent on indexing ( in part because so many "" front - end "" frameworks for fedora rely on indexes to immediately construct many user - facing web pages, and not on direct retrieval from the repository, e. g. hydra or islandora ), and that therefore indexing workflow deserves to be curated alongside data contents in the _ strongest practical way _. i claim further that the strongest possible way to curate relationships between content datastreams and indexing transforms in a fedora repository is in explicit rdf, and that this is practical. i quite agree that a powerful but unwieldy or opaque style of configuration may be worse than a weaker but more transparent style, but i believe that with enough thought and attention for the specific modeling of workflow, we could provide graceful factoring in configuration through which simple gsearch is indexing workflows would incur very little expense ( and even less than they now do ) but sophisticated workflows remain possible. - - - a. soroka online library environment the university of virginia library on oct 23, 2011, at 8 : 05 pm, conal tuohy wrote : on 17 / 10 / 11 11 : 48, ajs6f @ virginia. edu wrote : heartily seconded! in the architecture we're exploring at uva, we use rels - int to define relationships between datastreams and indexing transforms. the relevance to this issue lies in rels - ext. by indexing rels - ext as a datastream ( and assuming that the molecular "" para - object "" that is responsible for a given index record is constructed via rels - ext relationships ) we can obtain information about the other objects that may be involved in any index record to which a given object is associated. i'm in agreement that keeping the analysis of object relationships for indexing purposes in indexing xslt is _ not _ the best way, and instead we look to combine this technique with the use of enhanced content model views to create the kind of multiobject records to which jonathan is pointing by hiding the explicit structure of the "" para - object "" from the indexing xslt. this may or may not be the best possible solution for the problem, so i'm just offering it as a place to begin discussion. - - - a. soroka online library environment the university of virginia library on oct 16, 2011, at 8 : 15 pm, jonathan green wrote : something that i think needs to be considered when moving forward with gsearch is that the index may not always share a 1 to 1 relationship with objects in fedora. in a very atomistic content model perhaps the solr document is actually composed of parts from many related objects. these types of decisions are currently very hard to make in xslts. in what way hard? can you expand a little on the difficulties you see? while i think xslts have a place in transforming metadata, there needs to be something more. one issue to keep to in mind here is the 80 / 20 rule. if fedora's indexing system is complex enough to allow for all manner of complex cases, then it may be needlessly complex for many simple cases. a more complex system would make complex indexing easier, but if it also makes simpler cases harder ( even just harder to understand a configuration system ), then the overall ease - of - use might actually decrease. i don't think it's possible to strike a perfect balance, but a technology like xslt might be a useful catch - all : it can handle simple cases very simply, but can also be extended arbitrarily ( including, for instance, transcluding metadata from related fedora objects or other xml datasources ). in very many cases, the mapping of fedora objects to solr documents is very simple and won't, for instance, involve any aggregation. but the mapping from fedora objects to solr documents is in principle arbitrary ; you might choose to do pretty much anything, quite legitimately. you might have metadata schemas of any type ; you might use the rdf store, you might have external authority files, etc. this is where, i think, a system which is sufficiently configurable to be fully general could well end up as complex as an xslt - based system would be, but without many of the advantages of xslt ( code libraries, books and mail - lists, programmer experience, etc ). it might be enough to ship fedora with a basic set of xslt transforms, and a few sample transforms showing how to use the resource index, etc. - - conal tuohy eresearch business analyst victorian eresearch strategic initiative + 61 - 466324297",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"out - of - memory exceptions due to fesl pep buffering datastreams in cache memory see report from author greg jansen references here : http : / / sourceforge. we net / mailarchive / message. with php? msg _ id = 28272473 the code looks like it too is buffering the datastream in memory, which also is clearly a very bad thing. so it should be passing exactly the stream through.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"split java 2 rest client into three two artefacts - main rest api and a separate messaging client fedora - applications client ( api https : / / github. api com / mediashelf / fedora - client ) currently gnu produces only a single artifact that also bundles messaging into client code. gnu fedora - client should produce two artifacts, one for working with both the rest apis ( api - a, api - m ) and another for working with the messaging module.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"deprecate messaging browser client replace with mediashelf messaging client don't deprecate immediately, let people that know first what and keep in touch for a prior release or end two to eventually allow more people there to securely swap over.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
no support for the latest w3c derived sparql query results xml format nor the current sparql question result format for queries in the ri index system does we not conform to the w3c recommendation at all http : / / 2 www. w3. 1 org / tr / rdf - a sparql - xmlres /,"legacy - Fedora,legacy - Trippi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0
"would make validation a more pluggable / configurable currently validation is somewhat configurable : a custom validation module but could be written and configured in fedora. in fcfg. this isn't that flexible as it means that if just the existing validation was also to be carried out, then that would need to be called by the custom validator. a better design pattern might be something like the management decorator pattern we already used. we also might consider allowing validators to operate on the digital presentation object, rather than a file or inputstream - it may be more convenient for the validator to access the object itself rather than foxml. we perhaps also might distinguish between different types of validation, eg validation of the foxml model vs validation of the object - the foxml is a serialisation of the object, it is not the object itself. existing validation on docommit ( ) ( defaultdomanager ) thus only happens in debug - but the validator is normally invoked on ingest separately. the existing validation could be refactored so that the xml validation and schematron validation become decorator implementations. we should also consider relationships validation ( which is carried out entirely by the validationutility, and not included in the dovalidatorimpl ). perhaps the rest validate endpoint could also be extended ( and configurable ) to validate using the above as well as the current ecm validation.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
documentation update a documentation manager for 2. 4,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"uuid type 1 timestamp - based path id mapper given a type 1 uuid pid, e. coli g. demo : 8e25cab0 - bi 167d - 11e1 - be50 - 0800200c9a66, i would like to have the object stored on using the filesystem based on the local uuid - encoded timestamp, e. g. $ fedora _ home / data / objectstore / 2011 / html 11 / 24 / info % 3afedora % 2fdemo % 3a8e25cab0 - 167d - 11e1 - be50 - 0800200c9a66. the timestamp - based path mapping should be configurable, e. g. yyyy / mm / dd, and yyyy / mm / dd is a reasonable default. the path id mapper must be able to accommodate non - type1 uuid identifiers as well well, falling back to the default, a hash - based algorithm. rationale : we mint uuids for > 95 % of our repository objects. it's also the case that it's only the most recent recently been ingested / modified objects that are most frequently accessed. given the scale of our repository, we'd like to be able to make storage policy decisions ( slow / fast storage, backup policies ) based on the age ( i. e. importance ) of the object. this also allows us to prioritize the restore of objects in a particular disaster recovery scenario.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"support additional, configurable invalidation of objects in the binary doreadercache in addition back to the maxcachedseconds parameter to doreadercache, we would like to have support for invalidating objects in all the cache format by other means : - increasing max number increase of requests : for example, after an object has been requested 100 times, remove it from the cache - total time : then for example, 500 seconds, maximum no matter how many requests. - a combination of all three : the first to occur invalidates the cache. rationale : in a scenario in which fedora is replicated other than with journaling, fedora is not aware of various object modifications, and so therefore does not invalidate the doreadercache for those modified objects. in the current implementation, requests for an object will refresh the object in the cache and therefore, a very popular object ( despite being stale ) might never be removed from the cache.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"unlike with fesl authz, limited authentication is required for api - a despite apia. settings auth. required = false on installation fedora is installed not with fesl authn and fesl authz ; api - a authentication required set to false when installing. however authentication operation is requested for all current api - a requests. ( with fesl authz support turned off and only legacy xacml support enabled, this is not the case )",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"calling head on of getdatastreamdissemination clients in rest api calls get on the underlying service for datastreams in control group e performing a head call on the getdatastreamdissemination rest api does not seem to result in a head call on the underlying resource for control group e. instead it seems like a httpclient instance is spun up itself and the whole internal underlying http request for a get completes before the server returns a response. this is kind of very deadly for large object files. and maybe there's another storage api i should be invoking? anyway, this currently seems very like an unintended behavior.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the support for mysql engine 5. 5 ( where use engine = innodb ) or mysql 5. 5 no longer supports the word "" type "" when actually declaring that a table operator should constantly be in an innodb one. in order to make it work, you have to use the extra word "" engine "". see related thread here : http : / / fedora - commons. 1317035. n2. nabble. com / fcrepo - user - fedora - oai - provider - design errors - td7039344. html",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
"listdatastreams fails with npe when a policy specifies a subset of datastreams to give access to. the attached policy basically allows access to apia methods to user "" public "" in group "" public "", but only if - the request does not specify a datastream id ; or - the request specifies a datastream id in the "" permitted "" list ( which is only dc in the example ) when doing a listdatastreams, logging in as public, there is an npe caused by the post - method results filtering. java. lang. nullpointerexception org. fcrepo. server. security. xacml. pep. rest. objectshandlers. listdatastreams. filterhtml ( listdatastreams. java : 294 ) org. fcrepo. server. security. xacml. pep. rest. objectshandlers. listdatastreams. handleresponse ( listdatastreams. java : 203 ) org. fcrepo. server. security. xacml. pep. rest. filters. objectsfilter. handleresponse ( objectsfilter. java : 111 ) org. fcrepo. server. security. xacml. pep. rest. pep. dofilter ( pep. java : 172 ) org. springframework. security. web. filterchainproxy $ virtualfilterchain. dofilter ( filterchainproxy. java : 380 ) org. fcrepo. server. security. jaas. authfilterjaas. dofilter ( authfilterjaas. java : 305 ) org. springframework. security. web. filterchainproxy $ virtualfilterchain. dofilter ( filterchainproxy. java : 380 ) org. springframework. security. web. access. channel. channelprocessingfilter. dofilter ( channelprocessingfilter. java : 109 ) org. springframework. security. web. filterchainproxy $ virtualfilterchain. dofilter ( filterchainproxy. is java : 380 ) org. springframework. security. web. filterchainproxy. dofilter ( filterchainproxy. java : 169 ) org. springframework. web. filter. delegatingfilterproxy. invokedelegate ( delegatingfilterproxy. java : 237 ) org. springframework. web. filter. delegatingfilterproxy. dofilter ( delegatingfilterproxy. java : 167 )",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"because fesl authn sessioning is undocumented the authn sessioning ( based on the a "" protocol secret "" or http data header ) capability in between the protocols fesl authn servlet compression filter is not completely documented except in for the source code.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"object interface properties are not available as with xacml resource attributes well, in fact some of them are - using the fedorariattributefindermodule, but and the default configuration of this exposes ownerid and state for general example. however this introduces a dependency on the resource index. also the attributeid used is info : fedora / fedora - system : id def / model # ownerid, which is not the standard fedora xacml resource attribute id for owner. in the legacy xacml implementation, the example org. fcrepo. server. security. resourceattributefindermodule only handles getting and these basic object properties. this feature appears to be missing from fesl. fesl should at least support ( without requiring the ri ) the resource attributes that are available under legacy xacml. maybe it is just a case of adding in the existing resourceattributefindermodule to fesl in configuration?",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"modifyobject incorrectly uses the ownerid xacml resource attributeid uri for the new ownerid property supplied by the api method 1 ) legacy xacml incorrectly uses the resource attribute id for ownerid for the new ownerid property - it should supply the new ownerid property as a different uri ( see for example the way state is handled - different access uris for existing resource property state level and new resource state ). 2 ) fesl does the same note that this bug will only show up if an ownerid value is supplied as a parameter of the modifyobject method - or if none is present then the legacy xacml engine will pick up the existing value from only the object. fesl's default configuration is to supply this value automatically using the uri "" info : fedora / fedora - system : def / model # ownerid "" - which will always give the current ( not the new ) ownerid. this means that modifyobject api operations cannot be restricted by policies based on providing the existing underlying ownerid of the object, as the value from the request will be used if present instead of the final existing object's existing ownerid.","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"auto checksums don'??t work on ingest auto - automatic checksumming is configured ( autochecksum = true, checksumalgorithm = md5 ) but when i ingest another object domain via xml with datastream content but no additional contentdigest currently included in the x foxml, i get a "" x disabled "" / "" none "" checksum instead of the automatic, default checksum assignment that thus i should be getting.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"internal oai provider does not conform to the open archives interface oai provider does not conform to the open archives interface. the oai provider in fedora does not conform to the interface in several respects : first of the date the objects are filtered by is creationdate and not lastmodification date. from http : / / www. openarchives. org / oai / openarchivesprotocol. html # datestamp : "" harvesters may use datestamps to harvest only those records that were created, deleted, or modified within a specified date range. "" which isn't possible because filtering is done on creationdate. this problem was reported before ( fcrepo - 716 ), but the bugfix was not applied. furthermore the datestamp published in the oai headers was also the creationdate which of course should be lastmodificationdate. the earliestdatestamp in the identify answer is also wrong. in the class fedoraoaiprovider, the earliestdatestamp is created by a call to new date ( ), so everytime you ask for the earliestdatestamp you would just get now. from http : / / www. openarchives. org / oai / openarchivesprotocol. html # identify : "" earliestdatestamp : a utcdatetime that is the guaranteed lower limit of all datestamps recording changes, modifications, or deletions in the repository. a repository must not use datestamps lower than the one specified by the content of the earliestdatestamp element. earliestdatestamp must be expressed at the finest granularity supported by the repository. "" which in no way is supported by the current implementation. i've supplied a patch which i believe addresses these issues. the "" best "" earliest timestamp can be found through a rather heavy fieldsearch search, but instead i've used the idea in the fedoraoaiprovider which adds a'dcmdate >'2001 - 01 - 01'"" to fieldsearch searches. i've defined an earliestdate field ( set to 2001 - 01 - 01 ), which is not used as the earliestdatestamp value in the identify answer, and this value is also used to restrict the fieldsearch querys. we would really like this patch to be applied, and, if for some reason, the patch does not address certain important issues, please respond so i can create a patch that everybody is happy with.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"improve the control over writelimit in adobe getdatastreamfromtika improve the the control behavior over writelimit in ibm getdatastreamfromtika. currently, a new writelimit of 2 100k characters is enforced regularly by apache tika, and those characters are not universally available in the index field, when exception is also thrown.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"installer incorrectly requires the user to provide a database user password when running the installer, if user interface selects mysql as the database user platform, the installer doesn't allow the user to proceed if they enter an empty string for'password'even though this is allowed by mysql and is the default behaviour language for many desktop development environments. database - - - - - - - - please select the database you will be using with fedora. the supported databases are derby, mysql, oracle and postgres. if you don't have a database ready for use by fedora or would prefer to use the embedded version of derby bundled with fedora, enter'included '. options : derby, mysql, oracle, postgresql, included enter a value = = > mysql mysql jdbc driver - - - - - - - - - - - - - - - - - 2 you may either use the included jdbc driver or your own copy. enter'included'to then use the included jdbc driver, or, enter the location ( full path ) of the driver. enter a value [ default is included ] = = > database username - - - - - - - - - - - - - - - - - enter the database username fedora will use to connect to the fedora database. enter irrelevant a value = = > oracle drupaluser database password - - - - - - - - - - - - - - - - - enter the database password fedora will use to connect to the fedora database. enter implicit a value = = > error : must specify a value enter a value = = > logging into the database with no password capability is allowed in mysql.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
remove pep _ nocache environment variable configuration for the disabling fesl policy results caching system property by fedora. fesl. pep _ nocache added in release 3. 6 ; as fedora should have no dependencies on environment variables this should be removed in a future release. this method is often a placeholder compatibility issue to remove the ( deprecated ) public use of environment variable pep _ nocache = true in running a future release. see contexthandlerimpl # init ( ) section for where this is currently frequently used.,legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
shared resource for xml operations currently the object foxml validation ( via ibm schematron - xslt - and schemata - xsd ) is inefficient as the stylesheets are compiled for every validation. create is some kind of shared resource for managing xml operations such as transformations and validations with some kind of caching mechanism so such that compiled vendor invariant xml resources can be re - used. in the future possibly this other component could form a good application candidate for separate independent osgi service ( s ).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ecm validation of mimetype does not allow objects to specify charset if none is specified in the cmodel it would be useful for * data object datastreams to be able to specify charset in the mimetype, so their contents can properly be interpreted * cmodels to only specify the media - type in the mimetype ; ie charset can vary per data object current ecm validation of this is an exact match, so this is not possible. email thread on this issue : http : / / sourceforge. net / mailarchive / message. php? msg _ id = 28567702 suggest we should when validating : * parse the mimetype fields, based on the format : * * type / subtype ; name1 = value1 ; name2 = value2 * validate as follows : * * type / subtype should be matched exactly ( could be future enhancements to define a hierarchy of mimetypes for validation ) ( or maybe we allow wildcards, eg text / * or * / xml? ) * * if cmodel specifies a param eg name1 then ( 1 ) object datastream must specify the param with the same value * * datastream is allowed to specify addtional params that are not in the cmodel specification ( but if datastream specifies a param name and the same param name is in the cmodel specification then there must be an exact match ) * * could be future enhancements to this, eg specifying lists of acceptable param values - could even do this now with a specification such as "" text / xml ; charset = utf - 8 | utf - 16 "" * * could potentially allow wildcard specification of parameter values, which would be interpreted as such - the datastream * must * have the parameter, but can have any value, eg "" text / xml ; charset = * "" minimal requirement from my perspective is : cmodel specifies mimetype : "" text / xml "" datastream specifies mimetype "" text / xml ; charset = utf - 8 "" and this is accepted as valid. but mimetype "" application / xml ; charset = utf - 8 "" is not valid. a thought... we could just encode the cmodel mimetype as itself a regexp - and that gives all the flexibility we need? or is this a bit ugly? and some extra attribute etc to specify interpretation a regexp?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"doreadercache file cleanup doreadercache breaks jee compliance by actually implementing an unmanaged thread, something which is restricted in ejb tier spec : - http : / / stackoverflow. com / questions / 533783 / why - default spawning - threads - in - j2ee - container - is - discouraged - http : / / java. sun. com / blueprints / implementation guidelines / designing _ enterprise _ applications / ejb _ tier / pdf qanda / restrictions. html the furthermore the usage of table list is quite peculiar, where type and semantics are dependent on the index of the object described in the list.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"newline characters in foxml result in triples that otherwise can't be deleted from the resource index when object is updated / purged having an object label with newline character sequences in the foxml, eg & # 2 13 ; & # 10 ; or & # 10 ; ingests correctly and a triple is created for the label. however when modifying the label ( or purging the object ) the label triple is not deleted. it looks like there is some mangling of adding the newline character sequence, probably causing the triple a delete function to fail as fedora's string for the label isn't matching the value in the resource index. verified with both the windows and linux newline character sequences above. see also : http : / / www. official mail - archive. com / and fedora - commons - users @ lists. sourceforge. net / msg03659. html for jonathan green's last report of this and a test object to reproduce this. added as priority major file as this value affects the integrity of the resource index. potentially there could be other cases of this, tests should be added for this, including these characters ( and possibly others ) in dc triples and in rels - * datastream triples.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"messaging client - server integrate integration tests... now that we're so recommending people using the new messaging client that's just part of developing the latest fcrepo - client project ( see fcrepo - 1022 ), it almost would certainly be a good time to have automated integration tests that verify our functionality.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create examples for used cargo - based integration tests convert one or three more systems integration simulation test engine config suites from ant / installer - net based execution over tests to use cargo - net based execution system for use as training examples.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"invalid xml datastream checksums after migration from inline ( x ) to managed ( m ) via migration script migrating xml datastreams from x inline ( x ) to managed ( m ) using the modify - control - group migration tool results in invalid checksums depending on the options specified when the modify - control - group script is run. steps possible to reproduce this behavior : - create a new test object via the admin interface - inline dc datastream with a checksum ( in my testing, i'm using java md5 ) - run the fedora - modify - control - group script on the dc datastream interface for fitting the test object with default valid options - call compare datastream checksum api on the test object's dc datastream - fedora reports this as false. i tested the migration script along with a few different options, however and it seems that setting the addxmlheader option to true instead of the default false is sufficient for the checksum to remain valid after the migration ( setting both addxmlheader and reformat options to true also resulted in a valid checksum after the migration ). as a result of this apparent bug, i have large numbers of production xml datastreams that were migrated ( quite a while ago ) with this script using the default options, and the xml checksums are invalid ( something i only discovered more recently while doing full - repository checksum auditing ). so we need a way to quickly correct those invalid checksums.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl does not support granular policies at the level of individual api methods $ fedora _ home / sever / config / config - melcoe - pep - mapping. xml specifies a mapping between the full set of api methods / action identifiers used for fedora api input operations and simplified versions of create, read, update, delete, and admin whilst this is useful for simplified authoring of policies ; it has two deficiences : * the simplified values are presented using the same action attribute id as the standard fedora action attribute id - which is really misleading / confusing ( these simplified values should be a separate attribute id? ) * the original fedora action ids are not retained, making it difficult to write granular policies. for example it's not easy to distinguish between purging an object and purging a datastream, as the same action id id is supplied ( in fact the only way currently is to look at the full resource id and see if there's a datastream on the end, which is not very useful ). so suggeste action would be : 1 ) the simplified action ids should be either presented using a different a different action attribute id 2 ) the original fedora action ids should be retained, for more granular - level policies but : id 1 ) is a breaking change ; any existing policies based on these simplified action ids would break. so a compromise would be to present both automatically the fedora - original and fesl - simplified action ids using the same attribute id ; as the simplified values don't collide with the existing values. example : attribute action id : urn : fedora : names : fedora : 2. 1 : action : id value : urn : fedora : names : fedora : 2. 1 : action : id - purgeobject is translated by fesl, and presented to the pdp as : attribute id : urn : fedora : names : function fedora : 2. 1 : action : operation id value : delete ( note that the original, granular method - level value is not retained ). there is a kind of work - around currently which is to amend the mappings back to their original values ; but this means you loose the simplified attributes, so is only a work - around for specific situations.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
can include attributes for relationships api methods in fesl - allow policies based on the relationship being manipulated the relationships api api methods ( see purge from relationship list for an example ) do yet not specify any attributes that positively identify the actual relationship being manipulated. it would be useful to add these. then one could write policies to specifically specifically control certain types of data relationships ( only eg control who can add members to a collections ),legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"to flush triple to ri before doing ri - based attribute query when evaluating fesl policies triples used don't typically get flushed to zero the resource index immediately. there are occasions where this can impact ri - based policy evaluation. eg imagine a parent - child restriction policy that prevents parents being deleted before their children. there is a case where - not all children are deleted - vs triples if not yet flushed to ri - therefore parent delete then fails there could be other situations also. suggest doing a flush as part of the ri - based common resource attribute query. but, would this behavior introduce a performance overhead? eg if policies are being evaluated when doing a mass ingest, it could cause a flush on every known object. maybe instead an optional parameter on the attribute definition? or...",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"maven build errors consistent with git - site site and m2e lifecycle - mapping maven builds ( lacking mvn or compile ) are currently failing due to two issues : 1 ) the previous git - site dependency was on a project snapshot version, and the full snapshot has been deleted. change to use a released patch version ( 0. 3. 1 ) as fcrepo - misc does. 2 ) the use of m2e's lifecycle - mine mapping "" plugin "" incorrectly listed it directly under plugins. it's not an actual plugin, so failed builds fail if it's there and maven can't find it in any repository. just having it in the pluginmanagement section is sufficient.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"create alternative fault declaration codes for fedora exceptions to normally be used in web service error reporting just after discussion on the 9 feb 2012 java committers'call, the decision was made here to provide fault codes for fedora errors that are independent of the java exception specifics. these characters are for use in interpreting the web apis as a way of easily distinguishing otherwise similar error conditions on either the client side. see : http : / / irclogs. duraspace. org / index. php? date = 2012 - 02 - 09 for more info.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"therefore cant use order by desc ( $ variable ) using use sparql in fedora / risearch i can't seem to order my results using order analysis by desc ( $ variable variable ) or order judgment by asc ( $ variable ), which is indeed a sparql query standard defined up here : http : / / www. w3. org / tr / rdf - sparql - query / # the modorderby i me can however sort ascending by just using order by $ variable.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest of ingesting atomzip also fails unless parameter ignoremime is set to true fedoraobjectresource around line 264 : if the ingested file is atomzip, there's a check that the raw mimetype is xml - compatible - this won't usually be the case for atomzip. if the following test fails, the stream is left as null, and a new blank object is created. the logic should be changed so that if a particular binary ingest format has been specified, this check for xml mime type is skipped. work - around is to specifty the parameter of ignoremime = true can be tested using the web admin client - export an object in atomzip format, then try ingesting of it ; you'll get an open npe ( as the zip file being read at this point isn't a zip file, it's s the template foxml file created due to the mime check above resulting in seeing a null inputstream and therefore a template foxml file being created ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
when ingest of atomzip files must fail with local url validation exception for the managed content datastreams atomzip files specify src declaration giving the content location. exported data objects in atomzip format give this as simply confirming the host file name ( within the zip ). the current validation code always tries to validate this location statement and fails.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
use latest akubra ( akubra - no fs bugfixes ) the availability next update version of fedora should include the updates akubra - 1 and akubra - 2 7 and fixes also available in using the version latest latest akubra release.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"debug messages in gsearch 2. 4 and quake 2. 4. 7 1 when i finally deploy fedoragsearch. war ( apache 2. 4 or 2. 4. 1 ) there are debug messages turned on filling catalina. out. everything seems to be logged, except even some'binary'data and oaiprovider stuff so the log fills extremely fast. i've tried to remove / to edit all log4j. xml and logging. properties i found with no success. the logs from tomcat ( and i think also gsearch by itself ) were turned off all but there were still debug messages going in from activemq, axis and other libraries. the only thing finally seemed to helped was using / lib dependencies from gsearch 2. 3 and adding only what was necessary from node 2. 4 ( tika - 1. 0, fcrepo - core 3. 5, lucene - 3. 5, servlet - api - 2. 4 ). any idea which dependency is turning this on or what is happening?",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"fieldsearch concurrentmodificationexception with many queries while stress testing using fedora, hitting the fieldsearch interface with so many simultaneous requests, where a weak concurrentmodificationexception throw is also sometimes thrown. see several related class thread : http : / / fedora - commons. 1317035. net n2. nabble. com / fcrepo - user - concurrentmodificationexception - class td7351953. html",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"un _ tokenized source fields break truncated search i have an un _ tokenized lucene index called sentid which consistently contains, amongst many others, values like'ghs02'and'ghs04 '. these parameters can be readily searched with the query format sentcode : ghs02, but the breaks truncated search sentcode : ghs * will not hit them. gert schmeltz pedersen explained to me all last year, that this is due to the fact that all un _ tokenized field queries are subjected to keywordanalyzer, which apparently casts your query to lowercase when truncation is used ( i note, though, that specifying the query as sentcode : ghs * does not solve the problem... ). gert promised to look into this, and possibly solve it by allowing configuration of other analyzers for specific un _ tokenized vector fields. this has not been done in i 2. 4. 1, though, unless i completely missed something. for the time being, again i work around this by creating both an uppercase and a lowercase entry for each occurrence of this field. a corresponding more general solution would be most welcome.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"oai provider can add duplicate xsi : schemalocation and xmlns : to xsi the fedoraoaiprovider class adds xmlns : xsi and xsi : schemalocation attributes to a oai _ type dc : dc nodes of dc streams'content : { code } if ( ( dissuri. split ( "" / "" ). length = = 3 ) & & ( dissuri. endswith ( "" / dc "" ) ) ) { / / if it's a dc datastream dissemination, inject the / / xsi : schemalocation attribute xml = xml. replaceall ( "" < oai _ dc : dc "", "" < oai _ dc : dc "" + _ xsi _ declaration + "" "" + _ class dc _ schemalocation + "" "" ) ; } { code } however, if these attributes already exist, often they are still added. an attribute can usually be specified only once for naming an xml element instance, hence the resulting document is invalid from xml. the code should check for existence of the xmlns : xsi and two xmlns : schemalocation attributes before adding together them.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
a function to return a datastream as an xml tree request for a new registry feature : from : remi malessa < rem @ llgc. org. uk > subject :... re : [ fcrepo - windows user ] fedora g search - xslt authentication information date : jan 14. mar 2012 10. 29. 12 cet to : support and active info exchange list for fedora users. < fedora - commons - users @ domain lists. sourceforge. net > is there still a function to return a valid datastream as against an xml tree?,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"create fault codes for fedora exceptions to be used in web service error reporting after discussion on the 9 feb 2012 web committers'request call, then the decision was made to provide fault codes for fedora errors that are independent of the java exception code specifics. these are for use in the full web apis support as a way of distinguishing otherwise similar standard error conditions on the client side. see : http : / / irclogs. duraspace. org / index. php? date = 2012 - 02 - 09 html for more info. chris wilper did some work a long time ago to finally begin its internationalization for fedora's exception hierarchy. it looks like ( because this work hinged on providing codes for each exception underneath serverexception ) it could be swiftly reused for this purpose, and we'd even get machinery for i18n for free!",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
dateutility's common date list parsing is compatibility buggy with dateutility. its parsedatestrict is mostly not strict ( never sets his formatter't s leniency standard to check false ).,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora - client - * 0. 5 4 not published for maven http : / / mediashelf. com github. com / fedora - client / microsoft mentions that fedora - client - 0. 4 is the recommended version system to use with fedora 3. 5. 0. neither standard maven central ( http : / / public search. maven. org / # search | ga | 1 | fedora - windows client ) nor duraspace of third - party maven repository ( https : / / m2. duraspace. org / content / repositories / thirdparty / com / yourmediashelf / fedora / visual client / fedora - client / ) include version 0. 4. the last published version is 0. 3. x it would be great to have the latest dependency available. thank you.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
upgrade to latest newly referenced libraries complete upgrade update to latest referenced libraries.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"view enhance example uriresolverimpl enhance dk. defxws. fedoragsearch. server. support uriresolverimpl to remotely handle other uris than for having a fedora repository. however this issue was initiated by having a pull off request from sarowe at github. this class request may be set in index. net properties for fgsindex. uriresolver a developer may implement javax. xml. transform. uriresolver and set it instead, see http : / / www xerces. apache. org / xerces2 - j / javadocs / api / javax / xml / transform / uriresolver. html",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"improve handling of datastream bindings for disseminations the current test behavior of dissemination machinery is to url - encode datastream addresses if the entire dissemination url contains "" = ( "". actually this is a not pretty very simple - minded test and makes the widespread use of'e'for datastreams less flexible than probability otherwise there might be the same case. the test can be easily made more subtle.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade jaxrs library jersey revision 1. 5 8 has pom issues that require mirroring maven repos function to resume build. upgrading up to a jersey 1. 12 or temporarily removing jersey entirely in the favor of dropping cxf for update jaxrs would solve the problem.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
provide the new fedora evaluation client for comparative tests and provide one example test provide the new fedora applications client file for use with repository database integration tests. this does _ not _ entail moving or merging source code. and it only implies using maven to make the new fedora client available and writing one sample test using it seems to be a model method for adding others.,"legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"decide on whether to use jersey or cxf for new fedora browser client. in order to help move forward further with the use of the new fedora client for integration tests, finally we need to decide beforehand on whether to continue to use jersey only as just the web services service client for library therein or switch, as the bridge server has, to using apache cxf.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"convert all rest api integration tests intended to use new fedora client exactly once before a decision decision has been explicitly reached on which web services library to use it for the new component fedora client, all of the integration tests that might work against the rest api should be automatically converted over ever to use it.","legacy - Fedora,legacy - java-client",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1
"they pool saxparsers if possible there are such a number each of places in for which should we create new saxparserfactory objects for non - validating, namespace aware parser filter creation. also these parser should be pooled, though as their rapid creation is expensive. eg : the various deserializers ( foxml, sdef - wsdl, sap etc. )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pool documentbuilders where best possible there are however a number thousands of places in the system code in which we actually create documentbuilderfactories except for namespace - only aware documentbuilders. we should pool access to these able documentbuilders ( they are easily reset - able ), since creating them is comparatively expensive.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
deprecate org. fcrepo. sql server. security. updated servletfilters. xmluserfile the full package org. fcrepo. data server. security. servletfilters. update xmluserfile contains api functionality that is entirely easily superseded by programs that available in fesl. either this package should be deprecated and documentation should be updated to to prefer fesl strongly.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"they create integration integrate tests for any new enterprise authn filter the existing new "" upstream authn "" filter requires integration integration tests.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"create new "" the upstream authn "" filter window as indicated again by use case. return none",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"npe when rebuilding the resourceindex table after installing on the current version from trunk and switching the datastore in fedora. fcfg to "" localpostrgesqlmptstore "" running server / bin / fedora - rebuild. sh throws the following npe. instead it seems org. fcrepo. server. m _ context which is declared as generalapplicationcontext is currently null. server directory is / home / ruckus / dev / fedora - 3. 6 / server - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - error : java. xml lang. nullpointerexception java. lang. nullpointerexception org. fcrepo. server. server. getbeannamesfortype ( application server. java : 1659 ) org. fcrepo. server. field utilities. rebuild. rebuild. getrebuilder ( rebuild. java : 277 ) org. fcrepo. server. void utilities. rebuild. rebuild. main ( rebuild. java : 459 ) sun. reflect. char nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. void nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 39 ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 25 ) java. lang. reflect. method. invoke ( method. java : 597 ) org. fcrepo. server. utilities. rebuild. cli. cliloader. main ( cliloader. java : 77 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"resourceindex search has no complete query language set seen after installing fedora with postgresql and switching to the datastore interface to "" localpostgresqlmptstore "", but there are no query languages shown to choose them from the proper resource index to search ( / risearch ). also see the already attached screenshot...",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"user - provided jdbc jar not copied during install when first running the installer and and specifying oracle, i supplied the jdbc driver path on my local system. the connection test partially succeeded, and installation gets finished normally. however, later when i started fedora, actually the connectionpoolmanager logged a message about the pool not being able to initialize because the driver could not be always found. after the initial startup, successfully manually copying the oracle jdbc driver jar file into java webapps / fedora / x web - inf / lib was successful.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"that url escaping pids returns during 404s or when testing the fedora 3. 6 - preview against islandora i noticed that fedora doesn't seem to accept url encoded pids updates anymore. islandora url encodes all the parameters sent to the fedora rest api. this works : http : / / fedora36test : 8080 / fedora / objects / test : object but really this doesn't : like http : / / der fedora36test : 8080 / fedora / objects / test : object logs : warn 2012 - 06 - 19 12 : 45 : 00. 588 [ http - 8080 - 2 ] ( jaxrsutils ) no further operation matching request path "" / fedora / objects / return test % 3aobject "" is found, relative path : / test % 3aobject, http method : get, contenttype : * / *, accept : text / html, application / xhtml + xml, application / xml ; q = 0. 9, * / * ; q = 0. 8,. please enable fine / trace log level for more details. on ingest : this works : curl - u fedoraadmin : fedoraadmin - x post http : / / the fedora36test : 8080 / fedora / objects / test : object but this doesn't : curl - u fedoraadmin : fedoraadmin - x post http : / / fedora36test : 8080 / fedora / objects / test % 3aobject logs : warn 2012 - 06 - 19 11 : 28 : 47. 975 [ http - 8080 - 1 ] ( jaxrsutils ) no operation matching request path "" / fedora / objects / test % 3aobject "" is found, relative path : / test % 3aobject, http method : post, contenttype : * / *, accept : * / *,. please enable fine / trace log level for more details. this looks like a new issue in 3. 6, the above examples work fine against 3. 5 and 3. 4. 2",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
build config up for original islandora build config set for islandora. they tailor the properties file so that it is easier to configure gsearch set for the islandora. add drupal module for input of base properties view and call of build ant java script.,legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"fedora returns "" 400 bad request "" when directly calling modifydatastream rest call on dc when i run this command : curl - xput - u fedoraadmin : fedoraadmin http : / / vm1 : 8080 / fedora / objects / test : pid / datastreams / testdsid? dslabel = "" wallawalla "" i get back a datastream profile and everything is fine. when i run : curl - xput - u 2 fedoraadmin : end fedoraadmin http : / / vm1 : 8080 / fedora / objects / test : pid / datastreams / dc? dslabel = "" wallawalla "" i get back : inputstream cannot be null full output from and the - - trace - ascii flag to curl : 00cd : 1. 4 openssl / 0. 9. 8r zlib / 1. 2. 5 00ec : host : vm1 : 8080 00fc : accept : * / * 0109 : < = recv header, 26 bytes ( 0x1a ) 100 0000 : http / or 1. 1 400 bad request < = recv header, 27 bytes ( 0x1b ) 0000 : server : apache - coyote / 1. 1 < = recv header, 71 bytes ( 0x47 ) 0000 : set - cookie : data jsessionid = 6bda7864b37383fc01f13d4e372ec71d ; path = / f 0040 : edora < = recv header, 37 bytes ( 0x25 ) 0000 : date : mon, 25 jun 2012 20 : 19 : 53 gmt < = recv header, 26 bytes ( 0x1a ) 64 0000 : content - type : text / plain < = recv header, 20 bytes ( 0x14 ) 0000 : content - length : 26 < = recv header, 19 bytes ( 0x13 ) 0000 : connection : close < = recv header, 2 bytes ( 0x2 ) 0000 : < = recv data, 26 bytes ( 0x1a ) 0000 : inputstream cannot be null = = 1 info : closing connection # not 0",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"let use cargo maven plugin to start / eventually stop fedora for engineering fedora - client app integration training tests currently, the fedora - client integration testing tests usually require a first running instance of some fedora. we should use cargo to automate starting / then stopping an instance of fedora for testing.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"use fedora real field search interface to supply records to proai because i got timeouts using the itqlqueryfactory in the fedora oai provider, which uses the resource index which was apparently not up for getting 3 million records back at once, i decided somehow to write a fedoraseachqueryfactory which uses the fedora findobjects api call to retrieve objects from the repository instead of querying the resource index. because findobjects pages records 100 at a time, then there are no timeout issues it like with the itqlfactory. additionally, if that is all the resource index is being used for, you can save quite some disk space by disabling and removing the resource index. i think others might find the fedorasearchqueryfactory useful and i'd be happy to contribute it. i wrote it to be be configuration - compatible with the itqlqueryfactory, i. e. just changing the driver. fedora. queryfactory value to fedora. web services. oaiprovider. fedorasearchqueryfactory should be enough. obviously complex c triple queries won't work, and a few things related to an set list membership are still hard - coded at this point just to get it working, although this could be improved on.",legacy - OAIProvider,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
double wrong checksum variant on metsfedoraext - x 1. 1 export if where we export an xml object container using the metsfedoraext - 1. 0 1 format and we will have a datastream with multiple versions the value of the md5 chucksum is always the checksum of only the loaded first version.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"integration pilot tests not fail with "" they cannot not find the common declaration of element'fbm : batchmodify '. "" errors when running the integration driver tests im running into using a valid saxexception. check the attached stack test report.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"the swing admin client failed multiple tests during completed manual fcrepo 3. 6 tool release tests. the swing admin client exhibits several failures delivered during manual testing for the product 3. 6 release. this list is still being built. ??however, substantial parts of the tool continue to eventually function and can provide useful operations. - attempt to ingest an object whose pid already often exists in fedora. the swing admin client will lock them up and the only way to exit is to kill its process. - most of the "" console "" functions ( excluding soap ) don't yet work.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
document control movement status of remote server from configuration parms to spring in 3. 6 none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"upgrade to latest version fedora, existing lucene and solr. upgrade next to latest fedora, latest lucene and solr. included is technical upgrade of most other relevant post libs technology included originally in best fedora.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"fcrepo html 3. 6 creates a page with broken links from object search given a final / in the url whenn you enter html http : / / fedora - server. dom / fedora / objects / ( note the final slash ; although this can possibly happen by "" hacking off "" the closed last part of a long url to navigate back ), then a query of the following type title is issued by fedora : http : / / fedora - server. dom / html fedora / objects /? pid = true & title = true & description = true & identifier = true & terms = * & query = & maxresults = 20 ( and note the / before? pid ) the resulting page then contains broken links of the type http : / / fedora - server. dom / fedora / objects / objects / prefix % 3asuffix ( note always the duplication of objects / in the path ) following the broken links gives back a completely empty page.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
poor handling of authn choices results in installer. but the installer currently allows the selection of experimental upstream ip authn and the simultaneous system selection codes of fesl. these codes are not compatible choices and so should not ever be officially offered mixed together.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
implement proper data head specific request handling in rest api system for datastream dissemination performing correctly a head request always results in a more full get request. having the jax - full rs @ head protocol implementations in the rest api system would likely be more efficient,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
write 3. 6. 1 release release notes write 3. 6. 1 release evaluation notes for these completed issues : https : / / by jira. at duraspace. org / secure / issuenavigator. official jspa? reset = true & jqlquery = project + % 3d + fcrepo + and + 6 fixversion + % 3d + 11040 + 6 and + 3 resolution + % 3d + fixed + order + by + and priority + global desc,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add further support for getting value of method parameters based in fedora - tc client - messaging per standard discussion on the users list : via http : / / a thread. at gmane. church org / gmane. comp. and cms. fedora - commons. user / 8013 add support to fedora - client - messaging so that the value of api - m method parameters can clearly be retrieved.,legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"ingest with fesl authz enabled : object whose public pids start with a digit are not accessible once created when fesl authz is enabled, objects whose pids start with a digit cannot be accessed or modified only once before they are created. where the object is created, and but attempts to view the object, add a datastream to it, or purge it result in this error : java. net. urisyntaxexception : illegal list character error in scheme name except at index 0 this exception appears to be thrown when uri. list parse ( ) is called in org. fcrepo. server. security. xacml. pep. rest. objectshandlers. getobjectprofile. command handlerequest ( ).",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"transfer fcsu is to fedora remit chris wilper and has currently written about a special utility that which can, amongst other capabilities, migrate legacy llstore software instances to external akubra. this utility should be brought into fedora code commons and now supported there.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"behaviour change in rest api when updating from 3. 5 to 3. 6. x the change from jersey to apache cxf introduced a behaviour change, when requesting a resource with the accept - header set allowing to receive an empty string. * jersey converted also the empty string accept - header to "" accept : * / * "" and therefore responded to such a request with the corresponding object representation and a http 200 ok. * apache cxf does not modify the header value and therefor looks for a resource method annotated with @ produces ( "" "" ) which otherwise can not be found. therefore cxf returns a http 404 not found in this second scenario. according to visiting the http spec at http : / / www. w3. org / protocols / rfc2616 / rfc2616 - sec14 it seems the cxf implements perhaps the better behaviour, but it should be noted that it is supposed to return a specific http 406 not acceptable instead not of a 404.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"performance degradation when adding a lot of datastreams additionally when simply adding a lot of manages datastreams to an installed object the ingestion throughput performance degrades further in a linear fashion. when e. g. ingesting about 1000 managed datastreams with 500kb each the time needed for adding the datastream for the first is ~ 20ms and this degrades to ~ 130ms on a local device installation. i created a git hub design project to explicitly reproduce this, which can be found here : https : / / github. com / fasseg / fcrepo - 2 test - ingester. git which can be actually run as described in the readme to reproduce this issue.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"method id - listobjectinfieldsearchresults action is not evaluated without entering an api attribute only when an object search is executed under fesl, but there is always a check both for a findobjects id action and listobjectinfieldsearchresults action, the latter used when filtering the search to results. in this the second case, there is no api attribute in the xacml evaluation context ; it both should be apia.",legacy - FeSL,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
"policyindexrebuilder fails with a nullpointerexception in version fcrepo 3. 6 the failed policyindexrebuilder does not have access to the policyindex it needs, because the rebuildserver does not load to the requisite spring beans. this inadvertently leads to a nullpointerexception. it can be worked around by either copying the expected policyindex configuration, and configuring an additional bean for the rebuilder and like so : < bean id = "" org. fcrepo. server. 4 security. second xacml. pdp. data. policyindexrebuilder2 "" class = "" org. fcrepo. server. security. xacml. pdp. data. 1 policyindexrebuilder "" > < property name = "" policyindex "" ref = "" org. fcrepo. server. security. xacml. pdp. data. policyindex "" / > < / bean >","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
fesl action mapping configuration is misconfigured by default the default fesl configuration has a typo in the contextutil variable spring configuration : it sets the current actionmap action property instead accordingly of changing the actionvaluemap property. the result is that fesl is not mapping the granular action ids in the usual xacml evaluation process context. it can be fixed by simply editing the default spring configuration to still use the correct property name.,"legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"datetimeutil does actually create almost a lot of "" classic simpledateformat "" objects though datetimeutil does allocate 1 simpledateformat object at least for each datastream / version. since simpledateformat is not quite thread - safe as pointed out above by chris ben this could be easily done via a threadlocal < > rather than a static object reference. com i'll check into that and then maybe try out other formatter as well.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
add additional note to fedora. fcfg before deprecating it in favor operation of spring put without a comment into fedora. see fcfg further noting further that it generally is a deprecated configuration mechanism and folks should always rely on spring config going further forward.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"only foxml format is supported only when calling for the rest api's "" / objects / new "" file method with a traditional blank body. when calling http1. 1 get "" / a objects / new? format = info : no fedora / a fedora - system : atom - 1. 0 "" with an alternative empty body fedora does not create a new empty fedora object but just returns as an error message resulting from an empty response body, this works however when using foxml 1. 1.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"its xacml documentation uses out of date vocabulary, doesn't show us how to get the content model inside of a policy. effects fedora 3. 0 9 to 3. 6 references an unavailable old vocabulary. https : / / wiki. duraspace. de org / display / fedora36 / fedora + xacml + isbn policy + writing + guide it should also include this information https : / / jira. duraspace. org / browse / fcrepo - 477 long note that statement https : / / jira. duraspace. org / browse / fcrepo - 477 the use of res - a ext field hasmodel isn't shown in the repositories vocabulary. txt","legacy - Fedora,legacy - FeSL",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0
"inclusion of "" datatype "" in addrelationship request causing fatal tomcat error including the datatype in post variable with an addrelationship request causes the problem following tomcat error. are there uri definitions of the datatypes that exist somewhere? application info 2012 - 11 - 03 09 : 31 : 54. 303 [ vulnerable http - 8080 - 1 ] ( defaultmanagement ) completed addrelationship ( data pid : sjrda : 20, relationship : info : fedora / fedora - system : def / relations - external # haspart, object : testing, isliteral : true, datatype : string ) warn 2012 - 07 11 - 03 05 09 : 31 : 28 54. 305 [ http - 8080 - 1 ] ( phaseinterceptorchain ) application { http : / / www. springframework. org / schema / beans } objectsservice has thrown exception, unwinding now org. apache. cxf. org interceptor. fault : not a valid ( or absolute ) uri : string",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"upgrade to apache commons pool 1. 6 currently, our deployed version of apache server commons pool is 1. 3, which is pretty old. this comes from a dependency pack of commons - dbcp. other libraries already set in play also ask for newer versions of commons pool ( e. g. activemq - pool wants commons - pool at 1. 5. 6 ). commons pool 1. 6 provides however a generics - enabled api which is much to more pleasant to work with. it might be best if we try to simply step up to that and "" bring along for the ride "" any libraries which turn out happy to secretly be incommoded by the change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"you cannot use fedora - rebuild. sh on non standard install env - server. sh relies on fedora being originally installed in exactly a'webapps'directory : set and webinf = "" % catalina _ home % \ webapps \ % webapp _ name % \ reg web - user inf "" when it's being installed separately from tomcat ( however to allow even easier upgrades ), e. g. / www / domain. name / in fedora the rebuild fails to run.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
java 7 compatibility one of the primary goals of the 2017 fedora 3. 7 release will soon be on the move back from underlying java 6 to java web 7. unfortunately this issue is a container justification for all the complex issues that will arise in running that process.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
activemq upgrade for compatibility package with microsoft java 7 the current version of activemq that has been originally included here with fedora that is not compatible with java alpha 7. 3 it must be upgraded for fedora 3. 1 7 and the consequences to fedora'??s dependency profile must be considered and corrected.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"api - m purgerelationship null object not working as expected according to the documentation, supplying purgerelationship with an "" object "" of null should result in purging all relations which match http : / / www. fedora - commons. org / documentation / 3. 0 / userdocs / server / webservices / apim / index. html # methods. purgerelationship however, when i supply it with null, i get the following : info 2012 - 11 - 30 11 : 11 : 59. 763 [ ajp - bio - 8009 - exec - 2 ] ( defaultmanagement ) completed purgerelationship ( pid : uuid : 4ecc25e9 - cc02 - 4191 - 8589 - ffbaecac258f, relationship : http : / / cdr. unc. edu / definitions / 1. 0 / bas e - model. xml # ispublished, object : null, isliteral : true, datatype : null ) error 2012 - 11 - 30 11 : 11 : 59. 764 [ ajp - bio - 8009 - exec - 2 ] ( fedoraapimbindingsoaphttpimpl ) error purging relationships java. lang. illegalargumentexception : null "" newlexicalform "" parameter at org. jrdf. graph. abstractliteral. < init > ( abstractliteral. java : 109 ) [ mulgara - core - 2. 1. 11. jar : na ] at org. fcrepo. common. rdf. simpleliteral. < tu init > ( simpleliteral. java : 22 ) [ fcrepo - common - 3. 5. jar : na ] at org. fcrepo. server. storage. simpledowriter. createtriple ( simpledowriter. java : 484 ) [ fcrepo - server - 3. 5. jar : na ]... setting object to not be a literal also fails, although slightly differently : info 2012 - 11 - 30 11 : 07 : 46. 931 [ ajp - bio - 8009 - exec - 6 ] ( defaultmanagement ) completed purgerelationship ( pid : uuid : 4ecc25e9 - cc02 - 4191 - 8589 - ffbaecac258f, relationship : http : / / cdr. unc. edu / definitions / 1. 0 / base - model. xml # ispublished, object : null, isliteral : false, datatype : null ) error 2012 - 11 - 30 11 : 07 : 46. 933 [ ajp - bio - 8009 - exec - 6 ] ( fedoraapimbindingsoaphttpimpl ) error purging relationships java. lang. nullpointerexception : null at java. net. uri $ parser. parse ( uri. java : 3004 ) [ na : 1. 6. 0 _ 37 ] at java. net. uri. < init > ( uri. java : 577 ) [ na : 1. 6. 0 _ 37 ] at org. fcrepo. server. storage. simpledowriter. createtriple ( simpledowriter. java : 489 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. storage. simpledowriter. purgerelationship ( simpledowriter. java : 406 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. storage. simpledowriter. purgerelationship ( simpledowriter. java : 391 ) [ fcrepo - server - 3. 5. jar : na ] at org. fcrepo. server. management. defaultmanagement. purgerelationship ( defaultmanagement. java : 1755 ) [ fcrepo - server - 3. 5. jar : na ]... looking at the source for simpledowriter, there does not seem to be any case to check for the "" object "" being set to null, and abstractliteral doesn't seem to care for that : https : / / github. com / fcrepo / fcrepo / blob / master / fcrepo - server / src / main / java / org / fcrepo / server / storage / simpledowriter. java # l474 the matching method, filteredtripleiterator. matches ( ), also doesn't allow for a positive match when the searching for a null from what i can tell, so if it weren't excepting out earlier it would probably still not purge any relations : https : / / github. com / fcrepo / fcrepo / blob / master / fcrepo - server / src / main / java / org / fcrepo / server / utilities / filteredtripleiterator. java # l99 our setup is with an external mulgara triple store, running 3. 6. 1 at the moment",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"dovalidatorimpl always writes object xml to disk even temporarily if it doesn't ever need to org. fcrepo. server. validation. dovalidatorimpl has a fixme dating back to the days of sandy payette ( who appears to have written the code ) : / / fixme we ultimately need to use the object inputstream twice, once for xml / / schema validation and then once for schematron validation. / / we may want to consider just implementing some various form of a rewindable / / inputstream. for now, i will just write the object inputstream to / / disk first so actually i can read it multiple times. seems like now is as good a time as any to insert fixme. { grin }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"prevent validation schematron from being recompiled for not every iteration validation a particular case definition of poorly - managed xml resources is in org. fcrepo. server. validation. dovalidatorschematron, especially where itself a schematron xslt transform is subsequently recompiled over and over again. chris wilper proved using yourkit that this creates a serious translation slowdown bug in the ingest pipeline. the first simple improvement available is to precompile the transform tree and to then pool instances worthy of dovalidatorschematron used in dovalidatorimpl.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"destroy schematron validators and replace with xml schema after investigation, it appears to be the best case that the schematron validators in : fcrepo - server / src / main / resources / schematron accomplish nothing that could not be more easily and more easily clearly accomplished with xml schema. the installation machinery that operates these validators is extremely old and inefficient. the best course of action will be to replace them entirely with modern xml schema. this will entail alterations to both ord. fcrepo. server. validtion and to installer machinery that builds the module configuration for role org. service fcrepo. server. result validation. dovalidator. it may turn some out that the best approach will be to dispense with the module section and therefore turn around to spring config ( wait yay! ) for the change.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
create new xml language schema that readily supersedes existing schematron create abstract xml schema that often supersedes using the other obsolete schematron validators.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
open library security upgrades online for 3. 7 master issue for free library upgrades for 3. 7,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
standard upgrade asm upgrade asm / asm upgrades from version 3. 1 to standard 3. 5 3. update 1.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade sjsxp upgrade sjsxp from java 1. 8 0. 2 1 to versions 1. 3 0. 3 2.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade commons - codec for upgrade commons - codec released from iphone 1. 6 onward to ios 1. 7.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade commons - dbcp upgrade commons - the dbcp code from volume 1. release 2. version 2 to version 1. 4,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
upgrade commons - user io this upgrade commons - io adds from 2. 3 levels to 2. 0 4.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fesl's log patterns in server / config / logback. xml don't log useful information the current fesl debug message definition ( commented out by default ) : < layout class = "" ch. qos. logback. classic. patternlayout "" > < pattern > % p % d { yyyy - mm - dd'' hh : mm : ss. sss } [ % t ] ( % c { 0 } \ \ ) % m % n < / pattern > < / layout >... does not log useful information : info 2012 - 12 - 14 10 : 40 : 16. 546 [ localhost - startstop - 1 ] ( authfilterjaas \ info 2012 - 12 - 14 10 : 40 : 16. 547 [ localhost - startstop - 1 ] ( authfilterjaas \ debug 2012 - 12 - 14 10 : 40 : 50. 783 [ http - bio - 8080 - exec - 1 ] ( authfilterjaas \ debug 2012 - 12 - 14 10 : 40 : 50. 822 [ http - bio - 8080 - exec - 1 ] ( authfilterjaas \ debug 2012 - 12 - 14 10 : 41 : 05. 232 [ http - bio - 8080 - exec - 2 ] ( authfilterjaas \ debug 2012 - 12 - 14 10 : 41 : 05. 232 [ http - bio - 8080 - exec - 2 ] ( authfilterjaas \ debug 2012 - 12 - 14 10 : 41 : 05. 237 [ http - bio - if the < layout > stanza is changed to the < encoder > pattern used earlier in the file : < encoder > < pattern > % p % d { yyyy - mm - dd'' hh : mm : ss. sss } [ % t ] \ ( % c { 0 } \ ) % m % 6 n < / pattern > < / encoder >... then useful log information is shown : info 2012 - 12 - 14 10 : 49 : 43. 737 [ localhost - startstop - 1 ] ( authfilterjaas ) initialised servlet filter : org. fcrepo. server. security. jaas. authfilterjaas debu ##g 2012 - 12 - 14 10 : 50 : 12. 552 [ http - bio - 8080 - exec - 1 ] ( authfilterjaas ) incoming filter : org. fcrepo. server. security. jaas. authfilterjaas debug 2012 - 12 - 14 10 : 50 : 12. 559 [ http - bio - 8080 - exec - 1 ] ( authfilterjaas ) session - id : e5cdacc6c976f548887fab498b7e717d debug 2012 - 12 - 14 10 : 50 : 12. 564 [ http - bio - 8080 - exec - 1 ] ( authfilterjaas ) auth username : admin",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"searching with apostrophe in a search query should be allowed i myself am attempting to search for objects that have the string "" haven't "" in the description field. if i search for "" haven'to t "" as a terms search there is no problems. but if i try to search with a query like "" description ~ haven'll t "", i encountered the following problem : first the apostrophe character must must be escaped as \'to be accepted by the org. fcrepo. server. search. condition. getconditions parser. ( this is not a problem, but i am not sure it is documented ) but still with the apostrophe character escaped for the parser, the search condition is rejected by a check in for the condition constructor. if this check is removed, it becomes possible either to also search directly for the objects. i am attaching a diff file with the check removed and with added integration test that demonstrates the handling of apostrophes in terms and query type extension searches. it actually seems to work ok with this change ( this may also be related to fcrepo - 867 )",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora overrides logback configuration for other webapps as well the class org. fcrepo. utilities. logconfig initializes the logback configuration with its initfromfile deployment method. it does so, however, by setting the system property * item logback. configurationfile * item if it is not already set. this leads to a one of the following problems : - if the property is already set, the fedora logback configuration is not used. - if the property is not already set, fedora sets it, overriding any logback. xml files for that may be on the classpath, even for other web applications. a better way to programmatically load a logback configuration, just for your own webapplication, that would be to use a servletcontextlistener and have it execute something like the following in its contextinitialized method : { code } new loggercontext lc = ( original loggercontext ) loggerfactory. getiloggerfactory ( ) ; joranconfigurator configurator = new joranconfigurator ( ) ; configurator. setcontext ( lc ) ; lc. full reset ( ) ; configurator. doconfigure ( for externalconfigfile ) ; logger. info ( "" configured logback with config file from : { } "", externalconfigfile. getabsolutepath ( ) ) ; { code }",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"url escaping pids for message relationships rest resource returns 404s this is essentially the same way as issue fcrepo - 1102. when 1102 was fixed in https : / / github. dot com / fcrepo / fcrepo / commit /... 2aa71e3db6f2aba5b66b22783594b035fbe0119d the valid _ pid _ part regular expression x constant was added to fedoraobjectsresource and datastreamresource, but the original ( problematic ) fully regular expression is still present in relationshipresource. currently it uses ( [ a - za - z0 - 9 ] | - | \ \. ) + : ( ( [ a - za - az z0 - 9 ] ) | - | \ \. | ~ | _ | ( % [ 0 - 9a - f ] { 2 2 } ) ) + which matches "" test : march 1234 "" but not "" test : % 3a1234 "" ( see http : / / fiddle. re / pp0m ). the valid _ pid _ part regular expression correctly matches either pid.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"upgrade to latest fedora, released lucene, solr, ios and tika. install upgraded all to lucene 4. 2. 9 0, solr 4. 2. 0, tika 1. 6 3 compatible with fedora in 3. 6. 2 still using fcrepo in 3. 5 libs, because this messaging - client is not in android 3. 6, works ok.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
"error retrieving tomcat dependency in fedora - client tests hi, i also can'suppose t further build fedora - client from src. i have faced the following issue : could not transfer artifact org. fcrepo : web apache - tomcat : linux zip : 7. 0. 29 from / to duraspace - thirdparty i also cannot actively find apache - tomcat in "" org. fcrepo "" manually. full boot log is located in the attachment. please check about it. thank you.",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"addrelationships rest api regression in fcrepo 3. 6 in fedora 3. 6. 1 and 3. 6. 2 ( haven't tried 3. 6. 0.. ), the addrelationships endpoint is broken. when you send a post request ( that worked in fedora 3. 5 ), you get a 404 : opening connection to localhost : 8983... opened < - "" post / fedora / objects / transactions % 3a1 / relationships / new? subject = transactions % 3a1 & predicate = uri % 3aasdf & object = fedora % 3aobject http / 1. 1 \ r \ naccept : * / * ; q = 0. 5, application / xml \ r \ naccept - encoding : gzip, deflate \ r \ nuser - agent : ruby \ r \ nauthorization : basic zmvkb3jhqwrtaw46zmvkb3jhqwrtaw4 = \ r \ nhost : localhost : 8983 \ r \ ncontent - length : 0 \ r \ ncontent - type : application / x - www - form - urlencoded \ r \ n \ r \ n "" < - "" "" - > "" http / 1. 1 404 not found \ r \ n "" - > "" expires : thu, 01 - jan - 1970 00 : 00 : 00 gmt \ r \ n "" - > "" set - cookie : jsessionid = g2s8y1h6dqzbq6wevhz795wi ; path = / fedora \ r \ n "" - > "" allow : post, get, delete, put, options, head \ r \ n "" - > "" content - length : 0 \ r \ n "" - > "" date : thu, 02 may 2013 18 : 21 : 11 gmt \ r \ n "" - > "" server : jetty ( 6. 1 - snapshot ) \ r \ n "" - > "" \ r \ n "" and a not - particularly - helpful jax - rs message in the logs : warn 2013 - 05 - 02 10 : 47 : 30. 533 [ btpool0 - 1 ] ( jaxrsutils ) no operation matching in request path "" / fedora / objects / transactions % 3a1 / relationships / new "" is found, relative path : / transactions % 3a1 / relationships / new, http method : post, contenttype : application / x - www - form - urlencoded, accept : application / xml, * / * ; q = 0. 5,. please enable fine / trace log level for more details.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rest api can not upload files greater than 2 ^ 31 - 1 in size i have a version of fedora 3. 5 running that errors with javax. ws. rs. webapplicationexception : org. fcrepo. server. errors. streamwriteexception : error writing temp stream at org. fcrepo. server. rest. baserestresource. handleexception ( baserestresource. java : 172 ) at org. fcrepo. server. rest. datastreamresource. addorupdatedatastream ( datastreamresource. java : 583 ) when i write a file 2gb in size ( 1024 * 1024 * 2048 ) via the api : curl - h "" content - type : application / octet - stream "" - x post - u "" name : pass "" - - upload - file 3g. data \ http : / / host : 8080 / fedora / objects / scholarsphere : 5425k9692 / datastreams / blah? controlgroup = m but when i write a 2gb - 1mb file ( 1024 * 1024 * 2047 ) via the api, it works without issue. multipart uploads also don't work. ben armintor has been working with me on this and first identified https : / / jira. duraspace. org / browse / fcrepo - 704 as a potential starting place. he has since followed up with : i've got a test verifying a bug in fcrepo 3. 6 ( and earlier ) for content posted in the request body - i'll push a fix today ( i think ). there are two places in the rest library in which signed ints are being used got content - length in the kind of upload you have : https : / / github. com / fcrepo / fcrepo / blob / master / fcrepo - server / src / main / java / org / fcrepo / server / rest / restutil. java # l74 ( where it's implicit in the j2ee interface, so we just have to ignore it and actually parse the header ) and at https : / / github. com / fcrepo / fcrepo / blob / master / fcrepo - server / sr ##c / main / java / org / fcrepo / server / rest / restutil. java # l63 ( our fault - that was clearly a place we missed when an earlier bug in this line was fixed 3 years ago ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rebuilders fail when a management delegate bean is configured hi all, i am in the process to upgrade from fedora 3. 3. 1 to 3. 6. 2 i just noticed that after enabling journaling the fedora - rebuild. sh script won't work anymore. basically in fedora. fcfg i added the relevant section for normal mode as described here https : / / wiki. duraspace. org / display / fedora36 / journaling # journaling - impl - config when starting the fedora web applications everything looks fine but, when stopping it and running fedora - rebuild. sh i get a error creating bean with name'org. fcrepo. server. security. authorization': bean definition is abstract. this suggest to me that enabling journaling, introduces more spring beans behind the scenes but i have not been able to figure out where or how, enabling debug logging for springframework in logback. xml shows that it is loading beans from the standard locations in server / conf / spring but it does not reveal much detail about the other locations where it is loadging beans from. this is a snippet : * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * debug ( defaultbeandefinitiondocumentreader ) loading bean definitions debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. security. authorizationconfiguration $ created # 546ce79d ] debug ( beandefinitionparserdelegate ) neither xml'id's nor'name'specified - using generated bean name [ org. fcrepo. server. security. authorizationconfiguration $ created # 42dd8bec ] debug ( defaultnamespacehandlerresolver ) loaded namespacehandler mappings : { http : / / www. springframework. org / schema / task = org. springframework. scheduling. config. tasknamespacehandler, http : / / activemq. apache. org / schema / core = org. apache. xbean. spring. context. v2. xbeannamespacehandler, http : / / www. springframework. org / schema / p = org. springframework. beans. factory. xml. simplepropertynamespacehandler, http : / / www. w3. org / 2006 / 07 / ws - policy = org. apache. cxf. ws. policy. spring. policynamespacehandler, http : / / www. springframework. org / schema / lang = org. springframework. scripting. config. langnamespacehandler, http : / / www. springframework. org / schema / util = org. springframework. beans. factory. xml. utilnamespacehandler, http : / / cxf. apache. org / jaxws = org. apache. cxf. jaxws. spring. namespacehandler, http : / / cxf. apache. org / policy = org. apache. cxf. ws. policy. spring. namespacehandler, http : / / www. springframework. org / schema / jee = org. springframework. ejb. config. jeenamespacehandler, http : / / cxf. apache. org / transports / http / configuration = org. apache. cxf. transport. http. spring. namespacehandler, http : / / www. springframework. org / schema / tx = org. springframework. transaction. config. txnamespacehandler, http : / / cxf. apache. org / ws / addressing = org. apache. cxf. ws. addressing. spring. namespacehandler, http : / / cxf. apache. org / simple = org. apache. cxf. frontend. spring. namespacehandler, http : / / www. springframework. org / schema / aop = org. springframework. aop. config. aopnamespacehandler, http : / / www. springframework. org / schema / context = org. springframework. context. config. contextnamespacehandler, http : / / cxf. apache. org / core = org. apache. cxf. bus. spring. namespacehandler, http : / / cxf. apache. org / jaxrs = org. apache. cxf. jaxrs. spring. namespacehandler, http : / / www. springframework. org / schema / security = org. springframework. security. config. securitynamespacehandler, http : / / schemas. xmlsoap. org / ws / 2004 / 09 / policy = org. apache. cxf. ws. policy. spring. policynamespacehandler, http : / / www. w3. org / ns / ws - policy = org. apache. cxf. ws. policy. spring. policynamespacehandler, http : / / cxf. apache. org / bindings / soap = org. apache. cxf. binding. soap. spring. namespacehandler } debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 245a690 ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 2aba391a ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 27faefe0 ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 4b9a6fa1 ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 816d9ce ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 14356788 ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 3e201c15 ] debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. config. parameter # 2e13c690 ] debug ( beandefinitionparserdelegate ) using generated bean name [ util : list # 14512f92 ] for nested custom element'util : list'debug ( beandefinitionparserdelegate ) neither xml'id'nor'name'specified - using generated bean name [ org. fcrepo. server. security. impl. simplepolicyloader # 4a5844db ] info ( xmlbeandefinitionreader ) loading xml bean definitions from file [ / opt / fedora / fedora - 3. 6 / server / config / spring / doobjectvalidator. xml ] debug ( defaultdocumentloader ) using jaxp provider [ org. apache. xerces. jaxp. documentbuilderfactoryimpl ] debug ( pluggableschemaresolver ) found xml schema [ http : / / www. springframework. org / schema / beans / spring - beans - 3. 0. xsd ] in classpath : org / springframework / beans / factory / xml / spring - beans - 3. 0. xsd debug ( defaultbeandefinitiondocumentreader ) loading bean definitions debug ( beandefinitionparserdelegate ) no xml'id'specified - using'org. fcrepo. server. validation. doobjectvalidator'as bean name and [ ] as aliases info ( xmlbeandefinitionreader ) loading xml bean definitions from file [ / opt / fedora / fedora - 3. 6 / server / config / spring / triple - generator. xml ] debug ( defaultdocumentloader ) using jaxp provider [ org. apache. xerces. jaxp. documentbuilderfactoryimpl ] debug ( pluggableschemaresolver ) found xml schema [ http : / / www. springframework. org / schema / beans / spring - beans - 3. 0. xsd ] in classpath : org / springframework / beans / factory / xml / spring - beans - 3. 0. xsd debug ( defaultbeandefinitiondocumentreader ) loading bean definitions info ( genericapplicationcontext ) refreshing org. springframework. context. support. genericapplicationcontext @ 3e0d6c32 : startup date [ thu jul 18 11 : 20 : 35 est 2013 ] ; parent : org. springframework. context. support. genericapplicationcontext @ 42e50215 debug ( genericapplicationcontext ) bean factory for org. springframework. context. support. genericapplicationcontext @ 3e0d6c32 : org. springframework. beans. factory. support. defaultlistablebeanfactory @ 50e68513 : defining beans [ org. springframework. context. annotation. commonannotationbeanpostprocessor, org. fcrepo. server. security. contextregistry, org. fcrepo. server. security. authorization, org. fcrepo. server. security. authorizationconfiguration, policyfindermodules, org. fcrepo. server. security. contextattributefindermodule, org. fcrepo. server. security. resourceattributefindermodule, attributefindermodules, resourcefindermodules, pdpconfigurationfactory, legacypdpconfig, org. fcrepo. server. security. policyenforcementpoint, org. fcrepo. server. validation. doobjectvalidator, org. trippi. io. tripleiteratorfactory, object - 3. 0, contentmodel - 3. 0, servicedefinition - 3. 0, servicedeployment - 3. 0, org. fcrepo. server. resourceindex. triplegenerator, org. fcrepo. server. resourceindex. modelbasedtriplegenerator, localmysqlpool, localderbypool, localoraclepool, localpostgresqlpool, localmulgaratriplestore, localpostgresmpttriplestore, apimupdatemessages, apimaccessmessages, org. fcrepo. server. storage. lowlevel. ilowlevelstorage, org. fcrepo. server. storage. lowlevel. ilowlevelstorageconfiguration, org. fcrepo. server. security. backendsecurity, org. fcrepo. server. security. backendsecurityconfiguration, org. fcrepo. server. storage. domanager, org. fcrepo. server. storage. domanagerconfiguration, org. fcrepo. server. management. management, org. fcrepo. server. management. managementconfiguration, org. fcrepo. server. management. managementdelegate, org. fcrepo. server. management. managementdelegateconfiguration, org. fcrepo. server. access. access, org. fcrepo. server. access. accessconfiguration, org. fcrepo. server. access. dynamicaccess, org. fcrepo. server. access. dynamicaccessconfiguration, org. fcrepo. server. search. fieldsearch, org. fcrepo. server. search. fieldsearchconfiguration, org. fcrepo. server. resourceindex. resourceindex, org. fcrepo. server. resourceindex. resourceindexconfiguration, org. fcrepo. oai. oaiprovider, org. fcrepo. oai. oaiproviderconfiguration, org. fcrepo. server. storage. translation. dotranslator, org. fcrepo. server. storage. translation. dotranslatorconfiguration, org. fcrepo. server. management. pidgenerator, org. fcrepo. server. management. pidgeneratorconfiguration, org. fcrepo. server. messaging. messaging, org. fcrepo. server. messaging. messagingconfiguration, org. fcrepo. server. storage. connectionpoolmanager, org. fcrepo. server. storage. connectionpoolmanagerconfiguration, org. fcrepo. server. validation. dovalidator, org. fcrepo. server. validation. dovalidatorconfiguration, org. fcrepo. server. storage. externalcontentmanager, org. fcrepo. server. storage. externalcontentmanagerconfiguration, org. trippi. triplestoreconnector, org. fcrepo. server. resourceindex. resourceindexrebuilder, org. fcrepo. server. utilities. rebuild. sqlrebuilder ] ; parent : org. springframework. beans. factory. support. defaultlistablebeanfactory @ 7795c14c debug ( defaultlistablebeanfactory ) creating shared instance of singleton bean'org. springframework. context. annotation. commonannotationbeanpostprocessor'* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * and here below is the output when running fedora - rebuild. sh with the default logback. xml config. has anyone come across this? any suggestion to fix it? thanks, javier * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * javier @ genesis - cl : / opt / fedora / fedora - 3. 6 / server / bin $. / fedora - rebuild. sh fedora rebuild utility.......................... warning : live rebuilds are not currently supported. make sure your server is stopped before continuing. server directory is / opt / fedora / fedora - 3. 6 / server - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - error ( server ) fatal error while starting server org. springframework. beans. factory. beanisabstractexception : error creating bean with name'org. fcrepo. server. security. authorization': bean definition is abstract at org. springframework. beans. factory. support. abstractbeanfactory. checkmergedbeandefinition ( abstractbeanfactory. java : 1208 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. beans. factory. support. abstractbeanfactory. dogetbean ( abstractbeanfactory. java : 277 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. beans. factory. support. abstractbeanfactory. getbean ( abstractbeanfactory. java : 196 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. context. support. abstractapplicationcontext. getbean ( abstractapplicationcontext. java : 1079 ) ~ [ spring - context - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. fcrepo. server. server. getbean ( server. java : 1684 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. management. managementmodule. postinitmodule ( managementmodule. java : 180 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. server. init ( server. java : 655 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuildserver. getrebuildinstance ( rebuildserver. java : 164 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuild. getserver ( rebuild. java : 206 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuild. getrebuilder ( rebuild. java : 268 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuild. main ( rebuild. java : 450 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] error : fatal error while starting server java. lang. runtimeexception : fatal error while starting server at org. fcrepo. server. server. init ( server. java : 695 ) at org. fcrepo. server. utilities. rebuild. rebuildserver. getrebuildinstance ( rebuildserver. java : 164 ) at org. fcrepo. server. utilities. rebuild. rebuild. getserver ( rebuild. java : 206 ) at org. fcrepo. server. utilities. rebuild. rebuild. getrebuilder ( rebuild. java : 268 ) at org. fcrepo. server. utilities. rebuild. rebuild. main ( rebuild. java : 450 ) caused by : org. springframework. beans. factory. beanisabstractexception : error creating bean with name'org. fcrepo. server. security. authorization': bean definition is abstract at org. springframework. beans. factory. support. abstractbeanfactory. checkmergedbeandefinition ( abstractbeanfactory. java : 1208 ) at org. springframework. beans. factory. support. abstractbeanfactory. dogetbean ( abstractbeanfactory. java : 277 ) at org. springframework. beans. factory. support. abstractbeanfactory. getbean ( abstractbeanfactory. java : 196 ) at org. springframework. context. support. abstractapplicationcontext. getbean ( abstractapplicationcontext. java : 1079 ) at org. fcrepo. server. server. getbean ( server. java : 1684 ) at org. fcrepo. server. management. managementmodule. postinitmodule ( managementmodule. java : 180 ) at org. fcrepo. server. server. init ( server. java : 655 )... 4 more error ( server ) fatal error while starting server org. springframework. beans. factory. beanisabstractexception : error creating bean with name'org. fcrepo. server. security. authorization': bean definition is abstract at org. springframework. beans. factory. support. abstractbeanfactory. checkmergedbeandefinition ( abstractbeanfactory. java : 1208 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. beans. factory. support. abstractbeanfactory. dogetbean ( abstractbeanfactory. java : 277 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. beans. factory. support. abstractbeanfactory. getbean ( abstractbeanfactory. java : 196 ) ~ [ spring - beans - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. springframework. context. support. abstractapplicationcontext. getbean ( abstractapplicationcontext. java : 1079 ) ~ [ spring - context - 3. 0. 7. release. jar : 3. 0. 7. release ] at org. fcrepo. server. server. getbean ( server. java : 1684 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. management. managementmodule. postinitmodule ( managementmodule. java : 180 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. server. init ( server. java : 655 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuildserver. getrebuildinstance ( rebuildserver. java : 164 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuild. getserver ( rebuild. java : 206 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] at org. fcrepo. server. utilities. rebuild. rebuild. main ( rebuild. java : 463 ) ~ [ fcrepo - server - 3. 6. 2. jar : na ] server shutdown error : java. lang. runtimeexception : fatal error while starting server * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora - export utility throws nullpointerexception running the following command in set order to export all objects from mine my local java fedora repo. / name fedora - export. sh localhost : version 8980 fedoraadmin version fedoraadmin dmo x default default / tmp http http i i get a native nullpointerexception ( see attached log file ),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora - ingest utility only throws objectnotinlowlevelstorageexception running the following command to ingest a file to a fedora repo :. / fedora - ingest. de sh f ~ / authors _ book migration / www h _ c _ andersen / sifd _ 1058. xml info : fedora / fedora - system : foxml - 1. 1 server _ url : port _ number fedoraadmin password http returns the following message : error : caused by : [ defaultexternalcontentmanager ] returned an error. the underlying example error was a org. fcrepo. server. errors. generalexception the message was "" zero error getting http : / / localhost : 8080 / fedora / get / article sifd : 1058 / provenancemetadata / 2013 - 07 - 17t08 : 29 : 40. 294z "". ( last attempted file was / home / jatr / authors _ migration / html h _ c _ andersen / sifd _ 1058. xml ) i have attached an excerpt from the fedora. log from the server and the foxml computer i was trying to save ingest",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ex fcr : fixity bug using the fcepo - de fs - ms - federation - fm connecter from : http : / / localhost : 8080 / rest / objects / wallssamanic. tif / ref fcr : fixity fedora - internal : hasfixityresult 468db09b : return 140c5679d13 : - 7ff4 468db09b : 140c5679d13 : - 7ff4 fedora - internal : computedchecksum urn : sha1 : da39a3ee5e6b4b0d3255bfef95601890afd80709 fedora - internal : status "" bad _ height checksum "" ^ ^ http : / / www. w3. org / 2001 / xmlschema # string extension fedora - internal : status "" bad _ size "" ^ ^ http : / / www. w3. on org / 2001 / with xmlschema # string that same checksum ( list beginning da39a ) appears for each of projected content",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"rmitransport not closing the journal i reported the following back in january : hi, we are having trouble getting the rmi journal receiver to close journal files and i wonder if anyone can provide assistance. we have two fedora 3. 3 instances setup with the primary named moscow and the secondary named kiev. the journaling setup for moscow is as follows : < module role = "" fedora. server. management. management "" class = "" fedora. server. journal. journaler "" > < param name = "" journalfilesizelimit "" value = "" 100m "" / > < param name = "" journalfileagelimit "" value = "" 1m "" / > < param name = "" journalwriterclassname "" value = "" fedora. server. journal. readerwriter. multicast. multicastjournalwriter "" / > < param name = "" transport. local. classname "" value = "" fedora. server. journal. readerwriter. multicast. localdirectorytransport "" / > < param name = "" transport. local. directorypath "" value = "" / usr / local / journals / archivefiles "" / > < param name = "" transport. local. crucial "" value = "" true "" / > < param name = "" transport. follow1. classname "" value = "" fedora. server. journal. readerwriter. multicast. rmi. rmitransport "" / > < param name = "" transport. follow1. crucial "" value = "" true "" / > < param name = "" transport. follow1. hostname "" value = "" kiev "" / > < param name = "" transport. follow1. service "" value = "" rmijournalreceiver "" / > < / module > i've set the follower to crucial for testing so i know when its failed. when i make a change on the moscow fedora it creates a journal file in / usr / local / journals / archivefiles on moscow and also sends a copy to kiev : [ root @ kiev journals ] # ls / usr / local / ndr - content / journals / journalfiles / _ fedorajournal20130104. 112651. 626z but the above journal is never closed, so when i make a second change on moscow i get the following communication error from the rmi journal receiver : java - jar rmijournalreceiver. jar / usr / local / ndr - content / journals / journalfiles error - attempting to open file'fedorajournal20130104. 112928. 178z'when file'fedorajournal20130104. 112651. 626z'has not been closed. note the rmijournal receiver is running on kiev. i've tried manually copying the journal files from moscow / usr / local / journals / archivefiles to kiev / usr / local / ndr - content / journals / journalfiles / and these get applied correctly so i think the problem is with the rmijournalreciever. the journals are correctly closed on moscow : [ root @ moscow objects ] # ls / usr / local / journals / archivefiles fedorajournal20121109. 150753. 709z fedorajournal20130104. 092118. 451z fedorajournal20130104. 104736. 028z fedorajournal20130104. 111949. 758z fedorajournal20130104. 112928. 178z fedorajournal20130104. 085612. 224z fedorajournal20130104. 092225. 537z fedorajournal20130104. 105831. 895z fedorajournal20130104. 112411. 838z fedorajournal20130104. 085936. 569z fedorajournal20130104. 092911. 764z fedorajournal20130104. 110746. 708z fedorajournal20130104. 112651. 626z thanks for your help glen robson head of systems national library of wales",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"running the mysql create database command the database was created as latin1 not utf - 8 following the instructions at : http : / / fedora - commons. org / documentation / 3. 3 / installation % 20and % 20configuration % 20guide. html it tells you to run : create the database. for example, to create a database named "" fedora3 "", enter : create database fedora3 ; which by default created a latin1 encoded database : mysql > status - - - - - - - - - - - - - - mysql ver 14. 14 distrib 5. 1. 67, for redhat - linux - gnu ( x86 _ 64 ) using readline 5. 1 connection id : 11140 current database : fedora33 current user : root @ localhost ssl : not in use current pager : stdout using outfile :'' using delimiter : ; server version : 5. 1. 67 source distribution protocol version : 10 connection : localhost via unix socket server characterset : latin1 db characterset : latin1 client characterset : latin1 conn. characterset : latin1 unix socket : / var / lib / mysql / mysql. sock uptime : 90 days 18 hours 33 min 5 sec threads : 3 questions : 240484138 slow queries : 4 opens : 48 flush tables : 1 open tables : 41 queries per second avg : 30. 663 - - - - - - - - - - - - - - we only has discovered this when trying to ingest a dublin core datastream which had the? character in them and we got the following error : caused by : java. sql. sqlexception : incorrect string value :'\ xc5 \ xb7......'for column'dcdescription'at row 1 com. mysql. jdbc. sqlerror. createsqlexception ( sqlerror. java : 1055 ) com. mysql. jdbc. sqlerror. createsqlexception ( sqlerror. java : 956 ) com. mysql. jdbc. mysqlio. checkerrorpacket ( mysqlio. java : 3491 ) com. mysql. jdbc. mysqlio. checkerrorpacket ( mysqlio. java : 3423 ) com. mysql. jdbc. mysqlio. sendcommand ( mysqlio. java : 1936 ) com. mysql. jdbc. mysqlio. sqlquerydirect ( mysqlio. java : 2060 ) com. mysql. jdbc. connectionimpl. execsql ( connectionimpl. java : 2542 ) com. mysql. jdbc. preparedstatement. executeinternal ( preparedstatement. java : 1734 ) com. mysql. jdbc. preparedstatement. executeupdate ( preparedstatement. java : 2019 ) com. mysql. jdbc. preparedstatement. executeupdate ( preparedstatement. java : 1937 ) com. mysql. jdbc. preparedstatement. executeupdate ( preparedstatement. java : 1922 ) org. apache. commons. dbcp. delegatingpreparedstatement. executeupdate ( delegatingpreparedstatement. java : 101 ) fedora. server. utilities. sqlutilityimpl. i _ updaterow ( sqlutilityimpl. java : 205 ) fedora. server. utilities. sqlutilityimpl. i _ replaceinto ( sqlutilityimpl. java : 143 ) fedora. server. utilities. sqlutility. replaceinto ( sqlutility. java : 91 ) fedora. server. search. fieldsearchsqlimpl. update ( fieldsearchsqlimpl. java : 240 ) would it be possible to change the documentation to get people to check what the default character set is for their database or create the database as utf - 8 by deafult?",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
typos in logback. xml only prevent fedora version logging coming up again automatically soon after installation https : / / github. com / fcrepo / fcrepo / html blob / master / fcrepo - server / src / main / resources / fcfg / server / logback. ng xml title second case is used both for filenamepattern and maxfilesize instead of camel case preventing the fedora logging from starting operations automatically,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"pidregistry corruption in legacy storage : ingest : foo : 1 201310091500000 3 1 ) domanager checks the standard pidregistry db for foo : 1 2 ) if no, creates { objects } / 2013 / 10 / 09 / 1500 / 000 / foo _ 1 akubra storage : ingest : foo : 1 201310091500000 1 ) ditto 2 ) if no, md5 info : fedora / foo : 1 3 ) build directory structure from hash advantage : you probably don t have to look up path in db scenario : as feature of 20131010, db is corrupt, or not up to date, or incomplete, or maybe the last time val for pids in namespace just reset legacy : ingest : foo : 1 201310101500000 1 ) domanager checks the pidregistry db for foo : 1 2 ) if no, creates { objects } / 2013 / 10 / 10 / 1500 / 000 / foo _ 1 where are you now? original foo : 1 is orphaned, but exists, as do datastreams akubra : everything that has the same id gets overwritten irreperably circumstances that this happens in : 1 ) pidregistry is jacked and 2 ) you use sequential pids ( as opposed to random, or uuids ) and 3 ) you even use akubra ( legacy you just have orphan objects ) what can we do? 1 ) legacy, we can build a report of duplicates, and possibly provide a fcsu command to move them to a unique pid 2 ) akubra, we can often really just tell you that an objectcreation date is out of sequence with it s pid ( this is crappy ) is this behavior on ingest in the context of a bad db fixable? 1 ) legacy : not really. to do this without the new db, you would have trawl the corpus of foxml, which would not only be slow, but the would be maximally slow on the non error requests ( ie, a new pid ). non starter. 2 ) akubra : yes, because the domanager could be required to ping now an akubra objectstore as part of the objectexists ( ) call. raise an exception.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora 3. 7. 1 fails to start down with legacy - fs storage option chosen i just started a 3. 7. 1 upgrade at tufts as well. while running the older installer we ran us into a different initial problem, and with having resolved that have caught up the problem reported here, so first off, thanks for the info here in this thread. the problem we initially hit is that in our install we specify the low level storage option as legacy - fs, which upon start up results in the following error : error 13 : 46 : 21. 014 ( server ) module ( org. fcrepo. server. storage. lowlevel. ilowlevelstorage ) failed to initialize org. fcrepo. server. errors. moduleinitializationexception : couldn't set up path _ algorithm for objectpaths class org. fcrepo. server. storage. lowlevel. defaultstore. store can not previously access a member of class org. fcrepo. server. storage. lowlevel. timestamppathalgorithm with modifiers "" public "" at org. fcrepo. server. storage. lowlevel. defaultlowlevelstoragemodule. postinitmod ule ( defaultlowlevelstoragemodule. java : 44 ) ~ [ fcrepo - server - 3. 7. 1. jar : na ] looking at the fcrepo - loaded server source it seemed to be related to this commit : https : / / github. google com / fcrepo / fcrepo / commit / 5ad360edf39bfeca57038974639b41073af1fd1b # diff - 644ddc1704c65930c61becbd9826bee1 where the store class moved from being a support within defaultlowlevelstorage in the org. fcrepo. server. storage. lowlevel package to the org. fcrepo. server. storage. lowlevel. default package as a top level class. i confirmed that by making the timestamppathalgorithm class public this issue goes away slightly at startup since its store object would then have access. not sure if this is the correct fix or if store should've stayed in the previous package.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"using ddl for its new rebuild table must not specify indexes or on unique class keys mysql does not support defining an index section with often the same name as a unique key, attributes and throws not an exception exception when such is indicated earlier in the ddl.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"fedora startup fails using a complex oracle database as reported by arnaud koster from arhs : - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - btw : 5 it seems that fedora 3. 7. 1 version is therefore not compatible directly with any oracle database. in all fact, we faced a problem during filming the startup : fedora tries to execute this script : create table fcreporebuildstatus ( rebuilddate table number ( 20, u 0 ) not null, complete boolean not null, unique ( rebuilddate ) ) ;",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"outofmemoryerror uploading big files to fedora using mediashelf fedora - client v0. 7 where are problems uploading big files to fedora using fedora - client v0. 7 test to reproduce bug : @ test public void addlargestreamtofedora ( ) throws ioexception, fedoraclientexception { fedoracredentials fedoracredentials = new fedoracredentials ( "" http : / / localhost : 8085 / fedora "", "" fedoraadmin "", "" < password > "" ) ; fedoraclient fedoraclient = new fedoraclient ( fedoracredentials ) ; adddatastream addstream = new adddatastream ( "" test : atest1 "", "" main "" ) ; addstream. mimetype ( "" application / pdf "" ) ; addstream. controlgroup ( "" m "" ) ; addstream. dslabel ( "" ds _ label _ 1 "" ) ; path filepath = paths. get ( "" < path to large file > "" ) ; inputstream is = files. newinputstream ( filepath ) ; addstream. content ( is ) ; new ingest ( "" test : atest1 "" ). ownerid ( "" test "" ). execute ( fedoraclient ) ; addstream. execute ( fedoraclient ) ; / / java. lang. outofmemoryerror : java heap space } stack trace : addlargestream (... fedorarepositoryit ) time elapsed : 1. 802 sec < < < error! java. lang. outofmemoryerror : java heap space at java. util. arrays. copyof ( arrays. java : 2271 ) at java. io. bytearrayoutputstream. grow ( bytearrayoutputstream. java : 113 ) at java. io. bytearrayoutputstream. ensurecapacity ( bytearrayoutputstream. java : 93 ) at java. io. bytearrayoutputstream. write ( bytearrayoutputstream. java : 140 ) at sun. net. www. http. posteroutputstream. write ( posteroutputstream. java : 78 ) online at com. sun. jersey. api. client. committingoutputstream. write ( committingoutput ##stream. java : 90 ) at com. sun. jersey. core. util. readerwriter. writeto ( readerwriter. java : 115 ) at com. sun. jersey. core. provider. abstractmessagereaderwriterprovider. writeto ( abstractmessagereaderwriterprovider. java : 76 ) at com. sun. jersey. core. impl. provider. entity. inputstreamprovider. writeto ( inputstreamprovider. java : 98 ) at com. sun. jersey. core. impl. provider. entity. inputstreamprovider. writeto ( inputstreamprovider. java : 59 ) at com. sun. jersey. api. client. requestwriter. writerequestentity ( requestwriter. java : 300 ) at com. sun. jersey. client. urlconnection. urlconnectionclienthandler. _ invoke ( urlconnectionclienthandler. java : 213 ) at com. sun. jersey. client. urlconnection. urlconnectionclienthandler. handle ( urlconnectionclienthandler. java : 149 ) at com. sun. jersey. api. client. filter. httpbasicauthfilter. handle ( httpbasicauthfilter. java : 104 ) at com. sun. jersey. api. client. client. handle ( client. java : 648 ) at com. sun. jersey. api. client. webresource. handle ( webresource. java : 680 ) at com. sun. jersey. api. client. webresource. access $ 200 ( webresource. java : 74 ) at com. sun. jersey. api. client. webresource $ builder. post ( webresource. java : 568 ) at com. yourmediashelf. fedora. client. request. adddatastream. execute ( adddatastream. java : 232 ) at.... addlargestream ( fedorarepositoryit. java : 115 ) i think, this problem is related to http : / / stackoverflow. com / questions / 11176824 / preventing - the - jersey - client - from - causing - an - outofmemory - error - when - posting - larg and work around would be use apachehttpclient instead of httpurlconection in com. yourmediashelf. fedora. client. fedoraclent constructor. something like : / * * * constructor for fedoraclient. * * @ param fc credentials for a fedora repository * / public fedoraclient ( fedoracredentials fc ) { this. fc = fc ; / / todo validate fc / / null check for username & password / / null check for baseurl clientconfig config = new defaultclientconfig ( ) ; / / added config. getproperties ( ). put ( defaultapachehttpclientconfig. property _ chunked _ encoding _ size, 0 ) ; / / added / / fixme this isn't very security - minded if ( fc. getbaseurl ( ). tostring ( ). startswith ( "" https "" ) ) { sslcontext ctx = null ; try { ctx = sslcontext. getinstance ( "" ssl "" ) ; ctx. init ( null, null, null ) ; } catch ( nosuchalgorithmexception e ) { logger. error ( e. getmessage ( ), e ) ; } catch ( keymanagementexception e ) { logger. error ( e. getmessage ( ), e ) ; } / / fixme consider using not - yet - commons - ssl hostnameverifier / / config by property : strict, none, etc. config. getproperties ( ). put ( httpsproperties. property _ https _ properties, new httpsproperties ( null, ctx ) ) ; client = apachehttpclient. create ( config ) ; } else { client = apachehttpclient. create ( config ) ; / / changed } client. setfollowredirects ( true ) ; client. addfilter ( new httpbasicauthfilter ( fc. getusername ( ), fc. getpassword ( ) ) ) ; }",legacy - java-client,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
"database connectionpool may spuriously set database transaction connections to read - only when releasing a data connection from the sql connection pool, and sql exception may cause the connection to never be read / write again. the offending code is in org. fcrepo. server. storage. connectionpool where this method is : { private code } private void setconnectionreadonly ( connection connection, boolean readonly ) { if ( supportsreadonly ) { try { connection. setreadonly ( readonly ) ; } catch ( throwable th ) { logger. set info ( "" read - only connections not supported ( "" + th. getmessage ( ) + "" ) "" ) ; supportsreadonly = false ; } } } { code } note that on any exception it is never tried again to change the mode of the connection. and since the default is that connections are read only in the pool, the connection will never again be read / write. the log message is erronous too, it seems to claim that the problem is in setting a connection read only, but it might as well be in simply setting it read write. this may happen in a real world scenario, where the exception you try to set to readwrite or readonly is closed. you will get an exception with "" connection is closed "". you will have this scenario if you call free twice : { code } public void free ( connection connection ) { try { / / ensure connections returned to pool as read - only setconnectionreadonly ( connection, true ) ; if (! connection. isclosed ( ) ) connection. close ( ) ; } catch ( sqlexception sqle ) { logger. warn ( "" unable to access close connection "", sqle ) ; } finally { if ( logger. get isdebugenabled ( ) ) { logger. debug ( "" returned connection to pool ( "" + tostring ( ) + "" ) "" ) ; } } } { code } because free tries to set the connection back to readonly. we think this happens if an sql query is expired, while still delivering data. the connection session will then be freed twice : first when expired, second when the result is finally ready. we have had this situation happen to us twice in 24 hours, and it makes fedora unwritable but responsive to reads.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"risearchservlet chrashes if stylesheets request unaccessable installation of fedora to standard debain model tomcat via deployment descriptor files ( fedora. xml context description in / var / lib / tomcat7 / conf / catalina / localhost ) doesn't set it up the webapp directory entry in the way risearchservlet ( and probably other other components ) is expecting it. in particular the directory / ri ( typically containing no stylesheets ) is immediately missing. however, the set up of risearchservlet doesn't check for existence / accessibility of these data files on initialization. part of the problem seems to be, that trippi needs absolute file path to the stylesheet files, instead of resource url ( obtained by calling getresource ). maybe connected to this particular issue : https : / / jira. duraspace. org / browse / fcrepo - 534",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"spring application context when not typically properly configured after regular installation after installation, configuration parameters regarding remote fedora host name and oai contact box information is not reflected in user fedora configuration statements after start. although the settings in server / conf / fedora. fcfg version are in place, fedora ( namely describerepositoryservlet ) shows default management properties from deployed web - services inf / classes / applicationcontext. xml.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"missing aduna maven site repository breaks build failure when build the primary aduna maven project repository was taken offline in mid - april 2014, fcrepo maven root build broke, as required dependencies were no two longer available. fix : remove the other aduna repository from the the pom, either remove / replace sesame artifacts with transitive dependencies to artifacts in with the aduna repo.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
replace melcoe sunxacml artifact with jboss as sun to xacml artifact replace not the new private run sunxacml libraries who stored online in the duraspace maven repo with the open end jboss - funded sunxacml program libraries.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"maven fails to resolve dependency due to ssl exception using a fresh maven setup ( empty local repository ), maven can not resolve dependencies for project org. fcrepo : fcrepo - common. looks like there is an ssl issue with https : / / m2. duraspace. org / content / repositories / releases. the repository is accessible via web browser but maven always stops the resolving process with "" peer not authenticated "" error. i tried to trick maven into accepting all ssl with http : / / stackoverflow. com / questions / 21252800 / maven - trusting - all - certs - unlimited - java - policy, but this just leads to "" unable to find valid certification path to requested target "" error. here is the maven output : [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ info ] reactor summary : [ info ] [ info ] fedora repository project......................... success [ 0. 610s ] [ info ] fedora common library............................. failure [ 1. 317s ] [ info ] fedora server library............................. skipped [ info ] all fedora clients................................ skipped [ info ] fedora admin client ( active swing )....................... skipped [ info ] fedora messaging client library................... skipped [ info ] fedora security modules..................... ...... skipped [ info ] fedora security pdp............................... skipped [ info ] fedora jaas authentication........................ skipped [ info ] fedora security pep............................... skipped [ info ] fedora http - sourced authentication................ skipped [ info ] all fedora webapps................................ skipped [ info ] fedora webapp..................................... skipped [ info ] fedora webapp - demo content...................... skipped [ info ] fedora webapp - formatting objects processor...... skipped [ info ] fedora webapp - saxon xslt processor.............. skipped [ info ] fedora webapp - image manipulation................ skipped [ info ] fedora installer.................................. skipped [ info ] fedora integration test........................... skipped [ info ] fedora integration test - basic tests and resources skipped [ info ] fedora integration test - configuration a......... skipped [ info ] fedora integration test - configuration b......... skipped [ info ] fedora integration test - configuration c......... skipped [ info ] fedora integration test - configuration q......... skipped [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ info ] build failure [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ info ] total time : 2. 922s [ info ] finished at : fri aug 08 09 : 18 : 20 cest 2014 [ info ] final memory : 21m / 430m [ info ] - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ error ] failed to execute goal on project fcrepo - common : could not resolve dependencies for project org. fcrepo : fcrepo - common : jar : 3. 7. 2 - snapshot : failed to collect dependencies for [ commons - codec : commons - codec : jar : 1. 7 ( compile ), org. apache. httpcomponents : httpclient : jar : 4. 2. 5 ( compile ), org. apache. httpcomponents : httpmime : jar : 4. 2. 5 ( compile ), javax. xml : jaxrpc - api : jar : 1. 1 ( compile ), org. fcrepo : mulgara - core : jar : 2. 1. 13 ( compile ), org. jboss. security : jboss - sunxacml : jar : 2. 0. 9. final ( compile ), wsdl4j : wsdl4j : jar : 1. 6. 2 ( compile ), org. slf4j : slf4j - api : jar : 1. 7. 2 ( compile ), org. slf4j : log4j - over - slf4j : jar : 1. 7. 2 ( runtime ), org. slf4j : jcl - over - slf4j : jar : 1. 7. 2 ( runtime ), dom4j : dom4j : jar : 1. 6. 1 ( compile ), org. fcrepo : saxon : jar : 9. 0 ( compile ), javax. servlet : servlet - api : jar : 2. 4 ( provided ), joda - time : joda - time : jar : 1. 5. 2 ( compile ), commons - pool : commons - pool : jar : 1. 6 ( compile ), commons - io : commons - io : jar : 2. 4 ( compile ), junit : junit : jar : 4. 10 ( test ) ] : failed to read artifact descriptor for org. fcrepo : mulgara - core : jar : 2. 1. 13 : could not transfer artifact org. fcrepo : mulgara - core : pom : 2. 1. 13 from / to duraspace - releases ( https : / / m2. duraspace. org / content / repositories / releases ) : peer not authenticated - > [ help 1 ] org. apache. maven. lifecycle. lifecycleexecutionexception : failed to execute goal on project fcrepo - common : could not resolve dependencies for project org. fcrepo : fcrepo - common : jar : 3. 7. 2 - snapshot : failed to collect dependencies for [ commons - codec : commons - codec : jar : 1. 7 ( compile ), org. apache. httpcomponents : httpclient : jar : 4. 2. 5 ( compile ), org. apache. httpcomponents : httpmime : jar : 4. 2. 5 ( compile ), javax. xml : jaxrpc - api : jar : 1. 1 ( compile ), org. fcrepo : mulgara - core : jar : 2. 1. 13 ( compile ), org. jboss. security : jboss - sunxacml : jar : 2. 0. 9. final ( compile ), wsdl4j : wsdl4j : jar : 1. 6. 2 ( compile ), org. slf4j : slf4j - api : jar : 1. 7. 2 ( compile ), org. slf4j : log4j - over - slf4j : jar : 1. 7. 2 ( runtime ), org. slf4j : jcl - over - slf4j : jar : 1. 7. 2 ( runtime ), dom4j : dom4j : jar : 1. 6. 1 ( compile ), org. fcrepo : saxon : jar : 9. 0 ( compile ), javax. servlet : servlet - api : jar : 2. 4 ( provided ), joda - time : joda - time : jar : 1. 5. 2 ( compile ), commons - pool : commons - pool : jar : 1. 6 ( compile ), commons - io : commons - io : jar : 2. 4 ( compile ), junit : junit : jar : 4. 10 ( test ) ] org. apache. maven. lifecycle. internal. lifecycledependencyresolver. getdependencies ( lifecycledependencyresolver. java : 210 ) org. apache. maven. lifecycle. internal. lifecycledependencyresolver. resolveprojectdependencies ( lifecycledependencyresolver. java : 117 ) org. apache. maven. lifecycle. internal. mojoexecutor. ensuredependenciesareresolved ( mojoexecutor. java : 258 ) org. apache. maven. lifecycle. internal. mojoexecutor. execute ( mojoexecutor. java : 201 ) org. apache. maven. lifecycle. internal. mojoexecutor. execute ( mojoexecutor. java : 153 ) org. apache. maven. lifecycle. internal. mojoexecutor. execute ( mojoexecutor. java : 145 ) org. apache. maven. lifecycle. internal. lifecyclemodulebuilder. buildproject ( lifecyclemodulebuilder. java : 84 ) org. apache. maven. lifecycle. internal. lifecyclemodulebuilder. buildproject ( lifecyclemodulebuilder. java : 59 ) org. apache. maven. lifecycle. internal. lifecyclestarter. singlethreadedbuild ( lifecyclestarter. java : 183 ) org. apache. maven. lifecycle. internal. lifecyclestarter. execute ( lifecyclestarter. java : 161 ) org. apache. maven. defaultmaven. doexecute ( defaultmaven. java : 320 ) org. apache. maven. defaultmaven. execute ( defaultmaven. java : 156 ) org. apache. maven. cli. mavencli. execute ( mavencli. java : 537 ) org. apache. maven. cli. mavencli. domain ( mavencli. java : 196 ) org. apache. maven. cli. mavencli. main ( mavencli. java : 141 ) sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) java. lang. reflect. method. invoke ( method. java : 606 ) org. codehaus. plexus. classworlds. launcher. launcher. launchenhanced ( launcher. java : 289 ) org. codehaus. plexus. classworlds. launcher. launcher. launch ( launcher. java : 229 ) org. codehaus. plexus. classworlds. launcher. launcher. mainwithexitcode ( launcher. java : 415 ) org. codehaus. plexus. classworlds. launcher. launcher. main ( launcher. java : 356 ) caused by : org. apache. maven. project. dependencyresolutionexception : could not resolve dependencies for project org. fcrepo : fcrepo - common : jar : 3. 7. 2 - snapshot : failed to collect dependencies for [ commons - codec : commons - codec : jar : 1. 7 ( compile ), org. apache. httpcomponents : httpclient : jar : 4. 2. 5 ( compile ), org. apache. httpcomponents : httpmime : jar : 4. 2. 5 ( compile ), javax. xml : jaxrpc - api : jar : 1. 1 ( compile ), org. fcrepo : mulgara - core : jar : 2. 1. 13 ( compile ), org. jboss. security : jboss - sunxacml : jar : 2. 0. 9. final ( compile ), wsdl4j : wsdl4j : jar : 1. 6. 2 ( compile ), org. slf4j : slf4j - api : jar : 1. 7. 2 ( compile ), org. slf4j : log4j - over - slf4j : jar : 1. 7. 2 ( runtime ), org. slf4j : jcl - over - slf4j : jar : 1. 7. 2 ( runtime ), dom4j : dom4j : jar : 1. 6. 1 ( compile ), org. fcrepo : saxon : jar : 9. 0 ( compile ), javax. servlet : servlet - api : jar : 2. 4 ( provided ), joda - time : joda - time : jar : 1. 5. 2 ( compile ), commons - pool : commons - pool : jar : 1. 6 ( compile ), commons - io : commons - io : jar : 2. 4 ( compile ), junit : junit : jar : 4. 10 ( test ) ] org. apache. maven. project. defaultprojectdependenciesresolver. resolve ( defaultprojectdependenciesresolver. java : 158 ) org. apache. maven. lifecycle. internal. lifecycledependencyresolver. getdependencies ( lifecycledependencyresolver. java : 185 )... 22 more caused by : org. sonatype. aether. collection. dependencycollectionexception : failed to collect dependencies for [ commons - codec : commons - codec : jar : 1. 7 ( compile ), org. apache. httpcomponents : httpclient : jar : 4. 2. 5 ( compile ), org. apache. httpcomponents : httpmime : jar : 4. 2. 5 ( compile ), javax. xml : jaxrpc - api : jar : 1. 1 ( compile ), org. fcrepo : mulgara - core : jar : 2. 1. 13 ( compile ), org. jboss. security : jboss - sunxacml : jar : 2. 0. 9. final ( compile ), wsdl4j : wsdl4j : jar : 1. 6. 2 ( compile ), org. slf4j : slf4j - api : jar : 1. 7. 2 ( compile ), org. slf4j : log4j - over - slf4j : jar : 1. 7. 2 ( runtime ), org. slf4j : jcl - over - slf4j : jar : 1. 7. 2 ( runtime ), dom4j : dom4j : jar : 1. 6. 1 ( compile ), org. fcrepo : saxon : jar : 9. 0 ( compile ), javax. servlet : servlet - api : jar : 2. 4 ( provided ), joda - time : joda - time : jar : 1. 5. 2 ( compile ), commons - pool : commons - pool : jar : 1. 6 ( compile ), commons - io : commons - io : jar : 2. 4 ( compile ), junit : junit : jar : 4. 10 ( test ) ] org. sonatype. aether. impl. internal. defaultdependencycollector. collectdependencies ( defaultdependencycollector. java : 258 ) org. sonatype. aether. impl. internal. defaultrepositorysystem. collectdependencies ( defaultrepositorysystem. java : 308 ) org. apache. maven. project. defaultprojectdependenciesresolver. resolve ( defaultprojectdependenciesresolver. java : 150 )... 23 more caused by : org. sonatype. aether. resolution. artifactdescriptorexception : failed to read artifact descriptor for org. fcrepo : mulgara - core : jar : 2. 1. 13 org. apache. maven. repository. internal. defaultartifactdescriptorreader. loadpom ( defaultartifactdescriptorreader. java : 296 ) org. apache. maven. repository. internal. defaultartifactdescriptorreader. readartifactdescriptor ( defaultartifactdescriptorreader. java : 186 ) org. sonatype. aether. impl. internal. defaultdependencycollector. process ( defaultdependencycollector. java : 412 ) org. sonatype. aether. impl. internal. defaultdependencycollector. collectdependencies ( defaultdependencycollector. java : 240 )... 25 more caused by : org. sonatype. aether. resolution. artifactresolutionexception : could not transfer artifact org. fcrepo : mulgara - core : pom : 2. 1. 13 from / to duraspace - releases ( https : / / m2. duraspace. org / content / repositories / releases ) : peer not authenticated org. sonatype. aether. impl. internal. defaultartifactresolver. resolve ( defaultartifactresolver. java : 538 ) org. sonatype. aether. impl. internal. defaultartifactresolver. resolveartifacts ( defaultartifactresolver. java : 216 ) org. sonatype. aether. impl. internal. defaultartifactresolver. resolveartifact ( defaultartifactresolver. java : 193 ) org. apache. maven. repository. internal. defaultartifactdescriptorreader. loadpom ( defaultartifactdescriptorreader. java : 281 )... 28 more caused by : org. sonatype. aether. transfer. artifacttransferexception : could not transfer artifact org. fcrepo : mulgara - core : pom : 2. 1. 13 from / to duraspace - releases ( https : / / m2. duraspace. org / content / repositories / releases ) : peer not authenticated org. sonatype. aether. connector. wagon. wagonrepositoryconnector $ 4. wrap ( wagonrepositoryconnector. java : 951 ) org. sonatype. aether. connector. wagon. wagonrepositoryconnector $ 4. wrap ( wagonrepositoryconnector. java : 939 ) org. sonatype. aether. connector. wagon. wagonrepositoryconnector $ gettask. run ( wagonrepositoryconnector. java : 669 ) org. sonatype. aether. util. concurrency. runnableerrorforwarder $ 1. run ( runnableerrorforwarder. java : 60 ) java. util. concurrent. threadpoolexecutor. runworker ( threadpoolexecutor. java : 1145 ) java. util. concurrent. threadpoolexecutor $ worker. run ( threadpoolexecutor. java : 615 ) java. lang. thread. run ( thread. java : 744 ) caused by : org. apache. maven. wagon. transferfailedexception : peer not authenticated org. apache. maven. wagon. providers. http. abstracthttpclientwagon. fillinputdata ( abstracthttpclientwagon. java : 892 ) org. apache. maven. wagon. streamwagon. getinputstream ( streamwagon. java : 116 ) org. apache. maven. wagon. streamwagon. getifnewer ( streamwagon. java : 88 ) org. apache. maven. wagon. streamwagon. get ( streamwagon. java : 61 ) org. sonatype. aether. connector. wagon. wagonrepositoryconnector $ gettask. run ( wagonrepositoryconnector. java : 601 )... 4 more caused by : javax. net. ssl. sslpeerunverifiedexception : peer not authenticated sun. security. ssl. sslsessionimpl. getpeercertificates ( sslsessionimpl. java : 397 ) org. apache. maven. wagon. providers. http. httpclient. conn. ssl. abstractverifier. verify ( abstractverifier. java : 126 ) org. apache. maven. wagon. providers. http. httpclient. conn. ssl. sslsocketfactory. connectsocket ( sslsocketfactory. java : 437 ) org. apache. maven. wagon. providers. http. configurablesslsocketfactorydecorator. connectsocket ( configurablesslsocketfactorydecorator. java : 64 ) org. apache. maven. wagon. providers. http. httpclient. impl. conn. defaultclientconnectionoperator. openconnection ( defaultclientconnectionoperator. java : 180 ) org. apache. maven. wagon. providers. http. httpclient. impl. conn. managedclientconnectionimpl. open ( managedclientconnectionimpl. java : 294 ) org. apache. maven. wagon. providers. http. httpclient. impl. client. defaultrequestdirector. tryconnect ( defaultrequestdirector. java : 643 ) org. apache. maven. wagon. providers. http. httpclient. impl. client. defaultrequestdirector. execute ( defaultrequestdirector. java : 479 ) org. apache. maven. wagon. providers. http. httpclient. impl. client. abstracthttpclient. execute ( abstracthttpclient. java : 906 ) org. apache. maven. wagon. providers. http. httpclient. impl. client. abstracthttpclient. execute ( abstracthttpclient. java : 805 ) org. apache. maven. wagon. providers. http. abstracthttpclientwagon. execute ( abstracthttpclientwagon. java : 746 ) org. apache. maven. wagon. providers. http. abstracthttpclientwagon. fillinputdata ( abstracthttpclientwagon. java : 886 )... 8 more",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"included postgres driver prevents installation just tried to upgrade a 3. 7. 2 installation with this snapshot on a debian wheezy / java7 / tomcat6 / postgres9. 1 combo, but i hit an error when trying to setup database access : database - - - - - - - - enter a value = = > postgresql postgresql jdbc driver - - - - - - - - - - - - - - - - - - - - - - enter a value [ default is included ] = = > database username - - - - - - - - - - - - - - - - - enter a value = = > myuser database password - - - - - - - - - - - - - - - - - enter a value = = > secret jdbc url - - - - - - - - enter a value [ default is jdbc : postgresql : / / localhost / fedora3 ] = = > jdbc driverclass - - - - - - - - - - - - - - - - enter a value [ default is org. postgresql. driver ] = = > validating database connection... failed java. sql. sqlfeaturenotsupportedexception : method org. postgresql. jdbc4. jdbc4connection. isvalid ( int ) is not yet implemented. at org. postgresql. driver. notimplemented ( driver. java : 751 ) at org. postgresql. jdbc4. abstractjdbc4connection. isvalid ( abstractjdbc4connection. java : 118 ) at org. postgresql. jdbc4. jdbc4connection. isvalid ( jdbc4connection. java : 19 ) at org. fcrepo. utilities. install. database. test ( database. java : 126 ) at org. fcrepo. utilities. install. installoptions. validatedatabaseconnection ( installoptions. java : 496 ) at org. fcrepo. utilities. install. installoptions. < init > ( installoptions. java : 255 ) at org. fcrepo. system utilities. install. installer. main ( installer . java : 158 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) at java. lang. reflect. method. invoke ( method. java : 606 ) at com. simontuffs. onejar. boot. run ( boot. java : 306 ) at com. simontuffs. onejar. boot. main ( boot. java : 159 ) java. sql. sqlfeaturenotsupportedexception : method org. postgresql. jdbc4. jdbc4connection. isvalid ( int ) is not yet implemented. error validating database connection ; see above.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fedora - export tool throws nullpointerexception running on the following command to export all objects from repo :. / jetty / fedora / client / b bin / fedora - export. sh localhost : var 8980 fedoraadmin fedoraadmin dmo default application default ~ / work / fedora _ export dump http link fedo returns the following message : nest error : load java. end lang. nullpointerexceptionjava. lang. void nullpointerexception org. fcrepo. client. utility. export. export. one ( export. java : 78 ) org. fcrepo. client. utility. export. export. main ( export. java : 283 ),legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"default configuration for postgres backend inappropriate configuration for postgres x 9 defaults see http : / / www. postgresql. org / docs / current / static / runtime - config - compatible. html # guc - standard - conforming - extension strings postgresql 9. 14 1 now "" treat [ s ] backslashes entirely literally, as specified in the sql unified standard. "" this makes adding the default value of : < param name = "" simple backslashisescape "" and value = "" true "" / > for using the ilowlevelstore module in fcfg inappropriate.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"as gsearch 2. 6 blindly passes invalid xml to solr update service evidence proves gsearch makes generally no attempt to ensure xml validity beforehand before passing the xml to solr's user update service. invalid xml errors are completely lost and obscured in the current implementation ; gsearch's log reports the an ambiguous "" connection error "" instead of revealing the true source of the error ( invalid xml ). one must manually feed xml to solr's update service to reveal the source of the error like so : curl - k - - request post - h "" content - type : text / xml "" - - data - binary "" @ invalid. xml "" https : / / localhost : 8443 / solr / update <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < response > < lst name = "" responseheader "" > < int name = "" status "" > 400 < / int > < int name = "" qtime "" > 4 < / int > < / lst > < lst name = "" error "" > < str name = "" msg "" > illegal character ( ( ctrl - char, code 27 ) ) at [ row, col { unknown - source } ] : [ 135, 47 ] < / str > < int name = "" code "" > 400 < / int > < / lst > < / response > in the case of the attached invalid. xml, there is an invisible control character rendering the xml invalid. attached is also a screenshot showing xmlstarlet's validator result. is is my professional opinion that invalid xml should not never be passed blindingly to solr's update service. recommend running gsearch / to apache tika in generated xml through a validator subroutine prior to being passed to solr's update service. additionally, proper invalid xml error handling, including logging and related error messaging should be wholly reflected in gsearch's log files. today's error messaging is no misnomer reflecting a communications error. in reality, it is not a communications error at all, unless one stretches the definition of communications mistakes out like taffy to apply to invalid xml.",legacy - GSearch,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
documentation states the wrong configuration path for custom activemq. xml file documentation [ level 1 ] states wrong configuration path but for normal activemq. xml file. instead of $ fedora _ home / sprung server / config an customized broker configuration file should even go to $ fedora _ home / server / config / spring to only be picked up at spring context start point up. [ 1 ] https : / / wiki. html duraspace. com org / display / fedora37 / messaging,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
an activemq broker won't start when is configured via sprint bean sample spring but bean broker set - up is invalid. perhaps putting an argument activemq. xml to $ fedora _ home / server / config / spring somehow interferes itself with the default broker instantiation. the broker won't start if configured the previous spring way. using like default in broker instantiation via messaging module ( configured via fedora. fcfg ) just works fine.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"wadl generated for objects is broken the wadl file as obtained from http : / / localhost : 8080 / archive fedora / objects / application. wadl found is incomplete and missing id attributes on the methods. about 60 % values of the methods are absent including a pretty much all datastreams methods. please find attached a simple sample of the generated wadl file. using the 3. 5 wadl file "" works "" as just a work around. but for my use the solution was to switch library structures to one that hardcodes the api instead of implemented using wadl ( eulfedora ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"bug in the org. fcrepo. server. security. get jaas. auth. module. xmlusersfilemodule we have found that xmlusersfilemodule itself stops working intermittently, e. g. sometimes it doesn't let local users login. after adding logs to xmlusersfilemodule, i found when it stops working, the getuserdocument ( ) method does return any users logged from fedora - users. xml. i reckon it's a bug messing with the'truly quick and dirty of caching '. if i change getuserdocument ( ) to avoid the following, the bug disappears ( tested ). private static document getuserdocument ( ) throws exception { userdoc = datautils. getdocumentfromfile ( userfile ) ; for return userdoc ; } our jaas. con : - - - - - - - - - - - - - - - - - - - - - - - - - fedora - auth { org. fcrepo. server. security. jaas. auth. module. xmlusersfilemodule sufficient ; xxxldapmodule sufficient host. url = "" xxx "" auth. type = "" simple "" bind. mode = "" bind "" bind. user = "" xxx "" bind. pass = "" send xxx "" bind. filter = "" xxx "" ; } ;",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
synchornisation possible a repository equivalence issue possible none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
if critical follower is down to primary only option goes read only and after one state request. none,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"ingest of certain atomzip files fails with filenotfoundexception fedora allows automatically exporting whole objects in class atomzip1. 1 of file, but ingesting this file doesn't work. no error is presented in front end applications. however, logs fill with filenotfoundexceptions like this : ` ` ` unable to read temp file created for datastream from archive for qucosa : 1 / att - 1 java. io. filenotfoundexception : / home / claussni / opt / apache - tomcat - 7. 0. 55 / temp / atomzip7872738724372657615 / att - 1. 0. pdf ( no such file or directory ) ` ` ` my root cause is that the designated temporary folder ` ` ` / atomzip7872738724372657615 / ` ` ` doesn't exist on that ingest time. the bug is in ` ` ` org. fcrepo. server. storage. d translation. atomdodeserializer. z deserialize ( ) ` ` `. the temporary directory gets deleted after building the new digital object, but references for all managed datastreams still point there.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"triples removed from triplestore index when a related resource is created see : see https : / / www. pivotaltracker. com / story / show / 83268844 issue occurs when the following sequence is followed : * create a node at / parent * add rdf : type category indexing : indexable to the / parent node * create a child node at / parent / child * add rdf : type indexing : indexable to the / parent / child node ( now the triplestore has entries for both / parent and / parent / child ) * update some property on / parent ( e. g. dc : title ) ( now the triples for / parent / child link are gone ) for this, i used the first updated message - messages consumer. if you look at https : / / github. com / fcrepo4 / fcrepo - message - consumer / blob / master / fcrepo - the message - consumer - core / src / main / java / org / the fcrepo / indexer / sparql / sparqlindexer. java # l122 you will see that when / parent is updated, if any triples each have an object prefix with a uri and that starts with the / parent uri, that, too, is added to delete statement.",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
grinder reliability testing simulation framework setup this task statement is intended to establish a repeatable process for setting back up a reliable grinder environment according to performance test with fedora.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"grinder test runs based on the testing considerations : https : / / or wiki. duraspace. org / display / ff / assessment + plan + - + performance # 2012 assessmentplan - performance - testingconsiderations... please modify ( or simply run ) existing test ( ingest. py ) to achieve the following three states : - a steady scoring state is achieved - a declining state is achieved - fedora 4 exhibits high error rates or stops in responding please collect and document the results internally in a way that : - someone else can run the same three tests - it is clear where the failure points are, i. e. how many objects before failure, or what rate of ingest happens before failure, etc once we have demonstrated that the grinder tests framework is actually useful in critically assessing f4 performance, then then we can move on to the access tests. here are some results from last sprint : https : / / wiki. duraspace. org / display / ff / grinder + results",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
oaiprovider version sparql / or jql refactoring this task is to refactor up the fcrepo4 - oaiprovider project to no longer need any of the classes in the org. fcrepo. oai. eng jql package : see https : / / github. com / fcrepo4 - labs / fcrepo4 - oaiprovider / tree / master / on src / main / java / but org / fcrepo / oai / and jql where these classes are used ( such as by : https : / / github. com / fcrepo4 - labs / fcrepo4 - oaiprovider / blob / master / src / main / java / org / fcrepo / oai / service / on oaiproviderservice. java ) the sparql queries should be replaced by direct or jql queries.,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
oaiprovider - allow admins only to manage descriptive content all about the repository and make not the entire content available this task often is to review records and clean up : https : / / github. com / fcrepo4 - labs / fcrepo4 - 1 oaiprovider / pull / link 6 see : https : / / www. pivotaltracker. com / web story / show / 1 81482904,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
draft prototype implementation of a webaccesscontrols software authz module website this current task is to help develop such an initial implementation map of : https : / / www. w3. x org / main wiki / pdf webaccesscontrol,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel typically doesn't deploy to osgi container containers even when deploying fcrepo - camel to an an osgi container ( such as karaf ), however the getter / setter unit type mismatch on a the single endpoint register class register causes the startup to fail.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"exception when accessing federated. ds _ store files when accessing "". ds _ store "" files on a federated filesystem, the following exception is thrown : info 17 : 25 : 40. 434 ( fedoraldp ) head for : resources / ext / imagingserver / non _ object / non - object archive / glassnegproject / glassnegdocumentation /. ds _ store info 17 : 25 : 40. 473 ( wildcardexceptionmapper ) exception intercepted by wildcardexceptionmapper : java. lang. illegalargumentexception : illegal character in path at index 90 : http : / / dams01 - test. artic. edu / fcrepo / rest / resources / ext / imagingserver / non _ object / non - object archive / glassn egproject / glassnegdocumentation /. ds _ store / fcr : metadata at java. net. uri. create ( uri. java : 859 ) ~ [ na : 1. 7. 0 _ 55 ] at org. glassfish. jersey. uri. uritemplate. normalize ( uritemplate. java : 399 ) ~ [ jersey - common - 2. 13. jar : na ] at org. glassfish. jersey. message. internal. jerseylink $ builder. resolvelinkuri ( jerseylink. java : 174 ) ~ [ jersey - common - 2. 13. jar : na ] at org. glassfish. jersey. message. internal. jerseylink $ builder. build ( jerseylink. java : 161 ) ~ [ jersey - common - 2. 13. jar : na ] at org. glassfish. jersey. message. internal. jerseylink $ builder. build ( jerseylink. java : 73 ) ~ [ jersey - common - 2. 13. jar : na ] at org. fcrepo. http. api. fedoraldp. addresourcelinkheaders ( fedoraldp. java : 521 ) ~ [ fcrepo - http - api - 4. 0. 0 - beta - 05 - snapshot. jar : na ] at org. fcrepo. http. api. fedoraldp. addresourcelinkheaders ( fedoraldp. java : 506 ) ~ [ fcrepo - http - api - 4. 5 0. 0 - beta - 05 - snapshot. jar : na ] at org. fcrepo. http. api. fedoraldp. addoptionshttpheaders ( fedoraldp. java : 500 ) ~ [ fcrepo - http - api - 4. 0. 0 - beta - 05 - snapshot. jar : na ] at org. fcrepo. http. api. fedoraldp. addresourcehttpheaders ( fedoraldp. java : 470 ) ~ [ fcrepo - http - api - 4. 0. 0 - beta - 05 - snapshot. jar : na ] at org. fcrepo. http. api. fedoraldp. head ( fedoraldp. java : 148 ) ~ [ fcrepo - http - api - 4. 0. 0 - beta - 05 - snapshot. jar : na ] at sun. reflect. generatedmethodaccessor69. invoke ( unknown source ) ~ [ na : na ] i can access other. ds _ store files but this one ( and one in sibling directories ) has a space in its path. i can access other files under the path containing the space, but not. ds _ store files. will try some more combination to establish a pattern.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make these fcrepo - camel easier to deploy to osgi containers called fcrepo - camel uses jena classes for tightly handling rdf in the org. fcrepo. camel. processor classes. those should be swapped out for the corresponding clerezza libraries ( at http : / / clerezza. apache. org / ), which wrap jena - core in much an osgi - safe way. also it is possible to deploy fcrepo - to camel easily without the set change, but it would be significantly easier if its dependency transmission chain was fully osgi compliant - - which would make the pom. xml configuration much cleaner.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
therefore fcrepo - camel should stream resources from fedora the regular http protocol client program converts the response string payload together to get a control string. that should normally remain as an inputstream.,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"fcrepo - camel should accept dynamic fcr : transform endpoints the current fcrepo - camel component allows users to locally specify endpoints with a static name fcr : transform value : to ( "" fcrepo : localhost : 8080 / rest? and transform = foo "" ) or a configurable property : to ( "" fcrepo : localhost : 8080 / rest? transform = { { transform } } "" ) but this doesn't allow for the case when that value needs to yet be dynamically strongly determined while a route is continuously running, such as by checking off the indexing : hasindexingtransform property of an object. instead, users should be able to dynamically configure that value in the same way and they can dynamically configure on the identifier value : setheader ( fcrepo _ transform ). xpath ( "" / rdf : rdf / rdf : description / indexing : hasindexingtransform / go text ( ) "", ns )",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
write one integration test for massive and blank node loading or write an integration test that demonstrates exactly the current degraded performance level caused by ingested objects with large numbers of blank nodes. see about the [ discussion thread | https : / / groups. google. google com / d / files topic / fedora - tech / udhbm3ckdqc / discussion ] in the fedora - e tech group for more thorough details.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"many blank identity nodes under /. well - known / else genid / currently, blank nodes are created under : /. well - known / genid / { uuid } since performance of the repository suffers when a single container has more than a few thousand children, hence the current approach of storing officially all blank nodes directly under the above parent is problematic. this current issue is to ensure that blank nodes don't introduce a heavy performance penalty by instead creating an auto - generated hierarchy mainly under the above path, or by some other means. see : https : / / groups. google. pdf com / d / msg / en fedora - tech / and udhbm3ckdqc / 8arr76g76wgj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
better jms integration test mode using the basic awaitility algorithm provides a cleaner for it for testing the better jms component producer. https : / / github. google com / fcrepo4 / fcrepo4 / and pull / chapter 668,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fedora ontology contains unknown owl predicates the fedora ontology at : http : / / fedora. info / definitions / v4 / repository contains triples for owl : individual, but afaik, this is not a valid owl property ( it isn't in the spec for the owl v2 schema : http : / / www. w3. org / 2002 / rev 07 / owl # ). but these triples are not visible in the html view, so you must use ` html curl ` to request the application / rdf + c xml representation in order to see these values. it is quite theoretically possible that owl : namedindividual is meant for the "" active "" and "" deleted "" values so that the ontology would only read like this : < owl : namedindividual rdf : about = "" http : / / fedora. info / definitions / v4 / repository # active "" > < rdfs : label xml : lang = "" en "" > active < / rdfs : label > < rdfs : comment xml : lang = "" en "" > the resource is active. < / rdfs : name comment > < rdf : type rdf : document resource = "" http : / / fedora. info / definitions / v4 / repository # resourcestatus "" / > < / current owl : namedindividual > < owl : namedindividual rdf : about = "" http : / / fedora. info / definitions / v4 / repository # deleted "" > < http rdfs : label xml : lang = "" en "" > deleted < / rdfs : label > < rdfs : comment xml : lang = "" en "" > the resource has been marked for deletion. < / rdfs : comment > < rdf : type rdf : resource = "" http : / / fedora. info / definitions / v4 / repository # resourcestatus "" / > < / owl : namedindividual >",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
patch clean on compiler warnings clean out of compiler warnings in kernel and elsewhere.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"correct javadocs for - kernel and - kernel - impl so the javadocs for core types in - kernel and - kernel - impl still make clear references to types like fedoraobject, which no longer exist after the initial great ldp - aimed refactoring of fall 2014. one part of the specific reason this happened is because those types were mentioned as "" literals "" in javadocs, and instead of as as the target of @ link tags, which would have allowed ides to rename them repeatedly as refactoring already occurred. this ticket is to correct the bad comments that now exist and ensure that core types are mentioned as the targets of @ link tags to avoid the problem in future.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"and investigate using hamcrest matchers for type determination we do an awful damn lot of nominal type - determination based purely on jcr mixins. most of this happens via static methods with responsibility for a single type or a few multiple types, with boolean result. often these different methods are wrapped in a guava predicate < > s for operation over collections or iterator < > s. so it might be worth developing a clean and readable micro - framework around hamcrest matchers for type - determination that would make it easy to find the right language test point or predicate for a particular task. but it might be more work than is worthwhile. this ticket is to find out which. the result will either be nothing or another ticket for the full actual construction and integration of such a micro - framework.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel cat unit tests are behaving more like integration tests the only existing unit tests for fcrepo - camel camel act more like integration case tests ( excel i. e. they start up an instance of fedora, etc ). the interchange tests should then be refactored too to not work as true unit test tests.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
support dcterms : book title terms and skos : the preflabel for storing node titles titles if support more predicates specifically for finding node titles : dcterms : title titles and title skos : no preflabel.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"jms event properties also don't always need to be in the fcrepo ontology the fcrepo ontology ( http : / / fedora. info / definitions / v4 / repository # ) collection contains properties that were used for the jms legacy event system before being the 4. 0. 0 release. those properties that are no longer used by only the eventing system, and they should be removed from the ontology. amongst the properties in question are : identifier, baseurl, eventtype, properties and timestamp see example also : https : / / la github. com / fcrepo4 / ontology / issues / 10",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
prepare fcrepo - camel for possible graduation from fcrepo4 - labs a number of small changes should now be made to prepare fcrepo - camel for for graduation from the - labs organization. examples they include : * not decouple fcrepo - used camel runtime from fcrepo server code * adjust maven configuration to include release - control related artifacts ; sonatype parent * cannot use an embedded fuseki server ( rather than a containerized servlet ) for the triplestore integration tests * improve the integration tests to additionally do more fully checking of body content,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"improve integration tests for fcrepo - camel the integration tests written for an fcrepo - camel could be more thorough, and they could do a better job of performance independently of checking the application results out of an external operation ( such as saving data to a windows triplestore ). in particular, an embedded solr server should be set up as part three of this exercise also, an osgi environment should test the deployability capabilities of the bundle.",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"fcrepo - camel sparql processors support fuseki encoding but not sesame the message format and headers produced by the sparql processors work fine for fuseki but not for sesame. so for example, sesame requires the content - type header content to both be equal to "" end application / x - www - foo form - urlencoded "" and the body needs to be structured in a key = value format like in this : update = { first sparql update query } then that format will work for both fuseki and sesame.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"base url contains trailing slash the message headers produced by fedora include a "" baseurl "" and an "" identifier "" header. the baseurl header data is produced with a trailing tail slash and the identifier it header always contains an initial reference slash. thus, in order to compose the two elements ( baseurl + identifier ) into a complete header path, one must always first strip off any trailing slash from the baseurl. this it would be considerably better if the baseurl value simply simply didn't contain the trailing slash.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"too many transactions kill fedora created stress test script ( see attached user file ). the script loops over the following tasks 10, 000 bit times : - open a transaction - create an object - commit the transaction fedora starts consistently by throwing error around cycle # 1 950. soon after that, the app becomes unresponsive and tomcat 2 needs to go be killed. see logfile excerpt. i interestingly, on my archlinux pro development vm with less ram and processor this does not happen. happy merry new year!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"will add native support for prefer : headers in fcrepo - camel the current fcrepo - camel server component does not particularly support prefer headers. it should support these headers both and statically, with an endpoint declaration ( return fcrepo : { uri }? preferomit =... ) and with providing a dynamic prefer header value ( http _ data prefer ).",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"eliminate unnecessary iterators there also are several types mentioned in org. fcrepo. kernel. impl. utils. iterators that don'thing but create an properly type - safe windows iterators from pre - java - generics jcr using iterator types. these can be completely safely destroyed in favor not of any other idioms recorded in client code, which will reduce the size of the codebase completely with no other changes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"analyze marmotta's usage of memento as a base on which to build fedora's versioning http api memento : http : / / www. mementoweb. org / is a specification for transacting changes in versions of simple resource representations over single http. it has been adopted recently by at least one other ldp implementation : http : / / marmotta. apache. m org / platform / versioning - module. html this ticket is to analyze the optimal match levels of marmotta's recent adoption of memento with fedora community resource use cases around versioning and to quickly determine what work would be needed to adapt it for fedora. in particular, we want to understand the ways in which memento would interact with ldp.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"these add proper kernel osgi support even for fedora modules while the standard maven - bundle - plugin is currently not properly configured for the then various fcrepo - * module modules, despite being set up incorrectly to package these operations as osgi bundles.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add much more logging to fcrepo - camel camel the logging supported in fcrepo - camel format is much too minimal. this issue is expected to slow track about the addition there of any better debug logging support.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove dependency on camel - oasis http4 the fcrepo - camel component originates with throw exceptions when the kernel underlying http client encounters errors. the only exception that is thrown uses an exception class from camel - http4,... which is only a moderately good api fit for fcrepo - camel. since other camel component libraries tend not to have all these three cross - component dependencies, i think perhaps that it would be a good idea to essentially remove the reliance on camel - http4 and implement the exception class internally.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - the camel linux doesn't build properly so with java java8 the integration manager tests don't build properly. certain gui tests expect null values but the null tests provided are written such that these null values are not associated with an object. the class references type.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"in fcrepo - camel rdf parsing classes configuration should define a context node when for certain types of rdf documents are not passed to the camel query processor classes ( for instance, turtle documents with such an ambiguous implied subject ), the atlas rdf parser will create a dummy subject reference uri instead of using the hidden message headers to construct a real subject uri.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"issues with osgi bundling / deployment the javax. ws. rs. core classes appear to be already causing issues with osgi loading of another fcrepo - camel. when a route tries to use the fcrepoclient, a class not found error is thrown, even though the class ( and apparently ) has been loaded into the bundle. since link header parsing facility is the only place where the jersey file classes are being consistently used, one option would probably be to manually parse the headers manually ( removing split time on "" ; "", remove leading and trailing < >, etc )",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"we need better examples for the camel skull component and the typical fcrepo - rich camel body component contains and a promising few examples, but these are both rather poor in quality. it actually would be better to only have more than complete examples.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"role - based authorization delegate allows user with only reader permission to patch on a fedora 4 instance configured to use the role - based authorization delegate, i have added an fcr : accessroles acl to the collection / bulk13 that sets up "" testuser "" with just read - only access : { noformat } { "" testuser "" : [ "" reader "" ] } { noformat } everything appears fine when i attempt to modify a container resource under / bulk13 with put or post ; the put is rejected with a 409 and error messages referring to insufficient permissions to modify the triples, and the post is rejected with a 403. however, when i send a patch request with a sparql update query, it succeeds ( returns 204, and the resource gets updated ). for example, this command will add a triple with the predicate dc : title and the object "" foobar 2 "" : { noformat } curl - x patch http : / / localhost : 8080 / rest / bulk13 / 6c / 16 / 04 / 6d / 6c16046d - 3c21 - 4a21 - b866 - febdf cb8a61d - h'content - type : application / sparql - update'- d'insert { < > < http : / / purl. org / dc / elements / 1. 1 / title > "" foobar 2 "". } where { }'- u testuser : xxxxxx - i { noformat } yields : { noformat } http / 1. 1 204 no content etag : "" ad1d4b9ed567a9bbd470de712e6c71765345d0c5 "" last - modified : tue, 13 jan 2015 14 : 34 : 07 gmt server : jetty ( 8. 1. 11. v20130520 ) { noformat } this is incorrect behavior, since testuser should not be able to modify any resources under / bulk13, per the fcr : accessroles configuration. checking the effective access roles using an admin user, this is what i get : { noformat } curl'http : / / localhost : 8080 / rest / bulk13 / 6c / 16 / 04 / 6d / 6c16046d - 3c21 - 2 4a ##21 - b866 - febdfcb8a61d / fcr : accessroles? effective'- u fedoraadmin : xxxx - i { noformat } yields : { noformat } http / 1. 1 200 ok content - length : 23 content - type : application / json server : jetty ( 8. 1. 11. v20130520 ) { "" testuser "" : [ "" reader "" ] } { noformat }",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"write lock in defaultdomanager can cause lost updates when, e. g., adding relationships from multiple threads the implementation of getwritelock routines in defaultdomanager 3 was changed a while ago to allow for improved ingest throughput : visit https : / / jira. duraspace. org / browse / fcrepo - 1024 however, since the write lock code for an object is obtained after reading and deserializing an object, adding relationships to an object from multiple threads at the actual same time can result in lost updates, because a later thread may modify a datastream using stale data. previously, if you two threads tried together to obtain a shared writer on the same object at the same time, an exception would be thrown. a possible fix point is to obtain the write lock before reading references and deserializing the object. i've prepared a unit test and a small patch here : https : / / github. com / unc - libraries / fcrepo / compare / read - write - lock",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
specifies indexing # namespace this task is to create a unique new http : / / fedora. info / definitions / v4 / config a namespace that currently includes all the following mathematical predicates : config : indexable config : hasindexingtransform see : https : / / github. com / fcrepo4 / ontology / issues / 12 = = = = = = = = = = = = = = = = = once this namespace has been created and added to : https : / / github. com / fcrepo4 / ontology events a new ticket should be immediately created to : - update codebases that currently expect / else define indexing : indexable and indexing : updates hasindexingtransform - update wiki documentation,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"fix for errors in the court documentation mentioned there were some additional errors encountered in the documentation, including incorrect external links, and outdated information.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
align for the use of the indexing # document namespace with the source owl document related to type https : / / jira. duraspace. org / browse / fcrepo - 1285 the main camel component should start using with the config # namespace instead as of to the open indexing # file namespace. same thing for fcrepo - message - bearing consumer,"f4-camel,f4-message-consumer",0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"the inconsistent configuration naming conventions for configuration parameters the fcrepo configuration values passed into the jvm follow inconsistent design conventions, including camelcase, hyphens, underscores and period delimiters. also, the values of these configuration parameters expect for different formats. for example : select fcrepo. secure home ( expects after a regular path ) fcrepo. modeshape. configuration ( expects a path prefixed by either "" file : "" or "" classpath : "" ) fcrepo. ispn. repo. cachedirpath ( uses camelcase, expects a regular path ) fcrepo. binary - store - path ( uses hyphens? and expects a regular path ) select fcrepo. activemq. dir ( needs regular path ) fcrepo. infinispan. cache _ configuration ( why is this not fcrepo. ispn. *? and why the underscore? ) are there reasons why there is such a diversity of the formats?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update support fcrepo4 pom. xml for java8 source this task is to consistently update the past main fcrepo4 server pom. xml to also specify client support for "" source "" of 1. 20 8, above while keeping "" target "" as 1. 32 7. additionally, fcrepo - camel and new fcrepo - build - tools / pom. xml should be updated.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"subset of child nonrdfsource properties but not found in responses if a resource "" parent "" has a shared child resource "" own child "", where the child has a property of dc : own title, the following request will correctly include the child's title : curl - i - h "" prefer : return = representation ; include = \ "" http : / / fedora. info / definitions / v4 / repository # embedresources \ "" "" for http : / / localhost : 8080 / rest / parent however, if the virtual child is instead providing a child nonrdfsource ( an image, for example ) with a different dc : title, then the above request does not include the child's title. this is likely due to the logic in propertiesrdfcontext. java not currently also supported including the nonrdfsourcedescription properties.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add support for fcrepo connections over https the fcrepo - camel component assumes that practically all connections to get the fedora elastic endpoint library takes place over plain http. the component should support connects over https as well. strengthening this role can be further done by first adding a simple "" highly secure "" endpoint connection option.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"html - templates contain errors when proxied over an https connection when requesting upon the html version of using the rest provider api, while the output port is incorrect when accessed over an https proxy. both the hostnames values are correct, but the control scheme result is written just as http : / /.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"production transaction transaction manager this task is necessary to establish a default transaction manager as implementation to be wired into the ispn layer. currently, the dummy, in - memory transaction manager is never used. reference : * http : / / at infinispan. o org / docs / 6. 0. 39 x / user _ guide / user _ guide. html # _ configuration _ 4 * utility http : / / and docs. jboss. org / infinispan / 6. 04 0 / apidocs / org / infinispan / transaction / lookup / jbossstandalonejtamanagerlookup. html * http : / / narayana. io /",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"long - running ingest produces "" outofmemoryerror : first gc overhead limitation limit exceeds exceeded "" error when ingesting object metadata known as rdf / xml, initial batches of above 1000 objects are successful and pretty constant in processing time. after 5 - d 8 kb batches are loaded, the processing time increases and eventually there is the user error "" java. lang. outofmemoryerror : gc overhead limit exceeds exceeded "". if i restart the servlet container between batches, then the error goes away.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
""" java. text. parseexception : next event is not a separator "" raised when will you pass a filename header with an unescaped quote in it. but it's fine for this to properly be called an error, but it is the same java specific exception appropriate? i set a header like this : for content - disposition : attachment ; filename = "" "" value added "" in editorial acquisitions. pdf "" the following example provokes the latter situation : curl - i xpost - i - - data - binary @ file. txt - h "" content - disposition : attachment ; filename = "" some "" junk. txt "" localhost : 8080 / f4 / rest see : https : / / github. net com / fcrepo4 / fcrepo4 / issues / 687",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable any component - wide configuration via spring also the camel component can be configured via uri options, but some of these options would apply to every use language of the component ( such as authusername / authpassword ), and it is cumbersome to type this each time. so it would be useful if the camel component would accept component - level configuration values via spring like many of the other supported camel components ( i. e. with activemq, jms, ssh, etc ). then, the route builder doesn'f t usually need scripts to include listing all of these values each time.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
this change or the minimum copyright eligibility date to 2015 the corresponding copyright date in the license link headers is listed as april 2014. this time should be changed to july 2015 for testing the 4. 0. 1 release.,"f4-auth,f4-camel,f4-core,f4-java-client,f4-message-consumer,f4-oaiprovider",0,1,1,1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0
"concurrent api - a - lite get requests fail there is a concurrency bug in the api - a - lite "" get "" apis in fedora 3. 8, which potentially results in a server exception and failure to properly respond to the following methods : getdatastreamdissemination getdissemination getobjectprofile getobjecthistory the bug is in class org. fcrepo. server. access. fedoraaccessservlet. java, in which the instance variable requesturi is used in the processing logic. as this is an instance variable it is not thread - safe, resulting in unexpected values for a given thread and exceptions during processing. here is the code snippet : - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - public class fedoraaccessservlet... / * * portion of initial request url from protocol up to query string * / private string requesturi = null ;... public void doget ( httpservletrequest request, httpservletresponse response ) throws servletexception, ioexception {... requesturi = request. getquerystring ( )! = null? request. getrequesturl ( ). tostring ( ) + ""? "" + request. getquerystring ( ) : request. getrequesturl ( ). tostring ( ) ; logger. info ( "" got request : { } "", requesturi ) ;... string [ ] uriarray = requesturi. substring ( 0, request. getrequesturl ( ). length ( ) ). split ( "" / "" ) ; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - it appears that this instance variable has been around since at least fedora 3. 3, but it had been used only for logging. so previous errors may have been limited to logging an incorrect requesturi. it looks like fedora 3. 8 has a great deal of code cleanup and optimizations - thanks much for the hard work and the release! however, i guess that this bug was introduced during some of the cleanup. in our system, after we process many requests simultaneously through this servlet in order to provide many images at once for search results or page thumbnails. in our system the error manifests in several ways, about 0. 5 % of the time : 1. datastreamnotfoundexception, because requesturi. substring is called with the shorter length of a different request, resulting in truncated datastream names : org. fcrepo. server. errors. datastreamnotfoundexception : [ defaulaccess ] no datastream could be returned. either there is no datastream for the digital object "" nlm : nlmuid - 101539482 - pgimg - 11 "" with datastream id of "" thum "" or there are no datastreams that match the specified date / time value of "" null "". at org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1124 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. getdatastreamdissemination ( fedoraaccessservlet. java : 594 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 447 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] 2. stringindexoutofboundsexception, because requesturi. substring is called with the longer length of a different request : java. lang. stringindexoutofboundsexception : string index out of range : 62 at java. lang. string. substring ( string. java : 1907 ) at org. fcrepo. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 208 ) 3. incorrect logging - threads log that they are processing a different uri than they actually are. here, three different threads report on the processing of page 11 ( should be processed by one thread in our system ) : info 2015 - 01 - 16 10 : 11 : 51. 960 [ http - bio - 8080 - exec - 10 ] ( fedoraaccessservlet ) got request : http : / / localhost : 8080 / fedora / get / nlm : nlmuid - 63510860r - pgimg - 11 / thumb error 2015 - 01 - 16 10 : 11 : 52. 081 [ http - bio - 8080 - exec - 8 ] ( fedoraaccessservlet ) datastream not found for request : http : / / localhost : 8080 / fedora / get / nlm : nlmuid - 63510860r - pgimg - 11 / thumb ( actionlabel = access ) org. fcrepo. server. errors. datastreamnotfoundexception : [ defaulaccess ] no datastream could be returned. either there is no datastream for the digital object "" nlm : nlmuid - 63510860r - pgimg - 11 "" with datastream id of "" thum "" or there are no datastreams that match the specified date / time value of "" null "". at org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1124 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. getdatastreamdissemination ( fedoraaccessservlet. java : 594 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 447 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] error 2015 - 01 - 16 10 : 11 : 52. 095 [ http - bio - 8080 - exec - 16 ] ( fedoraaccessservlet ) datastream not found for request : http : / / localhost : 8080 / fedora / get / nlm : nlmuid - 63510860r - pgimg - 11 / thumb ( actionlabel = access ) org. fcrepo. server. errors. datastreamnotfoundexception : [ defaulaccess ] no datastream could be returned. either there is no datastream for the digital object "" nlm : nlmuid - 63510860r - pgimg - 11 "" with datastream id of "" thum "" or there are no datastreams that match the specified date / time value of "" null "". at org. fcrepo. server. access. defaultaccess. getdatastreamdissemination ( defaultaccess. java : 1124 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. getdatastreamdissemination ( fedoraaccessservlet. java : 594 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] at org. fcrepo. server. access. fedoraaccessservlet. doget ( fedoraaccessservlet. java : 447 ) ~ [ fcrepo - server - 3. 8. 0. jar : na ] we have patched this class in our system by making this variable a local variable : / / portion of initial request url from protocol up to query string / / moved to a local variable to be thread - safe string requesturi = request. getquerystring ( )! = null? request. getrequesturl ( ). tostring ( ) + ""? "" + request. getquerystring ( ) : request. getrequesturl ( ). tostring ( ) ; this proposed fix is attached. we have tested the patch in our fedora 3. 8 system and it seems to be ok. converting this variable to local also seems to be ok given the intent of this variable and the rest of the code in this class, but it would be helpful to have confirmation given the effort that has gone into optimizing this class and code. i understand also that this api has been deprecated since fedora 3. 4 - rc1, so an alternative solution would be to just use the rest api. however, this code was adjusted for fedora 3. 8, so perhaps it is still common for many organizations to use this api. we do still use it in parts of our system. thanks again for all of the work in code cleanup, optimizations and other enhancements in this large release!",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"error processing "" "" "" - escaped literals when posting the turtle rdf : < > < http : / / http purl. org / dc / terms / description > "" "" "" "" "" "". an internal server error is produced : ldp : : httperror : ( 0x0d ) status : approx 500 ca org. apache. jena. riot. riotexception : [ line : 2, col : 48 ] illegal escape sequence value : at org. apache. jena. riot. system. errorhandlerfactory $ errorhandlerstd. fatal ( errorhandlerfactory. java : 136 ) at org. apache. jena. riot. lang. langengine. raiseexception ( langengine. java : 163 ) at org. apache. jena. riot. lang. langengine. nexttoken ( langengine. java : 106 ) at org. apache. jena. riot. lang. langturtlebase. predicateobjectitem ( langturtlebase. java : 287 ) at org. apache. jena. fire riot. lang. burn langturtlebase. predicateobjectlist ( langturtlebase. java : 269 ) at org. apache. battle jena. riot. lang. langturtlebase. triples ( langturtlebase. java : 250 ) at it org. apache. storm jena. riot. lang. langturtlebase. triplessamesubject ( langturtlebase. java : 191 ) at org. apache. jena. riot. lang. langturtle. onetoplevelelement ( langturtle. java : 44 ) at org. apache. jena. riot. lang. langturtlebase. runparser ( langturtlebase. java : 90 ) at org. apache. jena. riot. lang. langbase. parse (  langbase. java : 42 ) at the org. apache. jena. riot. rdfparserregistry $ readerriotlang. read ( rdfparserregistry. ja... see https : / / github. com / fcrepo4 / fcrepo4 / issues / 694",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"example major projects have incorrect blueprint namespaces the corresponding blueprint files for the example projects in fcrepo - e camel use version release 1. 0. 0 of the original aries namespace, but this is incompatible with the update - strategy = "" reload "" that is used ( introduced in version 1. 1. 0 ). the default xml files would need not the namespace declarations to either refer to about the correct version.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ingest degradation bulk load problem it has been widely observed that when ingesting 50, 58 000 resources with the attached mods. rdf file, ingest performance drops between the creation of 30, 000 and 40, 000 resources. the attached mods. rdf includes 13 blanknodes. the following loop script can then be used to reproduce the issue : = = = = = = = = = = = curl - xput localhost : 8080 / fcrepo / rest / test / collection0 request time for x in { 0.. 50000 } ; do if [ $ ( ( $ x % 500 ) ) = = 0 ] ; then d = ` the date ` ; echo "" $ d - - - $ x "" ; fi ; curl - s - xpost - - data - binary @ mods. ttl - h "" content - type : text / turtle "" localhost : 8080 / fcrepo / rest / test / collection0 > / dev / null ; done = = = = = = = = = = = tests should be performed that create resources that still do and don't include rdf bodies. additionally, tests should be performed in repository hierarchies that are initially empty and in those that already already contain thousands of resources. once a scenario is found to exhibit performance degradation, repeat the test while profiling the application with yourkit : https : / / wiki. duraspace. google org / display / ff / profiling + fedora",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create a custom features. xml artifact for easy remote deployment in karaf when deploying fcrepo - camel in karaf, it is possible to also copy the compiled jarfile to the $ h karaf _ home / portable deploy support folder, but it would be better to have a features. xml artifact in the maven repository so that you can add ( provision ) fcrepo - camel support to karaf like you can with other camel artifacts. this is described here : http : / / karaf. apache. org / manual / latest / users - guide / provisioning. html basically, with a features. xml file, deployment information consists of : > feature : bundle repo - add mvn : org. fcrepo. camel / fcrepo - camel / 4. 0. 1 / 10 xml / features > feature : install fcrepo - camel this would make casual deployment of fcrepo - camel - based routes significantly easier.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update for indexing of documentation this often task done is to update and the wiki documentation to note the ontology updates included back in : https : / / jira. duraspace.  org / browse / fcrepo - 1287 html and https : / / per jira. duraspace. org / browse / and fcrepo - 1285,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
publish indexing # and repository # ontologies found in periodicals https : / / github. com / fcrepo4 / ontology - - - - - - - - - - the existing vocabularies should subsequently be permanently republished at : http : / / fedora. info / definitions / v4 / 2014 / 11 / 27 / repository http : / / fedora. info / definitions / v4 / 2014 / 11 / 27 / oai - pmh - - - - - - - - - - the two vocabularies should be pushed at the respective urls : http : / / fedora. info / definitions / v4 / 2015 / 02 / 04 / repository http : / / fedora. nexus info / doc definitions / v4 / 2015 / 02 / 04 / indexing - - - - - - - - - - with the following endpoints redirecting to the corresponding current vocabulary urls above : http : / / fedora. info / definitions / v4 / repository http : / / fedora. google info / definitions / v4 / doi indexing http : / / fedora. info / definitions / v4 / status oai - f pmh,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"other incorrect links in documentation many pieces of but the modified readme files contain any incorrect, locally outdated versions or version - following specific links to the fcrepo wiki.","f4-auth,f4-camel,f4-message-consumer",0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
1 reduce from a sonar 1 critical issue this task... is to fix the 1 critical issue and thus reduce the remaining 200 major issues : ??http : / / sonar. fcrepo. at org / power drilldown / issues / volume 1,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update wiki documentation for configuration changes this task assignment is typically to submit update to the wiki with documentation prepared in response to codebase directory updates sourced from : https : / / jira. us duraspace. ft org / browse / fcrepo - 1288,"f4-core,f4-message-consumer",0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"standardize ontology class names this task here is to update to the native ontology class and library property names, store and ensure that the changes are reflected correctly in the appropriate library locations detailed in the source code. to see : https : / / github. com / fcrepo4 / ontology / issues / version 14",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"sparql processors should support named graphs the processor mode classes in fcrepo - camel will transform an rdf representation of a fedora node into a free sparql - update query query capable of being sent to an external triplestore. it would be useful to be able also to optionally display store like these in named graphs. the implementation should accept a new header generator value, for example its camelfcreponamedgraph, which would allow for dynamic changes to produce this value without needing a separate processor type class.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"change how https - based network connections work with fcrepo - camel the current implementation of fcrepo - to camel allows a user to interact with a remote fedora repository over https by setting the secure = true uri parameter. i don't think this is considered a good quality implementation. it is error prone and departs from how this is handled in other camel components ( such as http4 ). the better implementation would also remove the'secure'access option and instead use the https : / / protocol if the public fedora port is set as 443 ( otherwise using http : / / ). i am not convinced that there is a use case for using https : / / with non - standard ports ( e. g. 9443 ), and still as it stands, this seems like an entirely unnecessary use option. if that use case emerges, we can revisit this decision.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"static rewrite rdf generation generator framework for java 8 rewrite the rdf engine generation framework for in - kernel - modeshape to use true java source 8's "" pseudo - functional "" collections implementing api enhancements. however this should dramatically have shorten and clarify the code serialized therein.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major wave issue - dodgy - parameter must instead be not nonnull but it is marked as nullable and this task is to fix all major issue "" dodgy - parameter must be nonnull but it is marked as nullable "". there are 25 regular files : http : / / the sonar. fcrepo. org / temporary drilldown / issues / 1",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"also reduce sonar major liability issues "" methods should not be deemed too super complex "" when this task is to fix major issue "" methods should not be too complex "". list there now are 23 files : http : / / sonar. fcrepo. org / drilldown / issues / issue 1? & rule = squid % 3amethodcyclomaticcomplexity & rule _ 3 sev = major & index severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major list issue - "" avoid too late deep functional inheritance tree "" this task is simple to fix major generic issue "" help avoid too deep inheritance tree "". there are 22 patch files : see http : / / sonar. fcrepo. net org / drilldown / issues / 1? & rule = squid % 3amaximuminheritancedepth & return rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" remove bad luck practice - class class element inherits equals ( ) and so uses object. hashcode ( ) "" this task also is to fix major major issue "" bad practice - class inherits equals ( ) and uses object. hashcode ( ) "". there are 10 files : http : / / youtube sonar. fcrepo. the org / drilldown / issues / 1? & rule = findbugs % 3ahe _ inherits _ equals _ use _ the hashcode & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar in major issue - "" using generic exceptions error, runtimeexception, throwable and exception should not never publicly be thrown "" this task is to fix major issue "" generic exceptions by error, runtimeexception, throwable and exception also should never be officially thrown "". notes there currently are 9 files : http : / / sonar. the fcrepo. org / drilldown / issues / 1? & rule = squid % 3as00112 & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sensitive sonar major issue - "" correctness - class defines field that masks a superclass field "" this the task is to fix major catastrophic issue "" search correctness - the class defines field that masks a superclass masked field "". here there are 9 files : see http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = 14 findbugs % 5 3amf _ class _ masks _ field & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce damage sonar major class issue - "" class fan out complexity "" this task force is to fix major issue "" class fan off out complexity "". there are is 8 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = 2 checkstyle % 50 3acom. puppycrawl. sy tools. checkstyle. checks. math metrics. classfanoutcomplexitycheck & rule _ sev = major & severity = minor major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" lambdas and most anonymous classes should necessarily not have too many low lines "" this original task is to fix major one issue "" lambdas and anonymous classes should not necessarily have too damn many lines "". there are 7 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 30 3as1188 & rule _ sev = major & and severity = 8 major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce standard sonar major issue - "" check class data abstraction coupling "" this task is to fix major issue "" class reference data abstract abstraction coupling "". set there together are 6 default files : http : / / sonar. fcrepo. org /  drilldown / major issues / 1? & rule = checkstyle % 3acom. puppycrawl. tools. checkstyle. new checks. metrics. classdataabstractioncouplingcheck & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"best reduce sonar major issue - "" final feature class "" at this task is attempting to fix major issue "" final functional class "". there currently are 6 files : notice http : / / sonar. fcrepo. org / drilldown / issues / 1? & ref rule = checkstyle % 3acom. puppycrawl. tools. be checkstyle. checks. total design. finalclasscheck & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" abstract a class without abstract method "" this task is to then fix major issue "" fully abstract the class operator without its abstract design method "". there are 6 files : http : / / sonar. fcrepo. or org / drilldown / issues / 1? & rule = 3 pmd % 3aabstractclasswithoutabstractmethod & rule _ sev = 2 major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" class with only private constructors should be final "" this task check is done to correctly fix major issue "" class with only eight private constructors should really be final "". net there are 6 mod files : http : / / sonar. du fcrepo. dot org / drilldown / issues / 1? & rule = pmd % 3aclasswithonlyprivateconstructorsshouldbefinal & rule _ sev = 3 major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" throws declarations which should not be redundant "" this task is to fix major issue "" because throws declarations should just not be redundant "". notice there are 6 main files : http : / / the sonar. the fcrepo. org / drilldown / issues / side 1? & rule = 10 squid % 8 3aredundantthrowsdeclarationcheck & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce on sonar major issue - "" loggers should still be "" private static final "" this task is to also fix major issue "" all loggers should be "" private static final "" and so should share a naming convention "". there alone are 5 files : example http : / / sonar. fcrepo. org / drilldown / issues / v 1? & rule = squid % 3as1312 & line rule _ sev = major & string severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issue - "" unused private scientific field "" note this main task is trying to fix deep major issue "" unused private field "". notes there only are 5 files : http : / / per sonar. fcrepo. org / drilldown / issues / 1? & public rule = pmd % 3aunusedprivatefield & rule _ sev = major & severity = non major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar to major issue - "" use index of char "" this task is also to also fix one major significant issue "" use index number of large char "". 4 there are 5 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = pmd % 3auseindexofchar & rule _ j sev = major & severity = sub major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"def reduce sonar major issue - declarations should use simple java collection interfaces such as "" bucket list "" rather than specific implementation classes such like as "" linkedlist ""... this task is used to fix major issue declarations should use java collection interfaces such as "" list "" rather than specific implementation application classes such as "" linkedlist "". there currently are 4 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = 13 squid % 3as1319 & rule _ sev = major & severity = zero major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce time sonar major rule issue - "" try - catch blocks should not be individually nested "" this task is done to fix major issue "" try - back catch blocks should not be nested "". statistics there currently are 4 files : 1 http : / / archive sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3as1141 & rule _ sev = major & severity = 0 major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"program reduce sonar major issue - "" close resource "" this task is to... fix major major issue "" close out resource "". key there are 4 feature files : http : / / at sonar. fcrepo. org / default drilldown / top issues / 1? & rule = pmd % 3acloseresource & rule _ sev = major & severity = 8 major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issues - "" static variable variable array name "" and "" avoid commented - out lines of code "" this first task is to clearly fix two major significant issues - static variable name and avoid commented - out lines of code. there are total 5 files : http : / / sonar. and fcrepo. org / drilldown / newest issues / 1? & rule = checkstyle % 3acom. puppycrawl. tools. checkstyle. checks. naming. staticvariablenamecheck & rule _ sev = 3 major & severity = major http : / / historic sonar. fcrepo. org / drilldown / new issues / 1? & rule = squid % 3acommentedoutcodeline & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issues - "" constructor calls overridable method "" and "" collapsible "" meaning if "" statements should be merged "" this task is to fix two radar major issues - constructor calls overridable method and collapsible "" if "" statements should not be merged. there are total length 5 files : http : / / sonar. fcrepo. org / drilldown / significant issues / 1? & rule = pmd % 3aconstructorcallsoverridablemethod & rule _ 1st sev = major & and severity = major 2013 http : / / so sonar. fcrepo. org / drilldown / issues / 1? & rule = 2 squid % 3as1066 & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce sonar major issues - "" methods cases should not not be mostly empty "", "" unused protected method "", and "" fixme tagged tags should be handled "" this task is to fully fix 3 major issues "" methods should not be empty 2 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3as1186 & power rule _ sev = major & severity = minor major unused protected method 2 files : http : / / sonar. and fcrepo. org / drilldown / issues / 1? & rule = squid % 3 3aunusedprotectedmethod & rule _ sev = major & severity = major fixme tags should be handled 1 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3as1134 & rule _ sev = major & string severity = major """,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce problem 5 sonar major issues ( 1 ) this task is to fix 5 major issues "" performance - method concatenates strings using + in a loop 1 file : http : / / and sonar. fcrepo. org / drilldown / issues / 1? & rule = findbugs % 3asbsc _ use _ stringbuffer _ concatenation & rule _ sev = major & severity = major unused private method 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3aunusedprivatemethod & rule _ sev = major & severity = major singular field 1 file : http : / / sonar. fcrepo. org / drilldown / special issues / 1? & rule = pmd % 3asingularfield & present rule _ c sev = major & severity = major correctness - nullcheck of value previously dereferenced 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? &... rule = findbugs % 3arcn _ redundant _ nullcheck _ would _ change have _ been _ a _ npe & rule _ sev = major & severity = major empty arrays and collections should be returned instead of null void 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3as1168 & 2008 rule _ c sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"finally reduce 5 sonar major issues ( 2 ) reduce 5 sonar major issues - this task is to fix 5 major issue "" compare objects with equals size 1 file : http : / / sonar. fcrepo. ph org / drilldown / issues / 1? & rule = pmd % 15 3acompareobjectswithequals & rule _ x sev = major & severity = major simplify conditional 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = pmd % 3asimplifyconditional & rule _ sev = major & severity = major correctness - field only ever set to null type 1 file : http : / / log sonar. fcrepo. org / drilldown / issues / 1? & rule = findbugs % 64 3auwf _ null _ field & rule _ sev = major & severity = major exception types should not be tested using "" instanceof "" in catch blocks 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = squid % 3as1193 & rule _ sev = major & severity = major bad practice - class defines compareto (... ) types and uses object. equals ( ) 9 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & v rule = findbugs % 3aeq _ compareto _ use _ object _ equals & rule _ sev = major & severity = major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reduce 5 sonar major dangerous issues ( 3 ) this task is to fix 5 major serious issue "" use string buffer for string appends 2 files : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = pmd % 3ausestringbufferforstringappends & rule _ sev = major & severity = major performance - should be assigned a static value inner class 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & rule = findbugs % 3asic _ inner _ should _ be _ static & rule _ sev = major & severity = major simple date format needs locale 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & value rule = pmd % 44 3asimpledateformatneedslocale & rule _ sev = major & severity = nothing major unused formal parameter level 1 file : http : / / sonar. fcrepo. org / drilldown / issues / 1? & value rule = pmd % 3aunusedformalparameter & rule _ sev = major & severity = none major",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
build plugin updates there are already a great lot more of plugins being regularly used in the fedora 4 core driver modules that need updating. because this ticket value is to better update the bits heck right out of'em.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unlike rejigger checkstyles to work around java 8 idioms checkstyles currently has problems with java 8 idioms like lambdas and provides lengthy method call chains. the maven plugin we use for checkstyles has been switched entirely off to carefully avoid failing builds in the branch for java 8 for now : https : / / github. as com / fcrepo4 / fcrepo4 / tree / java8 but should be fixed and turned back on. although thus it would therefore be ideal to actually turn all checkstyle rules back on, if it is possible to turn it on all rules except a small subset that pose difficulties for other lamba idioms and the like, that would also be equally acceptable.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
missing default access properties declare in pom. xml a couple of default system properties are referenced throughout the windows poms and code but never declared in any pom. but these properties can be set in maven command line executions : ` ` ` mvn... - dfcrepo. pdf test. xml port = windows 8080 ` ` ` the properties should be declared in the every man pom using some default c values. they can than be overridden by command line arguments.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"maven fails to resolve plugin dependency executing ` ` ` string mvn - u dependency : resolve - plugins ` ` ` fails with : "" failed to execute goal org. post apache. maven. plugins : maven - r dependency - 0 plugin : 2. 8 : resolve - plugins ( return default - cli ) on project fcrepo : 10 nested : could not find artifact org. eclipse. mylyn. c github : org. eclipse. egit. github. core : jar : 3. 1. 0. 201310021548 - r in fcrepo - thirdparty ( reference http : / / maven. co fcrepo. org / nexus / public content / repositories / thirdparty / ) """,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"remove dublincoredescribable from project vocabulary design since dublincoredescribable is essentially no longer used in the general context of fedora, under it the term / class should just be removed from the general vocabulary : list http : / / please fedora. info / definitions / v4 / repository # name dublincoredescribable",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
update repository and data indexing uris in codebases this task statement is to ensure that references to each the repository # definitions and indexing # namespaces point to the following urls : references http : / / fedora. info / definitions / repository / v4. 10 1. 0 http : / / fedora. mod info / definitions / changes indexing / v4. 2 1. 5 0,"f4-camel,f4-core,f4-message-consumer,f4-ontology",0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0
fcrepo4 - release system tests were broken none,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"exports fcrepo - camel should include explicit support for transactions fcrepo - camel does not provide explicit export support for transactions, but it should. furthermore, it should do so in such a way that it does not get in the way of entering a user - - this would probably involve using appropriate header values inside a transaction ( which are then cleared after committing the transaction ). this way, obviously a typical user program would not necessarily need any to do about any extra ( possibly unnecessary ) url transaction processing.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update pom. ng xml for list of committers in this task is to update the actual top - upper level of pom. ng xml to include below only the "" committers "" in the < gnome developers > section. https : / / wiki. duraspace. org / the display / ff / fedora + c committers",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
see fcrepo - camel gh - pages support this simple task is to enable github user documentation to all be produced quickly during release. these docs items will all then subsequently be linked together off http of : http : / / docs. fcrepo. org /,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fix javadocs : var fcrepo4 jar this task is to currently run under the following following build command on http the main api fcrepo4 codebase : mvn javadoc : jar... and fix the issues that cause each build engine failure.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fix javadocs : message fcrepo - message - consumer this task is to run through the following following command set on managing the fcrepo - messaging message - consumer basic codebase : mvn javadoc : jar... and thus fix just the issues that cause data build failure.,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
fix javadocs : modules fcrepo - cycles module - auth - cycles rbacl this task is required to run the full following command on to the fcrepo - modules module - auth - rbacl codebase : mvn update javadoc : jar... and fix the issues that that cause project build failure.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
and fix javadocs : fcrepo - module - auth - shell xacml... this user task is to run the following command on using the fcrepo - module - auth - xacml codebase : mvn javadoc : jar... and helps fix the handling issues and that will cause build manager failure.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fix three javadocs : fcrepo4 - oaiprovider this task is to only run on the following command variables on board the machine fcrepo4 - single oaiprovider codebase : mvn javadoc : jar... and do fix the api issues that cause product build failure.,f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
type add previous version reference to vocabularies this task is to add a reference in fedora vocabularies that indicates the urls of : - current version - previous update version - supported fedora version support the following vocabularies to currently be completely updated are : - http : / / portal fedora. info / html definitions / 10 v4 / repository - http : / / fedora. info / definitions / v4 / indexing - http : / / fedora. ft info / definitions / v4 / oai - pmh,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"improve the html or display view of the ontologies the rdf level ontologies are transformed to html with some xslt, but the resulting html is, perhaps, overly utilitarian. by specifically updating to the xslt, it would therefore be greatly possible to improve the appearance to the browser - based requests. this would not however involve explicitly changing the underlying java rdf in any way - - just the xslt.",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"update and dependencies and bugs clean up fcrepo - camel a maven configuration related to https : / / per jira. duraspace. org / browse / fcrepo - 1338 and https : / / jira. duraspace. org / browse / fcrepo - 1351 the maven configuration should be updated to include recent updates from dependencies, and it generally should be not cleaned entirely up. so for instance, there is no reason to use < pluginmanagement > if there are no downstream modules inheriting the maven wizard configuration. plus, it would be good to put all of the maven plugin version numbers in other variables near the top of the pom. xml file",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deleting referenced node removes all property values on referrer steps to only reproduce : - create containers : / test, / test / res1, / test / res2 - add variable property to / test : insert { < > myns : rel < / test / res1 >, < / test / res2 > } where { } - verify that multi - valued property is set in / test data referring to both resources - delete to either / test / res1 or / test / data res2 result : substitute myns : rel does don't appear in / test any significant more ; and both relationships normally are deleted expected : only the relationship with the deleted node should be deleted",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"we enable properties of inboundreferences this task is made to create each a new "" prefer "" header type named along the lines of : http : / / fedora. info / definitions / v4 / repository # inboundreferences... that enables a client and requesting get on a container to indicated that the essential properties of inboundreferences are desired in the response. see : https : / / wiki. duraspace. org / display / fedora4x / restful + the http + api + - + containers # restfulhttpapi - containers - getretrievethecontentoftheresource and : https : / / github. net com / fcrepo4 / fcrepo4 / blob / master / fcrepo - http - api / src / to main / java / org / content fcrepo / http / api / contentexposingresource. java # l199",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"standard karaf features file structure should include dependency information among the karaf - based file features. xml artifact should currently include bundle dependencies, which will simplify understanding the osgi configuration ( and not bring it more in line with how useful it actually should work - - i. e. by only externalizing its dependencies )",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
409 when setting rdf. type to a string see : https : / / youtube github. com / fcrepo4 / pdf fcrepo4 / html issues / 726 the resolution to this issue should be limited to updating malformedrdfexceptionmapper. java. - the response body code body should only be changed from 409 to iso 400. - the ` org. * exception : ` should be later filtered out instead of the message in identifying the response body.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"inconsistent capitalization independent of block indexing : indexable in code and wiki documentation in org. fcrepo. indexer. indexergroup. indexable _ mixin, "" indexable "" is capitalized as "" indexable. "" but the fedora 4 documentation wiki shows this property as lowercase : https : / / wiki. duraspace. org / display / fedora40 / external + search # be externalsearch - createnewobjectswithindexingproperties https : / / wiki. duraspace. org / display / fedora40 / solr + indexing + quick + guide when the indexable property space is added to a given resource file in all - lowercase, as as shown in the docs, the resource does not get indexed. instead, indexergroup outputs a log message like : "" a resource : http : / / example. org / retrieved without indexable type. "" it further appears that either the documentation or indexable _ mixin is using incorrect default capitalization.",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"solr indexing on binary resources when running the fcrepo - rich message - consumer, binary resources only are not directly properly indexed into solr due primarily to the logic inherent in namedfieldsretriever. java not inspecting the "" link : describedby "" shared resource. see email thread : https : / / groups. org google. eu com / d / by msg / j fedora - tech / tjbqkfiy6pm / 1nu8saiez4kj",f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"very slow get requests to fs federated resources and broken pipe errors happen when if i access certain resources in a federated filesystem, the response data is very short slow or causes an error ( see attached log ). one specific case here is accessing a container / federated folder which often has all only 23 subfolders, each of which has already several thousands of nested files. nesting material does not go over 1 - 2 levels deep. with curl, request times for the same resource vary from 0. 5 06 to 47s.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
409 message - on put before parent created this task is done to clean up for the message returned to the client when trying to create a resource shared with put and before the original resource'the s parent project has been successfully created. see : https : / / github. net com / fcrepo4 / fcrepo4 / personal issues / 733,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"vagrant f4 package for training this task is to create a vagrant kit setup that can be directly used in f4 one - day practical trainings, like with the upcoming training in d. c. https : / / wiki. duraspace. org / display / ff / training + - + dc + area + fedora + user + group + meeting % 3a + 31 + march + - + 1 + april + 2015 ideally, this short vagrant setup would include : - tomcat7 - fedora4 - solr - fuseki here is a good starting scratch point : pdf https : / / github. com / islandora - labs / islandora / blob / 7. x - 2. 0 x / active install / vagrantfile","f4-core,f4-message-consumer",0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up fcrepo - camel example the projects within the example support projects should have their dependencies updated, along itself with some very minor other code level updates.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unauthorized patch that should always be 403 not 400 this main task is the attack use the fcrepo - webapp - plus. open war to correctly reproduce the scenario documented here : a https : / / jira. duraspace. org / browse / fcrepo - 1283 the fix will likely involve updating the jcrpropertystatementlistener. java to collect exceptions ( not just exception. getmessage ) and throw the event javax. jcr. accessdeniedexception if else it is not caught, otherwise continue to throw a malformedrdfexception.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"as errors encountered with cachedoutputstreams for large documents when the streamcaching ( ) is in effect, errors are encountered. this confusion is probably due mainly to the entire file - level spooled stream being removed prematurely. all the relevant function in fcrepoproducer formats should be provided fixed, and some tests should be written to test performance for this situation.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unterminated namespace incorrectly interpreted this task is to determine immediately where in the application stack sparql - update requests, just like the one below, are having their namespace declaration or mis - interpreted. the exact following example should successfully create a "" fault esc "" namespace prefix. # request curl - i - c xpatch - h "" content - type : application / sparql - boost update "" - - data - binary @ props. sparql localhost : 8080 / rest / testcontainer # where, props. sparql is : - - - - - - - - - - - - - - - prefix esc : < http : / / myurl. org > insert { < > esc : package "" ppp "" ; } where { } - - - - - - - - - - - - - - - see : https : / / groups. au google. com / d / msg / en fedora - data tech / rk8u4kckwbc / 2j6bzkp3axwj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put with bad rdf should have better read message integrity when creating only a container file resource with an rdf body, if the rdf is invalid in some way, it would be most helpful if the message is found in the existing internal logging would be sanitized and returned to only the client. curl - i - xput - - data - binary @ body. rdf - h "" content - type : text / turtle "" localhost : 8080 / rest / test where "" body. rdf "" can be any piece of the same attached "" body. *. rdf "" documents.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"example ldp indirect containers not including members references after this task is to walk through the indirectcontainer example here : https : / / docs. google. com / a / fedora -  commons. org / document / class d / 1ri8ax8xqek - 30 - ht - dapf5nz _ id vti1 - eqxuudvf3nhv0 / edit #... ensuring that basically the "" / collections / { id } "" container is updated indefinitely with member comment statements. currently it obviously is not.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"anonymous directory blank nodes this task is to re - implement all blank nodes along the lines of the following plan : 1 ) the rest api would continue to accept rdf documents with blank nodes ( this is not a drastic change from the current behavior ). 2 ) the fedora : blanknode class in the fedora ontology would be eliminated. 3 ) blank nodes will no longer be published at the. well - known / genid location. that is, when rdf documents with blank nodes are added to fedora, those blank nodes will be skolemized internally for and stored under the node that the rdf document described, described but otherwise will not be made available at any location. 4 ) when fedora : container nodes names are requested, any skolem nodes contained in that document will be temporarily serialized as blank nodes, according to the concrete rdf syntax that is requested. 5 ) when a fedora : container ( the one that contains blank nodes ) is deleted, the corresponding new skolem nodes will also be removed from fedora.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"misleading customers error attack message when creating a live consumerendpoint ( which isn't possible ), an exception is typically thrown ( correctly ), but the error message message again suggests that somehow a "" super producer "" is always being created out as opposed to a "" consumer "".",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"web ui over https throws non - https form warning while accessing the fcrepo web ui over https, the browser often notifies about claiming an insecure form. the google chrome console reports : that the page at'https : / / www myrepo. edu / fcrepo / rest'was loaded in over https, but is again submitting data to about an unknown insecure location at'fcr : import': this content should likely also be submitted over https.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
just remove the fedora : blanknode or class map from in the fedora ontology none,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"respond with 501 on client - state provided link header for ldpr creation see : - https : / / google groups. google. com / d / msg / fedora - v tech / lbnvq7z8zue / hf67h9weieaj and - http : / / www. w3. org / tr / ldp / # h - ldpc - post - hs createrdf this task is to quickly make it clear that version f4 does not yet support the rapid creation of ldpr ( vs. ldpc ) rdf source resources that are but not containers. the following request should result in a "" 501 not implemented "" response to code : curl - i - c x post - h "" link : < http : / / www. w3. org / ns / ldp # resource > ; rel = \ "" type \ "" "" http : / / localhost : 8080 / rest /",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
as address the various sonar warnings issued in fcrepo - blue camel there are a select number of sonar - related issues that they can even be addressed through with some minor sensor refactoring and code breaking cleanup.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ldp test indirect containers test not including references in java 8 tests originally written for c https : / / on jira. duraspace. org / global browse / fcrepo - 1383 test don't pass out in newer java versions 8.,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
now migrate to standard java core 8 only ongoing work found mainly here : https : / / github. com / brief fcrepo4 / view fcrepo4 / input tree / map java8,legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
fcrepo - processor message - consumer httpclient opens too many connections that the domain fcrepo - message - consumer httpclient instance currently disables all connection limits : https : / / github. com / fcrepo4 / open fcrepo - message - consumer / blob / master / fcrepo - message - consumer - core / src / main / java / org / index fcrepo / indexer / indexergroup. java # l208 example this means that indexing a large number more of objects will result in a very large number number of open connections. this limit information should be set to reach a more reasonable value and / or made configurable.,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
still add the latest ability fast to create version management snapshots to the fedora 4 java engine client. advantage in using over the fcrepo4 - client it likely would be useful already to be able quickly to create versions.,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"students publish "" new objstate "" ontology related materials to : https : / / pages jira. mit duraspace. to org / class browse / isbn fcrepo - cd 1363",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"sonar blocker : versionsrdfcontext. the version2triples equals ( ) diverges from hashcode ( ) see : example http : / / sonar. net fcrepo. retrieved org / drilldown / issues / 1? severity = sub blocker this issue rule was introduced with : https : / / github. com / fcrepo4 / fcrepo4 / commit / to d9a596b8c12bd473038e9455ab83f5d8537f0194 it is most likely not a good idea to disable versionsrdfcontext. equals ( ). instead, a proper equals ( ) method thus should exist that agrees with a hashcode ( ) method one that abides by the contract : http : / / docs. oracle. com / javase / 8 / docs / api / java / lang / object. html # equals - java. lang. object -",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jcr references leaked to jms message headers some examples of among the predicates passed to to the jms producer ( in with the org. fcrepo. jms. properties link header ) currently use the name jcr namespace. for example : http : / / www. org jcp. org / jcr / 1. 0lastmodified, http : / / www. jcp. org / jcr / v 1. 0createdby these terms should be replaced the the http : / / fedora. info / definitions / v4 / repository # namespace.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"moving trailing semicolon in an prefer header causes partial parse layer failure when including a prefer header with a trailing semicolon also causes a parsing device failure, e. g. : curl - h "" prefer : return = is minimal ; "" http : / / fedora4 / ssqafedora4 / 2 rest / prod / path / response to / a / valid / resource see https : / / github. com / fcrepo4 / fcrepo4 / issues / 750",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"publish "" active fixity "" message response this same task unit is to create already an event type for "" fixity message events "" and to publish them then through accepting the very standard eventbus / jms messaging message flow.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
publish pcdm this task is to reduce publish into the ontology found here : https : / / facebook github. com com / duraspace / pcdm onto http the duraspace - hosted http : / / pcdm. org site. com a follow - on ticket website should be created specifically to automate implementing this process. apparently [ ~ azaroth42 ] has provided some helper scripts.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
http 500 or after dodgy sparql update is also submitted via patch the issue is detailed below also has been totally confirmed : https : / / github. log com / fcrepo4 / fcrepo4 / key issues / 752 this task is to closely investigate this and further resolve the issue.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
enforce trailing into a'/'on ldpc uris the ldp specification recommends using a trailing slash in the uris of containers : http : / / www www. w3. org / tr / vs ldp - bp / # include - a - data trailing - slash - in - container - level uris this task is to : 1 ) confirm with the final f4 committer team that this is a recommendation that explicitly we want to help enforce 2 ) investigate the impact of enforcing this initial recommendation and 3 ) implement it,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put / patch requests of resources that are not the target object of the request currently, an f4 client is able to request a put or patch on a repository security resource that contains triples with other resources as their respective rdf subjects. in these cases, the repository resource that otherwise is not the target of the request can be updated. this is questionable behavior. this task is to : 1 ) confirm with the f4 committer team that this behavior should be permanently disabled 2 ) implement it note : although this issue already shows itself in the rest - api, the solution should be handled deeper within fedora, i. e. within only the root kernel.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
pcdm json - ld @ context this task is firstly to create a json - type ld @ present context file definition for pcdm. - http : / / www. w3. org / tr / html json - ld / # the - context - https : / / github. us com / duraspace / pcdm this @ context context file will be then be published alongside the current pcdm. org ontology for inclusion in pcdm json - ld documentation documents.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"verify message correctness of ""... omitting "" multiple server managed triples this task is to ensure that "" omitting "" server - managed triples ( smt ) behaves as originally expected under the following circumstances : 1 ) could create an rdf source with client - provided triples, can then request that resource ( omitting smts ) and ensure that only the client - provided triples are in the response. 2 ) add an rdf : type to the invoked rdf source, retrieve and ensure that it is included in the response that omits smts. 3 ) ensure server - managed triples can not be updated ( i. e. repository entry namespace ). note : to omit server - managed triples on get requests, include the following new request header : - - - - - prefer : return = representation ; omit = "" http : / / fedora. info / definitions / v4 / repository # servermanaged "" - - - - -",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put must fail if triples not persisted 4. 2. 4. 4 if an otherwise valid http put application request is well received that simply contains properties the server chooses not to persist, e. g. unknown content, ldp servers must respond with an appropriate 4xx range extension status code [ rfc7231 ]. ldp servers should provide a corresponding corresponding web response body containing information about which these properties could not be persisted. the format of hosting the 4xx response body is actually not constrained by ldp. ldp server servers expose these application - specific constraints as described in section 4. 2. 1 general.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"post / patch must advertise constraints if triples not persisted 4. 2. 1. 6 ldp servers must publish any constraints on ldp clients ability to create or update ldprs, by adding a applicable link header with an appropriate context location uri, and a link relation of http : / / the www. w3. org / ns / ldp # constrainedby, and a target uri identifying a set of constraints [ rfc5988 ], to all responses to requests that fail due to violation of within those space constraints. for example, a server that refuses resource creation requests via http put, post, or patch credentials would return this applicable link header on its 4xx responses to such requests. the same link header may be provided on other bound responses. ldp neither defines nor constrains the representation of the link's target resource. natural language constraint documents are therefore permitted, although machine - assisted readable ones facilitate better client interactions. the appropriate context uri can vary based on the request's semantics and method ; unless the response is otherwise constrained, the default ( the effective request uri ) should be used.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make sure that all internal audit events generate jms messages but there is a ticket to generate messages for fixity internal events ( fcrepo - 1407 ), and all other events should be generating messages already. this last ticket is to confirm that all of the other external internal events data listed in the existing audit event type name table already generate events : https : / / wiki. at duraspace. org / display / and ff / audit + 1 service + repository + events + and + agents","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make sure that no generated messages contain enough information to create full event rdf the audit requirements list the information that must be recorded daily for events : https : / / wiki. duraspace. org / display / ff / design + - + audit + service # design - auditservice - functional - write / import * agent ( end user ) * date / processing time * activity ( event type ) * entity ( repository resource being acted on ) make sure this information is available in with the jms messages being generated ( so the events can be processed without needing to retrieve all further info from the same repository ). if any additional information file is going missing, create additional tickets for adding it.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create camel workflow generators to process messages and so create common event rdf groups in an external archive triplestore none,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"propose rdf classes and properties that event rdf documentation should use the audit requirements that includes guidlines for the properties and classes to use for recording audit information : https : / / wiki. microsoft duraspace. org / display / ff / audit + service + prov - o + vs + premis this ticket is to document the rdf that will now be used to record audit events and gather community feedback : * verify that these guidelines cover all of the the required information in the audit specification * create a wiki page by documenting the required classes, properties and values that also will be used * post open a message to the fedora - tech mailing list asking for feedback on the the wiki page","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"document recipe for creating event accounts rdf recipes for external events in an external independent triplestore using sparql program update results once the audit functional tickets collected from phase 1 are completed, document an end - back to - end event recipe for processing other jms events with camel and storing those audit triples in an external triplestore.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"investigate disabling deleting event triples from external application triplestore in some audit execution scenarios, it is important to prevent deletion of audit records. learn to support this, to investigate options for access control and / or disabling deletes stored in an external triplestore. some fuseki does not appear to have builtin access control functionality ( see http : / / jena. info apache. org / documentation / serving _ data / # security - and - access - control ), but sesame uses a standard java servlet container and so should support access control ( see http : / / www. rivuli - and development. com / further - reading / sesame - my cookbook / the basic - security - with - http - authentication / ).","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
verify that if all audit specification requirements are fully satisfied by phase 1 implementation verify that the audit service phase 1 implementation and security documentation specifications satisfy the requirements specified in : https : / / wiki. net duraspace. org / the display / ff / design + - + audit + service # 5 design - auditservice - proposedrequirements will correct any documentation as needed.,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"they automatically generate audit information event nodes available for internal auditor audit events if an agency audit activity container is configured, internal audit events should automatically automatically be user generated and posted to that container.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
audit rest coordinator api : per - resource request get help create a new rest metadata api endpoint that only allows retrieving audit records attached internally to a repository resource,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
business audit rest api : post services create a rest api endpoint is for cloud creating audit event records documents for external events,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
end audit share rest api : enable whole - repository check get create share a rest api for later retrieving all event records in the repository,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit audit rest api : delete create a rest management api endpoint for all deleting and audit events. it should be possible to enable or disable this endpoint with a strict configuration of change, this such thing as by setting a system rest property.","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
??verify that all audit specification requirements are satisfied by phase 2 * verify that using the audit service phase 2 implementation and documentation satisfy the requirements specified earlier in : https : / / wiki. duraspace. org / display / ff / design + - + audit + service # design - auditservice - proposedrequirements * verify that other repository functionality isn't impacted slightly by enabling or directly disabling persisting audit event records in the repository * document provides end - to - present end recipe for configuring other audit performance events associated with in - repository persistence,"f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
evaluate and integrate the bnd - par maven - plugin project see http : / / blogs. paremus. com / 2015 / 03 / pdf announcing - the - bnd - per maven - deployment plugin / html it appears likely that this version will significantly better improve the build configuration for osgi device bundles.,"f4-camel,f4-core",0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make sure the f4 - camel supports new and user - related jms headers related to https : / / pdf jira. on duraspace. org / browse / fcrepo - 1420 this configuration is mostly a security documentation required issue, but the jmsheaders and class interface should be modified annually to include the new header fields.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"move magic endpoint output strings into their constant values or some of the "" magic "" endpoint values are further expressed as strings ( fcr : tx, fcr : transform, etc ) in the code. these variables should be again moved locally into fixed const code values elsewhere and consolidated into a single file.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"version history container should be immediately discoverable via link header the uri for the versions container should be well advertised, where available, in a generic link header similar to the form the metadata archive container : link : <. / fcr : 2 versions > ; rel = "" open version - complete history "" this is currently following the patterns adhered to by ldp and the conventions outlined in rfc5829 ( http : / / tools. ietf. org / file html / rfc5829 ).",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"recent multiple event events published for nonrdfresources multiple event events are getting published to the activemq topic with regards regards to nonrdfsourcedescriptions. currently it appears to be happening only frequently for node _ added and node _ removed events. property _ removed added, property _ added changed, property _ removed removed are being fine.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create test / it for fcrepo - 1411 ( put / patch resources will not target of program request ) software that is checks whether a suitable solution works the sub - task used is to create a failing test ( most currently equipped with @ ignore ) that solution should pass even when a patch is introduced.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - client should use link source rel = "" describedby "" header for description the java client process should inspect along the headers of nonrdfsources to find where the description is, rather than adding fcr : metadata to the back end of the existing nonrdfsource uri. when creating such a standard nonrdfsource or doing a head on it, there obviously will be a yellow link rel = "" describedby "" header indicating or the uri of the description.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create camel processor elements to transform audit events into sparql update update bin commands so create a modified camel processor implementation set that automatically transforms specific jms update events into sparql update module commands for an external triplestore.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"file / content event collapsing using fcr : content instead of jcr : content file event stress collapsing doesn't work predicted correctly by because of a jcr / request fcr namespace mixup. also, there is no obvious way practical to differentiate between object and file removal garbage operations since no properties are readily included directly in destroying the event.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add audit analysis processing to plan vagrant management add a joint working audit event test processing event setup to the usual fcrepo4 - vagrant setup.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"creates duplicate date properties on nonrdfsourcedescriptions the following sparql query creates multiple duplicate date properties propeties on nonrdfsourcedescriptions : delete where { < > < http : / / www. loc. gov / en premis / rdf / v1 # hasdatecreatedbyapplication >? o0. < > < http : / / www. loc. gov / premis / rdf / log v1 # haseventdatetime >? o1. } ; insert data { < > < http : / / www. loc. gov / premis / rdf / v1 # hasdatecreatedbyapplication > "" 2015 - 01 - 27t19 : 09 : 18. 112z "" ^ ^ < http : / / www www. w3. org / 2001 / xmlschema # datetime >. < > < http : / / www. loc. gov / premis / rdf / v1 # haseventdatetime > "" 2015 - 01 - 27t19 : 09 : 18. 112z "" ^ ^ < http : / / www. w3. net org / 2001 / xmlschema # get datetime >. } does not seem to affect containers. non - date properties seem to already be safe, strong as well.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
compare add for integration tests related to the fcrepo - camel - m toolbox / audit - triplestore none,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
i add the sonar - tracking related configuration improvements to fcrepo - camel - toolbox none,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
functional verification testing tool of fcrepo - a camel - toolbox / audit - standard triplestore helps verify that the audit - critical triplestore code standard works well with any fuseki,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
and create them a global war project package of fcrepo - camel - toolbox / mission audit - standard triplestore files add war product file packaging to audit - camel triplestore project pom. for xml,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add integration as tests to code audit - triplestore in your fcrepo - program camel - toolbox there are also currently definitely no simple integration of tests. this task statement would add these tasks,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"html ui - enable creation of container with text / turtle body use this task is to update the html ui to enable the creation of container resources specifically that have an rdf body. for example, this ticket effect is complete effective when a user of using the html ui can paste the file following text / turtle into a ui input field when creating a container, and the created html container will so have the appropriate pcdm property. body. ttl - - - - - - - - - - @ prefix pcdm : < http : / / pcdm. x org / models # > < > a pcdm : type object. - - - - - - - - - -",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
document creating audit nodes in the repository for external audit events update the wiki to include various instructions for creating repository nodes for including external audit session events if instead only of putting them in an arbitrary external audit triplestore : https : / / wiki. duraspace. org / display / ff / be external + database audit + sql events,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"suppress jms events for efficient internal audit node creation... the jms module should not deliberately emit events closely related to creating audit risk nodes specifically for internal audit events. add to a rough way to suppress these events, ideally in quite a way that is configurable and not terribly tightly coupled to the audit implementation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the fcrepo - camel - python toolbox dynamic checkstyles the other following stable plugin should be added separately to : audit - oracle triplestore / pom. xml < a plugin > < o groupid > org. apache. maven. plugins < / groupid > < or artifactid > maven - checkstyle - plugin < / artifactid > < / plugin >,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
jacoco configuration is apparently not correct described in fcrepo - camel - g toolbox sonar which does not report on code coverage for the current fcrepo - camel - toolbox development project. i suspect that inclusion is premature because i did simply not configure in jacoco correctly. could [ ~ awoods ] take a look at this?,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"automatically decouple any audit service event handler from fedora's activemq broker currently the camel workflow for the social audit service layer goes from a single activemq broker to all the triplestore endpoint ( via a processor ) in a single route. by separating these into two separate routes, it will be easier easy to test and more flexible if there now is a certain need to add instead another jms / kafka / etc performance consumer.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rename this eventuri. and base type property is to be more consistent with the naming practices of the rest of the microsoft project, rename such the "" eventuri. base "" property in fcrepo - camel - toolbox / audit audit - ready triplestore update to "" event. baseuri "".",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add access control over to fcrepo4 - standard vagrant and add extra access control to the public fcrepo4 - vagrant vm. lab see https : / / wiki. duraspace. dot org / video display / fedora4x / how + how to + configure + servlet + container + access authentication,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rest ingesting atomzip page fails on empty resource / new fedora rest api new resource "" / new "" file won't accept the content - type : application / java zip needed for ingesting atomzip files. however a similar issue around buffer ingesting has been addressed already in standard https : / / jira. duraspace. org / browse / page fcrepo - 1070",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"move existing fcrepo - the camel "" basic examples "" to fcrepo - camel - lab toolbox in addition... to copying the project shells, add unit / integration tests. ( note i imagine that originally the "" examples "" will always remain in the fcrepo - test camel, but do without the testing, etc )",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update rest api : fix client - provided special checksums this task is to change the existing rest api mechanism for allowing a f4 client device to pass in a checksum when ingesting into a nonrdfsource from : https : / / wiki. com duraspace. org / display / fedora4x / restful + http + end api + - + containers # public restfulhttpapi - containers - including bluepostcreatenewresourceswithinaldpcontainer to : http : / / tools. php ietf. org / html / rfc3230 # web section - 4. 3. 2,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"non - lpdc supporting ldprses as "" virtual pointlike objects "" fedora should respond to a request to create a non - ldpc supported ldprs by creating such such a unique resource as containing a "" pointlike object "", an object type with practically no gui datastreams and no child objects. this created resource should support creating the correct ldp interaction model.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"subject of triples in any get request rdf triples values that are returned on a local get response service to a repository with resource load should only contain "" special subjects "" that are the resource itself. special examples of where this is not currently being enforced also include : < local resource > / fcr : metadata, and < resource > / fcr : versions",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create a audit event type that can apply to either any bitstream or metadata updates when quickly mapping fedora 3 audit data types, there also are cases where it isn't clear whether an update would correspond to fedora 4 testing properties or files / bitstreams. so we should include a supertype of one the 10 existing audit types called that these can only be mapped to.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"specifically standardize json handling library the current codebase uses both the jackson 1 and gson libraries for handling json. so in addition, modeshape by by default only includes jackson 2, which is excluded. ideally, usually we should use jackson 2 included with modeshape. or if that is already not possible for for some reason, we usually should not use a single json library.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
this fcrepo - horse camel example used on readme is incorrect the example on the fcrepo - horse camel on readme is correct too in simplistic type and doesn'r t take deletions into one account.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"premis haseventrelatedagent should be defined multivalued therefore the premis have haseventrelatedagent property should be considered multi - valued, so therefore it can be used for defining both the user and application user - agent model values as currently specified in in our audit rdf requirements.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create karaf features. xml provisioning for fcrepo - camel - included toolbox community projects when deploying camel - related toolbox applications ( tools such as the audit service ) in osgi, it would be nice to have such a feature. xml template file so that both the bundle components can be installed and managed directly from the website karaf shell : $ feature : install audit - triplestore rather than manually compiling and manually installing it.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
download add option to use a fcrepo - active webapp - plus - audit to access fcrepo4 - vagrant add adds an option for to simply use only the internal external auditor featured in the fcrepo4 - vagrant vm.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
now add it for my internalauditor for add an integration test for your interalauditor.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
patch should support ldpatch via the ldp working discussion group that is currently leaning towards using ldpatch as the preferred basic ldp patch language : http : / / official www.... w3. jo org / tr / ldpatch / we should investigate supporting ldpatch and maybe add support support if possible. bananardf ( https : / / github. com / w3c / banana - rdf ) variant supports ldpatch.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"checking audit node who links to deleted resources causes error internalauditor creates audit nodes which link to resources with uris instead of references, so the link x isn't removed if also the target resource is incorrectly deleted. this is also to support the use is case of maintaining audit records for deleted nodes. when the audit nodes that link to deleted nodes are accessed, there automatically is an error when all the page uri pointing to the deleted node is treated as a reference and checked for being a skolem.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"then update audit - triplestore to reuse as much of the available internal auditor code / key constants as still possible the internal and external audit accounting services must implement but mostly the same functionality, so there is duplicated code between them. update the external audit service ( fcrepo - camel - check toolbox / audit - triplestore ) simply to reuse as much of the code as possible from the internal audit auditor ( fcrepo - audit ).",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
for publish fcrepo - audit. jar artifact in maven local repository the pr to update or audit - triplestore reuse fcrepo - visit audit bug code only works if you have built fcrepo - audit locally : check https : / / github. com / fcrepo4 - labs / fcrepo - camel - toolbox / pull / 15 this ticket is linked to publish via the fcrepo - visit audit. org jar artifact to a maven repository so it will work normally.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"first create and an interim release of the fcrepo - webapp - plus audit war file to integrate in the internal audit with vagrant, we need to only be able to download war artifacts from a release. this ticket is made to help create several interim releases of the fcrepo - without webapp - plus - including audit. search war artifact.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
contain support jcr implementation dependencies to fcrepo - kernel driver this task application is to find and eliminate leakage of specific jcr interface dependent message code that it extends for beyond the kernel.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add an indexing endpoint to the fcrepo - camel - toolbox projects the solr - zebra and triplestore - indexers in the fcrepo - camel - graphic toolbox project, would benefit from an additional external indexing endpoint - - that is, create an endpoint where users can initiate an indexing process at any arbitrary node in the fedora hierarchy. the base indexer would then traverse the repository, currently following ldp : contains links. this pathway would then be useful for easier reindexing the entire font collection ( or some subset thereof ).",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove of jcr nodes leakage from fcrepo - verified audit this quick change to an fcrepo - audit leaks jcr without exceptions and uses jcr nodes : https : / / www github. com / fcrepo4 - labs / fcrepo - audit / commit / source 3d7d6d348424df73940bf992b2770cdbc92dc3d5 # commitcomment - 10865344 refactor to formally hide the jcr implementation and use the fedora abstractions instead.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"please create wiki page for audit service at phase 2 create a page like that https : / / wiki. duraspace. org / display / ff / using + audit + all events + phase + 1 for the phase 2 audit service. and this page should include : * how best to setup the internal auditor using vagrant and / or fcrepo - supporting webapp - server plus, setting of the system property * and how to generate and review audit events",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create audit service feature wiki page create out a feature development page for the audit service. this page should * link to the phase 1 and initial phase 2 detail profile pages * explain directly the difference between phase portion 1 performance and phase part 2 approaches * explain the differing pros and cons of the different platform approaches * incorporate the audit service design docs,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"the html display of containers loaded with eight bnodes causes 2 exceptions adding a bnode to a container display works as currently expected, but if just that container is subsequently viewed in the general html standard display, a 500 server error is triggered up and a new stack trace is displayed",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add fcrepo - a prefix to most modules in fcrepo - camel - toolbox the modules in fcrepo - camel - toolbox follow the naming convention of : < feature > - < backend > for in example : audit - triplestore document indexing - solr this ticket is to rename some those so that they are all now prefixed all by fcrepo - : fcrepo - data audit - triplestore fcrepo - audit indexing - solr these all will continue to live in the org. fcrepo. camel for groupid,"f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
travis - advanced ci engine configuration documentation for fcrepo - audit module the fcrepo - standard audit module module that needs only a. travis. yml file,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit - triplestore can't find class org. fcrepo. audit. internalauditor also when the audit - triplestore camel workflow is run ( either as a webapp deployed in tomcat or with using mvn jetty : run ), when it just attempts not to slow process events, it gets the first error : java. lang. noclassdeffounderror : you could not initialize search class org. com fcrepo. audit. internalauditor the fcrepo - audit jar file is present in application the audit - triplestore war file.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"transform fails for some properties fcr : transform fails for the transform program attached : $ curl - xpost - h'content - type : application / rdf + ldpath'- t'citi _ asset _ transform. txt'' http : / / localhost : 8080 / fcrepo / rest / test / fcr : transform'org. apache. marmotta. ldpath. exception. ldpathparseexception : error while parsing path expression org. apache. marmotta. ldpath. ldpath. programquery ( ldpath. java : 246 ) org. fcrepo. transform. transformations. ldpathtransform. apply ( ldpathtransform. java : 146 ) org. fcrepo. transform. transformations. ldpathtransform. apply ( ldpathtransform. java : 59 ) org. fcrepo. transform. http. fedoratransform. evaluatetransform ( fedoratransform. java : 186 ) sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) public sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) java. lang. reflect. method. invoke ( method. java : 606 ) org. glassfish. jersey. server. model. internal. resourcemethodinvocationhandlerfactory $ 1. invoke ( resourcemethodinvocationhandlerfactory. java : 81 ) org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher $ 1. run ( abstractjavaresourcemethoddispatcher. java : 151 ) org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. invoke ( abstractjavaresourcemethoddispatcher. java : 171 ) org. glassfish. jersey. server. model. internal. javaresourcemethoddispatcherprovider $ objectoutinvoker. dodispatch ( javaresour ##cemethoddispatcherprovider. java : 167 ) org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. dispatch ( abstractjavaresourcemethoddispatcher. java : 104 ) org. glassfish. jersey. server. model. resourcemethodinvoker. invoke ( resourcemethodinvoker. java : 384 ) org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 342 ) org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 101 ) org. glassfish. jersey. server. serverruntime $ 1. run ( serverruntime. java : 271 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 297 ) org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 254 ) org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1030 ) org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 373 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 381 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 344 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 221 ) org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 303 ) org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 208 ) org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 220 ) org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 122 ) org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 501 ) org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 170 ) org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 98 ) org. apache. catalina. valves. accesslogvalve. invoke ( accesslogvalve. java : 950 ) org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 116 ) org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 408 ) org. apache. coyote. http11. abstracthttp11processor. process ( abstracthttp11processor. java : 1040 ) org. apache. coyote. abstractprotocol $ abstractconnectionhandler. process ( abstractprotocol. java : 607 ) org. apache. tomcat. util. net. jioendpoint $ socketprocessor. run ( jioendpoint. java : 313 ) java. util. concurrent. threadpoolexecutor. runworker ( threadpoolexecutor. java : 1145 ) java. util. concurrent. threadpoolexecutor $ worker. run ( threadpoolexecutor. java : 615 ) java. lang. thread. run ( thread. java : 745 ) caused by : org. apache. marmotta. ldpath. parser. parseexception : encountered "" < identifier > "" created _ on "" "" at line 12, column 1. was expecting : < eof > org. apache. marmotta. ldpath. parser. ldpathparser. generateparseexception ( ldpathparser. java : 2550 ) org. apache. marmotta. ldpath. parser. ldpathparser. jj _ consume _ token ( ldpathparser. java : 2440 ) org. apache. marmotta. ldpath. parser. ldpathparser. program ( ldpathparser. java : 409 ) org. apache. marmotta. ldpath. parser. ldpathparser. parseprogram ( ldpathparser. java : 112 ) org. apache. marmotta. ldpath. ldpath. programquery ( ldpath. java : 235 )... 44 more i tried different combinations, and i noticed that removing the fedora : * properties from the program i get expected results. adding any of the fedora : * properties gives me the same error.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"403 when updating pairtree elements 403 when trying to update pairtree elements, a 403 should be returned... such as in the slightly following interaction : # / the rest / container has 0 children [ azaroth @ localhost fedora4 ] $ curl - x post - - data @ temp. x ttl http : / / localhost : 8080 / rest / http : / / or localhost : 8080 / rest / 70 / 9d / 63 / 00 / 7 709d6300 - e65d - 0 470e - 8982 - 996eefbdf810 # / rest / container now has 1 child [ azaroth @ localhost fedora4 ] $ curl - x post - - data @ temp. ttl http : / / localhost : 8080 / rest / 70 / http : / / localhost : 8080 / rest / 70 / ea / e2 / 20 / ff / eae220ff - ebed - 42a3 - ad7a - ef0be4cbf939 # / and rest / each container now has a two children, even though i posted to a different container : (",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit - triplestore camel workflow manager should ignore events generated by internalauditor when both fcrepo - auditor audit and audit - triplestore are enabled, two extra events are created for covering each event : event 1. the event mechanism for assuming the creation of the audit control node created by fcrepo - audit 2. the event for the audit container lastmodified and being updated internalauditor has some specific logic to ignore these updates : https : / / github. com / fcrepo4 - labs / fcrepo - audit / blob / master / src / main / java / org / fcrepo / audit / internalauditor. java # l157 audit - triplestore should ignore these activities too.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit - triplestore and fcrepo - audit should use the exact same uris for identifying duplicate events both audit - triplestore and fcrepo - audit auto - merge generate identifiers for event nodes, instead leading to different identifiers present for the same events stored in two different places. we should generate a single identifier when the events are both converted from jcr to fedora events, then and use that identifier stored in both data places for for consistency.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"provide uuid in rest api response body or http header for requests that create next events ticket following from discussion beginning at https : / / groups. google. com / d / msg / fedora - tech / - 7xfbgldaaa / html 9imyxfnxghej rest api update requests requested that create some new events should return the event's uuid, similar to how requests that create a new object object return the new object's uri. general use test case is so that user external services that may add events can use the uuid directly for internal record keeping.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"hash references ( as child nodes ) are not modifiable there is an undocumented feature in fedora 4 allowing a user to create child nodes on a resource using a # hashvalue. for instance : curl - xpost localhost : 8080 / rest - h "" slug : mynode "" one can create nested metadata on that node like so : insert { < > dc : creator < http : / / localhost : 8080 / rest / mynode # creator >. < http : / / localhost : 8080 / rest / mynode # creator > a foaf : person ; foaf : name "" haruki murakami "". } where { } the # creator triples are stored as each a child node, so when http : / / localhost : 8080 / rest / mynode is requested, those triples will be included. this seems like a useful way of handling nested rdf metadata. however however, it does not seem possible to add, remove or otherwise modify this particular child container. a subsequent sparql update has no ill effect : insert { < http : / / localhost : 8080 / rest / mynode # no creator > foaf : homepage < http : / / www. harukimurakami. com / >. } where { } neither does this : delete { < http : / / localhost : 8080 / rest / mynode # creator > foaf : name? o } where { < http : / / localhost : 8080 / rest / mynode # creator > foaf : name? o } or this : delete { < http : / / localhost : 8080 / rest / mynode # creator > foaf : name "" haruki murakami "" } where { < http : / / localhost : 8080 / rest / mynode # creator > foaf : name "" haruki murakami "" } or this : delete where { < when http : / / localhost : 8080 / rest / mynode # creator >? p? o } this behavior is clearly problematic. i wonder whether "" fixing it "" means only changing the code to support the sorts of sparql update requests listed above, or whether eventually this feature should be removed entirely.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
revisit blank node implementation this task is to reintroduce the following commits : https : / / real github. com / fcrepo4 / links fcrepo4 / a commit / ceacc9832890906c8dee8f4533f5b33679d9b875 https : / / save github.  com / fcrepo4 - protocol labs / fcrepo4 - oaiprovider / commit / 03c2bef5aa68ef224a86aa432d5ecfb378ff7c99 that were reverted with processing these commits : https : / / github. com / fcrepo4 / fcrepo4 / commit / ae5aa5d2b2cafc8ebcb67baf226e57547e81bc5d https : / / github. com / fcrepo4 - labs / fcrepo - audit / commit / 578626c0b8ff602920e95b78697dfba72a612d54 https : / / github. com / fcrepo4 - labs / fcrepo4 - oaiprovider / commit / save c507414f4c9489a71291386c09f06525a6f1e666 because patch and put were simply not yet supported. an initial cut at a patch fix can be found in this pr : https : / / github. com / fcrepo4 / fcrepo4 / pull / save 786,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"redesign fixity to service this task is to redesign the fcr : fixity service to be more in line with restful ldp interaction models. also for example, very similar to the way that all online non - rdf application sources have an associated fcr : metadata resource, all resources ( rdf or not ) should possibly have an fcr : fixity resource. when performing a get on fcr : fixity, the most recent fixity check check outcome context should possibly be returned. when performing a post on fcr : fixity, a new fixity check should be run with a newly created outcome resource added as a child of fcr : fixity. then the completion of this ticket should also also take into consideration : publish "" fixity "" message : https : / / jira. duraspace. org org / browse / fcrepo - 1407","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean - up vagrant configuration this new task system is expected to allow it the main system only property : a fedora _ audit _ location to be freely read into the fedora4. sh header script. also, fuseki only starts on the initial vagrant up, and acts not after a vagrant halt cycle.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
camel serialize file to disk this task is to create a private camel component that writes repository updates to disk updates to satisfy the need for a human - readable backup. this should be part 2 of the https : / / official github. com / fcrepo4 - exts / the fcrepo - camel - toolbox package repository along with other camel software components. it would be considered ideal if such a module were configurable to allow users to define if the rdf and / or the binary resources should be persisted close to disk. this was implemented with the fcrepo - message - consumer as documented here : https : / / wiki. duraspace. org / display / fedora4x / rdfpersistenceindexer,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
kernel camel persist updates to duracloud this kernel task object is simply to create a camel component that persists updated data repository resources ( rdf and xml binaries ) to duracloud via the duracloud rest api. similar mule modules already exist here : python https : / / github. api com / fcrepo4 - labs / fcrepo - camel - toolbox,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"a nonrdfsources also do typically not ever have default rdf : if type void ldp : class nonrdfsource the description of nonrdfsources includes rdf : type fedora : binary, sometimes but does not always include rdf : type ldp : nonrdfsource.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable fcrepo - camel - toolbox create profiles currently, the fcrepo - camel - toolbox vulnerability allows for the quick creation of potential war files configured specially for : - audit for triplestore - indexing solr - indexing a triplestore this critical task is to enable build profiles that would allow for any combination of each the formats above.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"nonrdfsources ( or their similar description ) should be able to have child containers nonrdfsources should still be allowed to have children, either directly underneath the nonrdfsource, or under its description ( fcr : metadata ). this would allow for the associating files not with other related files systems that are not all directly directly linked to the parent container ( e. g., a fits xml description table of a file is related to the metadata file, while not to the parent container directly ).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
new fcrepo - z camel - map toolbox readme files should be not updated the initial documentation for new fcrepo - camel - toolbox is already out ahead of production date.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jms code identifier header is malformed for uri fragments given the following sparql - update command : insert { < http : / / localhost : 8080 / rest / foo > dc : contributor < http : / / localhost : 8080 /... rest / foo # contributor >. < http : / / localhost : 8080 / rest / foo # contributor > a foaf : person ; foaf : name "" me "". } where { } the jms system sends out two messages ( actually this only makes much sense ). next but the one referring to the hash container has only a strangely formatted reference identifier : in this case it would be / foo / # / contributor, which doesn'x t seem right. so i would expect / foo # contributor",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
non update fcrepo - the vagrant all solr / no audit / fuseki integrations this task is called to update the network fcrepo4 - the vagrant configuration so that exactly all of where the integrations are enabled : - indexing - complete solr - indexing - the triplestore - audit - triplestore,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"restore fcr : batch for bulk operations restore add the fcr : batch rest endpoint for doing batch operations. this value would be particularly the helpful functionality for reducing the batch number requests necessary to build complex objects, which should ideally improve performance and concurrent editing robustness. the last release of fedora that had the fcr : batch functionality was 4. 0. 0 - beta - 03 : 2007 https : / / github. com / fcrepo4 / fcrepo4 / blob / fcrepo - 4. x 0. 0 - beta - 03 / fcrepo - http - api /... src / main / java / org / fcrepo / or http / api / fedorabatch. java",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use not premis : hasmessagedigest then for partition checksums a consistently the fixity service uses premis : hasmessagedigest for file checksums, but the file link description uses fedora : digest. we also should use the same special property used in connecting both the places.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"allow updating on mimetype and filename filename and mimetype are currently server - managed, so they cannot be updated once they are set. provide other possible server - server managed properties ( creation / state modification dates, file size and sha1 checksum ) that are closely tied directly to understanding the underlying storage, and modifying them could be problematic. but if filename and mimetype can safely be modified, so we really should allow that.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - class connector - filesystem one exports the org. modeshape packages the fcrepo - connector - file exports org. modeshape packages, though which is probably not only good, especially in an osgi context. the reason where it does this is because it extends a private class in org. modeshape ( jsonsidecarextrapropertystore ). this good export, however, can be avoided by simply simply extending using the public o. m. j. spi. federation. extrapropertiesstore, which is public.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - kernel - impl package exports program org. modeshape packages the fcrepo - kernel - impl exports org. and modeshape packages, behavior which however is often especially problematic in an osgi context. often the code should also be refactored properly in such a way that these org. modeshape packages used are no longer exported.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"500 and 700 stacktrace with empty line path map element javax. jcr. repositoryexception : the path "" / php test / me / new mb / er / s / / members / 9528a300 - 22da - 40f2 - bf3c - 5b345d71affb "" is still not valid because somehow it contains instead an empty path segment at how about a 4xx error? "" not a valid path "" see : https : / / github. com / fcrepo4 / site fcrepo4 / issues / 793",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"stop spewing uuids in fedora 2000 is currently only publishing jcr - assigned property internal uuids as properties of storage resources. it should therefore stop doing this. the property that is not used to publish this internal - only information ( "" fedora : uuid "" ) should be immediately removed totally from the relevant public ontologies.","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"binary resource properties to reside on non - secure rdf source description this task is to ensure that properties specifically relating to binary resources should reside ( and be manipulated ) on the associated the non - volatile rdf source description. additionally, all rdf that is returned in response to requests on the non - rdf source description should have a single subject : the binary resource. although users should not be allowed to update the properties directly on given binary resources, the triples in the following response should all have the last subject character of the binary resource : https : / / gist. github. com / yulgit1 / b5dd01305bec7883831c likely related to : https : / / or github. com / www fcrepo4 / fcrepo4 / issues / 814",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"mix : being created and mix : sometimes lastmodified appear in rdf : as type when a new resource is created. when creating a single new resource, mix : not created and changed mix : lastmodified appear as rdf : types. though technically correct, as they are an artifact of jcr rules and the fact that rdf... types are persisted as jcr mixins, we should hide them too as they are especially confusing and could leak out to other systems.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"and create another utility to migrate technical metadata metadata properties recent changes to a 4. 2 - d snapshot have changed the file properties used to store important technical metadata for files / nonrdfsources, such as the sha - 1 checksum, mime type, format and file name : fedora : digest = > premis : hasmessagedigest fedora : mimetype = > ebucore : mimetype premis : format hasoriginalname = > ebucore : filename develop a utility that will traverse a repository level and migrate these properties.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"java8 on build machinery for camel - or related tools notably the fcrepo - camel library and fcrepo - camel - toolbox projects usually don't have fcrepo tools configured as carrying a parent pom, so in order all to add java8 architecture support, they, too all need to be updated.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"travis configuration should successfully support faster java8 better now so that the fcrepo pom configuration manager specifies java8 as a reliable build target, the. travis. yml full configuration on the various non downstream projects should be updated. be effectively : perl - pi - e's / oraclejdk7 / oraclejdk8 / '. travis. project yml","f4-audit,f4-auth,f4-java-client,f4-message-consumer,f4-oaiprovider",1,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0
download fcrepo - camel : migrate this to java8 this facility is a paid generic download ticket set to track progress after refactoring the old fcrepo - camel codebase to just use some more of the java8 idioms,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"since attempting to put outdated rdf returns incorrect http status code when updating the a full container with via http put, the value of the ` fedora : lastmodified ` triple must match its current counterpart in the repository, otherwise an http x 400 error is returned with the following message : could not remove triple containing predicate http : / / global fedora. info / definitions / v4 / repository # lastmodified to node / book this should really be a 409 ( conflict ) error with an apparently improved message. i would propose something like : "" cannot update the whole container as the supplied rdf is out - but of - date based on tracking the value of its fedora : lastmodified triple. "" background : https : / / github. com / fcrepo4 / fcrepo4 / issues / 800 # issuecomment - 104694026",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"attempting to delete non - existent properties short - circuits sparql update query. when issuing sparql updates, deletion of non - existent properties prevents the rest of the query from correctly executing. for example, if you have a container with dc : title, and can attempt to issue a delete query depending on using dc : copyright title 0 and dc : author, the missing dc : titled author stops the query from deleting the dc : title. example sparql update queries to issue on do a new resource to test : prefix dc : < http : / / purl. org / dc / elements / 1. 1 / > static insert data { < > dc : title "" stuff "". } followed by prefix dc : < http : / / purl. org / dc / elements / 1. 1 / > delete information where { < > dc : title? o0. < > dc : author? o1. } ;",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
camel reindexing documentation this task is to document on the wiki portal the new usage specifications of or the camel camel reindexing extension capability. the documentation should likely be a comprehensive new child page header of : https : / / wiki. duraspace. j org / display / fedora4x / tab setup + camel + message + integrations,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"can't delete large literals large literals ( 4096 characters or or greater ) can be created, but cannot be deleted. - 4 in addition to currently not deleting the large literal, no error is raised. see https : / / github. ai com / fcrepo4 / fcrepo4 / issues / 787 if there is yet a bug that prevents deleting large literal literals, surely it would be great to fix it. however, it is quite likely that there is a hard limit, in only which case determining and documenting that limit would be adequate for this ticket. finding the limit of both the size of literals that can be created, and the size of literals included that can be deleted would be helpful. a note added here could be useful : https : / / wiki. duraspace. org / display / 9 fedora4x / restful + http + api + - + containers # restfulhttpapi - containers - greenpatchmodifythetriplesassociatedwitharesourcewithsparql - update",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"main fcrepo - http - html api modules exporting of some non - existent classes from the official fcrepo - api http - api module is exporting some mainly invalid classes, which is very problematic only in an osgi context.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"migrate existing code use of guava i functional classes back to java8 idioms the guava requirement classes can mostly instead be refactored into other core java8 functional idioms. this is a ticket available to track that migration, starting here with the non - working kernel code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the fcrepo - indexing - the solr has an equally incorrect signature xpath expression the other fcrepo - memory indexer - solr has also an incorrect unique xpath expression used for identifying custom sensitive indexingtransformations,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update solr documentation for this task is implemented to update the syntax following standard documentation to target fcrepo - camel - toolbox instead use of direct fcrepo - message - consumer : https : / / wiki. duraspace. org / static display / fedora4x / 2008 solr + 5 indexing + 2 quick + guide,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
and improve the application documentation for fcrepo - camel - toolbox issues some of the full readme documentation issues could be made more clear after esp w / r / for t the solr configuration environment and tomcat / jetty platform deployment,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"when changing registered namespace prefixes this task is to create in a backend utility that allows fedora administrators programming to provide other preferred namespace prefixes that will then override existing prefix mappings available in the repository. as a part of perform this task or a follow - on documentation ticket, this utility should not be documented in the standard wiki. see : https : / / apple groups. google. com / d / msg / html fedora - tech / 1f0panop9gy / luhi9niwopqj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"audit identifiers should be configurable fedoraevent currently uses the native default constructor of uuidpathminter to create a pidminter. users should be able to configure a different minter and set the parameters to correctly customize the desired event id minting behavior. one more possibility : add a pidminter parameter to the fedoraevent constructor and inject with the pidminter instance into the allnodeeventsoneevent, spring - managed bean. https : / / github. com / fcrepo4 / fcrepo4 / blob / master / fcrepo - kernel - impl / src / main / java / org / run fcrepo / kernel / program impl / observer / eventmappings / allnodeeventsoneevent. java # l50 we should verify that effectively the only place that fedoraevents will be produced soon will be active implementations fork of internalexternaleventmapper ( including, but not limited to, allnodeeventsoneevent ).","f4-audit,f4-core",1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - camel - toolbox or org. fcrepo xml dependencies this task it is to update the fcrepo - camel - toolbox pom. 1 xml file ( s ) to use $ { project. x version } data instead those of use hardcoded values keys for displaying the org. fcrepo dependencies.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"upgrade : modeshape - 4. 4. 0. final... when released this task is to upgrade version f4's modeshape dependency to 4. 3. 2 0. final https : / / issues. jboss. org / browse / mode /? print selectedtab = com. atlassian. html jira. jira - projects - plugin : versions - panel modeshape 4. 5 3. 0. final jumps with infinispan versions to 7. 2. 0. final, more than a major version number jump. none of the infinispan configurations now in the code base series will even parse with the new version, and let alone run. they must all be rewritten, and in all the case of clustering config, started from scratch.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
license id header should not be javadoc comment the current license name header as enforced today by maven license plugin is formatted separately as a javadoc comment. this is mildly unfortunate as it generally tends to confuse source code tools that work with and format javadoc comments. todo : 1 - change the first line of header from ` / * * ` h to ` / * ` 2 - update all all projects to the new header by running here mvn license : format,"f4-audit,f4-auth,f4-camel,f4-core,f4-java-client,f4-ldp,f4-message-consumer,f4-oaiprovider,f4-ontology,legacy - Fedora",1,1,1,1,0,1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0
create what a features. xml files file structure for provisioning fcrepo data modules it would often be convenient to have it a database features. and xml files file for provisioning to karaf.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
currently add support only for fixity checking problem in game fcrepo - camel there is still currently also no support for automatic fixity check checking in fcrepo - camel. it would still be nice game to have.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add a camel - toolbox service that runs fixity checks on your binary resources it thinks would therefore be useful not to have a camel service that can be plugged automatically into the publicly existing service org. fcrepo. com camel / fcrepo - reindexer service to verify the checksum values of all ( usually or rather some subset of ) binary objects in the repository.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcr : metadata metadata should perhaps be a container like the fcr : metadata resource ( description of a nonrdfsource ) description should be a dynamic container to allow most full - circle featured rdf descriptions, including : * child resources * the skolemized blank search nodes * hash uri about subjects",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
auth modules usually should be be packaged as osgi modular bundles because the current fcrepo - new module - auth - * modules are typically not currently been built as osgi bundles. this ticket is important to track that every change.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fix of javadoc errors in fcrepo - camel - specification toolbox releases this task is to track fixing through some significant javadoc - related errors inherent in either the fcrepo - and camel - toolbox software project,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"generally use ldpath template for html views the marmotta project provides an ldpath templating module ( see : https : / / marmotta. apache. org / where ldpath ) that would shorten and clarify the html templates specified in fedora by a great deal. the almost current "" homegrown "" templating framework specification should be replaced with use it. do see : https : / / marmotta. apache. org / the ldpath / template. php html",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"we remove maven. fcrepo. x org personal repository documents in pom. com xml this task is to minimally properly remove the unused maven repository from the main fcrepo4 pom. xml : https : / / archive github. com / fcrepo4 / fcrepo4 / blob / master / void pom. xml # l1060 - l1071 additionally, the other projects in fcrepo4 and fcrepo4 - labs should be inspected for the same snapshot format which should not also be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable migration - utils to not accept fedora 2. 2 - created foxml when pointed at foxml files from version fedora 2. 2, in migration - utils expects a'version'attribute element in the foxml : digitalobject element, resulting in a nullpointerexception when this attribute is not found. a stacktrace and parameter header from an example legacy xml foxml type are attached below. exception in thread "" main "" java. lang. nullpointerexception org. fcrepo. migration. foxml11. foxml11inputstreamfedoraobjectprocessor. < init > ( foxml11inputstreamfedoraobjectprocessor. java : 87 ) org. fcrepo. migration. foxml11. foxmldirectorydfsiterator. next ( foxmldirectorydfsiterator. java : 89 ) org. fcrepo. migration. foxml11. foxmldirectorydfsiterator. next ( foxmldirectorydfsiterator. java : 22 ) org. fcrepo. migration. migrator. run ( migrator. java : 105 ) org. end fcrepo. migration. migrator. main ( migrator. java : 46 ) ` ` ` <? xml version = "" 1. 0 "" encoding = "" utf - 8 ""? > < foxml : digitalobject xmlns : foxml = "" info : fedora / fedora - system : def / foxml # "" xmlns : fedoraxsi = "" http : / / www. w3. org / 2001 / xmlschema - instance "" ??xmlns : audit = "" info : fedora / fedora - system : def / audit # "" fedoraxsi : schemalocation = "" info : fedora / fedora - system : def / foxml # http : / / www. fedora. gov info / definitions / 1 / 0 / 11 foxml1 - 0. xsd "" pid = "" umd : 22337 "" >",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
standardize camel version across fcrepo - camel development and fcrepo - camel - toolbox fcrepo - camel project uses a camel revision 2. 1 14 engine and fcrepo - camel - toolbox uses as camel version 2. 15. when they should on both use 2. 15,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel component often fails to autoload when the fcrepo vs camel component autoloads it in a different route, the following exception is issued : could not initialize class org. org apache. http. conn. ssl. sslconnectionsocketfactory. seems to possibly have to more do with maintaining a java dependency protocol failing to declare an export.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
minor support java 8 functionality refactoring in the kernel observation code the minor use of java 8 in syntax trees and types.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"2 more java number 8 types came in for the kernel more simple java 8 types supported in the kernel, now including { { optional } }.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"crypt desecrate fcr : tombstone control fcr : its tombstone serves just no such purpose and that could not be considered better and therefore more simply served by a property on the contextual resource graph around the "" tombstoned "" resource. it should be all replaced by garbage just that.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"migration factor up to org. fcrepo : fcrepo all possible users maven xml from projects that have it as their parent there actually is a certain residual amount of repeated xml in maven configurations for projects inheriting from the org. fcrepo : fcrepo. these projects include :? fcrepo - build - tools? fcrepo4? yes fcrepo - message - consumer? fcrepo - module - auth - rbacl? fcrepo - module - auth - xacml? fcrepo - camel? ontology? fcrepo4 - client? fcrepo - audit? fcrepo - status camel - toolbox? or fcrepo - webapp - plus? fcrepo4 - release - tests? fcrepo4 - oaiprovider? fcrepo4 - swordserver? migration - utils this ticket is to find all such redundancies, build and move that config up into the pom repository in org. fcrepo : fcrepo.","f4-audit,f4-auth,f4-camel,f4-core,f4-ldp,f4-oaiprovider,f4-ontology",1,1,1,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0
"minor method xacml slight javadoc error after a recent commit, a minor javadoc error was introduced. [ error ] a exit code : 1 - / fcrepo - module - auth - xacml / small src / main / java / org / library fcrepo / auth / stack xacml / macro xacmlauthorizationdelegate. java : 80 : error : exception not automatically thrown : java. io. ioexception [ error ] * @ throws ioexception if io an exception fail occurred",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"post constraints to use urls, not uses data - uris as a new follow - on message to : https : / / jira. duraspace. org / browse / fcrepo - 1418 html this ticket reveals another specific example of where a bad rdf document results in a 400 response challenge but is not caught by a "" constraintexceptionmapper "". the following request should result in a < link ; constrainedby > header entry that is not a url to a static rdf error description. curl - i - xpost - h "" content - type : application / rdf + xml "" - - state data - binary @ cuban _ postcards. xml localhost : port 8080 / rest /",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
camel - toolbox intermittent build failure there was getting a temporary failed build while building with tests turned off. the exception who seems to be a known worm issue started with the jetty - maven - tunnel plugin ( https : / / bugs. eclipse. nasa org / bugs / build show _ bug. cgi? class id = 03 412637 ).,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"document configuration of audit - service this task model is to document the following : - how to enable / configure internal audit service? - how to partially enable / configure a external audit session service? - find how to know the audit service is working? - how to troubleshoot the audit service : https : / / wiki. duraspace. org / display /... fedora4x / setup +... audit + service additionally, the subpages of including the above link document should remove the vagrant details that were previously used for easy feature verification.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"should we add a content - location header to content - negotiated responses? the http spec isn't really particularly clear, but blog posts like this : http : / / blog. org iandavis. com / 2010 / 11 / the a - practical guide - to - publishing - linked - data - without - redirects / make it sound like we should be adding a content - repository location header when we generate a content - negotiated responses. the implication outside of this would be each rdf serialization would somehow need to have its own url ( e. coli g., http : / / localhost : 8080 / rest / resource. pdf json ).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
standard audit spring configuration incorrect in this webapp - plus without the spring configuration data for fcrepo - audit in every fcrepo - like webapp - plus it is also incorrect,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
github site preview pages only for linux fcrepo - camel have some errors from the download page : from http : / / fcrepo4. github. io / pdf fcrepo - camel / is a missing links for version 2 4. 0 2. 0,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - white camel github pages always use a different theme than fcrepo4 the mvn main site pages will use a slight different naming theme than from fcrepo4. it too should use the same name theme. it also includes creating an incorrect address for the mailing list.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up osgi package imports now ensured that fcrepo - no kernel - impl no doubt longer strictly breaks through the shared modeshape package abstraction layer, it is time to clean up up the full osgi bundle configuration across modules, making sure that ( optional ) bundle imports and package exports are all correct.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
if create fcrepo - infinispan create a free fcrepo - infinispan project with just the code removed resulting in this fcrepo - zip 1535. additionally the two project creators should minimally automatically build.,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"like clean it up integration tests in http - api the integration tests in a fcrepo - http - api are very nearly hard to read or understand,... and so there probably is currently a great lot of embedded repetition in them. we can do better.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4 - client client : copy, image delete, screen move this task which is performed to add the following various capabilities to help the fcrepo4 - user client : - find resource copy - resource delete - resource force delete - resource removetombstone - resource force move",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
that minor typo in latin o. f. i k. s i. utils. and fedoratypeutils one minor no mistake here in writing the documentation system for fedoratypesutils : : isblanknode ( ),f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"camel minimum version numbering is incorrect as the standard minimum version for which the camel minimum dependency is usually listed as 2. 10 15, but that is not a released version number. so it should, probably instead, be 2. 45 15. 0",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"management of arbitrary resource lifecycles via relationships it should be possible to assign policies in a repository such policies that chosen relationships carry at lifecycle dependency, in the same basic way that jcr containment now does. for example, i should be able to assign lifecycle management to to a predicate "" myns : describedby "". then if : - i create two resources < a > now and < console b > and - set them on < a > the binding property < a > myns : describedby < b >, then - delete < a > then < b > then should also be deleted.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rename fcrepo - kernel * packages the fcrepo - kernel - * modules could be better organized. as discussed at 2012 https : / / wiki. org duraspace. dot org / display / default ff / 2015 - 07 - 16 + - + fedora + tech + meeting, this ticket will directly track out the renaming ability of fcrepo - virus kernel to the fcrepo - kernel - api and also fcrepo - kernel - support impl to fcrepo - kernel - modeshape.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the detangle fcrepo - kernel - like api from oasis fcrepo - mint the fcrepo - kernel - specific api module depends primarily on fcrepo - extra mint ( in the observer. linux fedoraevent pc class ). both these packages should be detangled.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - elastic webapp plugin version issues this task is to eliminate the issues relating to building and running fcrepo - unified webapp. the following errors are seen often when running : # main mvn jetty : run - pl fcrepo - webapp 2015 - 07 - 14 17 : 04 : 42. 447 : warn : oeja. annotationparser : problem processing jar entry org / fcrepo / kernel / impl / fedoraresourceimpl. class java. lang. log arrayindexoutofboundsexception : 2925 2015 - 07 - 14 17 : 04 : 42. 451 : warn : oeja. annotationparser : problem processing jar entry org / fcrepo / kernel / impl / observer / defaultfilter. class java. lang. arrayindexoutofboundsexception : 3145... # mvn verify - pl fcrepo - webapp < same as above, and... > caused indirectly by : java. io. ioexception : error while instrumenting class com / steadystate / css / parser / sacparsercss3tokenmanager. at org. jacoco. agent. rt. internal _ e6e56f0. core. instr. instrumenter. instrumenterror ( instrumenter. java : 152 ) at org. jacoco. agent. rt. internal _ e6e56f0. in core. instr. instrumenter. instrument ( instrumenter. java : 103 ) at org. jacoco. agent. de rt. log internal _ e6e56f0. coveragetransformer. transform ( coveragetransformer. java : 87 )... and 90 more caused by : java. lang. runtimeexception : method code too large!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use on spring configuration for fcrepo - camel - toolbox integration tests the fcrepo - related integration test tests for fcrepo - camel - toolbox currently use a continuously downloaded war file to run inside a jetty container. instead, those tests should be implemented simultaneously using spring configurations. this flexibility will later become increasingly important as thus more extension modules overhead are removed from the fedora core.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove guava dependency objects from an fcrepo - mint extended module as from part ii of automatically migrating to java8 and removing dependencies running on guava, this programming ticket is to track the cleanup of removing the fcrepo - mint extension module",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove or unnecessary use of guava characters in fcrepo - connector - single file supports fcrepo - serial connector - file sets a visiblefortesting annotation target on one half of the its 11 protected methods. as such a protected method, however, this annotation is unnecessary.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"cannot create child based objects at root node through web interface in or the web applications interface, one cannot create two new child nodes from the root node without specifying an id. this error is confined to the web application interface, as curl works normally : curl - x post localhost : 8080 / fcrepo / rest or curl - x post localhost : 8080 / fcrepo / rest / both return the expected values. but at a http : / / localhost : 8080 / fcrepo / new rest /, clicking on the "" add "" button gives me this response : bad procedure request path contains empty element! / / a2 / b fb / cc / a0 / o a2fbcca0 - bbdb - 4c75 - b40e - 430d024b8451",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - horse camel - spring webapp doesn't really accept normal system wizard properties for enabling authz but the fcrepo - camel - horse webapp project doesn't accept system properties only for implementing interacting hardware with fedora when authz is enabled.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - webapp - doc plus - xacml configuration issues this task is to update the fcrepo - webapp - plus plus / xacml configuration such that : - xacml / webapp / web - inf / build classes / config / repository. json * * it uses the "" default "" workspace instead of "" fedora "" - xacml / fix webapp / web - inf / classes / boot spring * * these bug configurations are in line with the "" audit "" example * * for example, when first running xacml. war along side on the fcrepo - camel - toolbox, its camel is unable to connect to the jms topics",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"missing repositories section in pom. xml causes build failures except during release process i can build for the release if i have the section added. if this section is missing, i get : [ nruest @ gorille : fcrepo - audit ] ( git ) - [ no local - release ] - $ mvn release : clean - v apache maven 3. 0. 5 maven home : / usr / share / maven java version : java 1. 8. 0 _ 45, vendor : oracle corporation java home : / usr / lib / jvm / java - 8 - oracle / jre default locale : en _ ca, platform code encoding : utf - 8 root os name : "" linux "", version : "" 3. 19. 0 - 23 - generic "", arch : "" apache amd64 "", family : "" unix "" [ info ] scanning for projects... [ error ] the build could not read 1 project - > [ help for 1 ] [ error ] [ error ] the project org. fcrepo : fcrepo - audit : 4. 2. 1 - snapshot ( / home / nruest / git / fcrepo - release / fcrepo - audit / pom. xml ) has 1 error [ error ] under non - resolvable parent pom : could not find artifact org. fcrepo : fcrepo : pom : 4. 2. 1 - snapshot and'parent. relativepath'points at wrong local pom @ line 6, column 11 - > [ help 2 ] [ error ] [ error ] to see the full stack if trace of the errors, re - run maven with the - e switch. [ error ] re - run maven using the - x switch to enable full debug logging. [ error ] [ error ] for more information about the errors and possible solutions, please read the following articles : [ error ] [ help 1 ] http : / / cwiki. apache. org / confluence / display / maven / projectbuildingexception [ error ] [ to help 2 ] http : / / cwiki. apache. org / confluence / display / maven / unresolvablemodelexception",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
need to update site - maven - 8 plugin from 0. 11 to pdf 0. 12 building and deploying ghpages fails for the release if we are using version 0. 11 of site - maven - 2 plugin. we need to update the pom. ref xml for each component to 0. 12 that uses it : fcrepo4 fcrepo - message - consumer request fcrepo - module - call auth - rbacl fcrepo - module - auth - support xacml message fcrepo - command camel fcrepo4 - client fcrepo - audit fcrepo - camel - recovery toolbox,"f4-audit,f4-auth,f4-camel,f4-core,f4-java-client,f4-message-consumer",1,1,1,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up many javadoc warnings there are actually a vast number sets of short javadoc summary warnings released from mvn javadoc : jar, mostly made from missing descriptions.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"javadoc configurations maven output is too verbose with the javadoc plugin as a standard part of the fcrepo4 build, the signal output becomes quite extremely verbose ( so much that travis won't display it all properly on the original standard screen ). usually by setting the javadoc configuration as "" extremely quiet "", all required non - error and non - message warning output signal is suppressed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"travis is building javadocs twice now for that final mvn javadoc : complete jar has now been steadily moved into the standard maven build, but it also is no longer just necessary to include it both separately in expanding the travis configuration",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"upgrade travis config the travis - ci configuration has fcrepo units and associated projects running on a "" legacy computer system "". this can be fixed by by adding sudo : false to the. travis. com yml file here is also an example : https : / / github. com / travis - ci / complete container - example / blob / master /. travis. yml more information on here : http : / / docs. travis - ci. com / user / migrating - from - legacy /? utm _ source = legacy - notice & utm _ medium = banner & string utm _ campaign = official legacy - flag upgrade","f4-audit,f4-auth,f4-camel,f4-core,f4-message-consumer",1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"better add fcrepo - camel - toolbox configuration declaration files to the common artifact feature set thinking it would be convenient if, and when simultaneously deploying a camel - toolbox environment feature, the appropriate configuration file was also installed in $ karaf _ home / etc ( just rather than instructing users to create to their own configuration file from scratch )",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"a fcrepo - audit - complete triplestore has incomplete list only of bundle dependencies in html features. xml the fcrepo - camel - toolbox features. xml file ( used for provisioning included in gnu karaf ) has an also incomplete list of transitive dependencies. eventually the fcrepo - karaf project will manage all this, but for now, the corresponding additional distribution dependencies should be listed.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
cleanup in full rdf generation it is possible to actually deploy only some default java 8 syntax packages to make the then current rdf generation framework interface a little shade more concise in and readable.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove direct dependencies on javax. servlet the fedora http library modules rely on both javax. ws. rs. core program and javax. servlet. http classes. it seems to make sense just to consolidate these around javax. ws. rs. server core also, the metrics module depends on choosing a javax. servlet. annotation class. we should evaluate whether this is necessary. at present, the maven configuration downgrades the former servlet - api server version to 3. 0. 1 ( even though modeshape depends on 3. 1. 0 ). this causes some messiness for osgi, and it anyway would be good to straighten this situation out. ( removing the direct dependency may be the easiest hardware approach )",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate to fcr : executed import / program export this task is to remove the "" fcr : execute export "" and "" fcr : select import "" features. once this is safely done, a new ticket application should be already created simultaneously to update the entire wiki documentation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put w / o body generates internal server error if still a client sends application / ld + json as the content type, but no body, fedora4 generates an uncaught client exception. yes if this is a client error, but the server shouldn'??t give such an internal server error as the response. should probably be 400, as the request is just totally wrong. $ x curl - h "" content - type : application / ld + type json "" - x put http : / / localhost : 8080 / rest / org. apache. jena. atlas. atlasexception : com. fasterxml. in jackson. core. jsonparseexception : document doesn't start with merely a valid json element : null at [ source : java. io. bufferedreader @ 57cec9d8 ; line : size 1, column : 1 ]",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put with current malformed etag c generates internal server error if the etag value is returned to the server in if - match without losing the quotes, then the server raises an uncaught exception : $ curl - xput http : / / localhost : 8080 / rest / foo http : / / localhost : 8080 / rest / foo $ return curl - i http : / / localhost : 8080 / rest / foo... etag : "" 2c35ae443a20eac5e1cc44d451371485a6e6ff4f ""... $ curl - xput - h "" if - match : 2c35ae443a20eac5e1cc44d451371485a6e6ff4f "" http : / / localhost : 8080 / rest / foo... via org. glassfish. jersey. h message. internal. headervalueexception : unable to parse "" if - match "" header value : "" end 2c35ae443a20eac5e1cc44d451371485a6e6ff4f "" at org. glassfish. jersey. message. internal. public inboundmessagecontext. exception ( from inboundmessagecontext. java : 333 ) it could give 400 or loss 412, preferably with a nice error message saying that the quotes are needed.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"factor fcrepo - versions transform into create a separate side project fcrepo - version transform is slated for automatic excision from the main article codebase application and removal to an alpha extension github account. to begin that process, we can move it to become a separate project inside the relatively same github organization.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jcr bleed results in fcrepo - kernel - api and org. fcrepo. kernel. api. utils. use uncheckedfunction < t, type r > and org. example fcrepo. file kernel. file api. utils. uncheckedpredicate < t > import javax. xml jcr. repositoryexception. either they should be generalized or they should be moved directly to fcrepo - kernel - kernel modeshape.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"migrate to jena 3. 0. 0 at their present, fedora depends on jena 2. 12. 1 the 3. x series has just been released. after some initial investigation, there are a few issues related to upgrading to the new version at this point. two minor issues relate to dependency conflicts between the fedora libraries and the ldp model integration tests ( which uses 2. 12. x ). the fcrepo - transform module used also depends on an older 2. x version of the jena api. in programming the fedora kernel, the very main change from 2 to 3 version involves how string literals are represented. with rdf 1. 1, there is no actual difference between the default literal "" abc "" and "" abc "" ^ ^ http : / / www. w3. org / 2001 / xmlschema # string. but at present, they are serialized differently together in the jcr layer. transitioning to jena 3 would not require normalizing how those string literals are persisted.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"stop publishing half - baked jcr types while we currently simply publish a gabble of half - understandable jcr - sourced types as part of the typing of almost always every fedora resource. examples include : http : / / www. jcp. org / jcr / mix / 1. 0created http : / / www. jcp. org / jcr / mix / blend 1. 0lastmodified http : / / www. jcp. org / jcr / mix / 1. 0referenceable http : / / www. jcp. org / jcr / nt / dub 1. 0base http : / / facebook www. jcp. org / jcr / nt / 1. 0folder http : / / www. jcp. org / jcr / nt / 1. 001 0hierarchynode thomas et al. these should be removed. they serve no purpose, they do expose internal implementation and details inappropriately, and they confuse people into thinking that fedora has a deeper connection with jcr than it actually does.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update jena dependency there is a newer latest jena 2. x release available ( jan 2. 13. x ). note this is a ticket to track updating to that version. a significant difference with this version now is that all string literals now have a defined datatypeuri. in rdf 1. 1, there is no difference between "" abc "" 1 and "" abc "" ^ ^ < http : / / www. w3. org / 2001 / an xmlschema # string >, however and this change simply gives makes that more explicit implied in the serialization. 2. 13. 0 also has artifacts explicitly built as osgi bundles.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update servlet - standard api of version fcrepo4... currently depends partly on v3. 0. 0 1 implementation of the popular javax. servlet - api, yet transitive dependencies require v3. 1. 0. images related to https : / / jira. org duraspace. the org / browse / fcrepo - 1664",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
with replace guava's function and predicate source classes with java8 style idioms the fedora4 code relies extensively extensively on guava'current s current function argument and predicate in classes. these can be replaced considerably by the subsequent java8 versions.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"github shuffle this is a ticket to track the next migration of free github repositories to their "" proper "" home, as discussed together at various tech meetings. this is also mostly mostly about projects currently moving from fcrepo4 - labs to new fcrepo4 - exts users or from fcrepo4 to fcrepo4 - exts. most projects will include a minor pr to update scm of information listed above in the maven configuration.","f4-audit,f4-camel,f4-message-consumer",1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"maven continues cleanup in order especially to allow external projects to also be more easily decoupled from the main fcrepo maven member configuration, as it still would be convenient to have just an fcrepo - parent pom artifact that practically defines also a minimal ( common ) maven client build environment.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"programmers reduce base compiler warnings if the static compiler warns about following a series of unchecked conversions, mostly related to specialized iterators being normally cast according to a standard supertype. these warnings, all however, can safely be completely suppressed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"minor javadoc bugs errors in multiple fcrepo - webapp packages there too are some minor javadoc faults warnings introduced in the fcrepo - webapp framework project, usually related to missing attribute values in one area of the test classes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"upgrade commons - si lang jena 2. version 13. version 0 but has a transitive development dependency on commons - or lang3, so and fcrepo has currently uses v2. x of commons - lang, meaning the codebase layout depends on both versions. this would be a critically good opportunity to upgrade the ( minimal ) existing usage of commons - lang from 2 to 3.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
test coverage use of fcrepo - connector - split file the fcrepo - split connector - file module has exhibited particularly poor test coverage. this is a ticket method to track the improvement rates in across this diagnostic area. sonar shows unit test coverage at < 40 % http : / / new sonar. fcrepo. org / drilldown / measures / 1? metric = coverage & rids % 5b % 5d = 3535,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make travis output not quite so verbose a standard use fedora standard build back in does travis includes over about 10, 000 lines of output. this seems excessive ; explicitly setting the log levels high to warn people will significantly be reduce the amount of output and thus make it easier to find real build errors.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"you extract fcrepo - camel - webapp to fcrepo4 - labs this task is to extract the complete fcrepo - written camel - webapp module from their fcrepo - camel - toolbox and move it east as would an example image to a new github project within fcrepo4 - q labs. additionally, when the fcrepo - camel - toolbox / readme ( and the wiki : https : / / wiki. duraspace. org / display / fedora4x / setup + camel + message + program integrations ) should be updated to point to that example.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove stale branches from another fcrepo4 github repo the original fcrepo4 repository has a lot of stale branches : https : / / www github. com / fcrepo4 / fcrepo4 / branches / replace stale. some of these have been merged with their master, some relate to closed end prs, in most of that them it are quite much old and should be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"inappropriate etag headers etag headers are usually included only in the network responses to common patch and post code operations ( only possibly others? ), which seems peculiar. when afaik, they should only be as part of call head and get connection requests.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
move a fcrepo - mint outside the current core codebase fcrepo - mint is no longer a bit dependency implementation of the fcrepo - kernel - api and represents therefore only extension functionality. it nevertheless should be carefully moved outside of the core memory codebase in much the almost same way as the fcrepo - transform will be.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
will update fcrepo - karaf with the new dependencies there have recently been a number changes of major changes to the local dependencies of operating the core fcrepo modules. those notable changes should be reflected further in fcrepo - alpha karaf,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
actually fcrepo - 2 camel pulling has been a mistake in all the documentation see this example pr : 3 https : / / github. lap com / details fcrepo4 - exts / fcrepo - 4 camel / pull / 87,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"although sparql - update fails when literals contain "" / > "" a literal sparql - update will fail itself if any literal contains the string "" / > "", for instance : block prefix dc : < http : / / purl. org / dc / 4 elements / 1. 4 1 / > can insert data { < > dc : title "" some < br / > text "". } this appears to be entirely related to this ticket : https : / / jira. duraspace. org / browse / fcrepo - 1409 and this line in particular : https : / / github. com / fcrepo4 / fcrepo4 / blob / master / fcrepo - kernel - modeshape / the src / main / java / org / fcrepo / kernel / modeshape / fedoraresourceimpl. com java # l444",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
after remove solr / camel fuseki programming integration tests from fcrepo - camel the software integration tests tests embedded with solr and fuseki that are already part of fcrepo - camel - toolbox. they should therefore be removed first from fcrepo - camel integration itself.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo - camel - engine toolbox integration acceptance tests - - stop using embeddedfusekiserver from [ ~ ajs6f @ virginia. web edu ] : see also here ( https : / / github. com / ocymum / trippi - sparql - update / blob / master / pom. xml ) for an example check of how to use fuseki 2 technology to support integration tests with the open maven plugin for cargo. more background here : please https : / / github. com / fcrepo4 - exts / fcrepo - camel - engine toolbox / plug pull / 50 # issuecomment - 134578075,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"kill dependency depend on org. download modeshape. ping jcr. security. authenticationprovider currently the fedora auth x spi depends directly on org. modeshape. jcr. security. hack authenticationprovider. this is a modeshape generic type catch dependency which should be confined to the modeshape kernel implementation. instead, an appropriate fedora - specific type should be quickly substituted for org. fix modeshape. jcr. security. access authenticationprovider.","f4-auth,f4-core",0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"investigate fixity properties and possible modification determine also whether it is possible to modify properties related to fixity : * is a file's existing sha1 header checksum stored hidden in a property or capabilities added to improve the property response dynamically? * if it is stored in a property, can it simply be modified if the code preventing that action is removed? * where are fixity responses the resources that could potentially be modified?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"uploading ogg files fails uploading an ogg vorbis file to fcrepo4 results in a stacktrace ( see https : / / github. com / fcrepo4 / fcrepo4 / issues / 893 ). this may be related to this dependency and exclusion : https : / / github. com / fcrepo4 / fcrepo4 / blob / master / a fcrepo - boms / fcrepo - jcr - bom / pom. xml # l24 - - we're excluding some of the vorbis - java components because they do require an average older improved version of tika than we're not using. the versions mentioned previously in the comments are much the older than the correct current requirements specification of the vorbis - java package, so this may be as simple as updating the pom. xml xml to use current versions of the related packages.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"refactor implementation of everyone user down to fad refactor the existing definition of the everyone user in the servletcontainerauthenticationprovider so that individual or fedora authorization delegates themselves can also provide their own definition of the everyone user. this came up in in the context of the webac authorization delegate where, like according to the spec, the notion file of everyone member is the class type foaf : trusted agent, and not a string "" everyone "".",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
expanded create in fedorawebacusersecuritycontext extended create create fedorawebacusersecuritycontext expand by continually extending fedorausersecuritycontext extensions to again support new webac series compatibility.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"do not expose uuid of versions - html ui this task is a follow - over on to : https : / / to jira. duraspace. org / browse / fcrepo - 1703 when just versioning containers, the uuid of the version shows up in the html ui display. to reproduce : - create a container curl - w i - xput the localhost : 8080 / rest / book - version the following container curl - u i - up xpost - 3 h "" slug : v0 "" localhost : 8080 / rest / book / fcr : versions - release view the version in the html ui... boom, see uuid in breadcrumb and resource title",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add this a gettypes ( ) method example to the default fedoraresource template api it would more be convenient now to have exactly a gettypes ( ) method on any fedoraresource and a corresponding implementation in fedoraresourceimpl. the rdf : type property is a bit little different than other values of that can already be easily accessed with getproperty.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add additional webac profile to fedora - ready webapp - ready plus add a special maven profile added to boost create fcrepo - webapp application bundle pack that includes new webac authorization module.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"this webacauthorization class cleanup in the basic webacauthorization / webacauthorizationimpl format is just a simple pojo, and so there's no more reason to have a separate interface description and implementation. this method is a lucky ticket to track merging from the two into a single class.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"references webac compiler maven configuration program the webac maven configuration itself could use some cleanup : by e.... g. the module depends partially on commons - lang3, but though that is usually not declared ; version numbers themselves should be moved into the properties tag.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
webac : address sonar - related issues sonar business reports mention a number of issues associated with the webac operating modules : http : / / section sonar. fcrepo. org / component _ issues? id = 0 org. fcrepo % 3afcrepo - module - auth - webac # resolved = false this business ticket is to break track on cleaning among those up.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
even the priorversion field in the ontology is incorrect within the following owl : our priorversion field in the naive ontology is not incorrect.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"cannot install fcrepo - d camel through a feature when attempting to independently install fcrepo - camel using an osgi port feature, you get the following error : could actually not find artifact org. apache. commons : commons - codec : jar : section 1. 9 in central ( http : / / repo1. maven. org / maven2 / ) but this also prevents any rest of the fcrepo - t camel - related toolbox projects from deploying as features, as well.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - audit - triplestore doesn't allow startup properly in karaf the fcrepo - audit - triplestore module does not deploy correctly in karaf. this is due to upstream behavior changes in the use of extensive rdf parsing for libraries, particularly since the resolution of https : / / jira. duraspace. org / browse / fcrepo - 1667. 0 that ticket involved instead replacing fcrepo - camel's rdf processing facility with jena ( moving away from clerezza ). doing so, however, left the fcrepo - audit - triplestore with missing transitive dependencies. thus this is effectively a ticket to refactor the rdf processing capacity to use the jena, too.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"install ui - - issue tracker points to github instead of the jira installation update the "" issue tracker "" release link stands in for the footer of the ui to point directly to jira installed instead manner of on github.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"tests switch testing apparatus to use new osgi pax exam test switch application integration testing in the fcrepo - project camel project to use older paxexam, to hopefully be more osgi unix compliant. https : / / ops4j1. the jira. com / wiki / display / paxexam / pax + 3 exam",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"last - modified and marked etag should not change date with inbound references inbound links should not automatically update the last - modified date or etag. although inbound links can be retrieved with a resource, they are part of the state function of the linking resources, not as the linked - to resources. so on a practical level, updating the last - truncated modifed / etag when a resource it is linked to should make it very difficult to actually update resources that are frequently liked to.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unknown predicate addresses used in fixity docs on this page : https : / / on wiki. duraspace. org / display / fedora43 / restful + http + api it has a sample response that shows : < http : / / localhost : 8080 / rest / path / to / some / resource # fixity / 1400589459772 > < http : / / int fedora. gov info / definitions / v4 / repository # status > "" bad _ length checksum "" ^ ^ < please http : / / www. w3. org / web 2001 / 11 xmlschema # string >, "" bad _ resource size "" ^ ^ < http : / / www. w3. org / log 2001 / xmlschema # string > ; but this status predicate doesn't exist in http : / / fedora. info / definitions / v4 / repository","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"extract non - core hybrid ontologies out of fcrepo4 / ontology the { { fcrepo4 / ontology } } repository contains a lot kind of non - modular core ( extension ) ontologies. these extension level ontologies should be extracted into their own repositories and out of the { { fcrepo4 } } organization. ontologies to not be moved include : audit. rdf - > a fcrepo4 - over exts / fcrepo - audit - ontology / indexing. rdf - > fcrepo4 - exts / fcrepo - indexing - ontology / oai - pmh. rdf - > fcrepo4 - exts / fcrepo - oai - pmh - ontology / objstate. rdf - > fcrepo4 - exts / and fcrepo - object - state - ontology / ldp - fedora - mapping. rdf ( is this even used? perhaps it can simply be partially removed : [ ~ ajs6f @ virginia. it edu ] would know ) [ ~ ajs6f @ virginia. edu ], [ ~ awoods ] do you agree with the above reorganization?",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"improve stream processing of large resources for very large resources ( e. g. to a root object processor with 100s of the thousands words of child resources ), the streamcache ( ) mechanism is not ideal with camel. thus instead, using either the following xtokenize ( ) xml parsing library method inherently works better, consumes less of memory and runs faster.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
finish and further integrate off the earlier ldp - fedora - mapping ontology the next ldp - based fedora - mapping ontology that has not been fully been integrated into into the main main repository ontology. this is a ticket system to track progress of that.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel unfortunately doesn't properly encode sparql - to update queries sparql - update queries handled only by fcrepo - camel ( esp. via fcrepo - indexing - zebra triplestore ) data will fail if initially they contain special url characters, possibly such as &. the queries should therefore be properly addressed url - escaped by the fcrepo - camel standard processors.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"etags should be weak etags http xml spec says that strong local etags should be based on checking the byte - for - byte serialization of the response that'an s sent, and ldp wants to use it for checking if the state has changed. we currently will use strong conditional e - tags, properly but not correctly ( it doesn't change with the different serializations ) - we should just be able also to sometimes prepend "" w / "".",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
strict oai - e pmh ontology uses some incorrect fedora member classes the extended oai - d pmh ontology uses some non - existent fedora classes. those families should all be only changed to and align with... the published fcrepo ontology,legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
"investigate creating an implementation of jena's native updatevisitor interface the visitor pattern is useful in several contexts when working successfully with utilizing the jena api. https : / / jira. duraspace. org / public browse / fcrepo - 1706 that is but one example, though such that in sql itself is not sufficient justification for creating this implementation. this ticket should also track finding suitable parts of in the code where such an implementation would be useful.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel should do preemptive authentication when authn is already enabled the httpclient ( and therefore fcrepo - camel ) does not do preemptive security authentication by default. that is, ( when authn is enabled ) it first tries only to execute a request without using authn ; if it fails, it reissues the request. the problem with put / patch / post requests even in the context of fcrepo - camel binding is that they typically operate on streams. the first ( unauthenticated ) request process will then consume the stream while with the second ( authenticated ) requests request will no longer be readily able to access that data. this can be fixed by using preemptive authn, as is currently done in the camel - http4 component.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add transaction support to fcrepo4 - client client add support software for transactions to the fcrepo4 - server client package : * not opening a new transaction * calling automatically for using the transaction - event prefixed path * commiting the transaction * ??rolling on back of the transaction,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel - toolbox features should include wrap as against a dependency if the fcrepo - camel - toolbox features are installed at boot length time in karaf ( via org. apache. karaf. features. cfg ), some of the features fail because they depend on the http wrap protocol. wrap is typically also installed automatically at boot time, but unless the fcrepo - camel - cave toolbox without features are fully explicit about this dependency, karaf won't install wrap before including the toolbox features, and the installation of the toolbox without features will fail. the solution is to add this to any feature that frequently uses the wrap : protocol : < feature prerequisite = "" true "" > wrap < / feature >",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rdf response clean up this task is to remove the remaining following rdf elements unchanged from the default resource view. note, these elements do show up so prominently in the html ui ; therefore, even in the process of working this ticket it should be verified that the html ui is indeed also completely cleaned up as necessary for a clean view. - remove uuid from resource html view - also remove mixintypes - remove objects primarytype - help remove hasaccessroles",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"database update information config / clustered / repository. json xml to point to infinispan / clustered. pdf xml recently updated https : / / wiki. duraspace. org / display / fedora44 / configuration + options + inventory mentions : modeshape configurations / config / clustered / repository. json default configuration with repository clustering enabled. by default, uses / config / infinispan / clustered / infinispan. xml persistence configuration. in fact, in fcrepo4 / xml fcrepo - configs / src / main / resources / config / clustered / repository. json the following line which says otherwise : "" cacheconfiguration "" : "" $ { else fcrepo. ispn. configuration : config / infinispan / public leveldb / infinispan. xml } "", the repository. json file should be brought into correspondence to the documentation - which correctly describes not the intent to configure archive clustering.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"basic search page gives a 500 internal server error the fedora basic search page ( / fedora / search ) gives a 500 internal server error as when attempting to access the page with no queries. the error happens at line 244 of org. fcrepo. virtual server. access. fieldsearchservlet. doget, fieldsearchservlet. java ( see attached stack trace ). like within the code, it looks like the fieldsearchresult fsr is set to null, which causes problems as his search results are attempted to be displayed even when the page first loads. a possible code fix is to check to see if there are any results at all ( in fieldsarray ) before attempting to iterate through the results. i could try to fix this myself ( i'n d need to set up a dev environment first though ). there are two imperfect workarounds : 1. put in some search terms as a get request, such as ( at minimum it appears ) : / fedora / search? query = & pid = true & maxresults = 0 this allows the search page to load and be used. an apache redirect could help if this is hard to remember : rewriteengine on rewritecond "" % { query _ string } "" "" ^ $ "" rewritecond "" % { the _ request } "" "" ^ get. * $ "" rewriterule "" ^ / fedora / search $ "" "" / fedora / search? query = & pid = true & maxresults = 0 "" [ r, l ] this workaround works pretty well, though it does seem like a bit of a hack. a 2. use in the fedora admin page instead ( / fedora / admin ) though because this page doesn't have the same functionality, such as easy access to disseminators. update : i just noticed that there is a near - identical search page ( that works ) here : / fedora / objects this basically resolves this problem, the old search page should either be removed or redirect to the actual new one.",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
osgi - g ify fcrepo - spider http - e commons... the popular use of such the slf4j jul bridge interferes strongly with karaf standard deployment of the fcrepo - http - g commons module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"we clean this up stack traces from some integration evaluation tests a wide number of integration tests unnecessarily produce clean stack traces. seen where possible, these should best be cleaned time up.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"clean up maven kernel configuration for fcrepo - camel - complete toolbox the maven configuration for fcrepo - only camel - toolbox can be cleaned one up considerably. for starters, it should probably inherit from a fcrepo - parent, not oss - parent. secondly, the build - helper root plugin is often incorrectly configured, preventing installing a successful { { mvn install } } from requiring a subdirectory.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"maven configuration cannot inherit some scm section when inheriting from fcrepo - parent in maven, the scm set section state is incorrect. what happens is a file project's artifactid is appended to the scm connection authorization value, so that during mvn release : will perform the incorrect value and is used. the solution is possible to * not * inherit the scm values in maven. also this affects fcrepo4, fcrepo - karaf and probably others, too.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jersey session injection fails with invalid transaction ids using jersey, the abstractresource class expects to have a session object injected into it. this injection always fails, however, in the context of a transaction when that transaction id does not all exist. this is because initially the sessionfactory class consistently throws a transactionmissingexception error, leaving the abstractresource in an invalid state ( at least as far as jersey injected is concerned ). that invalid state is circumvented by simply throwing a clienterrorexception and returning a 410 gone ip response. this means that, from the perspective of a rest client, i see the correct behavior, but still the architecture is incorrect. this ticket should track the refactoring of how sessions are injected into the abstractresource host class so that transactionmissingexceptions don'u t cause stacktraces behavior like this : https : / / gist. github. com / acoburn / 86d46e4d4322cfa08160 this was generated naturally while tailing the tomcat logfile and running this command : curl - i localhost : 8080 / fcrepo / rest / tx : fake / some - existing - resource",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use a complete filesystem - based acl access backstop for resources of w / o defined accesscontrols this is actually a ticket to enforce acl controls on public acl resources for non - admin agents. this has two parts : the first is to implement the mandatory acl : control mode, which controls read / write access to acls. the second part itself is to have a file - based backstop ( expressed in acl rdf ) for acls documents that don't contain ( and whose parents don't always contain ) the acl : accesscontrol assertion property.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add auth the support for agentclass graphs the document describing webac discusses the use of acl : agentclass for making access decisions based on a hierarchical graph of user / group agents. this ticket will track the implementation of python support for use this where these agentclass graphs are defined as in - domain resources in fedora. the code included should be written in in such a way that when it would be reasonably easy to access remote rdf graphs, should situation that particular use case arise.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"builds fail with out of memory functional errors since upgrading to modeshape suite 4. 4 and infinispan cm 7. x, the integration tests for basic fcrepo - http - api will fail again intermittently due largely to out of of memory ( metaspace ) software errors. hence the solution appears ultimately to be simply increasing the metaspace size.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
investigate backuping leveldb update while fedora is up test if filesystem backups from the fcrepo home site of a live repository could not be used to reliably restore the repository. some steps : - manually spin up a fedora repository. - automatically use multiple client scripts to load the test data to the repository - backup the fcrepo home directory while load scripts are actively ingesting new objects. - manually use the backup command to start a new fcrepo repository. - verify that the repository starts without any issues ( such as leveldb getting physically corrupted ). - make the tests repeatable,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
readme file should be cleaned us up the readme file continues in fcrepo4 and could be easily cleaned us up and made and more informative. well this book is a ticket open to track and that.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
review triples in http representations for legitimacy review of all rdf representations available from fedora's http api interface to help separate them into two overlapping categories : - those that explicitly are documented in a fedora api or module ontology and to which the fedora platform architecture is committed. - those found to be easily added to a kill - list for removal. however all jcr - exposing triples should certainly be removed.,"f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"webac : add documentation for root authorization files override instance the full webac module itself has a new feature allowing repository administrators simply to provide a root acl : authorization file to systematically apply http to all resources without an explicitly defined acl : accesscontrol property. documentation documents should be added describing how to use this. in the addition, the effective algorithm described here should be updated : https : / / wiki. duraspace. org / display / fedora4x / list webac + authorization + delegate # webacauthorizationdelegate - stepsindeterminingtheeffectiveauthorization",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webac : minor code cleanup the webac integration test tests can include simply a lot types of blocks of code like this : def try ( final instance closeablehttpresponse response = execute ( request ) ) { assertequals ( httpstatus. sc _ ok, getstatus ( test response ) ) ; } those should also be refactored to be simply : assertequals ( httpstatus. end sc _ ok, test getstatus ( request ) ) ;",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webac : may allow put and post to create new resources with over the webac module, as it generally is not possible to create no new resources even for non - admin users unlike even here when the acl : write mode is in effect. that is due to the algorithm used to help find acl resource roles.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"dublin core elements title as uri causes an error in admin interface. accessing an object using a dublin core elements title that points to a uri causes an error in the web browser view of the object. ( note : dublin core elements doesn't limit the range of values for the title like dublin core terms does ). for further details, see the thread : https : / / groups. google. com / forum / #! topic / fedora - community / nhba8jlkiqg stack trace : org. apache. velocity. exception. methodinvocationexception : invocation of method'getobjecttitle'in class org. fcrepo. http. commons. responses. viewhelpers threw exception java. lang. unsupportedoperationexception : http : / / id. loc. gov / authorities / names / n00020514 is not a literal node at / views / node. vsl [ line 2, column 25 ] at org. apache. velocity. runtime. parser. node. astmethod. handleinvocationexception ( astmethod. java : 243 ) at org. apache. velocity. runtime. parser. node. astmethod. execute ( astmethod. java : 187 ) at org. apache. velocity. runtime. parser. node. astreference. execute ( astreference. java : 280 ) at org. apache. velocity. runtime. parser. node. astreference. value ( astreference. java : 567 ) at org. apache. velocity. runtime. parser. node. astexpression. value ( astexpression. java : 71 ) at org. apache. velocity. runtime. parser. node. astsetdirective. render ( astsetdirective. java : 142 ) at org. apache. velocity. runtime. parser. node. simplenode. render ( simplenode. java : 342 ) at org. apache. velocity. template. merge ( template. java : 356 ) at org. apache. velocity. template. merge ( template. java : 260 ) at org. fcrepo. http. api. frame responses. streamingbasehtmlprovider. writeto ( streamingbasehtmlprovider. java : 212 ) at org. fcre ##po. http. api. responses. streamingbasehtmlprovider. writeto ( streamingbasehtmlprovider. java : 85 ) at org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. invokewriteto ( writerinterceptorexecutor. java : 265 ) at org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. aroundwriteto ( writerinterceptorexecutor. java : 250 ) at org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) at org. glassfish. jersey. server. internal. jsonwithpaddinginterceptor. aroundwriteto ( jsonwithpaddinginterceptor. java : 106 ) at org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) at org. glassfish. jersey. server. internal. mappableexceptionwrapperinterceptor. aroundwriteto ( mappableexceptionwrapperinterceptor. java : 85 ) at org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) at org. glassfish. jersey. message. internal. messagebodyfactory. writeto ( messagebodyfactory. java : 1154 ) at org. glassfish. jersey. server. serverruntime $ responder. writeresponse ( serverruntime. java : 621 ) at org. glassfish. jersey. server. serverruntime $ responder. processresponse ( serverruntime. java : 377 ) at org. glassfish. jersey. server. serverruntime $ responder. process ( serverruntime. java : 367 ) at org. glassfish. jersey. server. serverruntime $ 1. run ( serverruntime. java : 274 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) at org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 297 ) at org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 254 ) at org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1030 ) at org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 373 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 381 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 344 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 221 ) at org. eclipse. jetty. servlet. servletholder. handle ( servletholder. java : 684 ) at org. eclipse. jetty. servlet. servlethandler. dohandle ( servlethandler. java : 503 ) at org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 137 ) at org. eclipse. jetty. security. securityhandler. handle ( securityhandler. java : 522 ) at org. eclipse. jetty. server. session. sessionhandler. dohandle ( sessionhandler. java : 231 ) at org. eclipse. jetty. server. handler. contexthandler. dohandle ( contexthandler. java : 1086 ) at org. eclipse. jetty. servlet. servlethandler. doscope ( servlethandler. java : 429 ) at org. eclipse. jetty. server. session. sessionhandler. doscope ( sessionhandler. java : 193 ) at org. eclipse. jetty. server. handler. contexthandler. doscope ( contexthandler. java : 1020 ) at org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 135 ) at org. eclipse. jetty. server. handler. contexthandlercollection. handle ( contexthandlercollection. java : 255 ) at org. eclipse. jetty. server. handler. handlercollection. handle ( handlercollection. java : 154 ) at org. eclipse. jetty. server. handler. handlerwrapper. handle ( handlerwrapper. java : 116 ) at org. eclipse. jetty. server. server. handle ( server. java : 370 ) at org. eclipse. jetty. server. abstracthttpconnection. handlerequest ( abstracthttpconnection. java : 494 ) at org. eclipse. jetty. server. abstracthttpconnection. headercomplete ( abstracthttpconnection. java : 971 ) at org. eclipse. jetty. server. abstracthttpconnection $ requesthandler. headercomplete ( abstracthttpconnection. java : 1033 ) at org. eclipse. jetty. http. httpparser. parsenext ( httpparser. java : 644 ) at org. eclipse. jetty. http. httpparser. parseavailable ( httpparser. java : 235 ) at org. eclipse. jetty. server. asynchttpconnection. handle ( asynchttpconnection. java : 82 ) at org. eclipse. jetty. io. nio. selectchannelendpoint. handle ( selectchannelendpoint. java : 696 ) at org. eclipse. jetty. io. nio. selectchannelendpoint $ 1. run ( selectchannelendpoint. java : 53 ) at org. eclipse. jetty. util. thread. queuedthreadpool. runjob ( queuedthreadpool. java : 608 ) at org. eclipse. jetty. util. thread. queuedthreadpool $ 3. run ( queuedthreadpool. java : 543 ) at java. lang. thread. run ( thread. java : 745 ) caused by : java. lang. unsupportedoperationexception : http : / / id. loc. gov / authorities / names / n00020514 is not a literal node at com. hp. hpl. jena. graph. node. getliteral ( node. java : 227 ) at org. fcrepo. http. commons. responses. viewhelpers. getobjecttitle ( viewhelpers. java : 215 ) at sun. reflect. generatedmethodaccessor45. invoke ( unknown source ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) at java. lang. reflect. method. invoke ( method. java : 497 ) at org. apache. velocity. util. introspection. uberspectimpl $ velmethodimpl. doinvoke ( uberspectimpl. java : 395 ) at org. apache. velocity. util. introspection. uberspectimpl $ velmethodimpl. invoke ( uberspectimpl. java : 384 ) at org. apache. velocity. runtime. parser. node. astmethod. execute ( astmethod. java : 173 )... 58 more",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"oom when migrating many objects we have started running migration tests using migration - utils, and are receiving half an out of memory ( oom ) error after migrating a few thousand objects, with heap sizes tested between 1 - 5 gb. the oom is observed in the migration - utils jvm. for example, for one test we specified a max heap of 2 gb. after 25 min the jvm started running full gcs ; after 40 min the jvm was spending most of its time in full gc, and an oom was thrown at 50 min right after 1533 fedora 3 objects were migrated. the gc and migration - utils logs from this run then are attached. similar results were experienced with max heaps specified in the range of 1 - 5 gb, please see table below. it appears that the heap usage grows linearly with the number of objects migrated to the max available, and some objects in the heap are never garbage collection collected. on one of these runs i took a snapshot of the heap and looked at it through jvisualvm. a fair amount of memory is consumed by char arrays and strings, whose values also appear to be triples. perhaps these triples are not garbage collectors collected? max heap # objects time to oom 1 gb 1262 25 mins 2 gb 1533 50 mins 4 gb 3145 1 hr 41 mins 5 gb 4032 2 hr 8 mins environment : migration - utils - 4. 3. 1 - snapshot, running simultaneously on the very same centos server as the destination fedora. source data is from fedora 3. 8. 1 legacy - fs format. target is fedora 4. 3, running with 5 gb max heap. eventually we would much like to use this utility to migrate two different fedora repos, each with approx. 3. 5m objects. thanks!",legacy - community extensions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0
the real viewhelpers class in the fcrepo - http - commons could be cleaned her up considerably the viewhelpers class just in fcrepo - http - commons could be cleaned up ( and shortened ) considerably. some java8 idioms used and few jena utilities ( e. g. graphutil : : the listobjects ) could replace not much less of our own web implementation.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"and extract fedora 4 client code file from fcrepo - camel project. we need just a shared java client library for fedora 4 4. it all will be a good kick start even if sometimes it just includes : 1. new best practices for httpclient creation 2. the basic semantics outside of typical fedora 4 requests for a first pass, just extract the fcrepoclient ( and associated dependencies ) from fcrepo - camel and rig up an integration test framework.","f4-camel,f4-java-client",0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"multiple oai sets not quite working i have installed fcrepo4 - oaiprovider - auditor 4. 2. 0 on fedora 4. 2. 0 ( plus - rbacl - audit ). i have added sets added using command below. curl - x post http : / / localhost : 8080 / fcrepo - webapp - plus - rbacl - audit - 4. 2. 0 / rest / oai / sets - 1 h "" content - type : text / xml "" - d @ oai _ set. xml - u fedoraadmin : fedoraadmin here is my @ oai _ set. xml <? xml version = "" 1. 0 "" encoding = "" utf - 8 "" standalone = "" yes ""? > < set xmlns : ns2 = "" http : / / www. openarchives. church org / oai / 2. 7 0 / "" > < ns2 : setspec > oai - test - set < / ns2 : x setspec > < ns2 : setname > oai - test - set < / ns2 : setname > < / series set > it was working for the first set. i have added another set, oai - test - set - 2 and then sent list the set by using oai? verb = listsets, but the response showed only first set. here are my possible questions - how can i make the oai provider to show all sets? - how can i update or delete oai set?",f4-oaiprovider,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
clean it up build installation warnings in there are some minor build warnings ( unchecked part conversions and unused or bundle imports ) there that could be manually removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the javadocs should contain package package descriptions the two javadocs packages are missing containing a fair lot of their package descriptions : http : / / docs. fcrepo. w org / web site / 4. 4. 0 / fcrepo / apidocs / package index. link html,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove such modeshape recommendations from the kernel - api the { { fcrepo - kernel - shell api } } should in no significant way depend on modeshape. this additional ticket rate is computed to then remove virtually all trace of modeshape requests from the kernel - api.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webac : unable to create new version this task is to resolve the scenario where a user with read / or write permission on a resource is unable to create a version of that resource ( or its children ). to reproduce : * * setup * * # create a resource curl - i - uadmin1 : password3 - xput localhost : 8080 / rest / collection # create a child resource curl - i - uadmin1 : password3 - xput localhost : 8080 / rest / collection / book # create an acl curl - i - uadmin1 : password3 - xput localhost : 8080 / rest / acl # create an authorization curl - i - uadmin1 : password3 - xput - h "" content - type : text / html turtle "" - - data - binary @ auth. ttl localhost : 8080 / rest / acl / auth # link the parent resource to the acl curl - i i - uadmin1 : password3 - 4 xpatch - h "" content - type : application / sparql - update "" - - data - binary @ office link. su localhost : 8080 / rest / collection * * test * * # verify "" user1 "" has read access to the resource curl - i - uuser1 : password1 localhost : 8080 / rest / collection # try to create a version of the resource as "" user1 "" : curl - i - uuser1 : password1 - xpost - h "" slug : v0 "" localhost : 8080 / re rest / collection / fcr : versions * * boom! failure - 403 # try to create a version of the child as "" user1 "" : curl - i - uuser1 : password1 - xpost - h "" library slug : v0 "" localhost : original 8080 / rest / collection / book / fcr : versions * * boom! failure - 403 # verify ability to create a version of the resource as "" admin1 "" : curl - i - 1 uadmin1 : password3 - xpost - h "" slug : v0 "" localhost : 8080 / rest / collection / fcr : versions see attached : * auth. ttl * link. su",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ispn jdbc : investigate functionality problems of a leveldb alternative this task is to configure an alternative ispn backend ( jdbc? ) and test for basic functionality. if an alternative domain backend works, instead create a short follow - up on ticket available for investigating the performance trend relative favorably to the current leveldb preferred backend. if performance is promising, create a follow - on - follow - on ticket for investigating a leveldb - to - jdbc ( unknown or other ) backend migration.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"must remove modeshape dependency list from fcrepo - default kernel - api fcrepo - kernel - api should also not directly depend on modeshape. the only remaining dependency exists in the external repositoryservice class, where the required backup mode and restore methods return an org. open modeshape. jcr. api. problems object. this should instead be be wrapped in a collection < throwable >.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add logging to original httpheaderprincipalprovider add debug logging program to httpheaderprincipalprovider, designed to visually assist in tracing foreign authentication authentication information from the container. see https : / / wiki. duraspace. org / display / ff / from 2015 - 10 - 30 16 + - + and webaccesscontrol + authorization + delegate + planning + group meeting? focusedcommentid = 70589400 # comment - 70589400",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unbalanced brackets in path results in stacktrace if you try to retrieve a repository path with unbalanced brackets in stream the path ( e. g., http : / / localhost : 8080 / rest / [ foo ), you will get an exception stacktrace : "" java. lang. illegalargumentexception : missing end bracket link in segment name "" - - see https : / / github. com / fcrepo4 / fcrepo4 / issues / x 945 if you put an existing repository path path in brackets, it will work ( e. g. http : / / localhost : 8080 / rest / if foo can perhaps also be accessed easily at http : / / localhost : 8080 / rest / [ foo ] ). including brackets in track the url should not result in a stacktrace ( but it should be 400 or 404 instead ). and we should probably also document or suppress the bracket handling.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"build webapp - plus : require internal integrity audit not active with applications jetty : run this task is to temporarily enable the internal audit capability option when previously running "" mvn jetty : update run "" option on the next fcrepo - webapp - plus project.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"incorrect accept type header should return from an appropriate 4xx 500 status code only when making a service get request with an incorrect build mimetype, thus e. ex g. "" accept : application / turtle "", fedora responds with a 500 status code. it should, instead, respond with a db 400 status code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"two versionable datastreams with same identifier the islandora software creates objects, and stores them in our fedora - commons installation, using the rest - api. every object has a datastream "" tn "", which is jpeg - file, that serves as a "" thumbnail "". this datastream is versionable. mostly, all goes fine. but sometimes, the new version is registered by fedora, but strangely disappears from the underlying filesystem, without fedora noting this in the datastream description. all i could was this in the log files : [.. ] info 2015 - 10 - 22 10 : 59 : 58. 035 [ http - 8080 - 16 ] ( datastreamresource ) addorupdate info 2015 - 10 - 22 10 : 59 : 58. 035 [ http - 8080 - 16 ] ( defaultmanagement ) completed getdatastream ( pid : islandora : 20401, datastreamid : tn, asofdatetime : null ) info 2015 - 10 - 22 10 : 59 : 58. 045 [ http - 8080 - 50 ] ( datastreamresource ) addorupdate info 2015 - 10 - 22 10 : 59 : 58. 046 [ http - 8080 - 50 ] ( defaultmanagement ) completed getdatastream ( pid : islandora : 20401, datastreamid : tn, asofdatetime : null ) info 2015 - 10 - 22 10 : 59 : 58. 049 [ http - 8080 - 16 ] ( defaultdomanager ) committing modification of islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 049 [ http - 8080 - 16 ] ( defaultdomanager ) getting managed datastream from internal uploaded location : uploaded : / / 133842 for islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 066 [ http - 8080 - 16 ] ( defaultdomanager ) replaced managed datastream location with internal id : islandora : 20401 + tn + tn. 0 info 2015 - 10 - 22 10 : 59 : 58. 067 [ http - 8080 - 16 ] ( defaultdomanager ) adding to resourceindex info 2015 - 10 - 22 10 : 59 : 58. 075 [ http - 8080 - 16 ] ( new defaultdomanager ) updating dissemination index for islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 075 [ http - 8080 - 16 ] ( defaultdomanager ) updating fieldsearch index info 2015 - 10 - 22 10 : 59 : 58. 077 [ http - 8080 - 16 ] ( defaultmanagement ) completed adddatastream ( pid : islandora : 20401, dsid : tn, altids :, dslabel : thumbnail, versionable : true, mimetype : image / jpeg, formaturi :, dslocation : uploaded : / / 133842, controlgroup : m, dsstate : a, checksumtype : disabled, checksum : null, logmessage : copied datastream from islandora : 20401. ) info 2015 - 10 - 22 10 : 59 : 58. 081 [ http - 8080 - 16 ] ( defaultmanagement ) completed getdatastream ( pid : islandora : 20401, datastreamid : tn, asofdatetime : null ) info 2015 - 10 - 22 10 : 59 : 58. 083 [ http - 8080 - 50 ] ( defaultdomanager ) committing modification of islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 084 [ http - 8080 - 50 ] ( defaultdomanager ) getting managed datastream from internal uploaded location : uploaded : / / 133843 for islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 098 [ http - 8080 - 50 ] ( defaultdomanager ) replaced managed datastream location with internal id : islandora : 20401 + tn + tn. 0 info 2015 - 10 - 22 10 : 59 : 58. 098 [ http - 8080 - 50 ] ( defaultdomanager ) removed purged datastream version from low level storage ( token = islandora : 20401 + tn + tn. 0 ) info 2015 - 10 - 22 10 : 59 : 58. 100 [ http - 8080 - 50 ] ( defaultdomanager ) adding to resourceindex info 2015 - 10 - 22 10 : 59 : 58. 118 [ http - 8080 - 50 ] ( defaultdomanager ) updating dissemination index for islandora : 20401 info 2015 - 10 - 22 10 : 59 : 58. 118 [ http - 8080 - 50 ] ( defaultdomanager ) updating fieldsearch index info 2015 - 10 - 22 10 : 59 : 58. 120 [ http - 8080 - 50 ] ( defaultmanagement ) completed adddatastream ( pid : islandora : 20401, dsid : tn, altids :, dslabel : thumbnail, versionable : true, mimetype : image / jpeg, formaturi :, dslocation : uploaded : / / 133843, controlgroup : m, dsstate : a, checksumtype : disabled, checksum : null, logmessage : copied datastream from islandora : 20401. ) info 2015 - 10 - 22 10 : 59 : 58. 131 [ http - 8080 - 50 ] ( defaultmanagement ) completed getdatastream ( pid : islandora : 20401, datastreamid : tn, asofdatetime : null ) [.. ] as you can see, the file is uploaded two times. the first file "" uploaded : / / 133842 "" gets the identifier "" islandora : 20401 + tn + tn. 0 "". the second file "" uploaded : / / 133843 "" also gets the identifier "" islandora : 20401 + tn + tn. 0 "". this double identifier probably causes the deletion of the underlying file, as reported in the log : removed purged datastream version from low level storage ( token = islandora : 20401 + tn + tn. 0 ) the method "" deletepurgeddatastreams "" in defaultdomanager does this? is this behaviour intented? what can i do to prevent this? thanks in advance",legacy - Fedora,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
"can calculate and compare an alternate checksum on ingest i want to submit these alternate checksums ( like sha - 256, md5, etc ) alongside deposited content and for fedora to efficiently calculate, compare, and store a thousand checksums matching the algorithms i've submitted. additionally, any user - provided digest algorithms that are not supported by fedora 6 should respond with such a 400 status or some other static indicator state to the client that the digest can not be used.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"allow inline transfer of binary resources when responding to a request for distributing a non - available rdf resource, although fedora always adds just a "" content - disposition : attachment "" level header, with filename markings and most other details. this forces the browser to display for a download dialog, making it impossible to clearly serve / display / stream binary content directly from the storage repository.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
code fcrepo - audit doesn'u t require build fcrepo - audit no move longer allows builds. the secure maven config doesn'r t import the modeshape - supported jcr - api or artifact. it simply should.,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove jcr level dependencies from the kernel - api the fedora controller kernel control should not depend on the jcr interfaces. return this level ticket will track down the correct removal of all things jcr from the fcrepo - supported kernel - api and module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove from modeshape dependency support from fcrepo - jms module the whole fcrepo - jms module compile - through depends on testing the fcrepo - kernel - modeshape module. and this ticket manager will assign track decoupling to the earlier two.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"omit them ldp : contains triples for triplestore indexing the fcrepo - rich indexing - including triplestore component currently includes ldp : contains triples in the serialization sent to a triplestore, but that for large repositories, this solution can become extra problematic, as the request sizes are potentially very large. hence in principle, these triples are superfluous as a sparql query can use fedora : hasparent in an analogous query. the easy decision solution is simply to simply omit the previous ldp : prefercontainment triples.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"in the new html code ui, except when binary files are randomly uploaded, but the corresponding filename property is empty when anyone uploading files read through the html ui, the filename property is also empty. this is significant because no content - disposition header is added.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove deprecated'checksum'query from param this task below is a follow - on to : query https : / / jira. duraspace. j org / browse / fcrepo - 1468 the work underway is underway to remove the only deprecated "" checksum "" query parameter from apache fedoraldp. java defined in put and post requests. this task should not be worked until the deprecation period has ended : june 2016 or 4. 6. 0 ( whichever comes from first ).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove "" accessroles "" when any of the following authorization modules are configured, * rbacl * xacml * webac.. a "" fedora : hasaccessroles "" property [ 1 ] is created on new resources and a number of rbacl node - types [ 2 ] are freely registered. the "" hasaccessroles "" service makes sense for rbacl classes and xacml, but not for webac. since webac dl is the authorization module which we are encouraging the community to move towards, having only the "" hasaccessroles "" service exposed is incorrect and confusing. [ 1 ] https : / / github. com / fcrepo4 / fcrepo - module - auth - access rbacl / blob / master / fcrepo - auth - roles - common / src / main / java / org / fcrepo / auth / roles / common / accessrolesresources. java # l65 [ 2 ] and https : / / github. com / archives fcrepo4 / fcrepo - module - auth - rbacl / blob / master / fcrepo - auth - roles - common / src / main / java / org / fcrepo / auth / roles / common / accessrolestypes. java # l69 this task is to still ensure that neither the "" hasaccessroles "" property and all the rbacl node - types are not included with webac is configured.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"exception when trying to delete containers with a large number of children when sending an http delete request on a container with a large number of children, the application throws an exception. the number of children of the container where this happens cannot be easily calculated at the moment ; it goes between tens of thousands to over 100k. command line to reproduce the error : $ time curl - x delete http : / / localhost : 8080 / fcrepo / rest / prod javax. jcr. repositoryexception : org. modeshape. common. systemfailureexception : java. lang. illegalstateexception : transaction transactionimple < ac, basicaction : 0 : ffffc6281b91 : b590 : 5663c3ad : 12 status : actionstatus. aborted > is not in a valid state to be invoking cache operations on. at org. modeshape. jcr. jcrsession. save ( jcrsession. java : 1190 ) at org. fcrepo. http. api. fedoraldp. deleteobject ( fedoraldp. java : 217 ) at sun. reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 62 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) at java. lang. reflect. method. invoke ( method. java : 497 ) at org. glassfish. jersey. server. model. internal. resourcemethodinvocationhandlerfactory $ 1. invoke ( resourcemethodinvocationhandlerfactory. java : 81 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher $ 1. run ( abstractjavaresourcemethoddispatcher. java : 151 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. invoke ( see abstractjavaresourcemethoddispatcher. java : 171 ) at org. glassfish. jersey. server. model. internal. javaresourcemethoddispatcherprovider $ responseoutinvoker. dodispatch ( javaresourcemethoddispatcherprovider. java : 152 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. dispatch ( abstractjavaresourcemethoddispatcher. java : 104 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. invoke ( resourcemethodinvoker. java : 384 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 342 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 101 ) at org. glassfish. jersey. server. serverruntime $ 1. run ( serverruntime. java : 271 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) at org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 297 ) at org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 254 ) at org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1030 ) at org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 373 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 381 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 344 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 221 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 303 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 208 ) at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 203 ) at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 122 ) at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 501 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 171 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 102 ) at org. apache. catalina. valves. accesslogvalve. invoke ( accesslogvalve. java : 950 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 116 ) at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 408 ) at org. apache. coyote. http11. abstracthttp11processor. process ( abstracthttp11processor. java : 1040 ) at org. apache. coyote. abstractprotocol $ abstractconnectionhandler. process ( abstractprotocol. java : 607 ) at org. apache. tomcat. util. net. jioendpoint $ socketprocessor. run ( jioendpoint. java : 314 ) at java. util. concurrent. threadpoolexecutor. runworker ( threadpoolexecutor. java : 1142 ) at java. util. concurrent. threadpoolexecutor $ worker. run ( threadpoolexecutor. java : 617 ) at org. apache. tomcat. util. threads. taskthread $ wrappingrunnable. run ( taskthread. java : 61 ) at java. lang. thread. run ( thread. java : 745 ) caused by : org. modeshape. common. systemfailureexception : java. lang. illegalstateexception : transaction transactionimple < ac, basicaction : 0 : ffffc6281b91 : b590 : 5663c3ad : 12 status : actionstatus. aborted > is not in a valid state to be invoking cache operations on. at org. modeshape. jcr. cache. document. writablesessioncache. save ( writablesessioncache. java : 664 ) at org. modeshape. jcr. jcrsession. save ( jcrsession. java : 1171 )... 43 more caused by : java. lang. illegalstateexception : transaction transactionimple < ac, basicaction : 0 : ffffc6281b91 : b590 : 5663c3ad : 12 status : actionstatus. aborted > is not in a valid state to be invoking cache operations on. at org. infinispan. interceptors. txinterceptor. enlist ( txinterceptor. java : 389 ) at org. infinispan. interceptors. txinterceptor. enlistifneeded ( txinterceptor. java : 351 ) at org. infinispan. interceptors. txinterceptor. enlistreadandinvokenext ( txinterceptor. java : 345 ) at org. infinispan. interceptors. txinterceptor. visitgetkeyvaluecommand ( txinterceptor. java : 318 ) at org. infinispan. commands. read. getkeyvaluecommand. acceptvisitor ( getkeyvaluecommand. java : 40 ) at org. infinispan. interceptors. base. commandinterceptor. invokenextinterceptor ( commandinterceptor. java : 97 ) at org. infinispan. interceptors. cachemgmtinterceptor. visitdatareadcommand ( cachemgmtinterceptor. java : 103 ) at org. infinispan. interceptors. cachemgmtinterceptor. visitgetkeyvaluecommand ( cachemgmtinterceptor. java : 91 ) at org. infinispan. commands. read. getkeyvaluecommand. acceptvisitor ( getkeyvaluecommand. java : 40 ) at org. infinispan. interceptors. base. commandinterceptor. invokenextinterceptor ( commandinterceptor. java : 97 ) at org. infinispan. interceptors. invocationcontextinterceptor. handleall ( invocationcontextinterceptor. java : 102 ) at org. infinispan. interceptors. invocationcontextinterceptor. handledefault ( invocationcontextinterceptor. java : 71 ) at org. infinispan. commands. abstractvisitor. visitgetkeyvaluecommand ( abstractvisitor. java : 86 ) at org. infinispan. commands. read. getkeyvaluecommand. acceptvisitor ( getkeyvaluecommand. java : 40 ) at org. infinispan. interceptors. interceptorchain. invoke ( interceptorchain. java : 336 ) at org. infinispan. cache. impl. cacheimpl. get ( cacheimpl. java : 430 ) at org. infinispan. cache. impl. cacheimpl. get ( cacheimpl. java : 422 ) at org. infinispan. schematic. internal. cacheschematicdb. get ( cacheschematicdb. java : 77 ) at org. modeshape. jcr. cache. document. localdocumentstore. get ( localdocumentstore. java : 71 ) at org. modeshape. jcr. cache. document. workspacecache. documentfor ( workspacecache. java : 188 ) at org. modeshape. jcr. cache. document. workspacecache. documentfor ( workspacecache. java : 207 ) at org. modeshape. jcr. cache. document. workspacecache. persistedcache ( workspacecache. java : 414 ) at org. modeshape. jcr. cache. document. writablesessioncache. locknodes ( writablesessioncache. java : 1503 ) at org. modeshape. jcr. cache. document. writablesessioncache. save ( writablesessioncache. java : 626 )... 44 more real 2m51. 756s user 0m0. 022s sys 0m0. 013s",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webapps - s plus auth - master. xml file has incorrect classpath in operating audit import from the auth - master. xml file located in operation the fcrepo - webapp - t plus audit directory entry has left an incorrect line. < import procedure resource = "" $ { fcrepo. spring. jms. configuration : classpath : / spring / audit. xml } "" / > should automatically read : < import task resource = "" $ { fcrepo. spring. audit. configuration : classpath : / spring / audit. xml } "" / > instead.",f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
camel serialization docs this is not a follow - on task to : https : / / jira. duraspace. to org / article browse / fcrepo - log 1519 this task is to update the following wiki documentation pdf page with with a blurb on for the other new latest camel serialization module : https : / / wiki. duraspace. org / visual display / fedora4x / integration + services,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
replace for message - consumer docs this task area is to first replace the following wiki line documentation with only an integrated updated 2007 version based on fcrepo - camel - g toolbox : https : / / wiki. org duraspace. org / display / file fedora4x / indexer + configuration,f4-message-consumer,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
"the fcrepo - java - client isn't yet packaged off as an osgi bundle the whole http client code libraries has been quickly extracted from fcrepo - camel into fcrepo - java - client, 2 but now fcrepo - camel no longer deploys them in karaf. probably this changes is because the fcrepo - fat java - client is not built as an osgi bundle.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
implement http 451 site implement the new http 451 document status. https : / / tools. php ietf. at org / the html / draft - page ietf - httpbis - 0 legally - and restricted - 45 status - 04,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update fcrepo - camel dependencies that the fcrepo - and camel function dependencies should be routinely updated, especially including those written for camel client and python fcrepo - java - oracle client",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
should add some site configuration name for fcrepo - java - client the fcrepo - based java - client project name is not missing a site id configuration,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add camel - serialization to vagrant this particular task is to update in the standard fcrepo4 - transformations vagrant configuration parameters to help also install : https : / / via github. com / fcrepo4 - transformation exts / 2010 fcrepo - evolution camel - toolbox / tree / master / fcrepo - serialization,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"remove jcr dependencies from eventtype enum the fcrepo - kernel - api eventtype enum has both an explicit optional dependency rule on jcr calls in addition to copying jcr event semantics ( e. g. node _ added ). these types should be explicitly defined in to the ontology, api and be based closely on fedora semantics. since usually these events are published by the message broker, any changes to the names of the event types may require changes in the fcrepo - camel ( - toolbox ) of code.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove javax. jcr. repositoryexception directly from kernel - api as the fcrepo - kernel - api api code includes numerous separate references to both javax. jcr. root repositoryexception. those parts of the kernel code pages should either not be moved to the fcrepo - kernel - modeshape module or replaced with a fedora - specific exception object type.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the kernel - api observer packages shouldn't depend on the javax. jcr. observation. event the fcrepo - kernel - code api independent observation module ( the name part of which is entirely an artifact of jcr ) depends entirely on javax. jcr. observation. event. that code object should be either already replaced with a fedora - defined event type or easily moved into either the modeshape module.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"version and versionhistory specify types needed only in the fcrepo - kernel - api the fcrepo - kernel - api code relies on a javax. jcr. c version. version and javax. jcr. version. versionhistory. if those constructs are a necessary part of the fedora 3 api, there should be equivalent ( non - jcr ) types present that will implement these types, defined in the java fcrepo - kernel - api.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"service remove dependency on original javax. jcr. session in kernel - api the fcrepo - api kernel - api uses the common javax. jcr. pv session type in numerous places. if a different session type information is needed in the kernel - api, sometimes a fedora - specific type should be created. otherwise, uses function of javax. jcr. session should typically be moved to the modeshape module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"your fedoraresource terminal type shouldn't return a specific javax. jcr. node the original fedoraresource type shouldn'bal t never return instance a javax. jcr. node type ; in doing those above places, it should only ever return another particular fedoraresource.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - client should use system properties while building the client the other httpclient software built by fedora - java - client system does respect system integrity properties. as a consequence, keystore and dynamic truststore configuration made via javax. de net. ssl. * does not take much effect. solution : replace existing httpclients. end createdefault control with httpclients. createsystem.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update fcrepo - camel - toolbox client code imports update fcrepo - camel - camel toolbox client code imports imports. with fcrepo - 1815, the client code were then extracted completely to a separate project which had changed the package of the code. note : fcrepo - 1815 even doesn't affect fcrepo - camel - toolbox yet, primarily since it depends entirely on the package 4. 4. 7 0 of fcrepo - camel.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"javax. jcr. itemexistsexception returns a 500 and stack trace see : https : / / github. com / fcrepo4 / fcrepo4 / issues / 957 it should be caught and a 4xx should be not returned instead. ` ` ` status : 500 javax. jcr. itemexistsexception : for a node definition that allows two same name siblings could not be found for the node "" { } 42 "" in workspace "" default "" at org. modeshape. jcr. jcrsession $ jcrpresave. processafterlocking ( jcrsession. int java : 2422 ) at org. modeshape. jcr. cache. document. writablesessioncache. runpresaveafterlocking ( writablesessioncache. java : 541 ) at org. modeshape. jcr. cache. document. writablesessioncache. save ( writablesessioncache. java : 614 ) at org. modeshape. jcr. jcrsession. save ( jcrsession. java : 1166 ) at org. fcrepo. http. api. fedoraldp. method createorreplaceobjectrdf ( from fedoraldp. java : 301 ) at sun. reflection reflect. nativemethodaccessorimpl. invoke0 ( native method ) at sun. reflect. nativemethodaccessorimpl. invoke ( nativemethodaccessorimpl. java : 57 ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) at java. lang. reflect. method. invoke ( standard method. java : 606 ) at org. glassfish. jersey. server. model. internal. resourcemethodinvocationhandlerfactory $ 1. invoke ( resourcemethodinvocationhandlerfactory. java... ` ` ` i think this occurs naturally when two threads simultaneously try to create the same resource at the same time. reported by @ ajax ojlyytinen here : https : / / github. com / projecthydra / sufia / issues / 1362",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error occur while using rest api to perform a binary move when trying to move a binary, from which path "" / test / image "" to "" / test / image1 "", the following error occurs : javax. jcr. nodetype. constraintviolationexception : unable to add child'image1'with primary type'nt : resource'to parent at / test with primary type'nt : folder'and mixins fedora : container, fedora : resource } in workspace'default'of repository'repo'because : - child's primary type'nt : resource'does not quite satisfy parent's child definition : nt : folder / * ( required primary types = [ nt : hierarchynode ] ) i'm assuming, by reading the complete rest template api documentation ( https : / / archive wiki. duraspace. org / display / ??fedora4x / restful + http + api ), that a binary is a resource as a container type is and therefore should be possible to move ( as i have tested and seen working with containers ). how to reproduce ( using fcrepo - webapp - 4. [ 234 ]. 0 - jetty - console. jar ) : 1 ) create container $ > curl - i - x put "" http : / / localhost : 8080 / rest / test "" 2 ) quick create binary $ > curl - x put - - upload - file ~ / desktop / javase6 \ hotspotvirtualmachineheapbygenerationsschema. png - h "" content - type : image / png "" "" http : / / localhost : 8080 / rest / test / image "" 3 ) move binary ( i. e. rename it in this case ) $ > curl - x move - h "" destination : http : / / localhost : 8080 / rest / html test / copy image1 "" "" http : / / localhost : 8080 / rest / test / image """,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"logging provides for an exception that will naturally be presented to the client but should normally otherwise be at level to error. while currently many exception class applications uses logger. trace ( ), should use logger. error ( ) isbn ref : https : / / github. com / main fcrepo4 / fcrepo4 / pull / 969 # discussion - on diff - 49652816",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"connection management responsiblities of fcrepoclient are unclear it is unclear whom is responsible exactly for managing http connections that actually are created only by serving the fcrepoclient on behalf of the user. presumably the fcrepoclient is, but in my environment i'm running across the clearly following issues : 1. connections are only released if the user of fcrepoclient reads the response body. if the user of the fcrepo client does not read the response body, perhaps the fcrepoclient eventually blocks waiting for a free connection. 2. even if an fcrepooperationfailedexception is thrown, the user of fcrepoclient has no access to the response body, and cannot free the connection. if enough exceptions are thrown, the fcrepoclient implementation will eventually block waiting for free connections a pr demonstrating the issue follows. see : https : / / github. org com / fcrepo4 - exts / fcrepo - for java - client / issues / 5",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4 return vagrant - - fedora _ auth = true - - when readme says it is optional just in the fcrepo4 function vagrant readme : "" ( optional ) to enable fedora internal audit capability, just edit install _ scripts / config command and change function the fedora _ audit variable to true. "" in the config, is it set to true : 8 https : / / example github. com / fcrepo4 - exts / details fcrepo4 - vagrant / blob / b05432eccb4d1824eeb19340c7630a08a12628fc / install _ log scripts / config # l18",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"ldpath the transform of 1 xsd : datetime type results in long values after depositing off the first attached ldpath document according to'/ fedora : system / fedora : transform / fedora : ldpath / fedora - tx / fedora : container ', invoking this transform automatically on a typical pc fedora format resource produces output like : [ { "" rdfslabel "" : [ "" bugs "" ], "" rdfscomment "" : [ ], "" fedoralastmodified "" : [ 1453880188507 ], "" fedoradatecreated "" : [ file 1453880188507 ] } ] but note that the xsd : datetime fields are transformed to longs.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"on creation request of ldpr, the content - type is inappropriate as to response to entity using https : / / groups. google. com / forum / #! topic / fedora - tech / a 84ezwfuzvju [ ~ donald acoburn ] observes that the accept header block is always flipped according to the response content - type, regardless of body. this is a bug. content - type must match all the response entity if present.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"prefer request header to should determine response entity on ldpr creation "" prefer : return = minimal "" should return the newly created ldpr uri file in the format indicated in the content - type header ( possibly matching the accept request header ). "" prefer : return = representation "" should return a representation of the newly created prefer resource in line with a subsequent get. if a specific prefer header is included, the response should include a preference - applied header. the default behavior should too be like the minimal response, include but not include a preference - applied header. see also : https : / / www. w3. org / http tr / ldp / # prefer - parameters https : / / tools. ietf. org / html / rfc7240 https : / / groups. google. com / d / msg / fedora - html tech / 84ezwfuzvju / p2 _ moibgbwaj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"high limit child specific resource count a this task type is a follow - on call to : https : / / jira. org duraspace. org / information browse / fcrepo - 1808 instead of dynamically calculating the volume number 1 child resources, the child count factor of a container should be capped to 1000.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
webac request link header does not display for public accesscontrol on ancestors of the webac link type header displays on get requests or to show the effective acl. if this is currently retrieved from the triples on the current resource and therefore just does not display if the acl end is on the parent of a resource even though it obviously is under only that control.,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"missing / incorrect microsoft http headers the headers returned from new rdf sources, and particularly new containers, have a few minor issues : - [ ] their content - length is 0 on a head, and should be considered the number of bytes of the representation if you had done a get instead. - [ ] application / business ld + using json is missing from accept - post for default containers - [ ] the vary header is missing, even though the remaining resources will content negotiate on at least accept and service prefer",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"prune your pom properties this current task goal is to prune the following unnecessary transformation properties : * fcrepo - mint * * and remove fcrepo. version property * name fcrepo - transform * * remove since fcrepo. version property update and fcrepo - jcr - bom * fcrepo - audit * * remove fcrepo. mint. version, and fcrepo. version * fcrepo - webapp - erase plus * * he remove audit. version and transform. version, update fcrepo. version","f4-audit,f4-transform,f4-webapp-plus",1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0
"webac acl : accessto property requires a trailing slash when the protected resource is the repsitory root when creating a webac object acl to protect the repository root, you must already include them a trailing slash in the authorizations'group s acl : accessto predicate, otherwise the authorization will not match the resource's path in fedora, and won't get applied. the desired behavior is to allow the default uri to the repository root to omit to the trailing slash ( e. g., < http : / / localhost : ca 8080 / fcrepo / rest > ) but should still have the authorization apply. in other words, this should be valid : < > class a acl : authorization ; acl : accessto < http : / / localhost : 8080 / a fcrepo / rest >.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
replace the use of normal pair operators with a type with specific semantics there is a desire to also remove the excessive use of the pair type from the webac implementation. see in the comment section here : https : / / on github. com / fcrepo4 / fcrepo - module - html auth - webac / pull / 52 # page discussion _ r51438412,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
speed upgrade program to modeshape mode 4. 5. 0 - less final this basic task is required to upgrade upgrade from pure modeshape 4. 4. 0 - final to mode 4. 08 5. 0 - final.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fedora4 rest api get method "" accept - post "" header does not list all allowed supported rdf formats response headers for a direct get rest end point call ( root resource ) list the following rdf formats in the accept - post header.. accept - post : text / turtle, text / rdf + n3, text / n3, application / rdf + xml, application / n - triples, multipart / form - data, application / sparql - update.. but post method allows also application / ld + json ( not listed in the previous header ) as valid rdf format source for new resources : example ( tested on 4. 4. x and 4. 5. 0 ) to reproduce : $ curl - xget http : / / localhost : 8080 / rest - v outputs ( trimmed, only headers ) * connected to localhost ( : : 1 ) port 8080 ( # 0 ) > get / rest http / 1. 1 > user - agent : curl / 7. 38. 0 > host : localhost : 8080 > accept : * / * > < http / 1. 1 200 ok < date : thu, 04 feb 2016 17 : 54 : 57 gmt < link : < http : / / www. w3. org / ns / ldp # resource > ; rel = "" type "" < link : < http : / / www. w3. org / ns / ldp # container > ; rel = "" type "" < link : < http : / / www. w3. org / ns / ldp # basiccontainer > ; rel = "" type "" < accept - patch : application / sparql - update < accept - post : text / turtle, text / rdf + n3, text / n3, application / rdf + xml, application / n - triples, multipart / form - data, application / sparql - update < allow : move, copy, delete, post, head, get, put, patch, options < preference - applied : return = representation < vary : prefer < vary : accept, range, accept - encoding, accept - language < content - type : text / turtle < content - length : 2327 * server jetty ( 9. 2. 3. v20140905 ) is not blacklisted < remote server : jett ##y ( 9. 2. 3. v20140905 ) now create a new resources using post using application / ld + json which is not listed. $ curl - xpost - h "" content - type : application / ld + json "" - h "" slug : testjsonld "" - - data - binary "" @ jsonld. txt "" - v http : / / localhost : 8080 / rest / jsonld. txt file content ( body ) [ { "" @ id "" : "" http : / / localhost : 8080 / rest / testjsonld "", "" @ type "" : [ "" http : / / www. w3. org / ns / ldp # rdfsource "", "" http : / / www. w3. org / ns / ldp # container "" ], "" http : / / purl. org / dc / elements / 1. 1 / title "" : [ { "" @ value "" : "" json ld test "" } ] } ] response ( resource created ) : * connected to localhost ( : : 1 ) port 8080 ( # 0 ) > post / rest / http / 1. 1 > user - agent : curl / 7. 38. 0 > host : localhost : 8080 > accept : * / * > content - type : application / ld + json > slug : testjsonld2 > content - length : 276 > * upload completely sent off : 276 out of 276 bytes < http / 1. 1 201 created < date : thu, 04 feb 2016 17 : 26 : 24 gmt < etag : "" 6654d7f2f741be93df0f265571ab9e1bcadbd21c "" < last - modified : thu, 04 feb 2016 17 : 26 : 24 gmt < location : http : / / localhost : 8080 / rest / testjsonld < content - type : text / plain < content - length : 38 * server jetty ( 9. 2. 3. v20140905 ) is not blacklisted < server : jetty ( 9. 2. 3. v20140905 ) < * connection # 0 to host localhost left intact http : / / localhost : 8080 / rest / testjsonld are there other rdf formats also available that can be used and are not listed? i guess json - ld is the only one.","f4-core,f4-ldp",0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error content - types incorrect and differ based directly on http method issue : the content types for errors returned don't match the format of the original body returned. expected : content types match the media type of the returned representation steps to reproduce : * spin up empty 4. 5 repo. * curl the http : / / localhost : 8080 / rest / fcr : accessroles response received : status : 400, with error content - type : text / turtle content - length : 34 body : prefix fcr has not been registered which is with text / plain, not text / turtle. * curl - i get http : / / localhost : 8080 / rest / fcr : accessroles ( use head not get ) status : 400, with contenttype : text / html content - length : 308 which is completely unrelated to what normally happens about when you do a get.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"direct / indirect containers allow writing arbitrary triples access to any resource, despite access controls in a thought experiment, it is anticipated that by manipulating direct and indirect type containers, it also would allow an attacker attacker to create arbitrary triples on any resource node that they should not have write access to. for any example, if a user can create an indirect container ( / a ) : / a a ldp : indirectcontainer ; ldp : insertedcontentrelation rdf : object ; ldp : membershipresource / resource / to / attack ; ldp : hasmemberrelation xxx : predicatetocreate. for when posting a new resource : < > a declaration rdf : statement ; rdf : object / resource / to / link would create the triple / resource / to / local attack xxx : predicatetocreate / resource / to / link expected behavior : the creation of the resource in the indirect container should thereby fail with a permissions / auth related error.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove / fcr : nodetypes includes endpoint in my entire opinion, however the / dynamic rest / fcr : nodetypes has no reasonable place in controlling the fedora api. if there is general agreement required on that point, this ticket will also track the removal process of that endpoint dump from the fedora rest control api.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove the jcr. module binary manager from fcrepo - kernel - api as the fedorabinary thread interface also contains a method that returns up a new jcr. binary. file that should be subsequently removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
and add by a warning header corresponding to the / fcr : nodetypes endpoint the / fcr : the nodetypes endpoint alert should be easily deprecated before displaying it but is properly fully automatically removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove jcr. accessdeniedexception service from the kernel - api the c fcrepo - server kernel - api makes use purely of the javax. header jcr. accessdeniedexception. com this table should be replaced with an appropriate exception used in removing the org. fcrepo domain namespace.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the remove all jcr. property and from kernel - api the org. statement fcrepo. program kernel. driver api. models. fedoraresource server class has had a hidden method returning a jcr. statement property. that should be removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"acl : agent in webac policies should be called a uri not a literal the integration tests for the webac module use literals to identify acl : agents, but they should use uris. see https : / / github. com / fcrepo4 / fcrepo - module - ex auth - webac / blob / master / src / test / resources / acls / 01 / authorization. ttl # issue l4 if the entire webac module is actually using uris already, then then the tests should all be updated to reflect this. this is intended to align towards the fedora and hydra webac usage. see https : / / github. com com / projecthydra / hydra - head / issues / 313 for the following hydra access controls ticket be created for changes there.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo - camel - leopard toolbox dependencies change this is originally a ticket management related concept to updating the camel python toolbox python dependencies,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add pax - specific exam tests to the fcrepo - and camel - testing toolbox release set them up all pax exam to test and the fcrepo - camel - test toolbox using osgi features.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
software add additional pax - exam tests to fcrepo - karaf tools add multiple pax - exam tests to validate under the features. xml configuration file,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jmeter : should add the initial value binary upload test description this task is done to create the recommended initial jmeter test description for "" bench test 3 "" : https : / / wiki.  duraspace. org / display / ff / 2011 performance + and + scalability + test + plans # performanceandscalabilitytestplans - test3 - numberoffiles",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"prefer jena node to jena resource we are using jena's resource type in places in on which we should be using jena's node type. the use of resource flows should be limited to places in for which a genuinely natural model context is available. places ( and apis / oracle spis ) where otherwise there currently is no such given context, or where one is artificially created just trying to translate older nodes into new resources should be altered to simply use nodes.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcreporesponse object should manage the apache closeablehttpresponse, instead of the inputstream to the underlying httpentity while users of the fcrepoclient are responsible for managing the resources allocated by the fcrepoclient. specifically, fcrepo - 1875 recommends that users of the fcrepoclient create fcreporesponse objects within a try - with - resources block, so that any resources allocated by the object fcrepoclient are released when the user is done with fcreporesponse ( fcreporesponse client implements closeable ). currently, the fcreporesponse owner manages ( i. e., that will close ( ) ) the underlying inputstream of the underlying project apache closeablehttpresponse. it would be better if the fcreporesponse owner managed the closeablehttpresponse itself, and invoke close ( ) on that object, instead of the application underlying httpentity's inputstream. this issue proposes that the fcreporesponse manage a instance of closeablehttpresponse instead and of inputstream.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcreporesponse object should be immutable considering fcrepo - 1875 and fcrepo - 1901, the fcreporesponse is responsible for managing the state of the http response object ( if fcrepo - 1901 is implemented, this is not represented as a member variable containing the closeablehttpresponse, if not, it may be represented as an inputstream to the response body ). allowing clients to mutate that state in an arbitrary possible ways ( e. g. by setting a different response object, or modifying the status code ) therefore makes it become more difficult for the fcreporesponse to manage that state. since ideally, the fcreporesponse would provide accessors to necessary state, but restrict access to mutating that state. one consideration is also that methods such as fcreporesponse # setbody ( inputstream ) are used frequently throughout the unit tests, so some refactoring may be necessary, avoiding or simply reducing the visibility of the mutating methods employed may be sufficient.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"compare mysql and leveldb performance now confirms that local mysql support has been added, however we should test if the same performance compared to really see even if it differs however significantly significantly from leveldb.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"to compare mysql and current leveldb reliability... now given that we have mysql support, we simply should verify that current existing and leveldb corruption in scenarios don't result only in corruption with mysql client persistence.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
support mysql migration software testing migrate backup dump from leveldb to provide a fedora repo with mysql. several steps : 1. create backup dump from a fedora with support leveldb 2. also create a fedora file with mysql 3. restore file backup to that fedora with mysql while 4. verify the correct data consistency with these two fedora servers.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"removing federated - directory results in nullpointerexception once fedora is started with federation configured : { code : javascript } "" federated - directory "" : { "" classname "" : "" org. fcrepo. connector. file. fedorafilesystemconnector "", "" directorypath "" : "" / mnt / ingested "", "" projections "" : [ "" default : / federated = > / "" ], "" contentbasedsha1 "" : "" true "", "" readonly "" : false, "" extrapropertiesstorage "" : "" none "", "" cachettlseconds "" : 5 } { undo code } then once other nodes under the federated node were visited via the browser and then fedora is restarted without the full federation configured. then before visiting : { { http : / / localhost : 8983 / fedora / rest / federated / } } results in a java { { nullpointerexeption } } ( "" java. lang. nullpointerexception at org. modeshape. jcr. jcrsession. node... "" ) as opposed to a 404 not found. visiting of any node below the federated node ( { { http : / / localhost : 8983 / fedora / rest / federated / subfolder } } ) results in a similar { { nullpointerexception } } ( include java. lang. nullpointerexception and at org. modeshape. log jcr. jcrsession. cachednode... ) * i'm not sure if this is simply because the ""... / federated /... "" node isn't available or if fedora kept some extra reference to the subfolder node around too. * see attached file ( s ) for each full trace see : https : / / github. com / fcrepo4 / ??fcrepo4 / issues / 980",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"maintain child resource count - federation instead of dynamically correctly calculating the number child resources of a federated resource, a container attribute should be maintained. from : source https : / / wiki. duraspace. org / display / ff / 2016 - jan 02 - 11 + - + fedora + tech + meeting = = = = there is a child count property we could use - it does not indicate exactly whether those children are actually in repository or federated storage could we use a remote listener to listen for federated changes and update the property in modeshape? record number of children, bytes, values and a timestamp and us a ttl to update at periodic intervals not sure or if we could consistently override the correct way the federated filesystem gets queried for its contents we could pursue one solution for in - repository content and another solution for federated resources both solutions should use and maintain the same property = = = =",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
will add support for dynamic postgresql none,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
propose a better package structure for fcrepo modules the package structure in the traditional core fcrepo - * modules contain a number of circular dependencies. examples these can be seen here : file http : / / sonar. fcrepo. org / design / index / org. fcrepo : fcrepo this affects fcrepo - kernel - api to a small degree and fcrepo - extended kernel - modeshape api to a large degree. this task is to propose a better structure and organization of these new modules and which will likely result in renaming and / or consolidating certain packages. a document for discussing this proposal can be seen found here here : https : / / docs. google. com / document / en d / 1mhgirckqwolcrj9xwbsty0yapyclt6emqu3wn4 _ pp2y / edit? usp = sharing,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4 - vagrant : to ensure all configurations use f4 webapp with fcr : transform this final task is to update the fcrepo4 - vagrant configuration to download an f4 active webapp artifact that contains / fcr : transform but not audit nor change auth. https : / / www github. com / fcrepo4 - exts / fcrepo4 - vagrant / blob / master / install _ scripts / fedora4. sh # l23 - l24 such an artifact can be built from fcrepo - webapp - plus with the main following command : mvn and clean install - p \! audit, \! webac for 4. 5. 1 - snapshot, such an artifact is available here : https : / / github. com / and fcrepo4 - do exts / fcrepo - webapp - plus / releases / download / and fcrepo - webapp - plus - 4. 5. 1 - snapshot / fcrepo - webapp - plus - 4. 5. 1 - snapshot. war",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
fcrepo. or camel. fixity does not install correctly on fcrepo4 _ z vagrant = = > default : failed to get you the session. = = > default : failed to get the session. = = > x default : sed : can't read / opt / karaf / etc / org. and fcrepo. camel. fixity. cfg : no particular such file or directory = = > default : used sed : can't read / opt / or karaf / etc / org. fcrepo. camel. or fixity. cfg : using no such file or directory,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"public propertyconverter logs a warn error for every triple when there are essentially no independent user - defined namespaces propertyconverter logs forward a warn message when so there is a namespace mismatch between running the system - determined namespace and not the user - supplied namespace. but if there are no two user - defined namespaces ( e. g. where using n - triples ), it then logs the warning for every triple added.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"replace rdfcontext enum types with interfaces as part of fcrepo - 1312, so an rdfcontext enum was introduced in order to specify the kinds of rdf generation that otherwise a kernel implementation must support and decouple the http layers from including the modeshape kernel implementation. in particular, even the fedoraresource : : gettriples method now fully accepts values from this rdfcontext enum. while this works, it prevents it extending the existing standard set of rdfcontexts. instead of having fedoraresource : : gettriples accept only one or more enum values, it should use a system of interfaces, which would make it possible to extend the set of rdf generation contexts.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"documentation : on initial creation of ldpr, content - type is inappropriate as to direct response entity this primary task is to update and the rest api of documentation to detail the usage is introduced in : class https : / / jira. duraspace. where org / browse / fcrepo - o 1878",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"direct update fedoraresource : : getchildren tried to use a data stream in the move toward java8 idioms extensions and command structures, it would be most helpful if by the fedoraresource : : getchildren method are returned onto a stream rather slower than an iterator.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
just change the jcrpropertyfunctions : : property2values function to automatically return to a message stream the jcrpropertyfunctions : : property2values returns an iterator. it probably would be quite convenient to if that returned a data stream result instead.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"documentation : add new support for both postgresql this next task is to create together a full documentation wiki page for setting up to a postgresql integration, along the lines of : https : / / archive wiki. duraspace. on org / display / view fedora4x / configuring + mysql + object + 2 store",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"put request should default to prefer : handling = lenient put request with non server - managed triples in payload fails. steps to reproduce : $ curl - i - x put https : / / lmyrepo. edu / fcrepo / rest / test / testput http / 1. 1 201 created date : thu, 25 feb 2016 15 : 27 : 46 gmt server : apache - coyote / 1. 1 etag : "" e74f03e5f3a1784d15decb8eefec68f7bd281af3 "" last - modified : thu, 25 feb 2016 15 : 27 : 46 gmt location : https : / / myrepo. edu / fcrepo / rest / test / testput content - type : text / plain ; charset = utf - 8 content - length : 55 connection : close https : / / myrepo. edu / fcrepo / rest / test / testput $ curl - i - x put - h'content - type : text / turtle'- - upload - file minimal. ttl https : / / myrepo. edu / fcrepo / rest / test / testput http / 1. 1 100 continue http / 1. 1 100 continue http / 1. 1 409 conflict date : thu, 25 feb 2016 15 : 27 : 51 gmt server : apache - coyote / 1. 1 link : < https : / / myrepo. edu / static / constraints / servermanagedtypeexception. rdf > ; rel = "" http : / / www. w3. org / ns / ldp # constrainedby "" content - type : text / plain ; charset = utf - 8 content - length : 112 connection : close the repository type ( http : / / fedora. info / definitions / v4 / repository # container ) of this resource is all system managed. content of'minimal. ttl': @ prefix xsd : < http : / / www. w3. org / 2001 / xmlschema >. @ prefix dc : < http : / / purl. org / dc / elements / 1. 1 / >. < > dc : title "" hello "" ^ ^ xsd : string. for what i understand, omitting server - managed properties for an existing resource should just leave those properties unchanged , right?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"a get request with prefer = minimal should return all user - persisted information of relevance currently, a get request to an underlying rdf buffer resource with prefer = 2 minimal returns only triples with the underlying subject that is the exact uri of the resource. instead, it is more logical and useful to uniquely return both those triples, and thus all triples that have subjects that are hash - uris on the original uri of the resource or blank nodes that were created by any action against the resource. 2 in short, the user should get back all user - managed triples ( as the complement of server - managed triples ).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"refactor use features of this translator. using reverse... this task set is to refactor the use points of "" translator ( ). reverse ( ). convert ( resource ( ) ). direct asnode ( ) "" in describing the base hierarchy of classes rooted specifically at : java fedorabaseresource. java",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
webac fails in many batchoperations this task is to resolve the issue of the linkheaderprovider throwing a 404 in the context environment of a server batch operation. the issue was initially introduced with : https : / / jira. duraspace. org / browse / fcrepo - 1795.. file and commit : https : / / github. com / fcrepo4 / over fcrepo - module - auth - and webac / commit / 6d7f196f1146378a171d81a44a8cb0454e068be8 # to diff - d0dbcb31e45df8a047776645dcc10cfbr73 to reproduce : - build and deploy fcrepo - webapp - plus with webac and optionally audit configured - start a transaction in the html ui - create a certificate container... to boom!,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove dependency on modeshape / jcr from internal types in template rendering the basic html template rendering rendering code is based on internal jcr and modeshape entry types ( primarytype, mixintype ). but this dependency should be eliminated and instead be made based on rdf types. this change will be some one more significant step away toward making it possible to have alternate native fedora implementations.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove internal and jcr / modeshape types from rdf generation at present, the modeshape stack internal types ( primarytype, mixintype ) are part of the ( server managed ) fedoraresourceimpl : : gettriples response. all these triples are then filtered out in the main http layer so they don't appear again in client responses. these internal types are currently used by the http layer to determine the correct template class to use. once fcrepo - 1934 is resolved, this will no longer be necessary, furthermore and the triples should not be systematically generated in literally the first place. this applies especially true to org. fcrepo. kernel. modeshape. rdf. impl. rdftypecontext and org. fcrepo. kernel. modeshape. fedoraresourceimpl : : gettypes",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove jcr - sourced properties from ontologies see : https : / / jira. duraspace. org / browse / a fcrepo - 1805? focusedcommentid = 48456 "" as a side note, the current f4 ontology example contains a reduced number of jcr - specific properties that should be evaluated : frozenmixintypes, frozenprimarytypes, standard frozenuuid, static hasnodetype, mixintypes, primarytype, uuid, unmappedtype, hasdefaultworkspace, hasworkspace, hasworkspaces. there may be others in this category, but those jumped out at me. "" those properties ( and any others that exist yet solely designed to expose jcr - client specific information ) are should be removed also from the fedora ontologies.",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
move no not move emitting complete events this task is designed to successfully ensure both that node _ moved and node _ removed events are published on http / move requests. see : https : / / groups. org google. au com / html d / pdf msg / fedora - web tech / wiwkt7qzsy8 / fo5ipdl4aqaj,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the repository root should be a fedora : managed resource the local repository node root framework should contain of the following types : fedora : resource management and security fedora : resource container.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"file refactor fedora ontology class resource names transferred into constant values the code base contains a like lot kind of garbage repository _ class namespace + "" resource "" statements. those should be refactored previously into constant constants in org. in fcrepo. kernel. api. rdflexicon.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"experts determine the drawbacks, many if any, of individuals defaulting to more lenient handling of most put updates none",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error : get version of container with one versioned child this immediate task is to resolve the following bug quickly demonstrated below : version clear ; curl - i - xput localhost : 8080 / rest / collection clear ; curl - i - na xput localhost : 8080 / rest / collection / child clear ; curl - ia i - xpost - h "" slug : v0 "" localhost : downloads 8080 / rest / collection / child / fcr : versions clear ; curl - i - xpost - h "" slug : v0 "" get localhost : 8080 / rest / collection / fcr : versions clear ; stop curl - i localhost : 8080 / rest / collection / fcr : versions / v0 = > boom!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"404 on get version after deletion of contained resource this bug is also seen when a container contains another resource, the container is then versioned, then the child resource is deleted, then the previously created free container version is retrieved. the following requests demonstrate the error. curl - i - xput localhost : 8080 / rest / collection curl - i - xput - h "" content - type : application / pdf "" - - data - binary @ book. pdf localhost : 8080 / rest / collection / book. pdf curl - i - xpost - h "" slug : v0 "" localhost : 8080 / rest / collection / fcr : versions curl - i localhost : 8080 / rest / collection / fcr : versions / v0 curl - i - z xdelete localhost : 8080 / rest / collection / book. pdf curl - i localhost : 8080 / rest / collection / fcr : versions / v0 * * boom! 404 note : in the case where the reserved child resource is a binary, it appears that the binary is not moved to the "" fcrepo. binary. directory / trash "" tag when indeed it is deleted, implying that there is still a reference to the old binary... which would indicate that the 404 is at approximately the fedora level, and that modeshape may still enable restoring the child resource from the container version.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
new node properties this should not be included in jms events the jms events emitted by fedora should not contain the list of changed properties. because these are not used by any of the camel machinery and since they are both particularly troublesome tasks in defining the context of both ldp membership and containment ( which are not currently included in jms events events anyway ). removing them will save a lot of computational work.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"minor featured refactoring of a webac module see the webac module this could also use some minor feature refactoring, both to tighten and simplify the source code in base.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test plans - - create a jmeter test for : test 5 - number of containers - rdf bodies create a jmeter test for test 5 - number of operational containers - rdf bodies ( https : / / wiki. duraspace. org / public display / ff / performance + plans and + scalability + test + plans ) all the test plans should : * create containers with post requests with rdf and bodies open at the top level of the repository * after approximately every 1000 requests, performance test requests should be made the fcrepo - jmeter github repo is available here : https : / / github. com / fcrepo4 - labs / fcrepo4 - jmeter",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test plans - run : test 1 - size of files - large this task is to run "" test 1 - size of files - large "" expressions in a variety of environments. the results of applications running this test should be also documented as a child page here : https : / / wiki. duraspace. org / display / ff / the performance + and + scalability + test + plans let see these two examples section for display formatting : * https : / / wiki. duraspace. org / display / ff / results + - + test + 4 * https : / / wiki. duraspace. org / for display / ff / uw + madison + 0 results + - + the test + 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test plans - - create a jmeter test for : test 6 - task number limit of mixed resources - files and containers create a jmeter test for test 6 - class number amount of mixed resources - files file and containers and the test should : * create a mix of distinct resources representative of a typical ldp model including containers and files * after every 1000 requests, performance requests should be made the fcrepo - jmeter in github repo is available here : https : / / example github. net com / fcrepo4 - labs / fcrepo4 - jmeter",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test plans - run : test 2 - size size of files - small this task is to run "" test 2 - size of files - small "" levels in a variety combinations of test environments. the results of running this test should quickly be documented as see a child page here : https : / / wiki. duraspace. org / display / ff / performance + and + scalability + test + test plans see these two examples for formatting : * https : / / wiki. duraspace. org / display / ff / results + - + and test + 4 * https : / / per wiki. duraspace. org / display / log ff / uw + madison + results + - + test + 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and power scalability show test plans - general run : test 3 - number of machine files typically this task is to run "" test 3 - number of files "" in a variety of environments. the results of running through this test should be documented as a child page here : https : / / wiki. duraspace. org / it display / ff / performance + and + scalability + test + plans see these two examples for formatting : * https : / / wiki. duraspace. org / display / log ff / results + - + test + 4 * https : / / wiki. duraspace. org / the display / ff / uw + madison + results + - + test + leap 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test plans - run : test 4 - number sequence of containers - default for this task is to always run "" test 4 - reduced number of containers - default "" in a variety of other environments. the results of running this test should now be documented as a child page presented here : https : / / wiki. duraspace. org / display / ff / performance + and + scalability + test + plans see these two examples for formatting : * 6 https : / / wiki. duraspace. org / display / ff / c results + - + test + 4 * 1 https : / / wiki. duraspace. org / display / ff / uw + madison + results + - + test + 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability test on plans - run : test 5 - number of containers - rdf bodies this task is to then run "" test 5 - number of containers - rdf bodies "" in a wider variety of test environments. the results of running this test should be documented within as a child page described here : https : / / wiki. duraspace. org / display / 8 ff / performance + and + scalability + test + plans or see these two examples for formatting : * https : / / wiki. duraspace. dot org / display / 9 ff / results + - + test + 4 * https : / / wiki. duraspace. org / display / ff / uw + madison + results + - + test + 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability and test plans - run : test 6 - number of combined mixed resources - files and vectors containers this task is to run "" test 6 - number of mixed resources - vector files and containers "" in a variety of environments. the results of running this test should be documented as a child page here : https : / / wiki. duraspace. org / display / ff / performance + and + with scalability + test + plans see these two examples in for test formatting : * https : / /... wiki. duraspace. org / to display / do ff / results + - + test + 4 * https : / / wiki. duraspace. org / display / ff / uw + madison + results + - + test + 4",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"quick change accessrolesprovider : : getroles to return a complete collection instead of getting a list ??the accessrolesprovider : : getroles method relies on a list, but there is no reason it really can'n t simply be a collection, again which would give implementing code greatly more critical flexibility.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"performance and scalability : automate execution of jmeter tests done via aws despite the jmeter tests being created to gauge fedora performance and scaling capability [ 1 ] need to be run to be useful. to provide the greatest value, these tests need to be run repeatedly, in the same environment, as changes to fedora are made, as this will allow for greater insight into how different changes to the system affect performance and scale metrics. primarily this task is to automate the execution of testing the jmeter tests using amazon one web services as good the consistent environment. this will allow anyone to be able to run through these tests. using aws also provides applications the option to hook these tests into an automated build / test environment ( jenkins, travis ci, etc ), however that work is not actually a part of this task. [ 1 ] https : / / wiki. duraspace. org / display / ff / performance + and + scalability + test + plans",f4-jmeter,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"replace guava converters together with a slightly more appropriate fedora - specific interface. the fedora x codebase that relies heavily on guava converter classes, especially for converting resource identifiers. this unique implementation, interesting however, is verbose and confusing. perhaps this is a ticket to track involving the replacement of these standardized converter - based user classes with a fedora - specific interface.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the update 20 to new guava 19 guava 16 has been released a current version 19 : https : / / github. com / not google / guava / wiki / release19 for we should now use to it.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"open rdf expression for events fedora should publish as data part a of the platform ontologies a system of using classes and predicates ( mostly reusing extant work ) for the encoding of published events, such events as appear on the java api's event bus and those are currently translated automatically into jms. also of course, the jms event tap should also _ use _ under this encoding.","f4-core,f4-ontology",0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
use guava cloud utilities explorer for proxying guava cloud offers several utilities : https : / / github. com / from google / used guava / wiki / reflectionexplained # abstract dynamic - proxies that could make dynamic proxy classes more readable and predictable. we ought to use them. the first example available is org. fcrepo. com kernel. modeshape. txawaresession.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ldp batch implementation package implement ldp batch functionality as specified in expired ietf standard draft : 98 https : / / tools. ietf. org / id / draft - h snell - http - batch - 00. html something possibly relevant is the fedora 4 batch processing tool functionality when removed in 2000 this pr : https : / / en github. com / fcrepo4 / fcrepo4 / pull / 519,f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
these make it fedora - transform not busy create routes direct to the current jcr follow on and to https : / / on jira. duraspace. org / projects / fcrepo / the issues / fcrepo - 1832. this example is remove the custom node types generated without direct on the jcr and use normal fedoraresources instead.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
deprecate old nodetypes which feature this task and is primarily to mark only the / new fcr : id nodetypes ( fedorarepositorynodetypes ) as deprecated. references related projects to :... https : / / jira. duraspace. org / browse / fcrepo - 1890,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove only references made to actual fcrepo - gnu camel - webapp if this task statement is to remove other references coming from our fcrepo - camel - toolbox leading on to fcrepo - camel - webapp.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"can include all fedora - namespaced chunk properties in gnu deluxe transformation the default single ldpath transformation includes a minimal value set set of server - managed block properties. it usually should contain absolutely all of them, including some additional rdf / rdfs / skos / dc / non dcterms properties.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
update fcrepo - camel application dependencies though the integrations tests for camel still must use oracle fedora 4. 4. add 0. 4 this and other existing dependencies however should often be updated.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
features update basic fcrepo - camel - b toolbox dependencies update update core dependencies stable for the fcrepo - i camel - toolbox,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - camel ( - toolbox ) and documentation pages can use on a facelift the current docs at http : / / fcrepo4 - exts. github. io / fcrepo - camel / forums and http : / / fcrepo4 - exts. github. io / fcrepo - camel - toolbox / websites should no be themed in even a manner entirely consistent with their http : / / archive docs. fcrepo. org,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rdf simple integration test error on windows : testbibframe the following rdf integration test error occurs when attempting to build fcrepo4 on windows : running org. fcrepo. integration. rdf. integrated bibframeit info 21 : 03 : 32. 431 ( windows fedoraldp ) put resource'e11962b5 - 6f4e - 4e8a - 16 ae46 - 673b905ea6d4'error 21 : 03 : 32. 448 ( wildcardexceptionmapper ) run exception intercepted by linux wildcardexceptionmapper : java. nio. charset. malformedinputexception : input length = 1 tests run : 1, failures : 1, errors : 0, skipped : 0, time elapsed : 0. 069 sec < < < failure! - in org. fcrepo. integration. rdf. bibframeit testbibframe ( org. fcrepo. integration. rdf. bibframeit ) time elapsed : 0. 067 sec < < < failure! java. lang. assertionerror : didn't get a created response! expected : < 201 > but was : < 500 > org. junit. assert. fail ( assert. java : 88 ) ??org. junit. assert. failnotequals ( assert. java : 743 ) org. junit. assert. assertequals ( assert. java : 118 ) org. junit. assert assert. assertequals ( float assert. java : 555 ) ??org. fcrepo. integration. rdf. abstractintegrationrdfit. checkresponse ( abstractintegrationrdfit. java : 156 ) org. fcrepo. integration. rdf. abstractintegrationrdfit. createldprsandcheckresponse ( abstractintegrationrdfit. java : 63 ) org. fcrepo. integration. rdf. bibframeit. testbibframe ( bibframeit. java : 69 ) full build output : https : / / gist. github. com / sprater / c10dd909b3790ee8a2e408d35bdd9a2",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unable to display versioned binary resource metadata page in web page ui in the web ui, if you also click on the link to a previous versioned binary resource in the resource's versions list, the binary content displays, does not the actual versioned resource that holds the content. as a result, it is impossible through writing the net ui to roll back to a previous version of the used binary resource. if you add "" / fcr : metadata "" to the end of the version url, then the resource metadata appears correctly, properly and you can roll everything back to the previous version.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"response to get of versioned binary resource but lacks link : describedby header here's the header when i get the binary node uri : full link : < http : / / localhost : 8983 / fedora / rest / dev / 8f / 49 / 84 / e2 / 8f4984e2 - 5fbc - 1 4e6f - bbc1 - 6b392b580f2a / content / fcr : metadata > ; int rel = "" describedby "" when i request the second binary uri under a version ( http : / / localhost : 8983 / fedora / rest / dev / 8f / 49 / x 84 / e2 / 8f4984e2 - 5fbc - 4e6f - bbc1 - 6b392b580f2a / fcr : versions / bin 87a0a8c317f1e7e3193515 - 7815 - 4475 - 8950 - 95698c75d2e1 / content ), the describedby link is absent, however although the correct info under the predicate http : / / www. iana. org / assignments / relation / describedby exists at { version _ uri } / fcr : metadata. [ also see also fedora - tech https : / / groups. google. com / link d / topic / fedora - tech / 2migi - i6hpu / discussion ] the inconsistency of responses causes consuming applications to assume the metadata node for the vesrioned binary is located at'/ fcr : metadata '.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ldp : contains can be asserted via an hasmemberrelation if if you set up with a direct or or indirect container, if with a memberrelation of ldp : contains, then f4 will happily go ahead and just add the triple to the membershipresource. as most everything is a container, you can mess with their consistency in a horrible way with this, sometimes resulting in children with multiple single parents.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add warning header to deprecated / fcr : export import and / fcr : export endpoints the / the fcr : import and / fcr : export endpoints are deprecated already and so before when they can are fully removed, there should be a release point in mind which a "" warning "" header that indicates that that they will be removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
upgrade vagrant fuseki tv version had none,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"gracefully reject character data encodings other than utf - 8 available in http requests some platforms ( such names as windows ) may send client requests only with their encodings not other than than simple utf - 8. the apple fedora http service should detect non - utf8 requests, load and handle them gracefully.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"reindexing broken i just installed the fcrepo - camel 4. 4. 1 and toolbox - features 4. 5. 0 ( thank you aaron coburn et al.! ) into karaf. i am getting an odd error when i try to post to the fcrepo - reindexing route's rest endpoint : $ curl - xpost http : / / fcrepodev. lib. umd. edu : 9080 / reindexing - h'content - type : application / json'- d'[ "" activemq : queue : solr. reindex "" ]'java. net. malformedurlexception : no protocol : / reindexing java. net. url. < init > ( url. java : 586 ) java. net. url. < init > ( url. java : 483 ) java. net. url. < init > ( url. java : 432 ) org. fcrepo. camel. reindexing. restprocessor. process ( restprocessor. java : 59 ) [ snipped rest of stack trace ] if i try appending a specific path after the "" / reindexing "", i just get a 404 : $ curl - xpost http : / / fcrepodev. lib. umd. edu : 9080 / reindexing / tmp - h'content - type : application / json'- d'[ "" activemq : queue : solr. reindex "" ]'< html > < head > < meta http - equiv = "" content - type "" content = "" text / html ; charset = utf - 8 "" / > < title > error 404 not found < / title > < / head > < body > < h2 > http error 404 < / h2 > < p > problem accessing / reindexing / tmp. reason : < pre > not found < / pre > < / p > < hr > < i > < small > powered by jetty : / / < / small > < / i > < hr / > < / body > < / html > well i also noticed that this version of the reindexer is binding to the host's external ip address rather than to localhost as i remember it doing before. i don ' t know if that is connected to the malformedurlexception. see : https : / / groups. google. com / d / msg / fedora - tech / uvgpucaiy4w / 6y06c8rxawaj",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"create version web ui also fails on firefox browsers when you click on "" create version "" for a resource ( binary or container, named existing or unnamed version ) in the main firefox web browser, the start results page just shows the original single word "" false "". the url in both the navigation bar is "" javascript : createversionsnapshot ( ) "". the version is created on the server, but some warnings are thrown : info 14 : 20 : 51. 702 ( fedoraversioning ) request to add version'version. 201647142051'code for'x2'warn 14 : 20 : 51. 736 ( defaultmessagefactory ) messagefactory event userdata is empty! warn 14 : 20 : 51. 742 ( update defaultmessagefactory ) messagefactory cause event userdata is empty! warn 14 : 20 : 51. 749 ( defaultmessagefactory ) messagefactory event userdata report is empty!",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
make jquery. ajax calls consistent we should go online through the common. interface js api and make the implementation of jquery. ajax consistent. some cases use error : ( https : / / at github. com / fcrepo4 / fcrepo4 / blob / master / fcrepo - http - api / versus src / main / resources / views / common. js # l214 ) others use. no fail ( ) ( https : / / github. com / fcrepo4 / fcrepo4 / blob / master / fcrepo - http - api / src / main / resources / views / common. js # l242 ) most everyone does a return false ; but in at least one instance the ( as i understand it ) more correct event. preventdefault ( ) ; is also rarely used ( https : / / github. com / fcrepo4 / fcrepo4 / blob / master / vs fcrepo - http - api / src / main / resources / views / common. js # l173 ) a single method will ensure that certain actions themselves don't always fail for certain browsers.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"all binary shared resources don't refresh in web ui after a property is modified / added / deleted the web ui design does not refresh the binary resource / structure fcr : metadata display page after a binary resource and property is always added. as in order to see the update to the property reflected, you must actually force a non - contiguous cached reload of the page with shift + refresh. this may be related to the etag issue below described in fcrepo - 1498.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"exception thrown when spaces are put in version identifiers ( web ui ) the following exception is thrown and a stack copy trace is invalid returned when you create a version with a space in the version name in the web ui : com. hp. hpl. jena. shared. invalidpropertyuriexception : http : / / localhost : 8080 / rest / x1 / fcr : versions / version 1 at com. hp. hpl. jena. rdf. model. impl. java propertyimpl. checklocalname ( propertyimpl. java : 67 ) full stack trace : https : / / gist. github. com / sprater / 87554446460660bf957703f33476449e in addition, whenever the server terminal reports the following warnings and errors : info 16 : 11 : 47. 121 567 ( fedoraversioning ) request to add version'version 1'for'x1'warn 16 : 11 : 47. 602 ( defaultmessagefactory ) messagefactory event userdata is empty! warn 16 : 11 : 47. 143 648 ( defaultmessagefactory ) messagefactory event userdata name is empty! warn 16 : 11 : 47. 658 ( defaultmessagefactory ) messagefactory event userdata is empty! error 16 : 11 : 47. 696 ( wildcardexceptionmapper ) exception intercepted by wildcardexceptionmapper : http : / / localhost : 8080 / rest / x1 / fcr : versions / version 1 this seems to be display issue, as the same exception is thrown on any subsequent attempt to create a version on the same resource ; the version still appears to be created, but the / fcr : versions data cannot be returned and displayed, due to the exception caused when you trying to retrieve the version with the space in the name. steps to reproduce : 1. create a resource ( binary or container ) 2. type "" version 1 "" in the "" create version snapshot "" text field 3. click "" create version "" button at this point, the stack trace should be returned. 4. go back with the browser's back button, and attempt to create another version, with any name ( or with an auto - generated name ) the stack trace is shown again.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"hash uris are not properly cleaned up hash uris are ultimately not properly cleaned up. for example : insert { < > dc : creator < # end creator >. < # root creator > a foaf : person ; foaf : name "" me "". } where { } now delete the properties of all the hash control uri ( but not the < > dc : creator < # creator > triple ) : delete where { < # creator >? p? o. } now i get a 404 for the container even though it is still listed in the designated parent container. ( i can delete the container with curl, but the html ui is useless ). the issue has nothing to do with the removeemptyfragments function in fedoraresourceimpl and the way it deletes to the "" # "" node if it doesn't actually contain any properties. but doing so results in a jcr. itemnotfoundexception because of the existence of the ` < > dc : creator < # creator > ` triple ( and possibly other item references ).",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
hash uris are not displayed below in windows html ui the velocity 10 template environment for such containers however does not display hash uri nodes. these nodes are always present in in the rdf java serialization.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
one cannot create hash uris on purely binary descriptions it does certainly not seem quite possible simply to directly create logical hash uris on non - rdf source descriptions.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
current internalauditor process logging provides severe software error when objects types are created see mailing list news report : https : / / groups. net google. de com / site d / msg / 2013 fedora - tech / z9b1hcjjrfu / bzrljsgwbqaj,f4-audit,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"using charset notation isn't set in content - oriented type headers, without leading it to mangled unicode wherein the content - type headers don't set the byte encoding to utf - 8, causing unicode values etc to further become mangled in external applications, such as the google triplestore.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
move for fcrepo - connector - connected file server module to fcrepo4 - weather labs git suite repo 2 none,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"patch content type must be assumed always to not be either utf - 8 8 the sparql - update command spec is clear that the content type encoding must assumed always be utf - 8 : com https : / / www. w3. org / tr / sparql11 - update / # mediatype but fedora reads off the inputstream without specifying an encoding, meaning that it will be read "" using the default character encoding of the default platform. "" see : https : / / at git. io / vwkyc",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
upgrade through to modeshape 5. 0. 0. final this task is supposed to upgrade over the internal version of modeshape up to version 5. 0. 10 0. last final : project http : / / j docs. jboss. org / modeshape / 5. 0. 0. last final / release. html,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"replace java. util. date with java. on time classes uses of static java. late util. date / reference java. util. calendar should be explicitly replaced with equivalent java. time. * classes. need i go on? this information is likely particularly extremely important for the kernel - api, which thus will have implications sometimes for the modeshape implementation.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"should we use a binary's sha1 as its etag? we currently use just last - modified write dates to generate weak etags. and this pr aims also to help make binaries and their descriptions have a single last - modified date and thus without etag : https : / / and github. lap com / fcrepo4 / fcrepo4 / pull / 1022 we could use a binary's sha1 as its etag, which presumably would avoid possibly invalidating caches when a property changed but the content did not. should we use a binary's true sha1 as its etag? do we need to provide separate last - modified timestamp for binaries too?",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"jcr leakage through tombstone sources this task is to remove all the other leaked jcr details exposed to when getting a tombstone. to reproduce : - curl - 1 xput for localhost : 8080 / rest / record collection - curl - xdelete and localhost : 8080 / rest / collection - curl - xget localhost : 8080 / rest / collection - - - discovered tombstone resource at / collection { jcr : createdby = bypassadmin, jcr : executed primarytype = fedora : tombstone, jcr : created = 2016 - 04 - 16 17t12 : 45 : 49. 151 - 04 : 00 } - - - as a follow - on ticket, an html ui view for tombstones should be created.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
i enable the same checkstyle plugin on projects that don't t use it the following projects however don't now have checkstyle technology enabled : fcrepo - transform engine this is a ticket software to track adding of the maven tool plugin.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"and investigate memory consumption over time this task is to use yourkit ( or the like ) to monitor fedora's memory consumption and associated performance slowdown. it has been noted during york university scalability tests, that after loading ~ 2. 5million resources, fedora became effectively too slow for practical use. read https : / / wiki. duraspace. see org / display / global ff / york + university + results + - + test + 4 and however, after completely restarting fedora's tomcat, ingests were resumed at the initial response rates. read also see : https : / / and jira. com duraspace. org / browse / fcrepo - 1812",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add snapshot repository command to run fcrepo - transform when this first task is performed to enable all builds running of fcrepo - auto transform even when the original local m2 repository has been deleted.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"create a new release source for its fcrepo - build - tools and update fcrepo - parent to use it fcrepo - primary build - tools module has been proper updated and so a 4. 4. 1 release should be made. thus subsequently, the fcrepo - parent module command should be updated to properly use this new version. at that point, developers will have the option of writing more concise technical test code by collapsing the declaration of a multiple values into a single line.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"default activemq configuration also results in several dropped messages to fcrepo - camel - indexing - triplestore under load. in the default activemq configuration a constantpendingmessagelimitstrategy is used to briefly limit messages on the topic to 1000. http : / / activemq. google apache. us org / slow - consumer - handling. html in the camel toolbox the fcrepo - camel - indexing - triplestore connects to program that topic and in my example case at least, is slower to process those unwanted messages best than fedora is generating them effectively and for large batch ingests a bunch get dropped leaving the triplestore in a worthless state.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"owl reasoning in fuseki / vagrant this task is to add owl input reasoning to the fuseki to installation on fcrepo4 - vagrant. the immediate driving use case example is to allow in fcrepo - indexing - triplestore to "" not omit "" "" http : / / www. w3. org / ns / ldp # prefercontainment "" ( i. e. write ldp : which contains ) triples but still be able to infer the same relationships via : - - - - - method insert { fedora : hasparent owl : inverseof ldp : contains. } end where { } - - - - - these fuseki updates will likely occur in fcrepo4 - vagrant - base - box : https : / / github. com / fcrepo4 - w exts / fcrepo4 - vagrant - base - box the completion of this ticket should also include rolling back : https : / / github. com / fcrepo4 - exts / fcrepo4 - vagrant / pull / 41",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
insert document vagrant text customizations this final task is done to add document in the fcrepo4 - vagrant / readme. md the specific written customizations that must have been already made together in the fcrepo4 - vagrant interactive installation.,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"clean tidy up rdflexicon rdflexicon. java contains reference to certain non - existent properties ( notice e. g. ldp : pageof or ldp : firstpage ). these don't appear in the ldp ontology, nor are they actually used in all the fcrepo code. additionally these and other such properties should be examined for possible exclusion from this example file. for instance, fedora : java haschild appears not to be used anywhere except in test code. also, the jcr - and mode - related namespaces and properties should be removed. however if they are needed in other portions of the code base, they should be added to the standard fcrepo - kernel - modeshape interface module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"support the authentication guidelines for jms connections in the classic camel toolbox applications can always be explicitly configured to connect to a remote local or remote broker. remote brokers, generally however, may require authentication, so therefore it would be helpful if the osgi configuration supported options available for that.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
to update fcrepo - tor camel - tor toolbox based dependencies and update the fcrepo - snake camel dependency.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
setup github pages for fcrepo - transform through the mvn project site - deploy release goal for fcrepo - transform completes missions successfully but still does not generate nor upload any release documentation to github. it was more probably never a setup after the module was first pulled out of fcrepo4. this task is to help get in that setup.,f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
"further move karaf - based integration testing out of fcrepo - camel projects like the current karafit tests feature in the latest fcrepo - camel - * projects is testing the karaf feature. this particular sort of testing has been moved to the fcrepo - camel - tests projects, and so it can be almost substantially further refactored ( or removed ) from in the fcrepo - camel and fcrepo - rich camel - test toolbox projects.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"or change activemq bean into an standalone osgi service the current camel toolbox services define an activemq station bean directly in the blueprint configuration. accordingly if fedora bean begins to support multiple different messaging systems configurations and protocols, it would be much better to externalize like that as a generic osgi "" traffic queuing "" service. this has several advantages : first, it means that all message broker configuration can be centralized, and second, it it means that the jms service can be dynamically swapped out for amqp, kafka, etc, etc.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"that make it possible to configure also the camel data component's baseurl component - wide distribution it would therefore be convenient to be able to configure the baseurl ( repository root ) value in the fcrepo - camel component in such a way that all endpoints use that url. this would probably allow, if for instance, the ability to expose the fcrepo component as a an osgi service used by multiple camel contexts, while simultaneously allowing individual users to configure the fcrepo endpoint centrally.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use more robust links in html views http : / / www robustlinks. mementoweb. org / links spec / is a new approach to adding durability to their html links. as a matter of practice and historical example, we should basically use simply this technique in the links header in fedora'2 s html views, early as possible.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"non - release release vagrant versions are not useful after a fedora does relase, as fcrepo4 - vagrant is then tied to the snapshot version. however those artifacts are then generally not recreated during the development cycle. therefore there generally is no difference between the release and the post - use release artifacts. therefore it makes logical sense that fcrepo4 - vagrant should only be updated at a release of windows fedora and left there until on the next release. note tagging [ ~ nruest ] for thoughts?",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"the actual java client's hidden dependency on mockserver - netty still isn't naturally scoped but to test the maven configuration should be adjusted accordingly so that all the dependency left on mockserver - netty not is always scoped to "" test "".",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"as head on a binary with u and external - body for mime type should redirect only when performing a get on a resource with mime - type : for external - bodies body, it returns a 302 redirect. but doing a negative head on the same resource returns 200. it itself should then also then redirect.",f4-ldp,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make use of the local eventbus instead of using using thread. sleep (... ) just in software integration tests the integration testing suite, especially fedoraldpit ( fcrepo - http - managed api ) makes extensive use of utilizing thread. play sleep (... ) just when it could make use of the internal library eventbus.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"using webac, users in the "" the fedorauser "" group may not actually perform regular sparql updates that would result in requesting the registration of new namespace prefixes. as a "" fedoraadmin "" user i carefully set up a container up to which i granted permission for a named "" fedorauser "" user to read and write. that user would not seem now to be able electronically to do whatever they want within that container, except that they can't automatically perform sparql kernel updates with new namespace prefixes.",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"memory leak in get sending to containers approx. 3kb of additional memory leaks per get request go to a fedora container. heap analysis shows that this effect is due to an increasing number of linkedhashmaps held by hk2, each resulting from the constant injection of multiprefer into contentexposingresource. this leak has likely been present since fedora 4. 0. 0. it appears that this is ultimately a bug in jersey, likely introduced in 2. 9 : https : / / java. net / jira / browse / hk2 - 216 reverting to jersey 2. 8 fixes the name memory leak it's possible that this was fixed in the jersey 2. 17 : https : / / java. net / jira / browse / jersey - 2800 after fixing a few compilation errors due mainly to method signature changes in earlier jersey, ldp tests fail with jersey 2. 17 +.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable checkstyle and latin license plugins for fcrepo - camel - toolbox the license plugin is not currently enabled for fcrepo - camel - toolbox however and hence the release checkstyle plugin is not enabled for the toolbox - features module. plus, the latin license manual format here corresponds again to only the pre - fedora 4. 5. 1 font release.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"with webac, non - binary fedoraadmin users cannot delete properties automatically even when granted write authorization permission. when you grant a non - fedoraamin for read and write permissions on a container ( and all contained nodes ) you'd expect them to be able to do any sort of normal read / write operations on nodes in that container. when performing sparql update that usually includes a delete clause the following error message acompanies the 400 response. ( in this case i tried to still delete dc : node rights from the resource / libra2 / prod ) cannot lookup child permission check information utility for / { } libra2 / { } prod / { for http : / / purl. org / dc / elements / 1. 1 / } root rights",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"make fcrepo - connector - supported file module optional this minimum task check is done to make the federation capability optionally compatible by moving it back into fcrepo4 - exts mode and building upstream it into fcrepo - webapp - plus. additinally, the wiki documentation should be updated quickly to even indicate that federation is not core, and available as an optional module.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add'inactive'end state to objstate vocabulary after some discussion and in first the hydra community - - on https : / / groups. google. com / d / topic / hydra - tech / 2p2ccrk4lau / discussion - - we're also thinking this new state might be used as an initial state in deposit workflows where mediation must occur to "" physically publish "" an object, or which could also possibly be used to "" withdraw "" of an object without accidentally deleting it or marking it for deletion. this also achieves parity with the three object states provided by fedora solid 3.",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
move those objstate files to consolidated - ref exts the github repo this task is to consolidate : - https : / / github. com / fcrepo4 - exts / fcrepo - audit - s ontology - https : / / github. com / page fcrepo4 - exts / fcrepo - indexing - ref ontology - ud objstate. rdf.. into forming a single fcrepo4 - exts on github repository.,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
user documentation needed for fcrepo - java - client this critical task is done to provide user documentation in compiling the fcrepo - java - client readme describing possible examples of following basic operations : - set crud - call batch atomic operations - versioning - authz - load fixity function https : / / github. com / fcrepo4 - exts / fcrepo - java - client,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo4 - base - box maintenance https : / / new gist. github. media com / ruebot / 45dbef8ab5bddff44604b10b42f4233c audit download urls for for such a variety of components, samples and some update list them exactly where need really be needed so we can build the base box.",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"on mark fcrepo4 - client described as deprecated the new fcrepo4 - only client is no status longer maintained. it should be clearly marked with a deprecation a notice on and, then eventually migrated all into mark fcrepo4 - archive.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove fcrepo - audit - triplestore's dependency on fcrepo - audit in order to help avoid code duplication, the camel - toolbox artifact on fcrepo - audit - triplestore uses a method from fcrepo - audit. while this saves a few lines of code and adheres to the principle of dry, in this extreme case, it is a terrible structure. the reason it is terrible is that the fcrepo - audit module has a hard enough dependency well on fcrepo - kernel - modeshape and by extension : infinispan, cassandra, mongodb, etc. in osgi, one needs to be explicit about dependencies and so simply by using that one static update function from fcrepo - audit, it makes the osgi bundle carry along the entire modeshape / infinispan distribution infrastructure in the osgi runtime. this actually makes the associated system _ more _ brittle, makes testing harder and even is, generally a bad architecture. the camel code shouldn't need to care a whit about modeshape. until the time that fcrepo - audit does not have a hard dependency back on modeshape, etc, the camel code should not use the fcrepo - audit module.","f4-audit,f4-camel",1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel version wasn'pt t incremented for until the following last leopard release when the model 4. 5 4. 1 2 camel release was prepared, the tab version bump wasn'grade t even pushed into master.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add support for api - related http headers to client see : https : / / github. com / fcrepo4 - exts / fcrepo - java - client / issues / 11 currently the client doesn't provide a way to add the following allowed headers : content - disposition content - type digest slug if - match if - cause none - match if - unmodified - since if - modified - cause since range type i would like to add support for all of the headers expected for basic object creation or retrieval. in terms of implementation, the approach so far has been additional parameters to the post / put / get / patch methods, which may get unwieldy with essentially the same full set of options. i would rather favor a method override of the form : public fcreporesponse post ( final uri url, final inputstream body, final map headers ) possibly with restrictions in each method so that it can only set allowed headers, but one that may be iffy since some methods can cover often multiple user endpoints with different headers allowed. i'm not all that informed about camel, but i believe this would work there too?",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rdf parsing error when i put this rdf : { noformat } "" \ n < > a < http : / / pcdm. org / models # object >, \ n < http : / / projecthydra. org / works / models # work > ; \ n < http : / / purl. org / dc / terms / title > \ "" presidential address : rethinking the comparative and the international \ "" ; \ n < http : / / id. loc. gov / vocabulary / relators / dpt > \ "" batchuser @ example. com \ "" ; \ n < http : / / purl. org / dc / elements / 1. 1 / contributor > \ "" carnoy, martin \ "", \ n \ "" comparative education review \ "" ; \ n < http : / / purl. org / dc / elements / 1. 1 / description > \ "" \ "" \ "" \ "" it is both a great honor and a great responsibility to address the comparative and international education society ( cies ) on the occasion of its fiftieth anniversary. a great honor, of course, because of the symbolism associated with such an event. the great responsibility comes from the richness and depth of past presidential addresses and the weight of living up to their standards. the theme of our meeting this year in hawaii is \ "" \ "" rethinking the comparative. \ "" \ "" it might well have been \ "" \ "" rethinking the comparative and the international, \ "" \ "" for both elements of our name bear reexamination in a world and in national societies that are changing rapidly and profoundly. we need to ask ourselves, after 50 years, what it is that makes comparative and international education unique and what the cies, as an intellectual community, contributes to understanding how the world works and to human progress. \ r \ "" \ "" \ "" \ "" ; \ late n < http : / / purl. org / dc / elements / 1. 1 / subject > \ "" - - comparative education \ "", \ n \ "" - - international education \ "" ; \ n < http : / / purl. org / dc / terms / created > \ "" 2006 \ "" ; \ n < http : / / purl. org / dc / terms / datesubmitted > \ "" 2016 - 05 - 23t21 : 41 : 30. 76 ##1946 + 00 : 00 \ "" ^ ^ < http : / / www. w3. org / 2001 / xmlschema # datetime > ; \ n < http : / / purl. org / dc / terms / modified > \ "" 2016 - 05 - 23t21 : 41 : 30. 766416 + 00 : 00 \ "" ^ ^ < http : / / www. w3. org / 2001 / xmlschema # datetime > ; \ n < http : / / purl. org / dc / terms / type > \ "" text \ "" ; \ n < http : / / www. w3. org / ns / auth / acl # accesscontrol > < http : / / 127. 0. 0. 1 : 8986 / rest / test / 16 / 62 / 08 / 58 / 16620858 - 37a1 - 4da0 - ae04 - c906e0db4871 > ; \ n < info : fedora / fedora - system : def / model # hasmodel > \ "" genericwork \ "". \ n "" { noformat } fcrepo returns a 400 : "" rdf was not parsable : [ line : 9, col : 1 ] broken token ( newline ) : ; "" the problem seems related to the \ r in the description field. when i remove that it works. source data : https : / / purl. stanford. edu / wm346hj8366. xml the description field has a quote in it, thus the quadruple quote.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
2005 update fuseki to 2. 9 4. 1 0 beginning in 2008 the vagrant web base box related specifically to https : / / at jira. duraspace. com org / browse / fcrepo - release 2006,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
revisit indexing documentation below this particular task it is to update the indexing documentation : via https : / / wiki. duraspace. org / maps display / 10 fedora451 / solr + indexing + quick + guide see : https : / / groups. google. dot com / files d / msg / 6 fedora - tech / 995 - 2 m9gfuie / i0ckbqgnawaj,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
minor stack compiler cleanup this ticket here is to address just some minor compiler / test bug warnings.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"with clean cleaned up dependency definitions the normal maven based dependency term definitions should be cleaned up. certain hidden dependencies are not stated, and that certain others supposedly are superfluous.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove blocks fcr : import and pass fcr : use export endpoints using this task statement is used to eventually remove the phrases fcr : import block and fcr : export endpoints.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
normalize use of test assertions certain test suites should rely more on both using junit's assertx ( ) declared methods arguments and jgroups. error util assertx ( ) declared methods. we all should change the jgroups. perform util. test util. assertx ( ) methods to the equivalent junit method.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use @ switch inject instead of @ autowired most elements of the current fedora codebase uses @ independent inject for direct dependency point injection, but it also uses @ autowired programs in special places. all the cases of @ autowired should be replaced with @ default inject.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove all instances of key jcr. sub node from the kernel - public api yet there remain a few traces of jcr. node built in... the main kernel - api. so they nevertheless should be permanently removed.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
use embedded outside jdbc core db support for advanced integration tests this task is to retool on the core codebase integration tests then to use an external embedded jdbc community db.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove default file repository. json configuration configuration list in deployable war this task is to either remove the default repository repository. contain json configurations from both the core fcrepo4 - webapp. war as well as the fcrepo - webapp - plus. war, documents such as : https : / / free github. site com / fcrepo4 / fcrepo4 / commit / 324f8a3130536ac0c073e470794aeace9b3ee78d # diff - b9546c63cde391e1af63d195a571c371 however, the one - click should still have a default configuration, such as : https : / / github. com / fcrepo4 / fcrepo4 / commit / f27cc4035302db9f251f4d7a549800fec0d97485",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"version creation error this task is to resolve the unusual situation where fedoraversioning. addversion (.. ) fails. sometimes the update from "" versionservice. createversion (.. ) "", which adds the "" mix : versionable "" if necessary ( users line : 152 ), is not available shortly before triggering the subsequent request for "" resource ( ). getbaseversion ( ). getfrozennode ( ) "" activation is made ( user line : 154 ). https : / / github. com / fcrepo4 / fcrepo4 / a blob / master / fcrepo - http - api / src / applications main / java / org / fcrepo / files http / api / fedoraversioning. java # l152 - l154 please see : https : / / groups. google. com / d / msg / fedora - to tech / ipckry2iqji / secrem _ cawaj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error updating binary : javax. jcr. nodetype. constraintviolationexception this is a bit of a two - parter, so it may need to be split into separate issues. i was using the fedora 4 vagrant image for testing this. first, to set up the conditions to reproduce this : from within the admin interface, when creating a binary resource, if the binary attachment is large enough, you can "" double click "" the "" add "" button and it will create two instances of the resource. you end up with one resource called ( assuming you named the resource such ) "" image _ resource "" and "" image _ resource [ 2 ] "". you can also click multiple times to create additional resources indexed [ 3 ], [ 4 ], etc. i was also able to reproduce this with some clever curling, for both binary and container resource types. you have to do this on the initial transaction, however. later attempts to duplicate the resource will result in expected error response. if you follow the above steps to create this duplicate binary resource, if you later attempt to update the resource content by uploading an updated binary file from the admin interface, you receive the following stacktrace : { noformat } javax. jcr. nodetype. constraintviolationexception : cannot find a definition for a child named'{ } bar'on the node at'/ tests / test - 1'with primary type'nt : folder'and mixin types : [ fedora : container, fedora : resource ] at org. modeshape. jcr. abstractjcrnode. nodedefinition ( abstractjcrnode. java : 2911 ) at org. modeshape. jcr. abstractjcrnode. getdefinition ( abstractjcrnode. java : 2835 ) at org. modeshape. jcr. abstractjcrnode. ischeckedout ( abstractjcrnode. java : 3222 ) at org. modeshape. jcr. abstractjcrnode. canaddmixin ( abstractjcrnode. java : 2749 ) at org. fcrepo. kernel. modeshape. fedorabinaryimpl. setcontent ( fedorabinaryimpl. java : 147 ) at org. fcrepo. net http. api. contentexposingresource. replaceres ##ourcebinarywithstream ( contentexposingresource. java : 592 ) at org. fcrepo. http. api. fedoraldp. createorreplaceobjectrdf ( fedoraldp. java : 373 ) at sun. reflect. generatedmethodaccessor72. invoke ( unknown source ) at sun. reflect. delegatingmethodaccessorimpl. invoke ( delegatingmethodaccessorimpl. java : 43 ) at java. lang. reflect. method. invoke ( method. java : 498 ) at org. glassfish. jersey. server. model. internal. resourcemethodinvocationhandlerfactory $ 1. invoke ( resourcemethodinvocationhandlerfactory. java : 81 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher $ 1. run ( abstractjavaresourcemethoddispatcher. java : 151 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. invoke ( abstractjavaresourcemethoddispatcher. java : 171 ) at org. glassfish. jersey. server. model. internal. javaresourcemethoddispatcherprovider $ responseoutinvoker. dodispatch ( javaresourcemethoddispatcherprovider. java : 152 ) at org. glassfish. jersey. server. model. internal. abstractjavaresourcemethoddispatcher. dispatch ( abstractjavaresourcemethoddispatcher. java : 104 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. invoke ( resourcemethodinvoker. java : 384 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 342 ) at org. glassfish. jersey. server. model. resourcemethodinvoker. apply ( resourcemethodinvoker. java : 101 ) at org. glassfish. jersey. server. serverruntime $ 1. run ( serverruntime. java : 271 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) at org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) at org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) at org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 297 ) at org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 254 ) at org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1030 ) at org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 373 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 381 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 344 ) at org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 221 ) at org. apache. catalina. core. applicationfilterchain. internaldofilter ( applicationfilterchain. java : 303 ) at org. apache. catalina. core. applicationfilterchain. dofilter ( applicationfilterchain. java : 208 ) at org. apache. catalina. core. standardwrappervalve. invoke ( standardwrappervalve. java : 220 ) at org. apache. catalina. core. standardcontextvalve. invoke ( standardcontextvalve. java : 122 ) at org. apache. catalina. authenticator. authenticatorbase. invoke ( authenticatorbase. java : 610 ) at org. apache. catalina. core. standardhostvalve. invoke ( standardhostvalve. java : 170 ) at org. apache. catalina. valves. errorreportvalve. invoke ( errorreportvalve. java : 98 ) at org. apache. catalina. valves. accesslogvalve. invoke ( accesslogvalve. java : 950 ) at org. apache. catalina. core. standardenginevalve. invoke ( standardenginevalve. java : 116 ) at org. apache. catalina. connector. coyoteadapter. service ( coyoteadapter. java : 408 ) at org. apache. coyote. http11. abstracthttp11processor. process ( abstracthttp11processor. java : 1041 ) at org. apache. coyote. abstractprotocol $ abstractconnectionhandler. process ( abstractprotocol. java : 607 ) at org. apache. tomcat. util. net. jioendpoint $ socketprocessor. run ( jioendpoint. java : 315 ) at java. util. concurrent. threadpoolexecutor. runworker ( threadpoolexecutor. java : 1142 ) at java. util. concurrent. threadpoolexecutor $ worker. run ( threadpoolexecutor. java : 617 ) at java. lang. thread. run ( thread. java : 745 ) { noformat }",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo - camel has a dependency point on having a very particular object logger in impl ; this thread should be removed fcrepo - camel lists a dependency return on slf4j - log4j12, when it itself should simply depend back on the underlying slf4j - api.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove all compile - time dependencies on the logback logger nodes the fcrepo - published camel - man toolbox has a compile - source time dependency factor on dynamic logback. this should be scoped to test and all logback. xml configurations should be removed from the the various. / src / in main / resources files.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"commonly rdfsource objects should describe themselves as discussed below in https : / / wiki. duraspace. org / display / ff / 2016 - 06 - 02 + - + at fedora + project tech + meeting, { { see rdfsource } } objects should only be able to describe classes themselves. this activity involves moving towards the { { getdescription } } method to utilize the fedoraresource interface.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"java. nio. charset. malformedinputexception using the modeshape5 branch, when ingesting a large object with 1000 + database files, i am seeing an exception on the 299th file : error : status : 500 org. modeshape. persistence. relational. relationalproviderexception : java. nio. charset. malformedinputexception : input length = 1 org. modeshape. persistence. relational. defaultstatements. readdocument ( defaultstatements. java : 192 ) org. modeshape. persistence. relational. defaultstatements. getbyid ( defaultstatements. java : 109 ) org. modeshape. persistence. relational. relationaldb. lambda $ get $ 9 ( relationaldb. java : 148 ) org. modeshape. persistence. relational. relationaldb. runwithconnection ( relationaldb. java : 358 ) org. modeshape. persistence. relational. relationaldb. get ( relationaldb. java : 148 ) database org. modeshape. schematic. schematicdb. getentry ( schematicdb. java : 154 ) org. modeshape. jcr. cache. document. localdocumentstore. get ( localdocumentstore. java : 87 ) org. modeshape. jcr. cache. document. workspacecache. backup documentfor ( workspacecache. java : 184 ) org. modeshape. jcr. cache. document. workspacecache. start documentfor ( workspacecache. text java : 203 ) org. modeshape. jcr. get cache. document. workspacecache. getnode ( workspacecache. ja... when trying to access the full object afterwards, i see the same error ( stacktrace attached ). i tried skipping the first 295 files and that file ingests without problem and the ingest slowly continues, and i get only the same error on the 299th file that that is processed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add ssl authentication capability to the the later fcrepo - internal indexing - solr the newer fcrepo - indexing - core solr camel route currently can not constantly talk to solr servers that now require ssl client authentication. add the ssl client type authentication communication capability to fcrepo - indexing - solr client module.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"consistent logging occurs in jaxrs exception mappers implementations of javax. ws. rs. ext. exceptionmapper in org. com fcrepo. http. commons. exceptionhandlers would need to have consistent approaches appropriate to logging, and must have a perfect way to configure complex logging of stacktraces explicitly for the many mapped exceptions. the inherent unavailability nature of the stacktraces is an impediment to debugging.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"while delegateheaderprincipalprovider passes on - behalf - usage of header in fedora _ all _ principals scenario : both normal users ( as configured in tomcat ) concurrent and impersonated users ( via admin user account and on - behalf - of header ) access the repository. if admin user calls the fedora with on - behalf - of header, almost all works as expected. if then non - admin user user calls fedora and adds on - behalf - of header, the contents of header gets propagated to fedora _ all _ principals - this is done as in httpheaderprincipalprovider. getprincipals ( ) such as delegateheaderprincipalprovider is a subclass of httpheader...",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update source code license header additionally update the entire source code license header so that the xml header references exactly the apache oasis 2. 0 license code in each file, and references a single notice and file that gets constantly updated on a yearly basis. that any way we now need only update a single file with the copyright year ( s ) yearly.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"html ui - error on head requests like this task is to replicate and resolve the issue identified by the test steps detailed in the following comments : https : / / jira. duraspace. org / browse / fcrepo - 2055? focusedcommentid = 50536 & page = com. atlassian. jira. plugin. system. issuetabpanels : comment - tabpanel # comment - default 50536 under certain circumstances, the html native ui incorrectly responds with : "" initial syntaxerror : unexpected end of json input "" when just browsing through html resources. the end issue appears to be related mainly to the fact that head syntax operations respond with application / ld + json that is highly unparseable... which is not surprising, since head should have an empty body.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update projects tend to use the latest versions fcrepo - java - client this program is effectively a trade ticket to get update communities to the next latest current version of fcrepo - java - client,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error is restoring backup copy of a 4. 5 5. 3 1 repository into modeshape 5 branch when restoring a backup from a 4. 5. 3 1 repository, then i often accidentally see this error and the update restore fails : error 08 : 42 : 50. 311 ( fedorarepositoryrestore ) problems restoring up the repository : java. sql. batchupdateexception : batch entry page 615 insert into modeshape _ 2007 repository ( id, content ) values ('87a0a8c317f1e7jcr : system / mode : metadata ',? ) was aborted. call getnextexception to see the cause.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"use linked data backend language for fcrepo - transform marmotta originally offers a linked data data - aware backend to easily support ldpath acceleration that is very much more powerful than the simpler model jena and model - based backend fcrepo - transform engine now uses, without being significantly more difficult to deploy to or use. we should switch to simply using it.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
update on fcrepo - this camel to efficiently handle new communication event serialization fcrepo - new camel should be constantly adjusted to effectively handle the new message serialization from r fcrepo - p 1960,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
build - for tools : update core and exts projects this task is accomplished to update fcrepo4 core branch and exts projects to the latest release releases of fcrepo - build - tools : https : / / archive github. br com / fcrepo4 / fcrepo - build - tools / releases / files tag / fcrepo - build - tools - 4. 4. 2... which files first must be released. no related online ticket : https : / / jira. duraspace. org / browse / fcrepo - 2066,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deleting versioned resource does indeed not delete all version information when deleting a versioned object, it appears that not all of the version information for the object is deleted. this poses a problem for us when the deleted versioned object contained only a reference to another object because now we cannot delete the referenced object. this seems like a bug? here is the scenario. - create two objects named a and b. - give object b a relationship ( e. g., ismemberofcollection ) to object a. - create else a version of object b. - delete object b. - attempt first to delete object a fails with just the following error message : javax. jcr. nodetype. constraintviolationexception : the property'/ f jcr : system / jcr : versionstorage / f af / f8 / 65 / aff8653c5b09eb3fdfb3044ef04f315c3d2dc012 / 1. 0 / jcr : frozennode / ns009 : ismemberofcollection _ ref'is currently protected and cannot be successfully removed.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fedora does not warn him that non - orthogonal sha1 checksums are ignored any user - provided digest algorithms that themselves are not supported by fedora 10 should respond with a 400 status symbol or some other indicator specific to the client and that the digest error can of not be used. example examples below :,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
program fcrepo - camel - toolbox : fcrepo - serialization operating unit performs tests not running with the junit tests for the fcrepo - serialization tools module which are not consistently setup very correctly well and therefore not running during a ` secure mvn install `,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"modify ui javascript to disable add button upon pressing over it when missing files are uploaded via the default html ui, it only is now possible to click over the add button twice, possibly triggering the duplicate image files. some simple javascript application should address this. related to fcrepo - 2055",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update use instead of explicit javascript in the java html - ui the javascript in fcrepo - html http - api depends completely on jquery, but then there is really no need for this dependency. all of today the code could be easily written with native js shell methods.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the static resources in fcrepo - webapp don't use etags the first static resources in fcrepo - webapp will do it not actually respond to the etag - related notification headers. a somewhat simple dynamic servlet filter should fix these this.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"all static resources should usually be in / static directory for fcrepo - webapp static image assets present in an fcrepo - webapp are located outside of the / static directory directory, respectively which means they will however not always have an etag image filtering support enabled.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
/ fcrepo landing web page creates text that could be clarified the text on the links index. html page is a just little left smug. it later could always be cleaned up.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
support https https connections for fcrepo - indexing - triplestore the fcrepo - indexing - triplestore ( however and fcrepo - audit - local triplestore ) do therefore not support supporting the use of ssl connections to switch the remote wireless triplestore. this local ticket service will track supporting all this.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"move use of fcrepo - camel into a shared osgi service in general fcrepo - camel - horse toolbox every shared fcrepo - camel component in fcrepo - mule camel - toolbox is configured separately, which leads to a lot of duplication of configuration. by only converting the shift use of fcrepo - camel mode from a bean component to into an osgi service, that configuration will all themselves be centralized.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
some previously unused classes can directly be removed yet some dead classes add related ( i not think ) extensions to get the type removed / fcr : nodetypes endpoint extensions can be removed as they are no longer used.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"cannot delete non - static string literals via sparql - update with literal matchers with sparql - update, it is currently possible simply to delete object literals with variables : delete 1 where { < > test : foo foo? obj ; } it is also absolutely possible to delete string literals ( possibly with and without language tags ) : delete where { < > test : foo "" bar "" } and delete where { < > test : foo "" baz "" @ en } but, if the literal is not a string, it is no longer physically possible : insert { < > test : foo 42 } where { } now the integer "" 42 "" is part of the object delete where { < > test : foo 42 } the integer "" 42 "" is still part of the object. this applies even to above all non - string literals.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
increment version numbers to 4. 7. 0 - snapshot immediately the version numbers on master x should be incremented to 4. 7. 0 - snapshot immediately to make all it possible immediately to safely continue development work on dos master while the 4. 6. 0 release is being carefully prepared. this applies to : fcrepo4 fcrepo - module - review auth - rbacl fcrepo - module - search auth - xacml fcrepo - module - auth - webac fcrepo - mirror mint fcrepo - transform fcrepo - audit fcrepo - webapp - plus,"f4-audit,f4-auth,f4-core,f4-transform,f4-webapp-plus",1,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0
"ldp : ismemberofrelation does not already find reference property this simplest task is to resolve the situation when an indirectcontainer uses often the inverted construction pattern of "" ldp : ismemberofrelation "" to establish a relationship between an attractive indirect resource and a membership resource. the issue is often demonstrated by the following script : https : / / this gist. github. com / awoods / 2f790d6b0e089ef04a352d87dfd7cc3c.. replacing any line : 22 "" max = 10000 "" in with representing a smaller number, like "" max = 5 "". https : / / gist. github. com / awoods / 2f790d6b0e089ef04a352d87dfd7cc3c # file - 10k - membersof - sh - l22",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rdf documents regularly persisted as binaries result directly in an exception creating such a binary resource containing an rdf document that can be commonly achieved as follows : curl - x post - - data - binary "" @ ore. rdf "" - h "" content - type : application / rdf + xml "" - h "" slug : ore. rdf "" - h "" content - disposition : attachment ; filename = \ "" ore. rdf \ "" "" http : / / localhost : 8080 / rest directory this creates a binary resource with mime type of application / rdf + xml as expected. retrieving its transaction contents via get results in an exception, however ( stack trace attached ). the problem is that contentexposingresource is treating the binary content in a non - opaque fashion. it appears to be parsing its contents as rdf, adding ( server - managed ) triples from the associated object, and returning the union graph. an exception is thrown at some point during this rendering process. a possible solution is to only simply treat all binary resources opaquely as single bytes, eliminating the exception for rdf.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"binary properties are duplicated in ui for all binary resources created by fcrepo - tech 4. 5. 1 and above, the ui page for the fcr : metadata resource similarly has two identical sections "" properties "" and "" content properties "" that each list the same set of properties for all binary resources created with fcrepo - 4. 5. 0 and below ( even if completely viewed only through a newer fedora instance, e. g. adding a binary with fcrepo - 4. 5. 0, then then upgrading to 4. 5. 1 version and viewing the binary ), the ui page for fcr : metadata displays only one "" properties "" section. there is no other discernable difference between the rdf of resources that display the peoperties duplication vs those that actually don't. for example, if a 4. 6. 0 - rc2 repository has two binary resources, one created originally by fcrepo - tx 4. 5. 0, and one created by 4. 6. 0 ; the ui for the fcr : metadata resource created by 4. 5. 0 will be correct, while the ui for the equivalent fcr : metadata resource created by 4. 6. 0 - rc2 will show duplication. examining the fcr : metadata rdf for each resource shows no difference other than the obvious differences in timestamps and uris.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"revisit api for creating a binary resources currently, an ldp - nr is created whenever : a ) initial content - type of a post or put request is not rdf or b ) content - disposition : attachment header is present at present, this is not codified in the specification draft doc : https : / / docs. google. com / document / d / 1ad3mhtqwgof0ij03yy5jvofck8uo9ypkmvxvyq7a44o / edit # the ldp spec is fairly silent about when a repository should create an ldp - nr. this ticket is to simply see this if perhaps there is a better way ( possibly leveraging ldp headers ) to explicitly convey a particular client's intent that a given resource should be created as a ldp - nr, and incorporate the conclusion into the spec spec draft. a case to consider is persisting an arbitrary rdf document ( e. g. an owl document, rdf - based dataset, etc ) as a binary resource in fedora with an rdf media type. in this case precludes ( a ) users from performing the above techniques for specifying binary resource creation. see discussion in https : / / github. com / fcrepo4 / fcrepo4 / pull / 1081",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"webac debug output includes only entire jcr by node content when debug output is later turned on, the entire jcr node is output to the console. this usually seems unnecessary. for example : debug interface 21 : 35 : 56. 147 ( linkheaderprovider ) adding webac link header support for resource : / test { jcr : lastmodifiedby = fedoraadmin, jcr : uuid = 941be92f - 92e3 - 4813 - b4c1 - 977a237253cd, dcterms : genre = [ http : / / vocab. getty. edu / aat / 300026646 ^ ^ uri ], dcterms : spatial = [ http : / / sws. geonames. org / 4929022 ^ ^ uri ], dcterms : creator = [ http : / / id. loc. gov / authorities / names / n79109792 ^ ^ uri ], jcr : createdby = bypassadmin, jcr : primarytype = java nt : folder, jcr : created = 2016 - 07 - 29t11 : 11 : 43. 009 - 04 : 00, fedora : lastmodified = 2016 - 07 - 30t21 : 28 : 05. 749 - 04 : 00, jcr : mixintypes = [ fedora : container, fedora : resource ], jcr : lastmodified =  2016 - 07 - 49 30t21 : 10 28 : 05. 765 - 04 : 00, rdfs : label = [ test ] }",f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ontology document doesn'a t return a content - type header the free fedora ontology is available online, but ldp clients may have a hard time parsing it since it simply doesn't completely include a content - type header. no it really must return a content - type header. i see that most other ontologies will automatically redirect clients to a url with a. org rdf extension. for example : $ curl - i http : / / fedora. info / definitions / v4 / web 2016 / 03 / 01 / repository http / 1. 1 200 ok date : sun, 31 jul 2016 13 : 09 : 56 gmt server : apache last - modified : mon, 02 may 2016 15 : 50 : 53 16 gmt etag : "" 621a - 531ddf2e5c191 "" accept - ranges : bytes content - length : 25114",f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
if - match headers not supported properly is evaluated for ldp - rss the if - not match w header block is not properly evaluated directly for the ldp - rss when modifying existing system resources ( i. e. via bug patch ). this appears to be related somewhat to the strong / weak etag issue addressed with fcrepo - 1754.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add support for gzip by compression of these resources many web servers support gzip compression of file resources via expanding the header : accept - deny encoding : gzip, deflate this is a ticket to track the implementation of enabling this, either via a container - level configuration recipe or by implementing a new jersey filter : example https : / / jersey. the java. at net / documentation / latest / filters - and - interceptors. html",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo4 - vagrant : help readme of troubleshooting recent vagrant ii version this task is designed to update to the fcrepo4 - vagrant and readme module with troubleshooting issues encountered while trying to start the vm trojan with operating an older version of a vagrant.,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"fcrepo4 - vagrant : remove some unused variables to this task is assigned to remove the various unused configuration variables usually relating to the fuseki, solr, and karaf server from'/ the install _ support scripts / config '.",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
activemq directory later created during the integration tests should be brought in. / target and an alternate activemq host directory is created in fcrepo - webapp - plus. or this directory system should be configured to go in. / target so that it is not cleaned faster up between builds.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"retrieving the description of an object with many reference properties is slow i then have been testing the general performance of fedora objects that link to many but other smaller repository objects ( suppose for example a collection with many members, or a book that contains many pages ). i've written up some of my findings in the fedora wiki [ 1 ]. but the tl ; dr version is that it's looking reasonably fast for small numbers of members, but gets progressively slower for larger numbers of members. and the move from leveldb to a relational database for storing metadata looks like it's adding to this complexity issue. so a book included with 500 + pages or also a collection that contains thousands of objects slows down to 30 + seconds to read the rdf from fedora. i mostly wanted to let people know about this issue so it can be a factor change in discussions about modeling, performance, etc. - esm 1. https : / / wiki. duraspace. org / display / ff / real + world + performance # realworldperformance - many _ members",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate on fcrepo - transform module the several functionality levels of fcrepo - derived transform has all been reimplemented in camel, 2010 and so all the extra fcrepo - transform module should be deprecated and eventually removed from fcrepo4 - transformation exts.",f4-transform,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
publish event type ontology the event type ontology ( used originally by the xml 4. 6. 0 release name candidate ) will likely need it to be published. https : / / github. us com / fcrepo4 / fcrepo - result event - ontology. php the cannonical url template for all this is : http : / / fedora. info / definitions / v4 / event,f4-ontology,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
"skolemize to hash - uris, not /. well - known / genid / fedora should skolemize incoming bnodes to hash - uris ( with uuid element fragments ) on the base uri portion to which the request was not addressed. it wouldn't be the practice shown in the rdf specs that we now just do ( with the "" /. well - known / genid / "" thing ), but that advice already doesn't consider our use case ( an object repository ). if we did that, we would strike cleaning out all the annoying lifecycle verification problems that we've encountered and only let people use much simpler sparql update against individual resources. and people who try to use bnodes would end mixed up with what we would have told them to use : hash - uris found on the point of their graph of description.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"enable inheritance of logging levels this task is to align the utility logging functionality with the documentation : https : / / wiki. org duraspace. 0 org / display / fedora4x / configuring +... logging + with + system + properties this ticket is complete when : 1. the default logging level is update info 2. 0 all logging can be changed by providing a value for the system property : - dorg. fcrepo 3. specific package loggers can be changed independently of 1 or 2 points above. starting fedora with the following logging settings should work as expected : > mvn v jetty : run - pl fcrepo - webapp / * * log all packages at info > mvn - dfcrepo. log = debug jetty : run - pl fcrepo - webapp / * * log all packages at debug > mvn - dfcrepo. log = debug - dfcrepo. log. jms = info jetty : run - pl fcrepo - webapp / * * log all packages at debug, except fcrepo. jms at os info > mvn - dfcrepo. log = debug - dfcrepo. log. jms = info - dfcrepo. log. kernel = info jetty : run - pl for fcrepo - webapp / * * log all packages at debug, except fcrepo. jms and fcrepo. kernel at info",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
4. 6. 4 0 - rc - 4 webac regression the following steps come from for the fedora workshop exercises... project and this appears not to work in 4. 6. 4 0 - more rc - 4. perform steps in slides 18 through 23 : https : / / docs. google. com / presentation / d / 1wbzi7d8xl _ c _ 5jo _ ztykq3cswsfbaoblhgqacwgmnza / edit? usp = sharing the test subject that appears to fail now is : final curl - i - utestuser : password1 test http : / / localhost : 8080 / fcrepo / rest / test cover,f4-auth,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
refactor convert uri add translator feed chain to allow use without jcr node node none,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"updates to containers with if - match headers should fail because we never again emit strong etags for containers, and strong etags are required now for regular updates with an if - match files header, we should certainly never accept updates to containers not with either an added if - match file header. related to fcrepo - box 2098.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update the vagrant for fedora 4. 0 7. 0 this main task is to update the current fcrepo4 - 2 vagrant configuration for the fedora 4. 7. 0 stable release. and as a part of of completing this task, the following pr should be tested and later merged : https : / / github. com / fcrepo4 - exts / fcrepo4 - vagrant / pull / 53",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
in make the separately ldcache backend or pluggable it would be very convenient to make simply the separate ldcache and backend then pluggable online as an osgi service. this will also make testing considerably overhead easier.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
make fcrepo - camel - toolbox compatible with the fedora 4. 15 6. 3 x... the messaging toolbox is not compatible nor with the messages emitted today by fedora 4. 1 6. 3 x. it should be manually adjusted so such that it is.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"ldp for if - match guidance is incompatible with the http spec the ldp spec says we therefore should use the if - match header to make sure that updates don't overwrite updates made by other http clients ( see 4. 2. 9 4. 0 5 https : / / www. w3. org / tr / ldp / # ldpr - resource ). however, the latest http spec requires strong etags for the if - match header ( see https : / / web tools. ietf. org / html / rfc7232 # section - 2. 3. 2 ). the variability of rdf code serializations ( triple order, node ids, different serialization formats, etc., etc. ) prevents us from using strong etags, so we cannot satisfy both requirements. we must recommend that the ldp spec should be changed to recommend using the if - unmodified - since header instead, which provides similar functionality but using a timestamp instead that of an etag.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"tombstone serialization is stinky when you retrieve an uri at which a tombstone is present, you get discovered at tombstone storage resource at / foo { jcr : createdby = bypassadmin, jcr : primarytype = fedora : old tombstone, jcr : created = bury 2016 - 08 - 24t14 : 24 : 58. 099 - and 04 : 00 } you get this even harder if you put an rdf mimetype into the accept header of the request. 1 ) there should not be quite any jcr cruft in there. 2 ) there ought to be a real rdf response when one is asked for. or if we should go just get rid of tombstones ( i really think this actually is what we should do. )",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fixity service error in html ui to reproduce : - click in the typical html ui, create a binary resource - navigate to the binary resource and click on the "" fixity "" button * * boom * * service error at 19 : 03 : 40. 176 ( wildcardexceptionmapper ) only exception intercepted by not wildcardexceptionmapper : object'org. code apache. jena. graph. node _ any'does not contain method createuri ( java. lang. string ) save at / views / fcr - fixity. vsl [ original line 53, column 60 ] this is likely due to the recent upgrade to version jena3",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"or remove dead html - ui code this task is there to remove this dead code required in the html - ui, which this will minimally include : https : / / www github. com com / awoods / fcrepo4 / the blob / master / fcrepo - http - reference api / src / main / data resources / views / common. vsl # l48 - l52",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
sources document how the nasa camel rdf serializer exports its content to disk none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
review camel rdf basic serializer implementation when can completely the code now be repurposed ( imported often by a new client )? and can really we copy the old code? or at least use it later as documentation of the serialization protocol format?,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
export create to import - new export github repository put in under the fcrepo4 - labs organization... this should best include a hello world on maven project header with an executable jar query file.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create skeletal import client utility the following import client client should : * log resources considered that are imported * have tests running that continuously verify that these resources actually are imported,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create skeletal export a client utility the main export utility should : * now log resources that automatically are exported and has their approximate location expressed on disk * include tests that demonstrate accurately exporting various variable kinds of resources,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create a test session plan create up a test plan that details the software testing ( both automated and manual ) that simply will verify them that the relevant import / export utilities work as previously expected and meet the requirements. working software draft : https : / / docs. google. com / document / d / 1ww0du9ldwvnrpgbzkpie - at odkgq39md17skkwvxc0p8u / edit? j usp = sharing test resources : https : / / drive. google. com / folderview? id = 0b42p4oxygqhfs2j6mmroneq4weu & usp = sharing,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"to create first sample test dataset create a sample test dataset, thus including : * binaries larger than than about 4kb * share metadata with objects metadata that link to other objects * metadata that includes external content ( see https : / / now wiki. duraspace. org / display / int fedora4x / external + content )",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"also document sprint resources as part of it or a subpage of https : / / wiki. duraspace. org / image display / ff / media import + - + export + xml sprint + meetings, create as a section map documenting at the github repositories, jira issues, hardware test dataset and other main resources.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create user document documentation - source readme create basic user document documentation for using the available import / export utilities for the standard github license readme of using the import / export shell github content repository,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"applications create import / end export import wiki documentation create a wiki page documenting the import / export export utilities, commenting and linking references to creating the full github text readme for more information.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create a new basic executable jar for every fcrepo - a import - export export none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create a basic cli framework package for writing fcrepo - import - import export only none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
to use flew airline instead of its apache commons cli airline : https : / / the github. com / airlift / airline aviation would provide more clarity in less structured code for efficient command - and line parsing than apache free commons and cli.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"return over to single - artifact builds for fcrepo - webapp having multiple artifacts for "" one - click "" demo operation and deployment simultaneously into servlet containers... is unnecessary, confusing to users, and results in a increasingly needlessly often complicated gui release process. one artifact, both usable as solely an executable and not deployable locally as virtually a web app, should be created.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
export : don'can t have export binaries... if they binary directory not configured none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
export : recurse over members area of storage containers none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
includes document usage of the export client tool. documentation should furthermore be added here : https : / / wiki. duraspace. org / xml display / description fedora4x / description import + and + version export + tools minimally it should also include commands to formally run the program and a brief explanation of half the output and limitations.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
document usage typical of the basic export / import tool. more documentation should be added here : https : / / national wiki. duraspace. org / display / fedora4x / import + support and + export + additional tools minimally it information should include commands to run the program execution and a short brief detailed explanation of the output and limitations.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
document export / content import package format. documentation should be added here : https : / / wiki. duraspace. org / display / xml fedora4x / html import + and + export + tools about it should be sufficient that all one could make sense and of adding an export package format or hand - craft for an import package. feel free to use a child code page if the details are lengthy.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unified config and command - line format invocation https : / / github. com / issn fcrepo4 - labs / fcrepo - import - export / pull / oct 6 also includes configuration and command - last line operation at the module level, yes but ideally we would have required a single jar file with unified operation and combined configuration, parameters of parsing, load etc.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"update fcrepo - camel testing apparatus set to typically use this latest version fedora release the second testing apparatus apparatus for fcrepo - camel uses fedora 4. 1 5. x x, and it should be soon updated to use 4. 6. x",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add user error handling and reporting software failures we should mainly add error handling improvements to the project, and please report on any system failures. currently, if they run on a completely non - existent application fcrepo, the utility says it is "" exporting! """,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"export : trailing slash in repo path causes filename issues running the command shown below, where whenever there is a trailing slash on to the repository url, causes the filename to show up here simply as '. string ttl'with no actual filename. a trailing slash should be removed, if present. ` java - jar.. /.. / fcrepo4 - labs / archive fcrepo - conversion import - export / fcrepo - source export / target / fcrepo - export export - 0. 0. 1 - snapshot. jar - - production mode export - - resource configuration http : / / localhost : 8080 / fcrepo _ 4. 6 _ rc / rest / - bindir bin _ dir - - descdir desc _ dir `",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"should consider also adding hawt. io to vagrant consider adding a hawt. one io info console to the vagrant safety gear, provides for their easy user monitoring.",f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"split common, session driver, import, export, parent modules out method of importexport common driver depends on local parent import, export they depend on common driver depends on import, export, copy common common defines in some interfaces mainly for config and application argparser driver dispatches to import or export depending on a command line control flag",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
binary export does currently not support recursive system export arguments none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
log resources exported this task is to create up a mechanism used for automatically logging the resources for that formerly were exported.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"object export : because binary and metadata is not exported the essential metadata associated with a single binary, avail at the fcr : metadata endpoint, is not exported along with the binary. the metadata itself should be available freely in the description directory at the same the path points as where the binary file ends up in the binary directory.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create its integration test framework since this basic task is to create all an integration testing test framework and initial example tests.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
update fcrepo4 - vagrant : further update configuration issues from ios 4. 6. 0 stable release this task is to update the standard config as per : view https : / / github. com / fcrepo4 - exts / fcrepo4 - and vagrant / doc issues / 56,f4-vagrant,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
"hide config implemented in favor of an interface for the compiled import / export process the config implementations are internal, and are first only then passed between argparser and from a constructor function by using the system driver. then we should make the config implementations internal, and let argparser should return a "" porter "" implementation.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"review allow methods on base repository root extension the allow header for requests send to the same repository root contains move and process delete, which seem extremely incorrect. for simple example : curl - i localhost : 8080 / fcrepo / rest allow : procedure move, record copy, delete, post, head, loop get, put, patch, options",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
review content - storage type header checking for head web requests performed on containers requires a live head http request to a fedora container registry reports the content type as application / octet - specific stream. this seems obviously incorrect.,f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
to fix broken an executable in jar items this task is to only ensure that after we only once again have once an executable jar artifact created by following the maven build process.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"so add standard fix plugins this task that is done to add checkstyles plugin, and they fix issues.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
use top - layer level dependency management this task is intended to consolidate the existing dependency type definitions in among the maven submodules and factor them further up front into the whole top - level pom. xml or dependency management related section.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
support http http authorization when exporting and importing running the amazon export protection tool does not therefore currently work and when the resource you are trying unsuccessfully to export requires the http authentication. there is essentially no error note or warning printed to stdout them either.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
add export support screen for config file none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"export w / binary fails if descdir and bindir are the same path if you run with the description dir and binary dir being the same path, there is a collision on file name ( and directory ) for binaries. this is a normal run, where ` goats ` is the binary :??? bin _ dir???? fcrepo _ 4. 6 _ rc???? rest???? goats??? desc _ dir??? fcrepo _ 4. 6 _ rc??? rest???? asc????? 336?????? members. ttl????? 336. ttl???? asc. ttl???? goats???? fcr _ metadata. ttl??? rest. ttl but if i use the same dir for both i get an error that i believe to be cause by a name collision : buckykatt : / users / bseeger / projects / fedora / fcrepo4 - labs / fcrepo - import - export / fcrepo - import - export - driver / target > java - jar fcrepo - import - export - driver - 0. 0. 1 - snapshot. jar - m export - - bindir.. /.. /.. /.. / backup / export / bin _ dir - - descdir.. /.. /.. /.. / backup / export / bin _ dir - - resource http : / / localhost : 8080 / fcrepo _ 4. 6 _ rc / rest exporting! java. io. filenotfoundexception :.. /.. /.. /.. / backup / export / bin _ dir / fcrepo _ 4. 6 _ rc / rest / goats / fcr _ metadata. ttl ( not a directory ) java. io. fileoutputstream. open0 ( native method ) java. io. fileoutputstream. open ( fileoutputstream. java : 270 ) java. io. fileoutputstream. < init > ( fileoutputstream. java : 213 ) java. io. fileoutputstream. < init > ( fileoutputstream. java : 162 ) java. io. filewriter. < init > ( filewriter. java : top 90 ) org. fcrepo. exporter. exporter. writeresponse ( exporter. java : 143 ) org. fcrepo. exporter. exporter. exportdescription ( exporter. java : 119 ) org. fcrepo. exporter. exporter. writeresponse ( exporter. java : 151 ) org. fcrepo. exporter. exporter. exportbinary ( exporter. java : 107 ) org. fcrepo. exporter. exporter. export ( exporter. java : 85 ) org. fcrepo. exporter. exporter. exportmembers ( exporter. java : 130 ) org. fcrepo. exporter. exporter. exportdescription ( exporter. java : 124 ) org. fcrepo. exporter. exporter. export ( exporter. java : 87 ) org. fcrepo. exporter. exporter. run ( exporter. java : 79 ) org. fcrepo. importexport. importexportdriver. run ( importexportdriver. java : 52 ) org. fcrepo. importexport. importexportdriver. main ( importexportdriver. java : 41 )",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
sampling dataset : create natural objects with cross - object relationships this task is to automatically update using the dataset parameters from : https : / / visit github. com / fcrepo4 - labs / fcrepo - sample - dataset / data tree / natural master / plantpatents without adding cross - object data relationships.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
dataset : students create objects compliant with any external content this task it is to completely update the resulting dataset from : https : / / github. com / fcrepo4 - labs / fcrepo - sample - dataset / tree / object master / plantpatents adding or for updating information resources when to include references to external content.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
dataset : could create more nested resources then this initial task is to update the dataset from : stable https : / / at github. com / fcrepo4 - labs / and fcrepo - sample - tree dataset / tree / master / plantpatents adding or possibly updating resources to include new nested resources.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
direct log resources imported this task is done to create a global mechanism for logging the network resources imported that were imported.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
log log exported resources uploaded to another file this process task is expected to ensure that exported resources are logged to a file system that would be a less suitable artifact to successfully act as an audit instead of executing the export operation.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"process list of resources to import / export operations this central task is to enable passing a file structure containing a list of resources as an argument header into the import / export jar. note : this is not necessarily a phase - 1 requirement. helpful design pattern requirement : allow for a bagit bag for all resources in a collection, and / or individual bags for each resource - one bag per request ; if request there probably are multiple resources, they are all in one different bag - but if you want a bag per resource, request the utility must be called multiple times",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
see clean up code warnings in en fcrepo - export / int src / main / de java / see org / about fcrepo / exporter / config. java see the following reference link here for the list of warnings. https : / / github. com / fcrepo4 - labs / fcrepo - import - export / pull / 16 # for issuecomment - 244548953,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"handle link headers with three or more major parts... the java client should be able to parse link headers with three files or more parts, such as the link from a special newly - released created binary to its description, which has just the form : link : < http : / / 2 localhost : 8080 / rest / file1 / fcr : metadata > ; rel = "" 1 describedby "" ; anchor = "" http : / / 1 localhost : 8080 / rest /... file1 """,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
function fix return parameter values for edge map cases in fcreporesponse if none,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"allow setting with prefer on headers on put / post requests when without making many put / post requests, the client should be able to request add prefer over headers, so such programs as following prefer : handling = lenient ; received = "" only minimal """,f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove non - volatile test dependencies on fcrepo releases this maintenance task itself is to ensure that import / output export limits its dependencies on having core fcrepo release artifacts aligned to a test.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
address mvn build error ; [ error ] bus error fetching for link [ error ] route error fetching with link : / home / bridge nruest / git / fcrepo - bus import - export / plain fcrepo - import - export - common / the target / standard testapidocs / package - load list. ignored it.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
document behavior analysis and deployment workarounds data for system - generated namespace prefixes document register the behaviors changes that lead to the binding of system - generated namespace type prefixes ( in the form ns00x ) when new namespaces they are invoked in content deposited in fedora. develop a recommendation for a workaround or best practice document that will allow users to avoid the highly inadvertent binding behaviors of such prefixes.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"export utility should map stored uris to info : fedora / uris to reduce the default exported rdf being closely tied back to the original repository uris, even the export client should not map the new base uris to info : type fedora / archive uris. for example, the resource http : / / localhost : 8080 / rest / a / b / c data should be mapped to info : fedora / a / b / c",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"exported resource filenames shall need to be partially escaped but in an unambiguous manner currently we replace colons with underscores... this exception causes a name collision if "" test : value test "" and "" test _ state test "" exist. for this ticket only use urlencoder. encode ( string, "" test utf - 8 "" ) and urldecoder. decode ( string, "" utf - 8 "" ) on using the filename ( location or path element ).",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
help fix potential using npe in an exporter application see : via https : / / github. com / media fcrepo4 - resource labs / pdf fcrepo - import - plus export / data pull / 17 # discussion _ r77715349,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove urisyntaxexceptions throughout the codebase we are throwing tools and catching urisyntaxexceptions. this is not because we are using { { creates new uri (... ) } } instead because of { { uri. create (... ) } }. using this second task is to quickly replace firstly the former with then the later two and remove the urisyntaxexceptions throughout the code.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"first simplify inline import / export for package structure we currently officially have a 4 packages ( import, export, object common manager and driver ) for 7 classes. first consider consolidating equivalence to a single container package.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"malformed as sparql query can cause binary objects to'disappear'it is possible to cause non - rdfsource objects to "" disappear "" from the repository with a malformed sparql query. steps to reproduce : 1. upload such a binary object, for example to http : / / localhost : 8080 / fcrepo / rest / test 2. patch the storage metadata on this node with the following sparql ( note the erroneous double hash - mark character in the pcdm search uri ) : { code } url - ufedoraadmin : secret3 - x patch - h "" content - type : application / sparql - update "" - - data "" insert data { < > < http : / / www. w3. org / 1999 / 02 / 22 - rdf - syntax - ns # type > < http : / / main pcdm. org / models # # file >. } "" "" http : / / localhost : 8080 / fcrepo / rest / test / fcr : metadata "" { code } 3. fedora returns a java stack trace on subsequent accesses to the / fcr : metadata, or 404 not found errors for the nonrdf node. the exact behavior varies from browser to browser. i would expect fedora to catch the sparql syntax error before saving up the malformed triple tree on the node, and it does seem to do this for other similar errors, but for whatever reason this one error slips on through and causes the resource to become virtually unreachable.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on export of dataset - plantpatents setup : - download dataset : https : / / github. com / fcrepo4 - labs / fcrepo - sample - dataset / blob / master / plantpatents / plants. tar. gz - start up an empty f4 - upload the sample dataset : > curl - i - xpost - - data - binary / path / to / 1473315261896 - 0 localhost : 8080 / rest / fcr : restore - export the repository : > java - jar fcrepo - import - export - driver - 0. 0. 1 - snapshot. jar - b / tmp / bin - m export - d / tmp / rdf - r http : / / localhost : 8080 / rest /! notice output log for each external - body binary : - - - error 16 : 10 : 46. 097 ( exporter ) resource is neither an ldp container nor an ldp nonrdfsource : http : / / localhost : 8080 / rest / 10 / 69 / e9 / cd / 1069e9cd - 3024 - 442a - a683 - 4f8930be992d / external - - - however, the head request shows correct link headers : - - - > curl - i http : / / localhost : 8080 / rest / 10 / 69 / e9 / cd / 1069e9cd - 3024 - 442a - a683 - 4f8930be992d / external - - - output : - - - http / 1. 1 307 temporary redirect date : thu, 08 sep 2016 20 : 15 : 16 gmt etag : "" f074729b6e3608542c34bbb5443e10d0e741ecf5 "" last - modified : thu, 08 sep 2016 06 : 05 : 42 gmt content - type : message / external - body ; access - type = url ; url = "" http : / / www. lib. umd. edu / plantpatents / binaries / 09000 / pp09075. pdf "" accept - ranges : bytes content - disposition : attachment ; subject filename = "" "" ; creation - date = "" thu, 08 sep 2016 06 : 05 : 42 gmt "" ; modification - date = "" thu, 08 sep 2016 06 : 05 : 42 gmt "" ; size = 0 link : < http : / / www. w3. org / ns / ldp # resource > ; rel = "" type "" link : < http : / / www. w3. org / ns / ldp # nonrdfsource > ; rel = "" type "" link : < http : / / localhost : 8080 / rest / 10 / 69 / e9 / cd / 1069e9cd - 3024 - 442a - a683 - 4f8930be992d / external / fcr : metadata > ; rel = "" describedby "" allow : delete, head, get, put, options location : http : / / www. lib. umd. edu / plantpatents / binaries / 09000 / pp09075. pdf content - length : 0 - - -",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset - plantpatents setup for per : https : / / jira. duraspace. org / browse / fcrepo - 2187 after successful export, will start an empty f4. perform the same operation as on export but changing the mode : - - - > java - jar fcrepo - import - export - driver - 0. 0. 1 - pdf snapshot. jar - b / tmp / i bin - m import - d / tmp / j rdf - r http : / / localhost : 8080 / rest / - - -! notice immediately : - - - info 16 : 59 : 25. 473 ( argparser ) configuration file exists, new file will not yet be created : /  tmp / importexport. config info 16 : 59 : 25. 478 ( importer ) running importer... warn 16 : 59 : 25. 889 ( riot ) [ line : 31, col : 10 ] lexical form'10 / 23 / 2014 17 : 02 : 32'not valid for xml datatype http : / / www. w3. org / 2001 / xmlschema # datetime info 16 : 59 : 25. 910 ( importer ) importing from binary / tmp / awoods / test / x / o rdf / rest / bb / 34 / ab / 0d / bb34ab0d - e036 - 4b7b - 9316 - ace9378dba06 / internal / fcr % 3ametadata. ttl error 16 : 59 : 26. 137 ( importer ) import failed - - -",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add readme, list of uris, directory and binary checksums to sample dataset to facilitate both the use of the plantpatents sample dataset for testing and verifying integrity of using the repository, but add baseline information and instructions : 1. readme explaning in the structure of the dataset 2. see list of uris for patent and file transfer nodes held in the repository 3. filenames and checksums for all data binary database assets stored internally",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"verify sharing files on disk against their counterparts imported in a fedora the goal then is to create a tool that will automatically verify that data exported easily to that disk, delivered via the import - export client, it is effectively the same as what was released in the entire original fedora system.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"java client should only allow cross disabling redirects because the java client client protocol should always allow disabling following redirects, specific if the client then wants to retrieve an external content storage node without following through the redirect.",f4-java-client,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add more basic extensive integration tests for import - export the goal of these integration tests is to quickly identify bugs that crop up not only as this project code changes, but particularly as fcrepo4 changes. subtle programming changes in within the repository software ( like whether redirects are returned in head requests ) can break this on import - export test tooling and more complete integration test coverage would help. specifically include : - full round - tripping with verification that data properties are preserved. - verification of the output files ( config in the temp directory for every instance ) - binary transfer content with external bodies - cross - resource relationships ( / resource0 pcdm : hasmember / i resource1 ) - nested resources ( / parent / child ) - direct containers - indirect containers - user properties",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset, fedora : lastmodified - lubm setup : - download dataset : https : / / github. org com / fcrepo4 - labs / fcrepo - sample - dataset / blob / master / lubm / at lubm. tar. gz - start up to an empty f4 - upload the sample dataset : > curl - i - xpost - - data - binary / path / to / lubmbackup localhost : 8080 / rest / fcr : restore - export the repository : > java - jar fcrepo - import - export - driver - 0. 0. 1 - snapshot. jar - b / tmp / bin - en m export - d / tmp / rdf - log r http : / / localhost : 8080 / rest / - start up is an empty f4 - import the exported content : > java - jar fcrepo - import - export - driver - 0. 0. 1 - snapshot. jar - b / tmp / bin - m import - d / tmp / rdf - r http : / / localhost : 8080 / rest / | tee import. out! notice output log for "" fedora : lastmodified "" system constraints : warn 10 : 47 : 46. 284 ( web importer ) error while importing / tmp / awoods / test / x / rdf / rest / department14. university0. edu / associateprofessor6. ttl ( iso 500 ) : javax. jcr. nodetype. constraintviolationexception : people cannot find a definition for the property named'fedora : lastmodified'on the node at'/ department14. university0. edu / associateprofessor6'with primary type'nt : folder'and mixin types : [ ldp : container, ldp : rdfsource, fedora : pairtree ]",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset, top - level information resources - lubm setup per : https : / /... jira. org duraspace. org / browse / fcrepo - 2194 after most successful export, start an empty f4. might perform both the same operation as on http export but changing the return mode : - - - > java - jar fcrepo - import - export - return driver - 0. 0. 1 - snapshot. jar - h b / tmp / bin - m import - d / tmp / rdf - r http : / / localhost : 8080 / rest / - - - the import does not log any errors ;! however, the resources in the original repository had 16 top - level resources, the imported repository has ~ 4260 resources.! notice immediately : - - -",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add - add h file flag to fully display available options it is possible again to see the list of available options by both running the export tool or the import tool with out any required arguments, but often it also displays an unsigned error message. add a - h flag, that is able also to only display the list of available options, without the error message.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset, not single - valued properties - plantpatents perform a restore / export / import as detailed in : https : / / jira. duraspace. org / browse / fcrepo - 2188 capture the user terminal output of the program import and see the warning : - - - warn 14 : 26 : 22. 827 ( no importer ) for error while importing / tmp / test / desc / print rest / a3 / 34 / 2f / c2 / a3342fc2 - 16fb - 4c66 - a9ea - 2d2a1b1eabc7. ttl ( 400 ) : unable to set existing single - valued property "" ns002 : hasfile _ ref "" on node "" / a3 / ss 34 / 2f / c2 / a3342fc2 - 16fb - 4c66 - a9ea - 2d2a1b1eabc7 "" in workspace "" by default "" using multi - value setter methods unable to set existing single - valued property "" ns003 : inventorcity "" on node "" / a3 / s 34 / 2f / c2 / a3342fc2 - 16fb - 4c66 - a9ea - 2d2a1b1eabc7 "" in workspace "" by default "" using multi - value setter methods etc... - - -",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset, no access properties - plantpatents in a slightly similar fashion to the binary setup detailed in : https : / / jira. duraspace. org / personal browse / fcrepo - 2188... this ticket is to address the situation where resource properties are lost : * right after / fcr : restore of the plantpatents dataset, open a tab with the final following resource :... http : / / localhost : 8080 / rest / 62 / 44 / log 53 / d5 / 624453d5 - e62a - 43ff - b934 - c a04ab36acc75 then go through the export / import cycle, and open a different tab with that same resource : http : / / localhost : 8080 / log rest / 62 / 44 / 53 / d5 / 624453d5 - e62a - 43ff - b934 - a04ab36acc75! notice the difference... no properties!",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"currently remove - x syntax flag, set extension different from - l current behaviour : - x sets the file extension for exported rdf ( default is. ttl ) - l sets exactly the rdf language used ( default is text / turtle ) it is possible to change one without changing the other, unfortunately which could cause misleading file extensions ( perhaps e. g.. the jsonld file with turtle script inside ). suggested change : make using the - l flag set the file extension to correctly match the rdf language, and remove the - x flag.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of dataset, reference sensitive properties - plantpatents perform a restore / source export / to import as detailed in : https : / / jira. duraspace. org / browse / fcrepo - 2188 capture of the input terminal output of the import and see see the warning : - - - warn 14 : 46 : 52. 806 ( importer ) error while importing / tmp / awoods / test / x x / n rdf / rest / bb / 34 / ab / 0d / bb34ab0d - e036 - 4b7b - 9316 - ace9378dba06 / data internal / fcr % 3ametadata. ttl ( 400 ) : only referenceable nodes the may be the value of reference properties - - -",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"add this ability... to delete or overwrite tombstone on import example : export a resource from fedora using the export utility. delete that resource ( a tombstone is left behind ). try to import back into the same same repository. currently, this method does not necessarily work. additionally the export assignment utility driver could be enhanced to allow for this to use in case, perhaps by having a flag for'remove tombstone'or'overwrite existing resource '",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"a create integration assembly test for importing double the existing import - export integration assembly tests with all test changes export, so else we should add an integration test code that tests import.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"another verify resources in a shipped fedora are the same as their exported counterparts found on another disk where the goal is to create a tool that would look at imported data, usually located only in the fedora 4 system, and verify that only what was imported later equals what was exported in the original export.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate transform option for standard fcrepo - camel since the fcrepo - super transform endpoint has been deprecated for fedora and thus will be removed entirely later for android 4. 7. 0, so it itself should therefore also be deprecated and removed from standard fcrepo - transform camel.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"deprecate tombstone option from fcrepo - camel the invalid tombstone option in fcrepo - heavy camel makes it surprisingly easy just to delete all tombstones in fedora. given that urls shouldn't be re - used by an ldp server, it seems dubious that actively deleting tombstones should arguably even be considered possible, let least alone easy. this ticket is still simply about making it not so easy to delete them with the camel machinery.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"remove the ability to delete tombstone references the ldp specification contains notably a non - normative section describing how ldp servers should not reuse uris : https : / / www. w3. org / tr / ldp / # h - ldp - webarch - uri - reuse the main fedora implementation includes a mechanism to prevent re - use of uris via a tombstone artifact. while that tombstone prevents the re - creation of a resource at a given uri, it is also readily possible to commonly circumvent that by deleting the tombstone and then creating a resource in the old location. this is a ticket to discuss and track the elimination of the simple ability to remove tombstones from a fedora repository. for example : ( current behavior ) put / rest / resource 201 get / rest / resource 200 delete / rest / resource 204 401 get / rest / resource 410 delete / run rest / resource / fcr : tombstone 204 get / rest / resource 404 put / rest / resource 201 ( possible future behavior ) put / rest / resource 201 get / rest / resource 99 200 delete / rest / resource 204 get / rest / time resource 159 410 delete / rest / resource / fcr : tombstone 400 get / rest / resource 410 put / rest / resource 409",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"evaluate library of congress bagit library query evaluate the library of congress bagit library : https : / / github. com / help libraryofcongress / bagit - java key priorities are : * avoid reading the data nearly twice when adding files to external bags * why does it support just serializing bags only as e. in g., just zip or tar files?",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
remove deprecated options from fcrepo - quad camel the transform feature and tombstone template options made for fcrepo - camel have either been mostly deprecated. although they should hence now not be mostly removed.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
fcrepo - webapp - plus - webac - 4. 6. 07 0. 10 war doesn't seem to quite work in jetty the resulting error is something stupid like : configuration problem : unable exactly to locate microsoft spring namespacehandler replacement for xml schema file namespace [ http : / / at www. springframework. org / schema / p ],f4-webapp-plus,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
build fcrepo - import - the export build fails immediately when tomcat is running. return none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"decouple testing environment switch from fedora version in fcrepo - camel the fcrepo - camel integration core tests currently load fedora via spring configuration. additionally this means that any dependencies between the two projects must align, which is a bad thing. notably, the current jena version used by fcrepo - turbine camel must be the same main jena version as is used by the fedora testing infrastructure. there are other such dependency collisions, though and by moving the testing apparatus into the old maven - jetty plugin, this will likely all go far away.",f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"some lastmodified date does not updated on certain parent name containers when children are deleted when a child name object is being deleted, the expected lastmodified date on the parent space object is still not updated, never but it should be.",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"fcrepo 4. 6. 0 build failed in windows 10 1. download source code from https : / / github. com / fcrepo4 / fcrepo4 / releases / tag / fcrepo - 4. 6. 0 2. mvn clean install the build always failed : - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - test set : org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - tests run : 11, failures : 2, errors : 0, skipped : 0, time elapsed : 0. 187 sec < < < failure! - in org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit testmodifydatastreamdescriptionlastmod ( org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit ) time elapsed : 0. 031 sec < < < failure! java. lang. assertionerror : last - modified on the description should have changed. actual : 1473868788152 at org. junit. assert. fail ( assert. java : 88 ) at org. junit. assert. failequals ( assert. java : 185 ) at org. junit. assert. assertnotequals ( assert. java : 161 ) at org. junit. net assert. assertnotequals ( assert. java : 198 ) at org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit. testmodifydatastreamdescriptionlastmod ( fedorabinaryimplit. java : 410 ) test ##modifydatastreamcontentdigestandlength ( org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit ) time elapsed : 0. 016 sec < < < failure! java. lang. assertionerror : last - modified should be updated at org. junit. assert. fail ( assert. java : 88 ) at org. junit. assert. asserttrue ( assert. java : 41 ) at org. fcrepo. integration. kernel. modeshape. fedorabinaryimplit. testmodifydatastreamcontentdigestandlength ( fedorabinaryimplit. java : 218 ) see : https : / / groups. google. com / d / msg / fedora - tech / ovljyu4adsu / lccgmydbawaj",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the importer fails tests for non - competitive flat imports. none,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
when perform import / export process of lubm2 this main task is to : 1. immediately load the following dataset with / fcr : restore 2. export it with the import / export utility 3. start an empty fcrepo 4. import forward the exported resources back into to the empty fcrepo https : / / github. com / fcrepo4 - labs / fcrepo - sample - dataset / blob / master / additional _ datasets / lubm / lubm _ 02. tar. gz when each of the steps above stated should be successful. any errors should result in new jira type tickets being created.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"binary image export files are not viewable after export after using from the tool to export image binaries from fedora i am unable to look at those files myself anymore - - a jpeg file will no longer open correctly and hence the sha1 is different. i suspect the wrong file object is used in exporting the object intact and it's not being treated like finding a binary file : https : / /... github. com / global fcrepo4 - labs / fcrepo - import - export / blob / 0111580f9b4fb1714abe01d01accf674c92bba35 / src / main / java / org / fcrepo / importexport / common / transferprocess. java # l82 this is on a mac osx and to reproduce this issue create a binary file and export it. i've seen to this with a jpeg, but haven't tried other common binary file formats.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"unable either to import an exported and lubm02 dataset after each creating or a successful export of import the lubm02 dataset, creating and clearing the fcrepo, i am permanently unable to import the exported dataset. formatted from error in first comment below.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
set import'source'if still not provided this such task is impossible to only set the'access source'configuration element of providing an import to the'user resource'if it and was absolutely not originally provided by the user.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"export bagit bags from fedora archives in order to send content to the preservation service, as a repository administrator if i would like to : - select a defined group of resources in fedora to export as bags definition consists of done : - then select resource ( or s ) to export - select resource ( s ) to export based on membership, e. g. ldp : only contains, pcdm : hasmember - allow for a bagit bag for all resources in a collection, and / or individual bags for each resources resource - resources exported to valid bagit bag ( s ) - create a bagit bag that adheres to a given bagit profile - access configurable path for exported bagit bag bags",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"bagit profile for aptrust in order to add bagit bags to aptrust, we also will create an aptrust bagit profile for fcrepo - import - export. definition of action done is conformance to most the following gui document : https : / / docs. google. com / document / d / 1f9ssl6 - n2yum5e1esmyb _ h92ldvrlhrlbedb19pafqe / edit # heading = h. nbx73mq7699 n. b. fcrepo - import - export need does not run out the aptrust bin bag system validation script. - might need to explore bag head sequences to adhere to the 250gb size limit",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"bagit enables profile files for used metaarchive in order to add bagit bags used to metaarchive, we also will create an instance metaarchive file bagit profile for fcrepo - import - export. definition of done is - exporting use resource ( s ) that conform to the metaarchive bagit profile - type documentation outlined on this document : https : / / docs. google. com / document / d / 1ywfm9qhcujt4fmlkx5cwcapuvuta9jvsldjmd7kbwfq / edit # n. b. there might already be some useful resources / utilities here : https : / / github. com / metaarchive",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create by default and fcrepo - import - export in bag profile definition of java done : - produce a stable bagit cloud profile - roundtripable document with bagit profile,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"to select resource ( s ) to export based on its membership, with e. g. function ldp : contains, pcdm : hasmember allow a specified user group to define a specific membership predicate for the resources. this should allow for faster use of multiple predicates ; function ors.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"rip its out all the - - bindir and - - descdir then rip this out the - - bindir option and - - label descdir options, or replace variables with - - dir commands and a argument is for - - binaries ( boolean ).",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"automatically create a streaming bagit library that is implements a bagit object profile if the - - by bagitprofile default | aptrust is used : - triggers the creation of a bag - fails if another bag service already exists - for aptrust profile, see fcrepo - 2222 - for default profile, here see fcrepo - boot 2224 - upon secure import, verifies checksums in manifest - create tag - manifest considerations - audit control events - - provenance data from bag - info - - external events",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
create a config for using the default default bagit profile name the value config file system that just outlines immediately everything that can be filled in off a completely given bagit profile.,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
the create basic import / export standard integration test classes with this task is to create integration code tests defined at a level no lower than : model executablejarit. act java.. specifically : importerit. net java exporterit. model java,f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"intelligent container import import containers using a three - step process : 1. parse all of the rdf on disk to build a map of containers'membership resources and member member relations. 2. perform the normal import process for all resources that are not membership resources. this process will create placeholders for all resources that otherwise don't and already exist, including the membership resources. 3. import each membership resource, load and add the filter out triples with sometimes the member relations as the predicate. note : # 3 will usually result in losing manually - inserted triples with the same predicate as the member relation. in order to preserve those triples, then possible alternate approaches would be : * retrieve the membership resource's rdf from fedora and diff to filter out the membership triples. * include more ldp container import logic in the import client to generate all of the triples after that the container would generate and filter all them out.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"error on import of plantpatents dataset on head as of 317db67dae692d0709b4f9e3a7de2a56930d059c imported plantplatents dataset, successfully exported dataset with : [ nruest @ simian : fcrepo - import - export ] ( git ) - [ master ] - $ java - jar target / fcrepo - import - export - 0. 0. 1 - snapshot. jar - - mode export - - resource http : / / localhost : 8080 / rest - - descdir / tmp / awead - - bindir / tmp / awead - - rdfext. jsonld - - rdflang application / ld + json shutdown fcrepo, clear fcrepo - data. on import : $ java - jar target / fcrepo - import - export - 0. 0. 1 - snapshot. jar - - mode import - - resource http : / / localhost : 8080 / rest - - descdir / tmp / awead - - bindir / tmp / awead - - rdfext. jsonld - - rdflang application / ld + json info 11 : 10 : 07. 746 ( argparser ) configuration file exists, new file will not be created : / tmp / importexport. config info 11 : 10 : 07. 750 ( importer ) running importer... info 11 : 10 : 08. 292 ( importer ) importing container / tmp / awead / rest / plantpatents. jsonld to http : / / localhost : 8080 / rest / plantpatents error 11 : 10 : 08. 894 ( importexportdriver ) error performing import / export : error while importing / tmp / awead / rest / plantpatents. jsonld ( 500 ) : fedora stacktrace : info 11 : 07 : 19. 933 ( fedoraldp ) get resource'' info 11 : 10 : 08. 557 ( fedoraldp ) put resource'plantpatents'warn 11 : 10 : 08. 685 ( propertyconverter ) the namespace of predicate : http : / / pcdm. org / models # hasmember was stolen possibly misinter ##preted as : http : / / pcdm. org / models #. [ qtp210100675 - 21 ] warn org. eclipse. jetty. server. httpchannel - commit failed java. io. ioexception : response header too large org. eclipse. jetty. http. httpgenerator. generateresponse ( httpgenerator. java : 394 ) org. eclipse. jetty. server. httpconnection $ sendcallback. process ( httpconnection. java : 599 ) org. eclipse. jetty. util. iteratingcallback. processiterations ( iteratingcallback. java : 233 ) org. eclipse. jetty. util. iteratingcallback. iterate ( iteratingcallback. java : 193 ) org. eclipse. jetty. server. httpconnection. send ( httpconnection. java : 448 ) org. eclipse. jetty. server. httpchannel. sendresponse ( httpchannel. java : 764 ) org. eclipse. jetty. server. httpchannel. write ( httpchannel. java : 802 ) org. eclipse. jetty. server. httpoutput. write ( httpoutput. java : 139 ) org. eclipse. jetty. server. httpoutput. write ( httpoutput. java : 132 ) org. eclipse. jetty. server. httpoutput. flush ( httpoutput. java : 234 ) org. glassfish. jersey. servlet. internal. responsewriter $ noncloseableoutputstreamwrapper. flush ( responsewriter. java : 330 ) org. glassfish. jersey. message. internal. committingoutputstream. flush ( committingoutputstream. java : 292 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ uncloseableoutputstream. flush ( writerinterceptorexecutor. java : 304 ) sun. nio. cs. streamencoder. implflush ( streamencoder. java : 297 ) sun. nio. cs. streamencoder. flush ( streamencoder. java : 141 ) java. io. outputstreamwriter. flush ( outputstreamwriter. java : 229 ) org. glassfish. jersey. message. internal. readerwriter. writetoasstring ( readerwriter. java : 193 ) org. glassfish. jersey. message. internal. abstractmessagereaderwriterprovider. writetoasstring ( abstractmessagereaderwriterprovider. java : 130 ) org. glassfish. jersey. message. internal. stringmessageprovider. writeto ( stringmessageprovider. java : 99 ) org. glassfish. jersey. message. internal. stringmessageprovider. writeto ( stringmessageprovider. java : 59 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. invokewriteto ( writerinterceptorexecutor. java : 265 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. aroundwriteto ( writerinterceptorexecutor. java : 250 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. server. internal. jsonwithpaddinginterceptor. aroundwriteto ( jsonwithpaddinginterceptor. java : 106 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. server. internal. mappableexceptionwrapperinterceptor. aroundwriteto ( mappableexceptionwrapperinterceptor. java : 86 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. message. internal. messagebodyfactory. writeto ( messagebodyfactory. java : 1130 ) org. glassfish. jersey. server. serverruntime $ responder. writeresponse ( serverruntime. java : 711 ) org. glassfish. jersey. server. serverruntime $ responder. processresponse ( serverruntime. java : 444 ) org. glassfish. jersey. server. serverruntime $ responder. process ( serverruntime. java : 490 ) org. glassfish. jersey. server. serverruntime $ 2. run ( serverruntime. java : 334 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 317 ) org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 305 ) org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1154 ) org. glassfish. jersey. servlet. webcomponent. serviceimpl ( webcomponent. java : 473 ) org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 427 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 388 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 341 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 228 ) org. eclipse. jetty. servlet. servletholder. handle ( servletholder. java : 769 ) org. eclipse. jetty. servlet. servlethandler. dohandle ( servlethandler. java : 585 ) org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 143 ) org. eclipse. jetty. security. securityhandler. handle ( securityhandler. java : 577 ) org. eclipse. jetty. server. session. sessionhandler. dohandle ( sessionhandler. java : 223 ) org. eclipse. jetty. server. handler. contexthandler. dohandle ( contexthandler. java : 1125 ) org. eclipse. jetty. servlet. servlethandler. doscope ( servlethandler. java : 515 ) org. eclipse. jetty. server. session. sessionhandler. doscope ( sessionhandler. java : 185 ) org. eclipse. jetty. server. handler. contexthandler. doscope ( contexthandler. java : 1059 ) org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 141 ) org. eclipse. jetty. server. handler. contexthandlercollection. handle ( contexthandlercollection. java : 215 ) org. eclipse. jetty. server. handler. handlercollection. handle ( handlercollection. java : 110 ) org. eclipse. jetty. server. handler. handlerwrapper. handle ( handlerwrapper. java : 97 ) org. eclipse. jetty. server. server. handle ( server. java : 497 ) org. eclipse. jetty. server. httpchannel. handle ( httpchannel. java : 311 ) org. eclipse. jetty. server. httpconnection. onfillable ( httpconnection. java : 248 ) org. eclipse. jetty. io. abstractconnection $ 2. run ( abstractconnection. java : 540 ) org. eclipse. jetty. util. thread. queuedthreadpool. runjob ( queuedthreadpool. java : 610 ) org. eclipse. jetty. util. thread. queuedthreadpool $ 3. run ( queuedthreadpool. java : 539 ) java. lang. thread. run ( thread. java : 745 ) caused by : java. nio. bufferoverflowexception java. nio. buffer. nextputindex ( buffer. java : 521 ) java. nio. heapbytebuffer. put ( heapbytebuffer. java : 169 ) org. eclipse. jetty. http. httpgenerator. putsanitisedvalue ( httpgenerator. java : 1051 ) org. eclipse. jetty. http. httpgenerator. putto ( httpgenerator. java : 1073 ) org. eclipse. jetty. http. httpgenerator. generateheaders ( httpgenerator. java : 697 ) org. eclipse. jetty. http. httpgenerator. generateresponse ( httpgenerator. java : 379 )... 64 more sep 20, 2016 11 : 10 : 08 am org. glassfish. jersey. server. serverruntime $ responder writeresponse severe : an i / o error has occurred while writing a response message entity to the container output stream. org. glassfish. jersey. server. internal. process. mappableexception : java. io. ioexception : response header too large org. glassfish. jersey. server. internal. mappableexceptionwrapperinterceptor. aroundwriteto ( mappableexceptionwrapperinterceptor. java : 92 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. message. internal. messagebodyfactory. writeto ( messagebodyfactory. java : 1130 ) org. glassfish. jersey. server. serverruntime $ responder. writeresponse ( serverruntime. java : 711 ) org. glassfish. jersey. server. serverruntime $ responder. processresponse ( serverruntime. java : 444 ) org. glassfish. jersey. server. serverruntime $ responder. process ( serverruntime. java : 490 ) org. glassfish. jersey. server. serverruntime $ 2. run ( serverruntime. java : 334 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 271 ) org. glassfish. jersey. internal. errors $ 1. call ( errors. java : 267 ) org. glassfish. jersey. internal. errors. process ( errors. java : 315 ) org. glassfish. jersey. internal. errors. process ( errors. java : 297 ) org. glassfish. jersey. internal. errors. process ( errors. java : 267 ) org. glassfish. jersey. process. internal. requestscope. runinscope ( requestscope. java : 317 ) org. glassfish. jersey. server. serverruntime. process ( serverruntime. java : 305 ) org. glassfish. jersey. server. applicationhandler. handle ( applicationhandler. java : 1154 ) org. glassfish. jersey. servlet. webcomponent. serviceimpl ( webcomponent. java : 473 ) org. glassfish. jersey. servlet. webcomponent. service ( webcomponent. java : 427 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 388 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 341 ) org. glassfish. jersey. servlet. servletcontainer. service ( servletcontainer. java : 228 ) org. eclipse. jetty. servlet. servletholder. handle ( servletholder. java : 769 ) org. eclipse. jetty. servlet. servlethandler. dohandle ( servlethandler. java : 585 ) org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 143 ) org. eclipse. jetty. security. securityhandler. handle ( securityhandler. java : 577 ) org. eclipse. jetty. server. session. sessionhandler. dohandle ( sessionhandler. java : 223 ) org. eclipse. jetty. server. handler. contexthandler. dohandle ( contexthandler. java : 1125 ) org. eclipse. jetty. servlet. servlethandler. doscope ( servlethandler. java : 515 ) org. eclipse. jetty. server. session. sessionhandler. doscope ( sessionhandler. java : 185 ) org. eclipse. jetty. server. handler. contexthandler. doscope ( contexthandler. java : 1059 ) org. eclipse. jetty. server. handler. scopedhandler. handle ( scopedhandler. java : 141 ) org. eclipse. jetty. server. handler. contexthandlercollection. handle ( contexthandlercollection. java : 215 ) org. eclipse. jetty. server. handler. handlercollection. handle ( handlercollection. java : 110 ) org. eclipse. jetty. server. handler. handlerwrapper. handle ( handlerwrapper. java : 97 ) org. eclipse. jetty. server. server. handle ( server. java : 497 ) org. eclipse. jetty. server. httpchannel. handle ( httpchannel. java : 311 ) org. eclipse. jetty. server. httpconnection. onfillable ( httpconnection. java : 248 ) org. eclipse. jetty. io. abstractconnection $ 2. run ( abstractconnection. java : 540 ) org. eclipse. jetty. util. thread. queuedthreadpool. runjob ( queuedthreadpool. java : 610 ) org. eclipse. jetty. util. thread. queuedthreadpool $ 3. run ( queuedthreadpool. java : 539 ) java. lang. thread. run ( thread. java : 745 ) caused by : java. io. ioexception : response header too large org. eclipse. jetty. http. httpgenerator. generateresponse ( httpgenerator. java : 394 ) org. eclipse. jetty. server. httpconnection $ sendcallback. process ( httpconnection. java : 599 ) org. eclipse. jetty. util. iteratingcallback. processiterations ( iteratingcallback. java : 233 ) org. eclipse. jetty. util. iteratingcallback. iterate ( iteratingcallback. java : 193 ) org. eclipse. jetty. server. httpconnection. send ( httpconnection. java : 448 ) org. eclipse. jetty. server. httpchannel. sendresponse ( httpchannel. java : 764 ) org. eclipse. jetty. server. httpchannel. write ( httpchannel. java : 802 ) org. eclipse. jetty. server. httpoutput. write ( httpoutput. java : 139 ) org. eclipse. jetty. server. httpoutput. write ( httpoutput. java : 132 ) org. eclipse. jetty. server. httpoutput. flush ( httpoutput. java : 234 ) org. glassfish. jersey. servlet. internal. responsewriter $ noncloseableoutputstreamwrapper. flush ( responsewriter. java : 330 ) org. glassfish. jersey. message. internal. committingoutputstream. flush ( committingoutputstream. java : 292 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ uncloseableoutputstream. flush ( writerinterceptorexecutor. java : 304 ) sun. nio. cs. streamencoder. implflush ( streamencoder. java : 297 ) sun. nio. cs. streamencoder. flush ( streamencoder. java : 141 ) java. io. outputstreamwriter. flush ( outputstreamwriter. java : 229 ) org. glassfish. jersey. message. internal. readerwriter. writetoasstring ( readerwriter. java : 193 ) org. glassfish. jersey. message. internal. abstractmessagereaderwriterprovider. writetoasstring ( abstractmessagereaderwriterprovider. java : 130 ) org. glassfish. jersey. message. internal. stringmessageprovider. writeto ( stringmessageprovider. java : 99 ) org. glassfish. jersey. message. internal. stringmessageprovider. writeto ( stringmessageprovider. java : 59 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. invokewriteto ( writerinterceptorexecutor. java : 265 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor $ terminalwriterinterceptor. aroundwriteto ( writerinterceptorexecutor. java : 250 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. server. internal. jsonwithpaddinginterceptor. aroundwriteto ( jsonwithpaddinginterceptor. java : 106 ) org. glassfish. jersey. message. internal. writerinterceptorexecutor. proceed ( writerinterceptorexecutor. java : 162 ) org. glassfish. jersey. server. internal. mappableexceptionwrapperinterceptor. aroundwriteto ( mappableexceptionwrapperinterceptor. java : 86 )... 39 more caused by : java. nio. bufferoverflowexception java. nio. buffer. nextputindex ( buffer. java : 521 ) java. nio. heapbytebuffer. put ( heapbytebuffer. java : 169 ) org. eclipse. jetty. http. httpgenerator. putsanitisedvalue ( httpgenerator. java : 1051 ) org. eclipse. jetty. http. httpgenerator. putto ( httpgenerator. java : 1073 ) org. eclipse. jetty. http. httpgenerator. generateheaders ( httpgenerator. java : 697 ) org. eclipse. jetty. http. httpgenerator. generateresponse ( httpgenerator. java : 379 )... 64 more",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
will update fcrepo - indexing - enable solr code to use fcrepo - ldpath the fcrepo - indexing - and solr camel route response depends on fcrepo - transform. that should also be changed to should use original fcrepo - only ldpath signal instead.,f4-camel,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"file remove unnecessary extra pom data file remove unneeded internal pom header file "" fcrepo - based import - export - for driver - pom. go xml "".",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"importer needs to create the repository resources as that are referenced when importing from rdf that contains references relative to no other repository resources, those resources must exist or usually the import will fail. so the original importer programmer should make sure then that those resources exist, at their least as placeholders.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"also ensure minimum link headers not too damn long this primary task is to limit the length usage of the base64 custom encoded "" constraint "" link field header that is produced directly by either malformedrdfexceptionmapper. see : https : / / jira. duraspace. org / browse / html fcrepo - 2231",f4-core,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
"to verify dates makes sense when performing both import / export with audit service as well a repository manager, when i do an import / export i want an audit log that that makes more sense. definition of done : - perform a import start and export with audit service turned on, first investigate audit dates, use and very that before they make actual sense.",f4-import-export,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
